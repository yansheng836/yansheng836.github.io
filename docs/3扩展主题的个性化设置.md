# 扩展主题的个性化设置

介绍一些外加的扩展功能。


## 一、增加侧边导航栏的SubNav图标

参考：[修改Yilia左下角SubNav的社交图标](https://blog.zscself.com/posts/70677220/)

[Font Awesome:一套绝佳的图标字体库和CSS框架](http://fontawesome.dashgame.com/)

1. 这里只是添加csdn和gitee图标，其他可以参照上面两个链接进行设置。在`H:\Hexo\themes\yilia\source\main.0cf68a.css`文件中添加下面的代码（最好是在gitbub附近，分类管理）

```css
/* 1.这是github的默认图标 */
.icon-github:before {
    content:"\E735"
}
/* 添加码云和CSDN的标签的图标 */
.icon-gitee:before {
    content:"码"
}
.icon-csdn:before {
    content:"C"
}

/* 2.这是之前github的 */
#header .header-nav .social a.github {
    background:#afb6ca;
    border:1px solid #afb6ca
}
#header .header-nav .social a.github:hover {
    border:1px solid #909ab6
}

/* 下面两个是新增的csdn和gitee */
#header .header-nav .social a.csdn {
    background:#C71D23;
    border:1px solid #C71D23;
}
#header .header-nav .social a.csdn:hover {
    border:1px solid #C71D23;
}
#header .header-nav .social a.gitee {
    background:#C71D23;
    border:1px solid #C71D23;
}
#header .header-nav .social a.gitee:hover {
    border:1px solid #C71D23;
}
```

2. 在`H:\Hexo\themes\yilia\_config.yml`的中导航栏`subnav`中添加对应代码，添加后如下
```yml
subnav:
  github: "https://github.com/username"
  gitee: "https://gitee.com/username"
  csdn: "https://blog.csdn.net/username"
```



## 二、新增侧边栏归档、分类、标签内容--有bug（分类、标签）
参考：hexo-theme-next的wiki：[创建分类页面](https://github.com/iissnan/hexo-theme-next/wiki/%E5%88%9B%E5%BB%BA%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2)

1. 添加一个分类页面，并在菜单中显示页面链接。
新建一个页面，命名为 categories 。命令如下：
`hexo new page categories`

2. 编辑刚新建的页面，将页面的类型设置为 categories ，主题将自动为这个页面显示所有分类。
 ```markdown
title: 分类
date: 2014-12-22 12:39:04
type: "categories"
 ```

3. 注意：如果有启用多说 或者 Disqus 评论，默认页面也会带有评论。需要关闭的话，请添加字段 comments 并将值设置为 false，如：
```markdown
title: 分类
date: 2014-12-22 12:39:04
type: "categories"
comments: false
```

4. 在菜单中添加链接。编辑主题的 _config.yml ，将 menu中的 categories: /categories 注释去掉，如
```yml
menu:
  home: /
  categories: /categories
  archives: /archives
  tags: /tags
Add a custom footer
```



## 三、设定站点建立时间--有bug（没有实现）

参考：[https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4](https://github.com/iissnan/hexo-theme-next/wiki/设定站点建立时间)

这个时间将在站点的底部显示，例如 `? 2013 - 2015`

编辑**主}**的 `_config.yml`，新增字段 `since`。

```
since: 2013
```



## 四、添加字数统计和阅读时长功能

参考：[hexo下yilia主题添加字数统计和阅读时长功能](https://blog.csdn.net/weixin_34259232/article/details/91182835)

1. 安装 hexo-wordcount
   在博客目录下打开Git Bash Here,输入命令:
   `npm i --save hexo-wordcount`

2. 文件配置
   在`theme\yilia\layout\_partial\post`下创建word.ejs文件：

```ejs
<div style="margin-top:10px;">
    <span class="post-time">
      <span class="post-meta-item-icon">
        <i class="fa fa-keyboard-o"></i>
        <span class="post-meta-item-text">  字数统计: </span>
        <span class="post-count"><%= wordcount(post.content) %>字</span>
      </span>
    </span>

    <span class="post-time">
      &nbsp; | &nbsp;
      <span class="post-meta-item-icon">
        <i class="fa fa-hourglass-half"></i>
        <span class="post-meta-item-text">  阅读时长: </span>
        <span class="post-count"><%= min2read(post.content) %>分</span>
      </span>
    </span>
</div>
```
 然后在`themes/yilia/layout/_partial/article.ejs`中添加:
```ejs
<div class="article-inner">
    <% if (post.link || post.title){ %>
      <header class="article-header">
        <%- partial('post/title', {class_name: 'article-title'}) %>
        <% if (!post.noDate){ %>
        <%- partial('post/date', {class_name: 'archive-article-date', date_format: null}) %>
        <!-- 需要添加的位置 -->
        <!-- 开始添加字数统计-->
        <% if(theme.word_count && !post.no_word_count){%>
          <%- partial('post/word') %>
          <% } %>
        <!-- 添加完成 -->

        <% } %>
      </header>
```

3. 开启功能
在站点的_config.yml中添加下面代码:
```yml
# 是否开启字数统计
#不需要使用，直接设置值为false，或注释掉
word_count: True
```



