<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>荷塘月色的博客</title>
  
  <subtitle>每天进步一点点</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.yansheng.xyz/"/>
  <updated>2019-12-09T17:47:04.028Z</updated>
  <id>https://www.yansheng.xyz/</id>
  
  <author>
    <name>荷塘月色</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Commit message 和 Change log 编写指南</title>
    <link href="https://www.yansheng.xyz/article/ad81da89.html"/>
    <id>https://www.yansheng.xyz/article/ad81da89.html</id>
    <published>2019-12-09T12:46:12.000Z</published>
    <updated>2019-12-09T17:47:04.028Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>如何写好Commit message 和 Change log</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575910523037.png" alt="常规的changelog，conventional-changelog"></p><a id="more"></a><blockquote><p>以下内容转自：Commit message 和 Change log 编写指南</p><p>链接：<a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html</a></p><p>作者： <a href="http://www.ruanyifeng.com" target="_blank" rel="noopener">阮一峰</a></p><p>日期： <a href="http://www.ruanyifeng.com/blog/2016/01/" target="_blank" rel="noopener"><abbr class="published" title="2016-01-06T21:23:23+08:00">2016年1月 6日</abbr></a></p></blockquote><hr><h2 id="commit-message-和-change-log-编写指南">Commit message 和 Change log 编写指南</h2><p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">"hello world"</span></span><br></pre></td></tr></table></figure><p>上面代码的<code>-m</code>参数，就是用来指定 commit mesage 的。</p><p>如果一行不够，可以只执行<code>git commit</code>，就会跳出文本编辑器，让你写多行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit</span><br></pre></td></tr></table></figure><p>基本上，你写什么都行（<a href="http://www.commitlogsfromlastnight.com/" target="_blank" rel="noopener">这里</a>，<a href="http://blog.no-panic.at/2014/10/20/funny-initial-git-commit-messages/" target="_blank" rel="noopener">这里</a>和<a href="http://whatthecommit.com/" target="_blank" rel="noopener">这里</a>）。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010601.png" alt></p><p>但是，一般来说，commit message 应该清晰明了，说明本次提交的目的。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010602.png" alt></p><p>目前，社区有多种 Commit message 的<a href="https://github.com/ajoslin/conventional-changelog/blob/master/conventions" target="_blank" rel="noopener">写法规范</a>。本文介绍<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0" target="_blank" rel="noopener">Angular 规范</a>（见上图），这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。</p><h3 id="一-commit-message-的作用">一、Commit message 的作用</h3><p>格式化的Commit message，有几个好处。</p><p><strong>（1）提供更多的历史信息，方便快速浏览。</strong></p><p>比如，下面的命令显示上次发布后的变动，每个commit占据一行。你只看行首，就知道某次 commit 的目的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> &lt;last tag&gt; HEAD --pretty=format:%s</span><br></pre></td></tr></table></figure><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010604.png" alt></p><p><strong>（2）可以过滤某些commit（比如文档改动），便于快速查找信息。</strong></p><p>比如，下面的命令仅仅显示本次发布新增加的功能。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> &lt;last release&gt; HEAD --grep feature</span><br></pre></td></tr></table></figure><p><strong>（3）可以直接从commit生成Change log。</strong></p><p>Change Log 是发布新版本时，用来说明与上一个版本差异的文档，详见后文。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010603.png" alt></p><h3 id="二-commit-message-的格式">二、Commit message 的格式</h3><p>每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;body&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure><p>其中，Header 是必需的，Body 和 Footer 可以省略。</p><p>不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。</p><h4 id="2-1-header">2.1 Header</h4><p>Header部分只有一行，包括三个字段：<code>type</code>（必需）、<code>scope</code>（可选）和<code>subject</code>（必需）。</p><p><strong>（1）type</strong></p><p><code>type</code>用于说明 commit 的类别，只允许使用下面7个标识。</p><ul><li>feat：新功能（feature）</li><li>fix：修补bug</li><li>docs：文档（documentation）</li><li>style： 格式（不影响代码运行的变动）</li><li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）</li><li>test：增加测试</li><li>chore：构建过程或辅助工具的变动</li></ul><p>如果<code>type</code>为<code>feat</code>和<code>fix</code>，则该 commit 将肯定出现在 Change log 之中。其他情况（<code>docs</code>、<code>chore</code>、<code>style</code>、<code>refactor</code>、<code>test</code>）由你决定，要不要放入 Change log，建议是不要。</p><p><strong>（2）scope</strong></p><p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p><p><strong>（3）subject</strong></p><p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p><ul><li>以动词开头，使用第一人称现在时，比如<code>change</code>，而不是<code>changed</code>或<code>changes</code></li><li>第一个字母小写</li><li>结尾不加句号（<code>.</code>）</li></ul><h4 id="2-2-body">2.2 Body</h4><p>Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">More detailed explanatory text, if necessary.  Wrap it to </span><br><span class="line">about 72 characters or so. </span><br><span class="line"></span><br><span class="line">Further paragraphs come after blank lines.</span><br><span class="line"></span><br><span class="line">- Bullet points are okay, too</span><br><span class="line">- Use a hanging indent</span><br></pre></td></tr></table></figure><p>有两个注意点。</p><p>（1）使用第一人称现在时，比如使用<code>change</code>而不是<code>changed</code>或<code>changes</code>。</p><p>（2）应该说明代码变动的动机，以及与以前行为的对比。</p><h4 id="2-3-footer">2.3 Footer</h4><p>Footer 部分只用于两种情况。</p><p><strong>（1）不兼容变动</strong></p><p>如果当前代码与上一个版本不兼容，则 Footer 部分以<code>BREAKING CHANGE</code>开头，后面是对变动的描述、以及变动理由和迁移方法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">BREAKING CHANGE: isolate scope bindings definition has changed.</span><br><span class="line"></span><br><span class="line">    To migrate the code follow the example below:</span><br><span class="line"></span><br><span class="line">    Before:</span><br><span class="line"></span><br><span class="line">    scope: &#123;</span><br><span class="line">      myAttr: &apos;attribute&apos;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    After:</span><br><span class="line"></span><br><span class="line">    scope: &#123;</span><br><span class="line">      myAttr: &apos;@&apos;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    The removed `inject` wasn&apos;t generaly useful for directives so there should be no code using it.</span><br></pre></td></tr></table></figure><p><strong>（2）关闭 Issue</strong></p><p>如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closes #234</span><br></pre></td></tr></table></figure><p>也可以一次关闭多个 issue 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closes #123, #245, #992</span><br></pre></td></tr></table></figure><h4 id="2-4-revert">2.4 Revert</h4><p>还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以<code>revert:</code>开头，后面跟着被撤销 Commit 的 Header。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">revert: feat(pencil): add &apos;graphiteWidth&apos; option</span><br><span class="line"></span><br><span class="line">This reverts commit 667ecc1654a317a13331b17617d973392f415f02.</span><br></pre></td></tr></table></figure><p>Body部分的格式是固定的，必须写成<code>This reverts commit &amp;lt;hash&gt;.</code>，其中的<code>hash</code>是被撤销 commit 的 SHA 标识符。</p><p>如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的<code>Reverts</code>小标题下面。</p><h3 id="三-commitizen">三、Commitizen</h3><p><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener">Commitizen</a>是一个撰写合格 Commit message 的工具。</p><p>安装命令如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g commitizen</span><br></pre></td></tr></table></figure><p>然后，在项目目录里，运行下面的命令，使其支持 Angular 的 Commit message 格式。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ commitizen init cz-conventional-changelog --save --save-exact</span><br></pre></td></tr></table></figure><p>以后，凡是用到<code>git commit</code>命令，一律改为使用<code>git cz</code>。这时，就会出现选项，用来生成符合格式的 Commit message。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010605.png" alt></p><h3 id="四-validate-commit-msg">四、validate-commit-msg</h3><p><a href="https://github.com/kentcdodds/validate-commit-msg" target="_blank" rel="noopener">validate-commit-msg</a> 用于检查 Node 项目的 Commit message 是否符合格式。</p><p>它的安装是手动的。首先，拷贝下面这个<a href="https://github.com/kentcdodds/validate-commit-msg/blob/master/index.js" target="_blank" rel="noopener">JS文件</a>，放入你的代码库。文件名可以取为<code>validate-commit-msg.js</code>。</p><p>接着，把这个脚本加入 Git 的 hook。下面是在<code>package.json</code>里面使用 <a href="http://npm.im/ghooks" target="_blank" rel="noopener">ghooks</a>，把这个脚本加为<code>commit-msg</code>时运行。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"config": &#123;</span><br><span class="line">    "ghooks": &#123;</span><br><span class="line">      "commit-msg": "./validate-commit-msg.js"</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>然后，每次<code>git commit</code>的时候，这个脚本就会自动检查 Commit message 是否合格。如果不合格，就会报错。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add -A </span><br><span class="line">$ git commit -m <span class="string">"edit markdown"</span> </span><br><span class="line">INVALID COMMIT MSG: does not match <span class="string">"&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;"</span> ! was: edit markdown</span><br></pre></td></tr></table></figure><h3 id="五-生成-change-log">五、生成 Change log</h3><p>如果你的所有 Commit 都符合 Angular 格式，那么发布新版本时， Change log 就可以用脚本自动生成（<a href="https://github.com/ajoslin/conventional-changelog/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例1</a>，<a href="https://github.com/karma-runner/karma/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例2</a>，<a href="https://github.com/btford/grunt-conventional-changelog/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例3</a>）。</p><p>生成的文档包括以下三个部分。</p><ul><li>New features</li><li>Bug fixes</li><li>Breaking changes.</li></ul><p>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</p><p><a href="https://github.com/ajoslin/conventional-changelog" target="_blank" rel="noopener">conventional-changelog</a> 就是生成 Change log 的工具，运行下面的命令即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog</span><br><span class="line">$ <span class="built_in">cd</span> my-project</span><br><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w</span><br></pre></td></tr></table></figure><p>上面命令不会覆盖以前的 Change log，只会在<code>CHANGELOG.md</code>的头部加上自从上次发布以来的变动。</p><p>如果你想生成所有发布的 Change log，要改为运行下面的命令。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0</span><br></pre></td></tr></table></figure><p>为了方便使用，可以将其写入<code>package.json</code>的<code>scripts</code>字段。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"changelog"</span>: <span class="string">"conventional-changelog -p angular -i CHANGELOG.md -w -r 0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以后，直接运行下面的命令即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run changelog</span><br></pre></td></tr></table></figure><p>（完）</p><h4 id="文档信息">文档信息</h4><ul><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" rel="noopener">创意共享3.0许可证</a>）</li><li>发表日期：<abbr class="published" title="2016-01-06T21:23:23+08:00">2016年1月 6日</abbr></li></ul><hr><blockquote><p>转载结束</p></blockquote><h3 id="相关链接">相关链接</h3><p><a href="https://github.com/conventional-changelog/conventional-changelog" target="_blank" rel="noopener">https://github.com/conventional-changelog/conventional-changelog</a></p><p>Git commit message和工作流规范]<a href="https://www.cnblogs.com/qcloud1001/p/6640787.html" target="_blank" rel="noopener">https://www.cnblogs.com/qcloud1001/p/6640787.html</a></p><p>［译］AngularJS Git提交信息规范:<a href="https://segmentfault.com/a/1190000004282514" target="_blank" rel="noopener">https://segmentfault.com/a/1190000004282514</a></p><p>Git-Commit-Log规范（Angular 规范）<a href="https://www.jianshu.com/p/c7e40dab5b05" target="_blank" rel="noopener">https://www.jianshu.com/p/c7e40dab5b05</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;如何写好Commit message 和 Change log&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575910523037.png&quot; alt=&quot;常规的changelog，conventional-changelog&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Git" scheme="https://www.yansheng.xyz/tags/git/"/>
    
      <category term="Github" scheme="https://www.yansheng.xyz/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>记一次Spring项目的MySQL乱码问题</title>
    <link href="https://www.yansheng.xyz/article/dbd84c59.html"/>
    <id>https://www.yansheng.xyz/article/dbd84c59.html</id>
    <published>2019-12-08T14:39:29.000Z</published>
    <updated>2019-12-09T18:05:09.627Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>项目：Spring+Mybatis++SpringMVC+MySQL。</p><p>首先要明确发生乱码的原因是字符编码不一致，抓住这一个进行分析。出现问题的出处常常是中文、小表情（测试时要有针对性）。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912638971.png" alt="file"></p><a id="more"></a><p>排查过程可参考一下几点：</p><h2 id="1-硬要去-统一文件的编码">1.硬要去–统一文件的编码</h2><p>假设都一utf-8为编码。</p><ol><li>数据库统一设置为utf8编码。数据库编码设置为utf8，表、字段如果不进行设置，默认继承上级设置。</li><li>项目编码设置为utf8，主要是java、html、jsp、css、js等文件的编码。</li></ol><h2 id="2-传输过程编码">2.传输过程编码</h2><h3 id="前台-后台">前台–&gt;后台</h3><h4 id="措施">措施</h4><p>在springMVC中设置编码过滤器，统一设置成utf8</p><h4 id="测试">测试</h4><p>后台控制台打印前台传输的数据，参看数据与输入数据是否一致。（如果设置到js，也可能前端控制台打印输入数据）。</p><h3 id="后台-数据库">后台–&gt;数据库</h3><h4 id="措施-v2">措施</h4><p>数据库连接的URL，添加字符集参数：</p><h4 id="1-字符集参数">1.字符集参数</h4><p>jdbc:mysql://192.168.0.105:3306/shgb_fz?useUnicode=true&amp;characterEncoding=UTF8&amp;autoReconnect=true&amp;zeroDateTimeBehavior=convertToNull</p><p>参数名称 参数说明<br>user 数据库用户名（用于连接数据库）<br>password 用户密码（用于连接数据库）<br>useUnicode 是否使用Unicode字符集，如果参数characterEncoding设置为gb2312或gbk，本参数值必须设置为true<br>characterEncoding 当useUnicode设置为true时，指定字符编码。比如可设置为gb2312或gbk<br>autoReconnect 当数据库连接异常中断时，是否自动重新连接？<br>autoReconnectForPools 是否使用针对数据库连接池的重连策略<br>failOverReadOnly 自动重连成功后，连接是否设置为只读？<br>maxReconnects autoReconnect设置为true时，重试连接的次数<br>initialTimeout autoReconnect设置为true时，两次重连之间的时间间隔，单位：秒<br>connectTimeout 和数据库服务器建立socket连接时的超时，单位：毫秒。 0表示永不超时，适用于JDK 1.4及更高版本<br>socketTimeout socket操作（读写）超时，单位：毫秒。 0表示永不超时</p><p>————————————————<br>版权声明：本文为CSDN博主「哈唬咯」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_36793179/article/details/78719592" target="_blank" rel="noopener">https://blog.csdn.net/qq_36793179/article/details/78719592</a></p><h4 id="jdbc-url中的各个参数详解">jdbc URL中的各个参数详解</h4><p><a href="https://blog.csdn.net/weixin_34220963/article/details/86463924" target="_blank" rel="noopener">https://blog.csdn.net/weixin_34220963/article/details/86463924</a></p><hr><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/DATABASES-NAME?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&amp;allowPublicKeyRetrieval=true"</span>;</span><br></pre></td></tr></table></figure><p><a href="https://dev.mysql.com/doc/connectors/en/connector-j-reference-configuration-properties.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/connectors/en/connector-j-reference-configuration-properties.html</a></p><h4 id="2-连接名">2.连接名</h4><p>云服务器：jdbc:mysql://192.168.0.105:3306/shgb_fz</p><p>本地：jdbc:mysql://localhost:3306/shgb_fz，简写形式：jdbc:mysql:///shgb_fz</p><h4 id="3-jdbc8">3.jdbc8</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/DATABASES-NAME?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&amp;allowPublicKeyRetrieval=true"</span>;</span><br><span class="line"></span><br><span class="line">————————————————</span><br><span class="line">版权声明：本文为CSDN博主「溜溜的小胖」的原创文章，遵循 CC <span class="number">4.0</span> BY-SA 版权协议，转载请附上原文出处链接及本声明。</span><br><span class="line">原文链接：https:<span class="comment">//blog.csdn.net/aliuxina/article/details/91358010</span></span><br></pre></td></tr></table></figure><h4 id="3-xml文件需要转义">3.xml文件需要转义</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;</span><br><span class="line">转义为</span><br><span class="line">&amp;amp;</span><br></pre></td></tr></table></figure><h4 id="测试-v2">测试</h4><p>利用junit进行测试，直接模拟数据，从控制台插入到数据库，查看是否乱码。</p><p>涉及到的问题</p><p>1.基于spring的句junit测试：junit测试Dao层：<a href="https://blog.csdn.net/lovelease/article/details/70155788" target="_blank" rel="noopener">https://blog.csdn.net/lovelease/article/details/70155788</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.project.dao;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Assert;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)<span class="comment">// 不能是PowerMock等别的class，否则无法识别spring的配置文件</span></span><br><span class="line"><span class="meta">@ContextConfiguration</span>(<span class="string">"file:conf/applicationContext.xml"</span>)<span class="comment">// 读取spring配置文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">userDAOTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span><span class="comment">//检索applicationContext.xml，自动注入指定的bean</span></span><br><span class="line">UserDAO userDAO;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> userId = <span class="number">1</span>;</span><br><span class="line">String nickname = <span class="string">"昵称1"</span>;</span><br><span class="line"></span><br><span class="line">Assert.assertEquals(userId, userDAO.getUser( userId ).getUserId());</span><br><span class="line">Assert.assertEquals(nickname, userDAO.getUser( userId ).getNickname());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-runwith和-contextconfiguration的作用解析">1.@RunWith和@ContextConfiguration的作用解析</h5><p><a href="https://blog.csdn.net/H838071332/article/details/89916490" target="_blank" rel="noopener">https://blog.csdn.net/H838071332/article/details/89916490</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration( locations = &#123;&quot;classpath:applicationContext.xml&quot;&#125; )</span><br></pre></td></tr></table></figure><p>@RunWith(SpringJUnit4ClassRunner.class)：<br>@Runwith的作用是让测试的实例在spring容器的环境下运行，那么什么是spring容器的环境，这个容器环境就是如:service, controller等包的使用就是spring容器。<br>@ContextConfiguration：<br>1、 他的作用是引入配置文件applicationContext.xml，如果没有写配置文件名的话则会根据测试的名字去匹配</p><pre><code>@ContextConfigurationpublic void test{}</code></pre><p>2、可以写多个配置文件<br>用，隔开如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ContextConfiguration( locations = &#123;&quot;classpath:applicationContext.xml&quot;,&quot;classpath:applicationContext2.xml&quot;&#125;</span><br></pre></td></tr></table></figure><h5 id="2-spring的-contextconfiguration注解">2.spring的@ContextConfiguration注解</h5><p><a href="https://blog.csdn.net/fanbaodan/article/details/100121551" target="_blank" rel="noopener">https://blog.csdn.net/fanbaodan/article/details/100121551</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ContextConfiguration(value=&quot;/applicationContext.xml&quot;)  //方法一</span><br><span class="line">@ContextConfiguration(locations=&quot;/applicationContext.xml&quot;)   //方法二</span><br><span class="line">@ContextConfiguration(&quot;classpath:/applicationContext.xml&quot;)   //方法三</span><br><span class="line">@ContextConfiguration(&quot;/applicationContext.xml&quot;)       //方法四</span><br></pre></td></tr></table></figure><p>切记前边要加一个 “/” 代表根目录（不带双引号）<br>这是我亲测的几种都可以正常运行junit。</p><p>其实也不用去死记， 这个分开也就是两块;</p><p>一个是属性名（value、locations）<br>一个是 属性值（双引号里边的，就是文件路径）<br>单个文件一般直接在双引号里边写路径或者用value属性（切记要加“ / ” ！！！）<br>如果有多个文件要加载可以使用多个文件时，可用{}括起来，并用逗号分隔，以下示例</p><p>@ContextConfiguration(locations = { “classpath*:/spring1.xml”, “classpath*:/spring2.xml” })</p><p>或者用value</p><p>@ContextConfiguration(value = { “/spring1.xml”, “/spring2.xml” })</p><p>或者不写属性名，（加不加&quot;classpath:&quot; 都可以）</p><p>@ContextConfiguration({ “classpath:/spring1.xml”, “classpath:/spring2.xml” })</p><p>当然单个文件也可以用locations 如上述方法二。</p><p>根据上述源码可以看到， 该属性可以使用 locations 、value 或者直接写值（不写属性名），重点是值（路径）一定要写对。<br>根据返回值可以得出以上三种方式都可以配置多个文件</p><h5 id="3-聊聊单元测试-三-spring-test-junit完美组合">3.聊聊单元测试（三）——Spring Test+JUnit完美组合</h5><p><a href="https://blog.csdn.net/shan9liang/article/details/40452469" target="_blank" rel="noopener">https://blog.csdn.net/shan9liang/article/details/40452469</a></p><h5 id="4-spring系列-contextconfiguration注解的使用">4.Spring系列——@ContextConfiguration注解的使用</h5><p><a href="https://blog.csdn.net/m0_37941483/article/details/90727830" target="_blank" rel="noopener">https://blog.csdn.net/m0_37941483/article/details/90727830</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(locations = &#123;&quot;classpath*:/*.xml&quot;&#125;)</span><br><span class="line">public class CDPlayerTest &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@ContextConfiguration括号里的locations = {“classpath*😕*.xml”}就表示将class路径里的所有.xml文件都包括进来，那么刚刚创建的那么XML文件就会包括进来，那么里面自动扫描的bean就都可以拿到了，此时就可以在测试类中使用@Autowired注解来获取之前自动扫描包下的所有bean</p><p>classpath和classpath*区别:</p><p>classpath：只会到你的class路径中查找找文件。</p><p>classpath*：不仅包含class路径，还包括jar文件中（class路径）进行查找。</p><h5 id="5-默认不写">5.默认不写</h5><p><a href="https://blog.csdn.net/u012260238/article/details/87462366" target="_blank" rel="noopener">https://blog.csdn.net/u012260238/article/details/87462366</a></p><p>可以根据测试的类名，去找到与之对应的配置文件。</p><h2 id="3-mybatis问题">3.mybatis问题</h2><p>Mybatis 开启控制台打印sql语句：<a href="https://blog.csdn.net/qq_37495786/article/details/82799910" target="_blank" rel="noopener">https://blog.csdn.net/qq_37495786/article/details/82799910</a></p><p>完整SQL是否会乱码。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;项目：Spring+Mybatis++SpringMVC+MySQL。&lt;/p&gt;&lt;p&gt;首先要明确发生乱码的原因是字符编码不一致，抓住这一个进行分析。出现问题的出处常常是中文、小表情（测试时要有针对性）。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912638971.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="MySQL" scheme="https://www.yansheng.xyz/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>抑郁症</title>
    <link href="https://www.yansheng.xyz/article/57f89578.html"/>
    <id>https://www.yansheng.xyz/article/57f89578.html</id>
    <published>2019-11-25T15:43:01.000Z</published>
    <updated>2019-12-08T12:46:38.770Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>抑郁症，一种心病。这是我的定义，但是有时候我甚至怀疑这能不能被称作一种病、怀疑它是否真的存在……然而，现实如此残酷，这种病真实存在，而且发病时间和后果可能让人无法预料。我们不时听到某某明星因为抑郁而自杀的新闻，在叹息的同时，却又不禁在想：又有多少普通人抑郁而终？</p><p>抑郁，亦有轻重，诱发因素或大或小。艾滋病患者多死于肿瘤，艾滋病毒破坏病人的免疫系统，也许一个小小的炎症，可能就会致命；在我看来，抑郁是类似的，它破坏病人的“心情系统”，也许一点点的不愉快可能就会变成诱因，让人走向极端。</p><p>​ ——记于2019年国考（2019年11月24日）的后一天</p><p><img src="http://5b0988e595225.cdn.sohucs.com/images/20190503/5b2a4ecc0a724b25967493c34d0a4f7f.jpeg" alt></p><a id="more"></a><blockquote><p>以下内容转自百度百科：<a href="https://baike.baidu.com/item/%E6%8A%91%E9%83%81%E7%97%87/90924?fr=aladdin" target="_blank" rel="noopener">抑郁症</a>.</p></blockquote><h2 id="抑郁症的定义">抑郁症的定义</h2><p>本词条由<a href="http://www.baikemy.com/" target="_blank" rel="noopener">国家卫健委权威医学科普项目传播网络平台/百科名医网</a> 提供内容 。</p><p>抑郁症又称抑郁障碍，以显著而持久的心境低落为主要临床特征，是<a href="https://baike.baidu.com/item/%E5%BF%83%E5%A2%83%E9%9A%9C%E7%A2%8D/534830" target="_blank" rel="noopener">心境障碍</a>的主要类型。临床可见心境低落与其处境不相称，情绪的消沉可以从闷闷不乐到悲痛欲绝，自卑抑郁，甚至悲观厌世，可有自杀企图或行为；甚至发生木僵；部分病例有明显的焦虑和运动性激越；严重者可出现幻觉、妄想等精神病性症状。每次发作持续至少2周以上、长者甚或数年，多数病例有反复发作的倾向，每次发作大多数可以缓解，部分可有残留症状或转为慢性。</p><p><a href="https://baike.baidu.com/vbaike/%E6%8A%91%E9%83%81%E7%97%87%E6%9C%89%E5%A4%9A%E5%8F%AF%E6%80%95/28741" target="_blank" rel="noopener"><img src="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/pic/item/8718367adab44aed69513104bd1c8701a18bfb37.jpg" alt="抑郁症有多可怕"></a></p><h2 id="基本信息">基本信息</h2><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575726889568.png" alt="file"></p><h2 id="发展概况">发展概况</h2><p>我国与世界的抑郁症患病率比较情况如下：</p><table><thead><tr><th style="text-align:left"></th><th style="text-align:left">世界</th><th style="text-align:left">我国</th></tr></thead><tbody><tr><td style="text-align:left">抑郁症患者人数</td><td style="text-align:left">3.22亿 [1]</td><td style="text-align:left">（无精确数据）</td></tr><tr><td style="text-align:left">患病率</td><td style="text-align:left">4.4% [1]</td><td style="text-align:left">(4.2±1.9)% [1-2]</td></tr></tbody></table><p>注：</p><p>1.大多数报道将我国抑郁症患病率确定在3%~5%的区间，但有报道称达到了6.1%。</p><p>2.我国抑郁症发病率地区差异较大。</p><p>3.30年间，报告的抑郁症发病率暴增10~20倍，现在仍然呈上升趋势；不排除有的以“世界卫生组织数据表明”的字眼作了错误（虚假）报道，故本数据可能不准确。</p><h2 id="病因">病因</h2><p>迄今，抑郁症的病因并不非常清楚，但可以肯定的是，生物、心理与社会环境诸多方面因素参与了抑郁症的发病过程。生物学因素主要涉及遗传、神经生化、神经内分泌、神经再生等方面；与抑郁症关系密切的心理学易患素质是病前性格特征，如抑郁气质。成年期遭遇应激性的生活事件，是导致出现具有临床意义的抑郁发作的重要触发条件。然而，以上这些因素并不是单独起作用的，强调遗传与环境或应激因素之间的交互作用、以及这种交互作用的出现时点在抑郁症发生过程中具有重要的影响。</p><h2 id="临床表现">临床表现</h2><p>抑郁症可以表现为单次或反复多次的抑郁发作，以下是抑郁发作的主要表现。</p><p><strong>1.心境低落</strong></p><p>主要表现为显著而持久的情感低落，抑郁悲观。轻者闷闷不乐、无愉快感、兴趣减退，重者痛不欲生、悲观绝望、度日如年、生不如死。典型患者的抑郁心境有晨重夜轻的节律变化。在心境低落的基础上，患者会出现自我评价降低，产生无用感、无望感、无助感和无价值感，常伴有自责自罪，严重者出现罪恶妄想和疑病妄想，部分患者可出现幻觉。</p><p><strong>2.思维迟缓</strong></p><p>患者思维联想速度缓慢，反应迟钝，思路闭塞，自觉“脑子好像是生了锈的机器”，“脑子像涂了一层糨糊一样”。临床上可见主动言语减少，语速明显减慢，声音低沉，对答困难，严重者交流无法顺利进行。</p><p><strong>3.意志活动减退</strong></p><p>患者意志活动呈显著持久的抑制。临床表现行为缓慢，生活被动、疏懒，不想做事，不愿和周围人接触交往，常独坐一旁，或整日卧床，闭门独居、疏远亲友、回避社交。严重时连吃、喝等生理需要和个人卫生都不顾，蓬头垢面、不修边幅，甚至发展为不语、不动、不食，称为“抑郁性木僵”，但仔细精神检查，患者仍流露痛苦抑郁情绪。伴有焦虑的患者，可有坐立不安、手指抓握、搓手顿足或踱来踱去等症状。严重的患者常伴有消极自杀的观念或行为。调查显示，我国每年有28.7万人死于自杀，其中63%有精神障碍，40%患有抑郁症。 [3] 因抑郁症而自杀的不乏名人，包括<a href="https://baike.baidu.com/item/%E6%A2%B5%E9%AB%98/143831" target="_blank" rel="noopener">梵高</a>、<a href="https://baike.baidu.com/item/%E6%B5%B7%E6%98%8E%E5%A8%81" target="_blank" rel="noopener">海明威</a>、<a href="https://baike.baidu.com/item/%E4%B8%89%E6%AF%9B/1364178" target="_blank" rel="noopener">三毛</a>、<a href="https://baike.baidu.com/item/%E5%BC%A0%E5%9B%BD%E8%8D%A3/6804" target="_blank" rel="noopener">张国荣</a>、 [3] <a href="https://baike.baidu.com/item/%E5%BE%90%E8%A1%8C/13850780" target="_blank" rel="noopener">徐行</a>、<a href="https://baike.baidu.com/item/%E6%9D%8E%E6%99%93/4576729" target="_blank" rel="noopener">李晓</a>、<a href="https://baike.baidu.com/item/%E7%BD%97%E5%AE%BE%C2%B7%E5%A8%81%E5%BB%89%E5%A7%86%E6%96%AF/6530" target="_blank" rel="noopener">罗宾·威廉姆斯</a>、<a href="https://baike.baidu.com/item/%E4%B9%94%E4%BB%BB%E6%A2%81/4123762" target="_blank" rel="noopener">乔任梁</a>等 [4] 。消极悲观的思想及自责自罪、缺乏自信心可萌发绝望的念头，认为“结束自己的生命是一种解脱”，“自己活在世上是多余的人”，并会使自杀企图发展成自杀行为。这是抑郁症最危险的症状，应提高警惕。</p><p><strong>4.认知功能损害</strong></p><p>研究认为抑郁症患者存在认知功能损害。主要表现为近事记忆力下降、注意力障碍、反应时间延长、警觉性增高、抽象思维能力差、学习困难、语言流畅性差、空间知觉、眼手协调及思维灵活性等能力减退。认知功能损害导致患者社会功能障碍，而且影响患者远期预后。</p><p><strong>5.躯体症状</strong></p><p>主要有<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>、乏力、食欲减退、体重下降、<a href="https://baike.baidu.com/item/%E4%BE%BF%E7%A7%98/332148" target="_blank" rel="noopener">便秘</a>、身体任何部位的疼痛、性欲减退、<a href="https://baike.baidu.com/item/%E9%98%B3%E7%97%BF/411582" target="_blank" rel="noopener">阳痿</a>、<a href="https://baike.baidu.com/item/%E9%97%AD%E7%BB%8F/545691" target="_blank" rel="noopener">闭经</a>等。躯体不适的体诉可涉及各脏器，如恶心、呕吐、心慌、胸闷、出汗等。自主神经功能失调的症状也较常见。病前躯体疾病的主诉通常加重。<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>主要表现为早醒，一般比平时早醒2～3小时，醒后不能再入睡，这对抑郁发作具有特征性意义。有的表现为入睡困难，睡眠不深；少数患者表现为睡眠过多。体重减轻与食欲减退不一定成比例，少数患者可出现食欲增强、体重增加。</p><h2 id="检查">检查</h2><p>对疑为抑郁症的患者，除进行全面的躯体检查及神经系统检查外，还要注意辅助检查及实验室检查。迄今为止，尚无针对抑郁障碍的特异性检查项目。因此，目前的实验室检查主要是为了排除物质及躯体疾病所致的抑郁症。有2种实验室检查具有一定的意义，包括地塞米松抑制试验（DST）和促甲状腺素释放激素抑制试验（TRHST）。</p><h2 id="诊断">诊断</h2><p>抑郁症的诊断主要应根据病史、临床症状、病程及体格检查和实验室检查，典型病例诊断一般不困难。国际上通用的诊断标准一般有ICD-10和DSM-IV。国内主要采用ICD-10，是指首次发作的抑郁症和复发的抑郁症，不包括双相抑郁。患者通常具有心境低落、兴趣和愉快感丧失、精力不济或疲劳感等典型症状。其他常见的症状是①集中注意和注意的能力降低；②自我评价降低；③自罪观念和无价值感（即使在轻度发作中也有）；④认为前途暗淡悲观；⑤自伤或自杀的观念或行为；⑥<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>；⑦食欲下降。病程持续至少2周。</p><h2 id="治疗">治疗</h2><p><strong>1.治疗目标</strong></p><p>抑郁发作的治疗要达到三个目标：①提高临床治愈率，最大限度减少病残率和自杀率，关键在于彻底消除临床症状；②提高生存质量，恢复社会功能；③预防复发。</p><p><strong>2.治疗原则</strong></p><p>①个体化治疗；②剂量逐步递增，尽可能采用最小有效量，使不良反应减至最少，以提高服药依从性；③足量足疗程治疗；④尽可能单一用药，如疗效不佳可考虑转换治疗、增效治疗或联合治疗，但需要注意药物相互作用；⑤治疗前知情告知；⑥治疗期间密切观察病情变化和不良反应并及时处理；⑦可联合<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>增加疗效；⑧积极治疗与抑郁共病的其他躯体疾病、物质依赖、焦虑障碍等。</p><p><strong>3.药物治疗</strong></p><p>药物治疗是中度以上抑郁发作的主要治疗措施。目前临床上一线的抗抑郁药主要包括选择性5-羟色胺再摄取抑制剂（SSRI，代表药物氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰和艾司西酞普兰）、5-羟色胺和去甲肾上腺素再摄取抑制剂（SNRI，代表药物文拉法辛和度洛西汀）、去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA，代表药物米氮平）等。传统的三环类、四环类抗抑郁药和单胺氧化酶抑制剂由于不良反应较大，应用明显减少。</p><p><strong>4.心理治疗</strong></p><p>对有明显心理社会因素作用的抑郁发作患者，在药物治疗的同时常需合并<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>。常用的<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>方法包括支持性<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>、<a href="https://baike.baidu.com/item/%E8%AE%A4%E7%9F%A5%E8%A1%8C%E4%B8%BA%E6%B2%BB%E7%96%97/8296716" target="_blank" rel="noopener">认知行为治疗</a>、人际治疗、婚姻和<a href="https://baike.baidu.com/item/%E5%AE%B6%E5%BA%AD%E6%B2%BB%E7%96%97/1057345" target="_blank" rel="noopener">家庭治疗</a>、精神动力学治疗等，其中<a href="https://baike.baidu.com/item/%E8%AE%A4%E7%9F%A5%E8%A1%8C%E4%B8%BA%E6%B2%BB%E7%96%97/8296716" target="_blank" rel="noopener">认知行为治疗</a>对抑郁发作的疗效已经得到公认。</p><p><strong>5.物理治疗</strong></p><p>近年来出现了一种新的<a href="https://baike.baidu.com/item/%E7%89%A9%E7%90%86%E6%B2%BB%E7%96%97/8806355" target="_blank" rel="noopener">物理治疗</a>手段——重复经颅磁刺激（rTMS）治疗，主要适用于轻中度的抑郁发作。</p><h2 id="预防">预防</h2><p>有人对抑郁症患者追踪10年的研究发现，有75%～80%的患者多次复发，故抑郁症患者需要进行预防性治疗。发作3次以上应长期治疗，甚至终身服药。维持治疗药物的剂量多数学者认为应与治疗剂量相同，还应定期门诊随访观察。心理治疗和社会支持系统对预防本病复发也有非常重要的作用，应尽可能解除或减轻患者过重的心理负担和压力，帮助患者解决生活和工作中的实际困难及问题，提高患者应对能力，并积极为其创造良好的环境，以防复发。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;抑郁症，一种心病。这是我的定义，但是有时候我甚至怀疑这能不能被称作一种病、怀疑它是否真的存在……然而，现实如此残酷，这种病真实存在，而且发病时间和后果可能让人无法预料。我们不时听到某某明星因为抑郁而自杀的新闻，在叹息的同时，却又不禁在想：又有多少普通人抑郁而终？&lt;/p&gt;&lt;p&gt;抑郁，亦有轻重，诱发因素或大或小。艾滋病患者多死于肿瘤，艾滋病毒破坏病人的免疫系统，也许一个小小的炎症，可能就会致命；在我看来，抑郁是类似的，它破坏病人的“心情系统”，也许一点点的不愉快可能就会变成诱因，让人走向极端。&lt;/p&gt;&lt;p&gt;​ ——记于2019年国考（2019年11月24日）的后一天&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://5b0988e595225.cdn.sohucs.com/images/20190503/5b2a4ecc0a724b25967493c34d0a4f7f.jpeg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu升级Ruby</title>
    <link href="https://www.yansheng.xyz/article/6bb10e64.html"/>
    <id>https://www.yansheng.xyz/article/6bb10e64.html</id>
    <published>2019-11-14T14:39:29.000Z</published>
    <updated>2019-12-09T17:29:08.509Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>Ubuntu服务器最近扫描出很多漏洞，发现很多是Ruby的问题，而且有一些年代久远，想着应该是老版本的问题。于是去查了下更新问题，记录下更新过程。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912501635.png" alt="file"></p><a id="more"></a><p>当前的版本是 2.3，打算升级到最新的 2.6。可以使用下面的命令查看 Ruby 版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ruby -v</span><br><span class="line">ruby 2.3.1p112 (2016-04-26) [x86_64-linux-gnu]</span><br></pre></td></tr></table></figure><h3 id="添加-ppa-源：">添加 PPA 源：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:brightbox/ruby-ng</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><blockquote><p>Launchpad PPA Repositories是很有用的非ubuntu官方的第三方个人资源库，可以很方便地安装第三方软件。<br>但是在运行add-apt-repository命令时，有时会提示命令不存在，这个时候直接apt-get<br>add-apt-repository是不可以的！ 解决的方法是安装software-properties-common。<br>输入命令：<code>apt-get install software-properties-common</code></p></blockquote><h3 id="先删除旧版本：">先删除旧版本：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get purge --auto-remove ruby</span><br></pre></td></tr></table></figure><h3 id="然后安装新版本：">然后安装新版本：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install ruby2.6 ruby2.6-dev</span><br></pre></td></tr></table></figure><h3 id="安装后查看版本号：">安装后查看版本号：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ruby -v</span><br><span class="line">ruby 2.6.5p114 (2019-10-01 revision 67812) [x86_64-linux-gnu]</span><br></pre></td></tr></table></figure><p>更新成功后，重新扫描，漏洞少了20个……</p><hr><p>相关链接：</p><ul><li><a href="https://www.ruby-lang.org/zh_cn/downloads/" target="_blank" rel="noopener">下载 Ruby（中文网）</a></li><li><a href="https://blog.csdn.net/qq_31977367/article/details/78737646" target="_blank" rel="noopener">Ubuntu系统安装Ruby的三种方法</a></li><li><a href="https://blog.csdn.net/henryhu712/article/details/89224467" target="_blank" rel="noopener">https://blog.csdn.net/henryhu712/article/details/89224467</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;Ubuntu服务器最近扫描出很多漏洞，发现很多是Ruby的问题，而且有一些年代久远，想着应该是老版本的问题。于是去查了下更新问题，记录下更新过程。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912501635.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Ubuntu" scheme="https://www.yansheng.xyz/tags/Ubuntu/"/>
    
      <category term="Ruby" scheme="https://www.yansheng.xyz/tags/Ruby/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加复制代码块的功能</title>
    <link href="https://www.yansheng.xyz/article/e9d1b881.html"/>
    <id>https://www.yansheng.xyz/article/e9d1b881.html</id>
    <published>2019-11-10T09:08:42.000Z</published>
    <updated>2019-11-12T07:51:45.961Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>实现复制代码块的功能，效果：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png" alt="file"></p><a id="more"></a><h2 id="我的提问">我的提问</h2><p>我在hexo-theme-yilia-plus主题上的提问：<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/issues/29" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/issues/29</a></p><blockquote><h3 id="初级版">初级版</h3><p>支持复制代码块的功能，如下图（截自csdn）：<br><a href="https://user-images.githubusercontent.com/45334066/68071471-aaebd180-fdb5-11e9-9601-76c6e6dc664b.png" target="_blank" rel="noopener"><img src="https://user-images.githubusercontent.com/45334066/68071471-aaebd180-fdb5-11e9-9601-76c6e6dc664b.png" alt="image"></a></p><p>个人觉得这个功能还是挺重要的。</p><h3 id="加强版">加强版</h3><p>如果文章中有原创版权声明，复制时，会携带相关信息。</p><h3 id="🙋others">🙋Others</h3><p>我自己也去查了下，找到的好像都是next主题的，没有yilia主题的，但是不太会转化……</p><p>参考链接：</p><ul><li>工具：clipboard.js：<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">https://github.com/zenorocha/clipboard.js</a>，中文网：<a href="http://www.clipboardjs.cn/" target="_blank" rel="noopener">http://www.clipboardjs.cn/</a></li><li>Hexo NexT 代码块复制功能:<a href="https://www.jianshu.com/p/3e9d614c1e77" target="_blank" rel="noopener">https://www.jianshu.com/p/3e9d614c1e77</a></li><li>hexo-next 添加代码块复制功能：<a href="https://www.zhyong.cn/posts/ca02/" target="_blank" rel="noopener">https://www.zhyong.cn/posts/ca02/</a></li><li>Hexo–第二弹(包含复制代码块，和版权声明)：<a href="https://www.jianshu.com/p/4d0020bde612" target="_blank" rel="noopener">https://www.jianshu.com/p/4d0020bde612</a></li></ul></blockquote><hr><h2 id="自己动手">自己动手</h2><p>因为回复比较慢，就自己动手去尝试了。</p><p>参考：<a href="https://hexo-guide.readthedocs.io/zh_CN/latest/third-service/%5Bclipboard.js%5D%E4%BB%A3%E7%A0%81%E5%9D%97%E5%A4%8D%E5%88%B6.html" target="_blank" rel="noopener">[clipboard.js]代码块复制</a></p><p>该文章也是基于next主题，迁移过来有些问题：</p><ol><li>next主题可能自带jQuery，故没有引入，但是yilia没有，需要引入。</li><li>会报错<code>ClipboardJS is not defined</code>，我这里直接改成了<code>Clipboard</code>就可以了，后面找到原因了：是版本问题，<a href="https://github.com/zenorocha/clipboard.js/releases/v2.0.0" target="_blank" rel="noopener">https://github.com/zenorocha/clipboard.js/releases/v2.0.0</a>，v2.0.0的变化：Changes constructor from <code>new Clipboard()</code> to <code>new ClipboardJS()</code> <a href="https://github.com/zenorocha/clipboard.js/issues/468" target="_blank" rel="noopener">#468</a>。相关问题：<ul><li><a href="https://github.com/zenorocha/clipboard.js/issues/296" target="_blank" rel="noopener">Clipboard not defined</a></li><li><a href="https://www.bbsmax.com/A/gVdnNgPNdW/" target="_blank" rel="noopener">clipboard复制剪贴板功能，以及用requirejs时报错—Uncaught ReferenceError: Clipboard is not defined</a></li></ul></li></ol><h3 id="0-原理">0.原理</h3><p>在页面加载完毕后，使用js动态地为每一个代码块添加一个按钮，使用这个按钮复制代码块内容。</p><h3 id="1-新建实现复制功能的js">1.新建实现复制功能的js</h3><p><code>H:\Hexo\themes\yilia\source\js\clipboard_use.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123; </span><br><span class="line"><span class="comment">/* code */</span></span><br><span class="line"><span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'  &lt;i class="fa fa-globe"&gt;&lt;/i&gt;&lt;span&gt;copy&lt;/span&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">    $(<span class="string">".highlight .code"</span>).before(copyHtml);</span><br><span class="line">    <span class="keyword">new</span> Clipboard(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">        target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h3 id="2-引入js">2.引入js</h3><p>在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>文件的<code>&lt;/body&gt;</code>前引入：（作用：页面加载完再执行js）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 代码块复制功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script type="text/javascript" src="/js/clipboard.js"&gt;&lt;/script&gt;  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard_use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="需要注意的问题：">需要注意的问题：</h4><ul><li>前面提到：因为：<code>clipboard_use.js</code>中需要用到jQuery，而yilia没有引入jQuery，故需要引入。</li><li>对于<code>clipboard.js</code>的引入问题：根据github社区反馈，引入本地文件好像会出现问题（我本地测试就引入不了），故使用CDN引入。（有人反映CDN好像也会有问题，反正我没有遇到……）</li><li>注意引入顺序：<code>jquery</code>和<code>clipboard.js</code>需要在<code>clipboard_use.js</code>之前引入。</li><li><code>&lt;script&gt;</code>标签问题，虽然HTML5标准里面没有严格要求标签一定要关闭，但是建议要关闭，不然可能会出现问题。这里我一开始没有关闭标签，就出现问题了，后面研究了很久才发现原来是这个问题。</li></ul><h3 id="3-添加样式">3.添加样式</h3><p>修改：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，在末尾添加下面代码（最好是<code>pre .css~* .id, pre .id</code>下面，即代码块样式附近）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  这是原代码块 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.id</span>, <span class="selector-tag">pre</span> <span class="selector-class">.id</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fd971f</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 代码块复制按钮 */</span></span><br><span class="line"> <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="comment">/* 方便copy代码按钮（btn-copy）的定位 */</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc, #eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块复制按钮 */</span></span><br></pre></td></tr></table></figure><h3 id="成果">成果</h3><p>点击按钮后，会全选代码块，就复制成功了。<br>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012404242.png" alt="file"></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png" alt="file"></p><p>动图：<br><img src="https://img-blog.csdnimg.cn/20191106120739510.gif" alt="file"></p><h3 id="问题讨论">问题讨论</h3><p>乍一看效果还不错，但是还是存在问题：</p><ol><li>如果代码块超出，会出现问题。虽然图标样式使用绝对定位，但是该按钮没有“固定”在代码块页面的右上角，仅仅是固定在当前页面的右上角，可能不好理解，截个图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012602602.png" alt="file"><br>然后我去研究了下CSDN的样式，发现好像差不多，但是效果明显不一样啊。后面有空再研究吧。</li><li>虽然复制成功会全选代码块，但是不成功呢？不晓得？好像没反应。后期可能会添加对应设置（模仿CSDN）：默认时“复制”，复制成功显示“复制成功”，几秒后再次显示“复制”，失败给出对应提示。</li></ol><h3 id="依赖升级">依赖升级</h3><p>使用最新版本的clipboard.js–v2.0.4，CDN：<a href="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/" target="_blank" rel="noopener">https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/</a>，替换之前的，需要修改的地方：</p><h4 id="1-改变引入源">1.改变引入源</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-改变函数名">2.改变函数名</h4><p><code>Clipboard</code> to <code>ClipboardJS</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Clipboard(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>改为：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;实现复制代码块的功能，效果：&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia测试代码块样式</title>
    <link href="https://www.yansheng.xyz/article/285260df.html"/>
    <id>https://www.yansheng.xyz/article/285260df.html</id>
    <published>2019-11-10T09:07:49.000Z</published>
    <updated>2019-11-12T07:49:38.909Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>测试代码块、引用块、（文章内）超链接的样式以及高亮问题。</p><h2 id="高亮说明">高亮说明</h2><p>经测试，发现有以下几个问题：</p><ol><li>引用块里面的代码块样式有问题。</li><li>如果语言不支持高亮，默认使用plain（简单的，无格式的）。</li><li>MySQL等SQL需要统一设置为SQL，不然不高亮。</li><li>shell脚本使用bash，不然不高亮。</li><li>cmd命令/Linux命令使用bash，可以部分高亮。</li><li>markdown代码块不支持高亮。</li><li>ejs使用HTML进行高亮。</li></ol><a id="more"></a><h2 id="引用块">引用块</h2><blockquote><h3 id="引用的三级目录">引用的三级目录</h3><p>这是引用</p><p>下面是引用中的代码块：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="行内代码块">行内代码块</h2><p>这是行内代码块：<code>git clone url</code>。</p><h2 id="标题中的行内代码块git-clone-url">标题中的行内代码块<code>git clone url</code></h2><h2 id="超链接">超链接</h2><p>超链接样式：</p><ol><li><code>[文字](url)</code>:<a href="https://yansheng836.github.io/" target="_blank" rel="noopener">我的博客仓库</a>，如果url含有中文，建议加&lt;&gt;，不然可能会被截断，导致连接失效。</li><li><code>&lt;url&gt;</code>:<a href="https://yansheng836.github.io/" target="_blank" rel="noopener">https://yansheng836.github.io/</a>。</li><li><code>url</code>:<a href="https://yansheng836.github.io/%EF%BC%8C%E4%B8%8D%E6%8E%A8%E8%8D%90%E9%80%82%E7%94%A8%E8%BF%99%E7%A7%8D%EF%BC%8C%E4%B8%8D%E8%A7%84%E8%8C%83%E3%80%82" target="_blank" rel="noopener">https://yansheng836.github.io/，不推荐适用这种，不规范。</a></li></ol><h2 id="html">HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="xml">XML</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="css">CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">charset</span>"<span class="keyword">utf</span>-<span class="keyword">8</span>";</span><br><span class="line"><span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="javascript">JavaScript</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hide = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    x.classList.toggle(<span class="string">"change"</span>);</span><br><span class="line">    <span class="keyword">if</span> (hide == <span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hide == false"</span>);</span><br><span class="line">        hide = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>)</span><br><span class="line">        hide = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="json">Json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"sites"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"菜鸟教程"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.runoob.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"google"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.google.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"微博"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.weibo.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="java">Java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">         <span class="comment">// 单行注释</span></span><br><span class="line">        System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="python3">Python3</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="string">"""一个简单的类实例"""</span></span><br><span class="line">    i = <span class="number">12345</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'hello world'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 实例化类</span></span><br><span class="line">x = MyClass()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 访问类的属性和方法</span></span><br><span class="line">print(<span class="string">"MyClass 类的属性 i 为："</span>, x.i)</span><br><span class="line">print(<span class="string">"MyClass 类的方法 f 输出为："</span>, x.f())</span><br></pre></td></tr></table></figure><h2 id="sql">SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name</span><br><span class="line"><span class="keyword">VALUES</span> (value1,value2,value3,...);</span><br></pre></td></tr></table></figure><h2 id="mysql">MySQL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from runoob_tbl ORDER BY submission_date ASC;</span><br></pre></td></tr></table></figure><h2 id="mysql-sql">MySQL–&gt;SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> runoob_tbl <span class="keyword">ORDER</span> <span class="keyword">BY</span> submission_date <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><h2 id="shell">Shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo "The value is: $loop"</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h2 id="shell-bash">Shell–&gt;BASH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> loop <span class="keyword">in</span> 1 2 3 4 5</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"The value is: <span class="variable">$loop</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h2 id="bash-git">Bash/Git</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cmd</span></span><br><span class="line"><span class="built_in">cd</span> dir</span><br><span class="line">mkdir new_dir</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注释</span></span><br><span class="line">$ git add *.c</span><br><span class="line">$ git add README</span><br><span class="line">$ git commit -m <span class="string">'初始化项目版本'</span></span><br></pre></td></tr></table></figure><h2 id="c">C</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* 我的第一个 C 程序 */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello, World! \n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="c-v2">C++</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 注释</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="markdown">Markdown</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这是超链接：<span class="xml"><span class="tag">&lt;<span class="name">https:</span>//<span class="attr">github.com</span>/<span class="attr">yansheng836</span>/&gt;</span></span></span><br><span class="line">下面的是列表：</span><br><span class="line"><span class="bullet">- </span>列表</span><br><span class="line"><span class="bullet">- </span>列表</span><br></pre></td></tr></table></figure><h2 id="ejs">EJS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; %&gt;</span><br><span class="line">    &lt;section id=&quot;comments&quot; class=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;style&gt;</span><br><span class="line">        .comments&#123;margin:30px;padding:10px;background:#fff&#125;</span><br><span class="line">        @media screen and (max-width:800px)&#123;.comments&#123;margin:auto;padding:10px;background:#fff&#125;&#125;</span><br><span class="line">      &lt;/style&gt;</span><br><span class="line">      &lt;%- partial(&apos;post/valine&apos;, &#123;</span><br><span class="line">        key: post.slug,</span><br><span class="line">        title: post.title,</span><br><span class="line">        url: config.url+url_for(post.path)</span><br><span class="line">        &#125;) %&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="ejs-html">EJS–&gt;HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">        <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">url:</span> <span class="attr">config.url</span>+<span class="attr">url_for</span>(<span class="attr">post.path</span>)</span></span><br><span class="line"><span class="tag">        &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h2 id="yml">YML</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hexo g 会默认将所有md文件转换成（渲染成）HTML文件放到public文件夹中；加上这句话的意思就是告诉hexo的解析器，跳过渲染(skip_render)README.md文件</span></span><br><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line"><span class="bullet"> -</span> <span class="string">'README.md'</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;测试代码块、引用块、（文章内）超链接的样式以及高亮问题。&lt;/p&gt;&lt;h2 id=&quot;高亮说明&quot;&gt;高亮说明&lt;/h2&gt;&lt;p&gt;经测试，发现有以下几个问题：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;引用块里面的代码块样式有问题。&lt;/li&gt;&lt;li&gt;如果语言不支持高亮，默认使用plain（简单的，无格式的）。&lt;/li&gt;&lt;li&gt;MySQL等SQL需要统一设置为SQL，不然不高亮。&lt;/li&gt;&lt;li&gt;shell脚本使用bash，不然不高亮。&lt;/li&gt;&lt;li&gt;cmd命令/Linux命令使用bash，可以部分高亮。&lt;/li&gt;&lt;li&gt;markdown代码块不支持高亮。&lt;/li&gt;&lt;li&gt;ejs使用HTML进行高亮。&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia修改代码块等样式</title>
    <link href="https://www.yansheng.xyz/article/c344994.html"/>
    <id>https://www.yansheng.xyz/article/c344994.html</id>
    <published>2019-11-10T09:06:49.000Z</published>
    <updated>2019-11-11T08:23:17.957Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>代码块的样式真的很重要，毕竟咱好歹是一个技术博客，难免会贴一些代码的。因此参考<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">https://cqh-i.github.io</a>的样式进行了调整，下面是HTML的例子，更多具体效果可以参考这篇博客的样式：<a href="/article/285260df.html">test-codestyle</a>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>html代码块样本<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这个样式可还行？<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="说明">说明</h2><ol><li>由于每个人可能都修改过样式文件，所以每个人的样式可能都会有所不同。建议修改之前做好备份，防止出现错误难于恢复，可以使用git进行版本管理（<a href="https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md" target="_blank" rel="noopener">备份博客的源码和配置</a>）。</li><li>我的备份文件，详见<a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog/docs/%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F%E8%B0%83%E6%95%B4%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">代码块样式调整备份文件</a>，<code>cqh-i.github.io.css</code>为博客<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">https://cqh-i.github.io</a>的代码块样式。<code>main.0cf68a.css</code>为我之前的css文件的备份。</li></ol><h2 id="文中超链接样式">文中超链接样式</h2><p>默认：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改（添加内容）后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章中的超链接,鼠标悬浮特效 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">    <span class="comment">/* font-size:18px; */</span></span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">8s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再次修改：</p><p>参考：<a href="https://css.30secondsofcode.org/snippet/hover-underline-animation" target="_blank" rel="noopener">https://css.30secondsofcode.org/snippet/hover-underline-animation</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章中的超链接,鼠标悬浮特效*/</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: lucida console;<span class="comment">/* 这种字体的英文比较好看（像代码样式） */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮时，变色 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d7191a</span>;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">8s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮时，下划线从中间向两边延伸 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">  <span class="comment">/* 旋转，与transform连用；这里作用：鼠标悬浮时，底部的下划线从中间扩散到两边。</span></span><br><span class="line"><span class="comment">   bottom right :左到右出现，左到右消失（需配合上面的::after）</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标移开后，下划线从两边向中间消失 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.5px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">  <span class="comment">/* 详见：https://www.w3school.com.cn/cssref/pr_transform-origin.asp,</span></span><br><span class="line"><span class="comment">  旋转，与transform连用；这里作用：鼠标移开后，底部的下划线从中间开始消失 */</span></span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom center;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.5s</span> ease-out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2019年11月8日调整将<code>article-entry</code>换成<code>mid-col</code>，原来只是文章中文的超链接，现在改为右边栏都进行设置。（可能会出现很多负面影响，请自行决定是否更改）。</p><h2 id="行内代码块样式">行内代码块样式</h2><p>默认：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>,<span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考csdn代码块样式：主要是调整颜色为红色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.markdown_views</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: -<span class="number">9px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 行内代码块``的样式，参考csdn的</span></span><br><span class="line"><span class="comment">    color: #c7254e;</span></span><br><span class="line"><span class="comment">    background-color: #f9f2f4;</span></span><br><span class="line"><span class="comment">    border-radius: 2px;</span></span><br><span class="line"><span class="comment">    padding: 2px 4px;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="comment">/* background:#ddd; */</span></span><br><span class="line">    <span class="comment">/* border:2px solid #ccc; */</span></span><br><span class="line">    <span class="attribute">font-family</span>:Menlo, Monaco, Andale Mono, lucida console, Courier New, monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="comment">/* font-size:14px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>补充：一开始没注意到原来该样式不包含标题中的代码块，添加:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 标题中的代码块样式 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="comment">/* background:#eee;</span></span><br><span class="line"><span class="comment">    padding:0 .3em;</span></span><br><span class="line"><span class="comment">    border:none */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(249,242,244,.7);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码块主要样式文件">代码块主要样式文件</h2><h3 id="代码块简单设置">代码块简单设置</h3><p>参考：<a href="https://www.jianshu.com/p/adb7640c97c2" target="_blank" rel="noopener">Hexo 基于yilia主题及其它插件优化</a></p><h4 id="1-修改代码块的样式">1.修改代码块的样式</h4><p>直接修改编译好的文件。路径为： <code>theme/yilia/source/main.0cf68a.css</code>:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(1)修改代码背景色，</span><br><span class="line">搜索 <span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span>, 修改<span class="selector-tag">background</span>后面的颜色</span><br><span class="line">将 <span class="selector-tag">pre</span>&#123;<span class="attribute">background</span>:<span class="number">#272822</span>;</span><br><span class="line">改为 pre&#123;background:#1a0139;</span><br><span class="line"></span><br><span class="line">(2)修改行号颜色，</span><br><span class="line">搜索 <span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> <span class="selector-tag">pre</span> <span class="selector-class">.line</span></span><br><span class="line">将<span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> <span class="selector-tag">pre</span> <span class="selector-class">.line</span>&#123;<span class="attribute">color</span>:<span class="number">#666</span></span><br><span class="line">改为.article-entry .highlight .gutter pre .line&#123;color:<span class="number">#fc0000</span></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)修改代码字体颜色 </span><br><span class="line">搜索 .article-entry .highlight .line</span><br><span class="line">将.article-entry .highlight .line&#123;color:<span class="number">#fff</span>;</span><br><span class="line">修改为.article-entry .highlight .line&#123;color:#00ff0d;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="https://user-images.githubusercontent.com/45334066/63212335-714fe680-c135-11e9-8474-7de47bd3f3e5.png" alt></p><p>个人感觉还不是很满意，有待优化。</p><h4 id="2-代码块行号显示错乱">2.代码块行号显示错乱</h4><p>修改<code>yilia/source/main.0cf68a.css</code>的内容：将<code>white-space:pre-wrap;</code> 删除，这个问题是自动换行造成的，使用不自动换行的<code>white-space:pre;</code>样式代码块部分会自动出现底部滚动条，行号错乱问题就没有了。</p><h4 id="3-重点调整">3.重点调整</h4><p>不知道是hexo还是yilia主题自带的是使用<code>highlight.js</code>进行代码高亮的，但是好像是内置的，因为我不会写源码，只能更改生成的文件：<code>yilia/source/main.0cf68a.css</code>，按照识别的关键字自定义颜色，这里是我的一些配置，你也可以自己使用F12进行调试。（当然网上也有许多替换自指定的<code>highlight.js</code>进行代码高亮的教程）。</p><p><strong>特别注意</strong>：高亮的前提是语言要写对，不然只能当做普通文本进行识别。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 代码块样式之评论：黄色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.comment</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffec8b</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之类的参数、函数的关键字、关键字：蓝色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.class</span> <span class="selector-class">.params</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.literal</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#66d9ef</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之css的属性值、函数名、参数、标签：白色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span> <span class="selector-class">.value</span>, <span class="selector-tag">pre</span> <span class="selector-class">.doctype</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span>, <span class="selector-tag">pre</span> <span class="selector-class">.params</span>, <span class="selector-tag">pre</span> <span class="selector-class">.tag</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span></span><br><span class="line"><span class="comment">/* color:#66d9ef; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之HTML或者xml的头部元素：红色(颜色较浅) */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.meta</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#f78da1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之HTML的标签：红色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.tag</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#dc3958; */</span></span><br><span class="line"> <span class="attribute">color</span>:<span class="number">#ff6481</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之：色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.at_rule</span>, <span class="selector-tag">pre</span> <span class="selector-class">.at_rule</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.tag</span>, <span class="selector-tag">pre</span> <span class="selector-class">.preprocessor</span>, <span class="selector-tag">pre</span> <span class="selector-class">.preprocessor</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fa9400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之属性、类、函数的title：绿色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.attr</span>,<span class="selector-tag">pre</span> <span class="selector-class">.attribute</span>, <span class="selector-tag">pre</span> <span class="selector-class">.built_in</span>, <span class="selector-tag">pre</span> <span class="selector-class">.class</span>, <span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.class</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#a6e22e</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之字符串、属性值：猪肝色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.string</span>, <span class="selector-tag">pre</span> <span class="selector-class">.value</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#e6db74</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之数字：粉红色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.number</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffe4b5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.id</span>, <span class="selector-tag">pre</span> <span class="selector-class">.id</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fd971f</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文章内的超链接和引用块超出页面的问题">文章内的超链接和引用块超出页面的问题</h2><p>参考：<a href="https://www.cnblogs.com/ytkah/p/5673122.html" target="_blank" rel="noopener">css自动换行如何设置?url太长会撑开页面</a></p><p>当页面进行缩放时，说明这两个区域可能会超出页面。</p><p>使用下面这两个属性进行截断：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line"><span class="selector-tag">word-wrap</span><span class="selector-pseudo">:break-word</span>;</span><br><span class="line"><span class="selector-tag">word-break</span><span class="selector-pseudo">:break-all</span>;</span><br></pre></td></tr></table></figure><p>具体如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:transparent;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#08c</span>;</span><br><span class="line"><span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#657b83</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#f6f6f6</span>;</span><br><span class="line">    <span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="左侧边栏的菜单">左侧边栏的菜单</h2><p>导航超链接样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 这个字体不错font-family: STCaiyun,STXingkai; */</span></span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-menu</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: STCaiyun,STXingkai;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">31px</span>;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">float</span>: none;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-pack</span>: center;</span><br><span class="line">    <span class="attribute">-webkit-box-align</span>: center;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="主页-展开全文-按钮样式">主页‘展开全文’按钮样式</h2><p>样式参考：<a href="http://ianlunn.github.io/Hover/" target="_blank" rel="noopener">http://ianlunn.github.io/Hover/</a>的<code>hvr-shutter-in-horizontal</code>按钮，示例：<a href="https://codepen.io/yansheng836/pen/QWWmEro" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/QWWmEro</a>。</p><h3 id="1-添加class">1.添加class</h3><p>修改<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，查找<code>index &amp;&amp; theme.show_all_link</code>，找到如下内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span> &amp;&amp; <span class="attr">theme.show_all_link</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"article-more-link"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"article-more-a"</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.show_all_link</span> %&gt;</span> &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>class=&quot;article-more-a</code>中添加<code>hvr-shutter-in-horizontal</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span> &amp;&amp; <span class="attr">theme.show_all_link</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"article-more-link"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"article-more-a  hvr-shutter-in-horizontal"</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.show_all_link</span> %&gt;</span> &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-修改样式">2.修改样式</h3><p>修改<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，查找<code>.article-more-link a</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">transition</span>:background .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#3c3c3c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 《展开全文按钮 */</span></span><br><span class="line"> <span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="comment">/* Prevent highlight colour when element is tapped */</span></span><br><span class="line">    <span class="attribute">-webkit-tap-highlight-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">    <span class="comment">/* Smooth fonts */</span></span><br><span class="line">    <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">    <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Shutter In Horizontal ,from : http://ianlunn.github.io/Hover/ */</span></span><br><span class="line"> <span class="selector-class">.hvr-shutter-in-horizontal</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line"><span class="comment">/* 在鼠标悬浮时为：蓝色 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2098D1</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-property</span>: color;</span><br><span class="line">    <span class="attribute">transition-property</span>: color;</span><br><span class="line">    <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line"><span class="comment">/* 在默认情况下为：灰褐色 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">    <span class="attribute">-webkit-transform-origin</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-property</span>: transform;</span><br><span class="line">    <span class="attribute">transition-property</span>: transform;</span><br><span class="line">    <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-timing-function</span>: ease-out;</span><br><span class="line">    <span class="attribute">transition-timing-function</span>: ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:focus</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 展开全文按钮》 */</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;代码块的样式真的很重要，毕竟咱好歹是一个技术博客，难免会贴一些代码的。因此参考&lt;a href=&quot;https://cqh-i.github.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://cqh-i.github.io&lt;/a&gt;的样式进行了调整，下面是HTML的例子，更多具体效果可以参考这篇博客的样式：&lt;a href=&quot;/article/285260df.html&quot;&gt;test-codestyle&lt;/a&gt;。&lt;/p&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;charset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;html代码块样本&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;title&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;这个样式可还行？&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;p1&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;font-size:20px;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;我的第一个段落。&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加live2d看板娘</title>
    <link href="https://www.yansheng.xyz/article/e239dc63.html"/>
    <id>https://www.yansheng.xyz/article/e239dc63.html</id>
    <published>2019-11-10T09:06:30.000Z</published>
    <updated>2019-11-12T07:53:08.769Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>添加live2d看板娘，插件：hexo-helper-live2d，github仓库：<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">https://github.com/EYHN/hexo-helper-live2d</a></p><p>右下角：可爱小黑猫🐱</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481131575.png" alt="file"></p><a id="more"></a><h2 id="安装">安装</h2><h3 id="1-安装插件">1.安装插件</h3><p>运行命令<code>npm install --save hexo-helper-live2d</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-helper-live2d</span><br><span class="line"></span><br><span class="line">&gt; core-js@2.6.10 postinstall H:\Hexo\node_modules\babel-polyfill\node_modules\core-js</span><br><span class="line">&gt; node postinstall || <span class="built_in">echo</span> <span class="string">"ignore"</span></span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using core-js ( https://github.com/zloirock/core-js ) <span class="keyword">for</span> polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your <span class="built_in">help</span>! Please consider supporting of core-js on Open Collective or Patreon:</span><br><span class="line">&gt; https://opencollective.com/core-js</span><br><span class="line">&gt; https://www.patreon.com/zloirock</span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking <span class="keyword">for</span> a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; core-js@2.6.10 postinstall H:\Hexo\node_modules\babel-runtime\node_modules\core-js</span><br><span class="line">&gt; node postinstall || <span class="built_in">echo</span> <span class="string">"ignore"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; live2d-widget@3.1.4 postinstall H:\Hexo\node_modules\live2d-widget</span><br><span class="line">&gt; opencollective-postinstall</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using live2d-widget!</span><br><span class="line">If you rely on this package, please consider supporting our open collective:</span><br><span class="line">&gt; https://opencollective.com/live2d-widgetjs/donate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; hexo-helper-live2d@3.1.1 postinstall H:\Hexo\node_modules\hexo-helper-live2d</span><br><span class="line">&gt; opencollective-postinstall</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using hexo-helper-live2d!</span><br><span class="line">If you rely on this package, please consider supporting our open collective:</span><br><span class="line">&gt; https://opencollective.com/hexo-helper-live2d/donate</span><br><span class="line"></span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ hexo-helper-live2d@3.1.1</span><br><span class="line">added 277 packages from 109 contributors and audited 25235 packages <span class="keyword">in</span> 255.268s</span><br><span class="line">found 20 vulnerabilities (7 low, 6 moderate, 6 high, 1 critical)</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure><h3 id="2-选择模型">2.选择模型</h3><p>可到<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">https://huaji8.top/post/live2d-plugin-2.0/</a>预览效果。</p><p>命令为:<code>npm install live2d-widget-model-模型名</code>，模型为可参考上面的预览内容。</p><p>安装模型:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install live2d-widget-model-hijiki</span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ live2d-widget-model-hijiki@1.0.5</span><br><span class="line">added 1 package <span class="keyword">in</span> 52.155s</span><br></pre></td></tr></table></figure><h3 id="3-配置">3.配置</h3><p>站点的配置文件<code>\_config.yml</code>或者是主题的配置文件中添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  scriptFrom:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">  pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line"><span class="attr">  pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line"><span class="attr">  pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line"><span class="attr">  tagMode:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  debug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  model:</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">live2d-widget-model-hijiki</span> <span class="comment"># 模型：https://huaji8.top/post/live2d-plugin-2.0/</span></span><br><span class="line"><span class="attr">  display:</span></span><br><span class="line"><span class="attr">    position:</span> <span class="string">right</span></span><br><span class="line"><span class="attr">    width:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">    height:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">  mobile:</span></span><br><span class="line"><span class="attr">    show:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>注意这里的<code>use</code>参数是上面安装的那个模型全名。</p><h3 id="4-效果图">4.效果图</h3><p>可爱的小黑猫已上线（见封面）。如果不起效，一般需要重新生成<code>hexo clean &amp; hexo g</code>。</p><h2 id="补充">补充</h2><ul><li>添加动画一般都会比较耗内存，请自行选择是否添加。</li><li>魔改版：<a href="https://zhangshuqiao.org/2018-07/%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%B7%BB%E5%8A%A0Live2D%E7%9C%8B%E6%9D%BF%E5%A8%98/" target="_blank" rel="noopener">在网页中添加Live2D看板娘</a>，基于next主题。，github：<a href="https://github.com/stevenjoezhang/live2d-widget" target="_blank" rel="noopener">https://github.com/stevenjoezhang/live2d-widget</a></li><li>魔改2：<a href="https://www.fghrsh.net/post/123.html" target="_blank" rel="noopener">https://www.fghrsh.net/post/123.html</a></li></ul><h2 id="取消看板娘">取消看板娘</h2><h3 id="暂时不用">暂时不用</h3><p>将配置中的<code>enable</code>设置成false即可。</p><h3 id="卸载插件">卸载插件</h3><p>运行命令下载插件，删除配置信息：</p><ol><li>卸载模型：<code>npm install live2d-widget-model-模型名</code></li><li>卸载live2d插件：<code>npm uninstall hexo-helper-live2d</code></li><li>去掉站点<code>_config.yml</code>下的配置信息即可。</li></ol><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;添加live2d看板娘，插件：hexo-helper-live2d，github仓库：&lt;a href=&quot;https://github.com/EYHN/hexo-helper-live2d&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/EYHN/hexo-helper-live2d&lt;/a&gt;&lt;/p&gt;&lt;p&gt;右下角：可爱小黑猫🐱&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481131575.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加背景特效</title>
    <link href="https://www.yansheng.xyz/article/cf9c6a5e.html"/>
    <id>https://www.yansheng.xyz/article/cf9c6a5e.html</id>
    <published>2019-11-10T09:06:25.000Z</published>
    <updated>2019-11-11T13:18:35.953Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>添加多种页面背景特效，参考：<a href="https://blog.csdn.net/qq_36759224/article/details/85420403" target="_blank" rel="noopener">Hexo 博客优化之博客美化系列（持续更新）</a>，需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。</p><h2 id="特效目录">特效目录</h2><ul><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E7%88%B1%E5%BF%83%E7%89%B9%E6%95%88">鼠标点击出现爱心特效</a></li><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97--%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5jquery">鼠标点击显示文字–需要引入jQuery</a></li><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%83%9F%E8%8A%B1%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C">鼠标点击烟花爆炸效果</a></li><li><a href="#%E5%8A%A8%E6%80%81%E7%BA%BF%E6%9D%A1%E8%83%8C%E6%99%AF">动态线条背景</a></li><li><a href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%882%E5%A4%A7%E9%9B%AA%E8%8A%B1%E6%9C%89%E9%BD%BF%E8%BD%AE">雪花特效2.大雪花(有齿轮)</a></li><li><a href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%883%E5%B0%8F%E9%9B%AA%E8%8A%B1%E6%97%A0%E9%BD%BF%E8%BD%AE">雪花特效3.小雪花(无齿轮)</a></li><li><a href="#%E5%BD%A9%E5%B8%A61%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E5%BD%A9%E5%B8%A6">彩带1.鼠标点击自动替换彩带</a></li><li><a href="#%E5%BD%A9%E5%B8%A62%E8%87%AA%E5%8A%A8%E9%A3%98%E5%8A%A8">彩带2.自动飘动</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E9%9B%A8">代码雨</a></li></ul><a id="more"></a><h2 id="套路说明">套路说明</h2><p>为防止后面的代码遗漏了什么东西，在这里统一说明：添加背景动画的套路（适用于各种hexo主题）：</p><ol><li>新建生成动画的JS文件，或者引入现成的JS文件的CDN文件（我这里为了备份，基本是新建文件；比较有名的特效一般都会上传到GitHub，而且有引入CDN的相关介绍）。我的文件放再<code>H:\Hexo\themes\yilia\source\js\</code>目录下。</li><li>因为背景特效属于陪衬类，也就是说不是很重要的，所以一般都是在加载完页面之后再引入的。因此我们在页面的<code>&lt;/body&gt;</code>标签前引入即可。yilia主题是在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>中，其他主题类似。</li><li>在2中引入需要设置成配置时，即当配置文件中开启设置时，才会开启这个特效。因此最后一步是在主题的配置文件中开启配置。yilia主题是在<code>H:\Hexo\themes\yilia\_config.yml</code>中，其他主题类似。</li></ol><h2 id="鼠标点击出现爱心特效">鼠标点击出现爱心特效</h2><p>新建<code>H:\Hexo\themes\yilia\source\js\love.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window, document, undefined</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hearts = [];</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.requestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.mozRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.oRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.msRequestAnimationFrame ||</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">                setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">    init();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        css(</span><br><span class="line">            <span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span></span><br><span class="line">        );</span><br><span class="line">        attachEvent();</span><br><span class="line">        gameloop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">gameloop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hearts.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hearts[i].alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">document</span>.body.removeChild(hearts[i].el);</span><br><span class="line">                hearts.splice(i, <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            hearts[i].y--;</span><br><span class="line">            hearts[i].scale += <span class="number">0.004</span>;</span><br><span class="line">            hearts[i].alpha -= <span class="number">0.013</span>;</span><br><span class="line">            hearts[i].el.style.cssText = <span class="string">"left:"</span> + hearts[i].x + <span class="string">"px;top:"</span> + hearts[i].y + <span class="string">"px;opacity:"</span> + hearts[i]</span><br><span class="line">                .alpha + <span class="string">";transform:scale("</span> + hearts[i].scale + <span class="string">","</span> + hearts[i].scale +</span><br><span class="line">                <span class="string">") rotate(45deg);background:"</span> + hearts[i].color;</span><br><span class="line">        &#125;</span><br><span class="line">        requestAnimationFrame(gameloop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">attachEvent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> old = <span class="keyword">typeof</span> <span class="built_in">window</span>.onclick === <span class="string">"function"</span> &amp;&amp; <span class="built_in">window</span>.onclick;</span><br><span class="line">        <span class="built_in">window</span>.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            old &amp;&amp; old();</span><br><span class="line">            createHeart(event);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createHeart</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> d = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">        d.className = <span class="string">"heart"</span>;</span><br><span class="line">        hearts.push(&#123;</span><br><span class="line">            el: d,</span><br><span class="line">            x: event.clientX - <span class="number">5</span>,</span><br><span class="line">            y: event.clientY - <span class="number">5</span>,</span><br><span class="line">            scale: <span class="number">1</span>,</span><br><span class="line">            alpha: <span class="number">1</span>,</span><br><span class="line">            color: randomColor()</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(d);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">css</span>(<span class="params">css</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">"style"</span>);</span><br><span class="line">        style.type = <span class="string">"text/css"</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">            style.styleSheet.cssText = css;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(style);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) +</span><br><span class="line">            <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><p>添加到<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;/body&gt;</code>前</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《页面点击小红心 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.love</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/love.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 页面点击小红心》 --&gt;</span></span><br></pre></td></tr></table></figure><p>开启配置<code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 页面点击小红心</span></span><br><span class="line"><span class="attr">love:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465397103.png" alt="file"></p><h2 id="鼠标点击显示文字-需要引入jquery">鼠标点击显示文字–需要引入jQuery</h2><p><code>H:\Hexo\themes\yilia\source\js\click_show_text.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line">jQuery(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"body"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span></span><br><span class="line">        (<span class="string">"富强"</span>, <span class="string">"民主"</span>, <span class="string">"文明"</span>, <span class="string">"和谐"</span>, <span class="string">"自由"</span>, <span class="string">"平等"</span>, <span class="string">"公正"</span>, <span class="string">"法治"</span>, <span class="string">"爱国"</span>, <span class="string">"敬业"</span>, <span class="string">"诚信"</span>, <span class="string">"友善"</span>);</span><br><span class="line">        <span class="keyword">var</span> $i = $(<span class="string">"&lt;span/&gt;"</span>).text(a[a_idx]);</span><br><span class="line">        a_idx = (a_idx + <span class="number">1</span>) % a.length;</span><br><span class="line">        <span class="keyword">var</span> x = e.pageX,</span><br><span class="line">        y = e.pageY;</span><br><span class="line">        $i.css(&#123;</span><br><span class="line">            <span class="string">"z-index"</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">20</span>,</span><br><span class="line">            <span class="string">"left"</span>: x,</span><br><span class="line">            <span class="string">"position"</span>: <span class="string">"absolute"</span>,</span><br><span class="line">            <span class="string">"font-weight"</span>: <span class="string">"bold"</span>,</span><br><span class="line">            <span class="string">"color"</span>: <span class="string">"#FF0000"</span></span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">"body"</span>).append($i);</span><br><span class="line">        $i.animate(&#123;</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">180</span>,</span><br><span class="line">            <span class="string">"opacity"</span>: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="number">3000</span>,</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $i.remove();</span><br><span class="line">&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    setTimeout(<span class="string">'delay()'</span>, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delay</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">".buryit"</span>).removeAttr(<span class="string">"onclick"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--单击显示文字--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.click_show_text</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/click_show_text.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击显示文字</span></span><br><span class="line"><span class="attr">click_show_text:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476469928.png" alt="file"></p><h2 id="鼠标点击烟花爆炸效果">鼠标点击烟花爆炸效果</h2><p><code>H:\Hexo\themes\yilia\source\js\fireworks.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    pointerX = (e.clientX || e.touches[<span class="number">0</span>].clientX) - canvasEl.getBoundingClientRect().left, pointerY = e.clientY || e.touches[</span><br><span class="line">        <span class="number">0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = anime.random(<span class="number">0</span>, <span class="number">360</span>) * <span class="built_in">Math</span>.PI / <span class="number">180</span>,</span><br><span class="line">        a = anime.random(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [<span class="number">-1</span>, <span class="number">1</span>][anime.random(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: e.x + n * <span class="built_in">Math</span>.cos(t),</span><br><span class="line">        y: e.y + n * <span class="built_in">Math</span>.sin(t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = colors[anime.random(<span class="number">0</span>, colors.length - <span class="number">1</span>)], a.radius = anime.random(<span class="number">16</span>, <span class="number">32</span>), a.endPos =</span><br><span class="line">        setParticuleDirection(a), a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.fillStyle = a.color, ctx.fill()</span><br><span class="line">        &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = <span class="string">"#F00"</span>, a.radius = <span class="number">0.1</span>, a.alpha = <span class="number">0.5</span>, a.lineWidth = <span class="number">6</span>, a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.globalAlpha = a.alpha, ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.lineWidth =</span><br><span class="line">            a.lineWidth, ctx.strokeStyle = a.color, ctx.stroke(), ctx.globalAlpha = <span class="number">1</span></span><br><span class="line">    &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class="line">        e.animatables[t].target.draw()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = createCircle(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class="line">        n.push(createParticule(e, t))</span><br><span class="line">    &#125;</span><br><span class="line">    anime.timeline().add(&#123;</span><br><span class="line">        targets: n,</span><br><span class="line">        x: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.x</span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.y</span><br><span class="line">        &#125;,</span><br><span class="line">        radius: <span class="number">0.1</span>,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule</span><br><span class="line">    &#125;).add(&#123;</span><br><span class="line">        targets: a,</span><br><span class="line">        radius: anime.random(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        lineWidth: <span class="number">0</span>,</span><br><span class="line">        alpha: &#123;</span><br><span class="line">            value: <span class="number">0</span>,</span><br><span class="line">            easing: <span class="string">"linear"</span>,</span><br><span class="line">            duration: anime.random(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule,</span><br><span class="line">        offset: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="keyword">this</span>,</span><br><span class="line">            i = <span class="built_in">arguments</span>;</span><br><span class="line">        clearTimeout(a), a = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            e.apply(n, i)</span><br><span class="line">        &#125;, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.getContext(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            canvasEl.width = <span class="number">2</span> * <span class="built_in">window</span>.innerWidth, canvasEl.height = <span class="number">2</span> * <span class="built_in">window</span>.innerHeight, canvasEl.style.width =</span><br><span class="line">                <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>, canvasEl.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>, canvasEl.getContext(</span><br><span class="line">                    <span class="string">"2d"</span>).scale(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>),</span><br><span class="line">        render = anime(&#123;</span><br><span class="line">            duration: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvasEl.width, canvasEl.height)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(tap, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"A"</span> !== e.target.nodeName &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class="line">    &#125;, !<span class="number">1</span>), setCanvasSize(), <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    pointerX = (e.clientX || e.touches[<span class="number">0</span>].clientX) - canvasEl.getBoundingClientRect().left, pointerY = e.clientY || e.touches[</span><br><span class="line">        <span class="number">0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = anime.random(<span class="number">0</span>, <span class="number">360</span>) * <span class="built_in">Math</span>.PI / <span class="number">180</span>,</span><br><span class="line">        a = anime.random(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [<span class="number">-1</span>, <span class="number">1</span>][anime.random(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: e.x + n * <span class="built_in">Math</span>.cos(t),</span><br><span class="line">        y: e.y + n * <span class="built_in">Math</span>.sin(t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = colors[anime.random(<span class="number">0</span>, colors.length - <span class="number">1</span>)], a.radius = anime.random(<span class="number">16</span>, <span class="number">32</span>), a.endPos =</span><br><span class="line">        setParticuleDirection(a), a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.fillStyle = a.color, ctx.fill()</span><br><span class="line">        &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = <span class="string">"#F00"</span>, a.radius = <span class="number">0.1</span>, a.alpha = <span class="number">0.5</span>, a.lineWidth = <span class="number">6</span>, a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.globalAlpha = a.alpha, ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.lineWidth =</span><br><span class="line">            a.lineWidth, ctx.strokeStyle = a.color, ctx.stroke(), ctx.globalAlpha = <span class="number">1</span></span><br><span class="line">    &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class="line">        e.animatables[t].target.draw()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = createCircle(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class="line">        n.push(createParticule(e, t))</span><br><span class="line">    &#125;</span><br><span class="line">    anime.timeline().add(&#123;</span><br><span class="line">        targets: n,</span><br><span class="line">        x: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.x</span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.y</span><br><span class="line">        &#125;,</span><br><span class="line">        radius: <span class="number">0.1</span>,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule</span><br><span class="line">    &#125;).add(&#123;</span><br><span class="line">        targets: a,</span><br><span class="line">        radius: anime.random(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        lineWidth: <span class="number">0</span>,</span><br><span class="line">        alpha: &#123;</span><br><span class="line">            value: <span class="number">0</span>,</span><br><span class="line">            easing: <span class="string">"linear"</span>,</span><br><span class="line">            duration: anime.random(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule,</span><br><span class="line">        offset: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="keyword">this</span>,</span><br><span class="line">            i = <span class="built_in">arguments</span>;</span><br><span class="line">        clearTimeout(a), a = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            e.apply(n, i)</span><br><span class="line">        &#125;, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.getContext(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            canvasEl.width = <span class="number">2</span> * <span class="built_in">window</span>.innerWidth, canvasEl.height = <span class="number">2</span> * <span class="built_in">window</span>.innerHeight, canvasEl.style.width =</span><br><span class="line">                <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>, canvasEl.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>, canvasEl.getContext(</span><br><span class="line">                    <span class="string">"2d"</span>).scale(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>),</span><br><span class="line">        render = anime(&#123;</span><br><span class="line">            duration: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvasEl.width, canvasEl.height)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(tap, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"A"</span> !== e.target.nodeName &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class="line">    &#125;, !<span class="number">1</span>), setCanvasSize(), <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--鼠标点击烟花爆炸效果，需要引入jQuery--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.fireworks</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/fireworks.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击烟花爆炸效果</span></span><br><span class="line"><span class="attr">fireworks:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465524759.png" alt="file"></p><h2 id="动态线条背景">动态线条背景</h2><p><a href="https://github.com/hustcc/canvas-nest.js" target="_blank" rel="noopener">https://github.com/hustcc/canvas-nest.js</a></p><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><p>直接方法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span></span></span><br><span class="line"><span class="tag"><span class="attr">color</span>=<span class="string">"220,220,220"</span> <span class="attr">opacity</span>=<span class="string">'0.7'</span> <span class="attr">zIndex</span>=<span class="string">"-2"</span> <span class="attr">count</span>=<span class="string">"200"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.canvas_nest.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">color</span>=<span class="string">"&lt;%=theme.canvas_nest.color %&gt;"</span> <span class="attr">opacity</span>=<span class="string">"&lt;%=theme.canvas_nest.opacity %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">zIndex</span>=<span class="string">"&lt;%=theme.canvas_nest.zIndex %&gt;"</span> <span class="attr">count</span>=<span class="string">"&lt;%=theme.canvas_nest.count %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="comment"># 配置详见： https://github.com/hustcc/canvas-nest.js#configuration</span></span><br><span class="line"><span class="comment"># 动态线条效果，会向鼠标集中</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">'255, 235, 59'</span>        <span class="comment"># color of lines, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line"><span class="attr">  pointColor:</span> <span class="string">'156,39,176'</span>     <span class="comment"># color of points, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="string">'0.8'</span>               <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line"><span class="attr">  count:</span> <span class="string">'99'</span>                  <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="string">'-1'</span>                 <span class="comment"># z-index property of the background, default: -1.</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465565165.png" alt="file"></p><h2 id="雪花特效2-大雪花-有齿轮">雪花特效2.大雪花(有齿轮)</h2><p><code>H:\Hexo\themes\yilia\source\js\snow2.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式一*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $.fn.snow = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $flake = $(<span class="string">'&lt;div id="snowbox" /&gt;'</span>).css(&#123;</span><br><span class="line">                <span class="string">'position'</span>: <span class="string">'absolute'</span>,</span><br><span class="line">                <span class="string">'z-index'</span>: <span class="string">'9999'</span>,</span><br><span class="line">                <span class="string">'top'</span>: <span class="string">'-50px'</span></span><br><span class="line">            &#125;).html(<span class="string">'❄'</span>),</span><br><span class="line">            documentHeight = $(<span class="built_in">document</span>).height(),</span><br><span class="line">            documentWidth = $(<span class="built_in">document</span>).width(),</span><br><span class="line">            defaults = &#123;</span><br><span class="line">                minSize: <span class="number">10</span>,</span><br><span class="line">                maxSize: <span class="number">20</span>,</span><br><span class="line">                newOn: <span class="number">1000</span>,</span><br><span class="line">                flakeColor: <span class="string">"#AFDAEF"</span> <span class="comment">/* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF */</span></span><br><span class="line">            &#125;,</span><br><span class="line">            options = $.extend(&#123;&#125;, defaults, options);</span><br><span class="line">        <span class="keyword">var</span> interval = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> startPositionLeft = <span class="built_in">Math</span>.random() * documentWidth - <span class="number">100</span>,</span><br><span class="line">                startOpacity = <span class="number">0.5</span> + <span class="built_in">Math</span>.random(),</span><br><span class="line">                sizeFlake = options.minSize + <span class="built_in">Math</span>.random() * options.maxSize,</span><br><span class="line">                endPositionTop = documentHeight - <span class="number">200</span>,</span><br><span class="line">                endPositionLeft = startPositionLeft - <span class="number">500</span> + <span class="built_in">Math</span>.random() * <span class="number">500</span>,</span><br><span class="line">                durationFall = documentHeight * <span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">5000</span>;</span><br><span class="line">            $flake.clone().appendTo(<span class="string">'body'</span>).css(&#123;</span><br><span class="line">                left: startPositionLeft,</span><br><span class="line">                opacity: startOpacity,</span><br><span class="line">                <span class="string">'font-size'</span>: sizeFlake,</span><br><span class="line">                color: options.flakeColor</span><br><span class="line">            &#125;).animate(&#123;</span><br><span class="line">                top: endPositionTop,</span><br><span class="line">                left: endPositionLeft,</span><br><span class="line">                opacity: <span class="number">0.2</span></span><br><span class="line">            &#125;, durationFall, <span class="string">'linear'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $(<span class="keyword">this</span>).remove()</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;, options.newOn);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.fn.snow(&#123;</span><br><span class="line">        minSize: <span class="number">5</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最小尺寸 */</span></span><br><span class="line">        maxSize: <span class="number">50</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最大尺寸 */</span></span><br><span class="line">        newOn: <span class="number">300</span> <span class="comment">/* 定义密集程度，数字越小越密集 */</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.snow2</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow2.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 雪花特效2</span></span><br><span class="line"><span class="attr">snow2:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476600371.png" alt="file"></p><h2 id="雪花特效3-小雪花-无齿轮">雪花特效3.小雪花(无齿轮)</h2><p><code>H:\Hexo\themes\yilia\source\js\snow3.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式二*/</span></span><br><span class="line"><span class="comment">/* 控制下雪 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">snowFall</span>(<span class="params">snow</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 可配置属性 */</span></span><br><span class="line">    snow = snow || &#123;&#125;;</span><br><span class="line">    <span class="keyword">this</span>.maxFlake = snow.maxFlake || <span class="number">200</span>; <span class="comment">/* 最多片数 */</span></span><br><span class="line">    <span class="keyword">this</span>.flakeSize = snow.flakeSize || <span class="number">10</span>; <span class="comment">/* 雪花形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.fallSpeed = snow.fallSpeed || <span class="number">1</span>; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 兼容写法 */</span></span><br><span class="line">requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.mozRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.msRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.oRequestAnimationFrame ||</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">cancelAnimationFrame = <span class="built_in">window</span>.cancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.mozCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.webkitCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.msCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.oCancelAnimationFrame;</span><br><span class="line"><span class="comment">/* 开始下雪 */</span></span><br><span class="line">snowFall.prototype.start = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 创建画布 */</span></span><br><span class="line">    snowCanvas.apply(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">/* 创建雪花形状 */</span></span><br><span class="line">    createFlakes.apply(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">/* 画雪 */</span></span><br><span class="line">    drawSnow.apply(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 创建画布 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">snowCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 添加Dom结点 */</span></span><br><span class="line">    <span class="keyword">var</span> snowcanvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">    snowcanvas.id = <span class="string">"snowfall"</span>;</span><br><span class="line">    snowcanvas.width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">    snowcanvas.height = <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line">    snowcanvas.setAttribute(<span class="string">"style"</span>, <span class="string">"position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>].appendChild(snowcanvas);</span><br><span class="line">    <span class="keyword">this</span>.canvas = snowcanvas;</span><br><span class="line">    <span class="keyword">this</span>.ctx = snowcanvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="comment">/* 窗口大小改变的处理 */</span></span><br><span class="line">    <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        snowcanvas.width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">        <span class="comment">/* snowcanvas.height = window.innerHeight */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 雪运动对象 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flakeMove</span>(<span class="params">canvasWidth, canvasHeight, flakeSize, fallSpeed</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * canvasWidth); <span class="comment">/* x坐标 */</span></span><br><span class="line">    <span class="keyword">this</span>.y = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * canvasHeight); <span class="comment">/* y坐标 */</span></span><br><span class="line">    <span class="keyword">this</span>.size = <span class="built_in">Math</span>.random() * flakeSize + <span class="number">2</span>; <span class="comment">/* 形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.maxSize = flakeSize; <span class="comment">/* 最大形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="built_in">Math</span>.random() * <span class="number">1</span> + fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.fallSpeed = fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed; <span class="comment">/* Y方向速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.velX = <span class="number">0</span>; <span class="comment">/* X方向速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.stepSize = <span class="built_in">Math</span>.random() / <span class="number">30</span>; <span class="comment">/* 步长 */</span></span><br><span class="line">    <span class="keyword">this</span>.step = <span class="number">0</span> <span class="comment">/* 步数 */</span></span><br><span class="line">&#125;</span><br><span class="line">flakeMove.prototype.update = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="keyword">this</span>.x,</span><br><span class="line">        y = <span class="keyword">this</span>.y;</span><br><span class="line">    <span class="comment">/* 左右摆动(余弦) */</span></span><br><span class="line">    <span class="keyword">this</span>.velX *= <span class="number">0.98</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.velY &lt;= <span class="keyword">this</span>.speed) &#123;</span><br><span class="line">        <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.velX += <span class="built_in">Math</span>.cos(<span class="keyword">this</span>.step += <span class="number">.05</span>) * <span class="keyword">this</span>.stepSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.y += <span class="keyword">this</span>.velY;</span><br><span class="line">    <span class="keyword">this</span>.x += <span class="keyword">this</span>.velX;</span><br><span class="line">    <span class="comment">/* 飞出边界的处理 */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.x &gt;= canvas.width || <span class="keyword">this</span>.x &lt;= <span class="number">0</span> || <span class="keyword">this</span>.y &gt;= canvas.height || <span class="keyword">this</span>.y &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.reset(canvas.width, canvas.height)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 飞出边界-放置最顶端继续坠落 */</span></span><br><span class="line">flakeMove.prototype.reset = <span class="function"><span class="keyword">function</span> (<span class="params">width, height</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * width);</span><br><span class="line">    <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.size = <span class="built_in">Math</span>.random() * <span class="keyword">this</span>.maxSize + <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="built_in">Math</span>.random() * <span class="number">1</span> + <span class="keyword">this</span>.fallSpeed;</span><br><span class="line">    <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed;</span><br><span class="line">    <span class="keyword">this</span>.velX = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 渲染雪花-随机形状（此处可修改雪花颜色！！！）</span></span><br><span class="line">flakeMove.prototype.render = <span class="function"><span class="keyword">function</span> (<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> snowFlake = ctx.createRadialGradient(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="number">0</span>, <span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size);</span><br><span class="line">    snowFlake.addColorStop(<span class="number">0</span>, <span class="string">"rgba(255, 255, 255, 0.9)"</span>); <span class="comment">/* 此处是雪花颜色，默认是白色 */</span></span><br><span class="line">    snowFlake.addColorStop(<span class="number">.5</span>, <span class="string">"rgba(255, 255, 255, 0.5)"</span>); <span class="comment">/* 若要改为其他颜色，请自行查 */</span></span><br><span class="line">    snowFlake.addColorStop(<span class="number">1</span>, <span class="string">"rgba(255, 255, 255, 0)"</span>); <span class="comment">/* 找16进制的RGB 颜色代码。 */</span></span><br><span class="line">    ctx.save();</span><br><span class="line">    ctx.fillStyle = snowFlake;</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">    ctx.fill();</span><br><span class="line">    ctx.restore();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 创建雪花-定义形状 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFlakes</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="keyword">this</span>.maxFlake,</span><br><span class="line">        flakes = <span class="keyword">this</span>.flakes = [],</span><br><span class="line">        canvas = <span class="keyword">this</span>.canvas;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxFlake; i++) &#123;</span><br><span class="line">        flakes.push(<span class="keyword">new</span> flakeMove(canvas.width, canvas.height, <span class="keyword">this</span>.flakeSize, <span class="keyword">this</span>.fallSpeed))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 画雪 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawSnow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="keyword">this</span>.maxFlake,</span><br><span class="line">        flakes = <span class="keyword">this</span>.flakes;</span><br><span class="line">    ctx = <span class="keyword">this</span>.ctx, canvas = <span class="keyword">this</span>.canvas, that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">/* 清空雪花 */</span></span><br><span class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = <span class="number">0</span>; e &lt; maxFlake; e++) &#123;</span><br><span class="line">        flakes[e].update();</span><br><span class="line">        flakes[e].render(ctx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*  一帧一帧的画 */</span></span><br><span class="line">    <span class="keyword">this</span>.loop = requestAnimationFrame(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        drawSnow.apply(that);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 调用及控制方法 */</span></span><br><span class="line"><span class="keyword">var</span> snow = <span class="keyword">new</span> snowFall(&#123;</span><br><span class="line">    maxFlake: <span class="number">60</span></span><br><span class="line">&#125;);</span><br><span class="line">snow.start();</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效3 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.snow3</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow3.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 雪花特效3</span></span><br><span class="line"><span class="attr">snow3:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476685309.png" alt="file"></p><h2 id="彩带1-鼠标点击自动替换彩带">彩带1.鼠标点击自动替换彩带</h2><p><code>H:\Hexo\themes\yilia\source\js\ribbon.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016 hustcc</span></span><br><span class="line"><span class="comment"> * License: MIT</span></span><br><span class="line"><span class="comment"> * Version: v1.0.1</span></span><br><span class="line"><span class="comment"> * GitHub: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="comment">/*jshint -W030 */</span></span><br><span class="line">! <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">attr</span>(<span class="params">node, attr, default_value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Number</span>(node.getAttribute(attr)) || default_value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get user config</span></span><br><span class="line">  <span class="keyword">var</span> scripts = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>),</span><br><span class="line">    script = scripts[scripts.length - <span class="number">1</span>]; <span class="comment">// 当前加载的script</span></span><br><span class="line">  config = &#123;</span><br><span class="line">    z: attr(script, <span class="string">"zIndex"</span>, <span class="number">-1</span>), <span class="comment">// z-index</span></span><br><span class="line">    a: attr(script, <span class="string">"alpha"</span>, <span class="number">0.6</span>), <span class="comment">// alpha</span></span><br><span class="line">    s: attr(script, <span class="string">"size"</span>, <span class="number">90</span>), <span class="comment">// size</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</span><br><span class="line">    g2d = canvas.getContext(<span class="string">'2d'</span>),</span><br><span class="line">    pr = <span class="built_in">window</span>.devicePixelRatio || <span class="number">1</span>,</span><br><span class="line">    width = <span class="built_in">window</span>.innerWidth,</span><br><span class="line">    height = <span class="built_in">window</span>.innerHeight,</span><br><span class="line">    f = config.s,</span><br><span class="line">    q, t,</span><br><span class="line">    m = <span class="built_in">Math</span>,</span><br><span class="line">    r = <span class="number">0</span>,</span><br><span class="line">    pi = m.PI*<span class="number">2</span>,</span><br><span class="line">    cos = m.cos,</span><br><span class="line">    random = m.random;</span><br><span class="line">  canvas.width = width * pr;</span><br><span class="line">  canvas.height = height * pr;</span><br><span class="line">  g2d.scale(pr, pr);</span><br><span class="line">  g2d.globalAlpha = config.a;</span><br><span class="line">  canvas.style.cssText = <span class="string">'opacity: '</span> + config.a + <span class="string">';position:fixed;top:0;left:0;z-index: '</span> + config.z + <span class="string">';width:100%;height:100%;pointer-events:none;'</span>;</span><br><span class="line">  <span class="comment">// create canvas</span></span><br><span class="line">  <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>].appendChild(canvas);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">redraw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    g2d.clearRect(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    q = [&#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> + f&#125;, &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> - f&#125;];</span><br><span class="line">    <span class="keyword">while</span>(q[<span class="number">1</span>].x &lt; width + f) draw(q[<span class="number">0</span>], q[<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">i, j</span>) </span>&#123;</span><br><span class="line">    g2d.beginPath();</span><br><span class="line">    g2d.moveTo(i.x, i.y);</span><br><span class="line">    g2d.lineTo(j.x, j.y);</span><br><span class="line">    <span class="keyword">var</span> k = j.x + (random()*<span class="number">2</span><span class="number">-0.25</span>)*f, n = line(j.y);</span><br><span class="line">    g2d.lineTo(k, n);</span><br><span class="line">    g2d.closePath();</span><br><span class="line">    r -= pi / <span class="number">-50</span>;</span><br><span class="line">    g2d.fillStyle = <span class="string">'#'</span>+(cos(r)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">16</span> | cos(r+pi/<span class="number">3</span>)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">8</span> | cos(r+pi/<span class="number">3</span>*<span class="number">2</span>)*<span class="number">127</span>+<span class="number">128</span>).toString(<span class="number">16</span>);</span><br><span class="line">    g2d.fill();</span><br><span class="line">    q[<span class="number">0</span>] = q[<span class="number">1</span>];</span><br><span class="line">    q[<span class="number">1</span>] = &#123;<span class="attr">x</span>: k, <span class="attr">y</span>: n&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">line</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    t = p + (random() * <span class="number">2</span> - <span class="number">1.1</span>) * f;</span><br><span class="line">    <span class="keyword">return</span> (t &gt; height || t &lt; <span class="number">0</span>) ? line(p) : t;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.onclick = redraw;</span><br><span class="line">  <span class="built_in">document</span>.ontouchstart = redraw;</span><br><span class="line">  redraw();</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带1.点击自动替换彩带--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.ribbon</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment"># 彩带1.点击自动替换彩带</span></span><br><span class="line"><span class="attr">ribbon:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478268322.png" alt="file"></p><h2 id="彩带2-自动飘动">彩带2.自动飘动</h2><p><code>H:\Hexo\themes\yilia\source\js\ribbon_flow.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">name, factory</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">"object"</span>) &#123;</span><br><span class="line">        <span class="built_in">window</span>[name] = factory()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="string">"Ribbons"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _w = <span class="built_in">window</span>,</span><br><span class="line">        _b = <span class="built_in">document</span>.body,</span><br><span class="line">        _d = <span class="built_in">document</span>.documentElement;</span><br><span class="line">    <span class="keyword">var</span> random = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(<span class="built_in">arguments</span>[<span class="number">0</span>])) &#123;</span><br><span class="line">                <span class="keyword">var</span> index = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="built_in">arguments</span>[<span class="number">0</span>].length - <span class="number">1</span>));</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">arguments</span>[<span class="number">0</span>][index]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> random(<span class="number">0</span>, <span class="built_in">arguments</span>[<span class="number">0</span>])</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Math</span>.random() * (<span class="built_in">arguments</span>[<span class="number">1</span>] - <span class="built_in">arguments</span>[<span class="number">0</span>]) + <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> screenInfo = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> width = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.innerWidth || _d.clientWidth || _b.clientWidth || <span class="number">0</span>),</span><br><span class="line">            height = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.innerHeight || _d.clientHeight || _b.clientHeight || <span class="number">0</span>),</span><br><span class="line">            scrollx = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.pageXOffset || _d.scrollLeft || _b.scrollLeft || <span class="number">0</span>) - (_d.clientLeft || <span class="number">0</span>),</span><br><span class="line">            scrolly = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.pageYOffset || _d.scrollTop || _b.scrollTop || <span class="number">0</span>) - (_d.clientTop || <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            width: width,</span><br><span class="line">            height: height,</span><br><span class="line">            ratio: width / height,</span><br><span class="line">            centerx: width / <span class="number">2</span>,</span><br><span class="line">            centery: height / <span class="number">2</span>,</span><br><span class="line">            scrollx: scrollx,</span><br><span class="line">            scrolly: scrolly</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> mouseInfo = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> screen = screenInfo(e),</span><br><span class="line">            mousex = e ? <span class="built_in">Math</span>.max(<span class="number">0</span>, e.pageX || e.clientX || <span class="number">0</span>) : <span class="number">0</span>,</span><br><span class="line">            mousey = e ? <span class="built_in">Math</span>.max(<span class="number">0</span>, e.pageY || e.clientY || <span class="number">0</span>) : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            mousex: mousex,</span><br><span class="line">            mousey: mousey,</span><br><span class="line">            centerx: mousex - screen.width / <span class="number">2</span>,</span><br><span class="line">            centery: mousey - screen.height / <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> Point = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.set(x, y)</span><br><span class="line">    &#125;;</span><br><span class="line">    Point.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Point,</span><br><span class="line">        <span class="keyword">set</span>: function (x, y) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y = y || <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        copy: <span class="function"><span class="keyword">function</span> (<span class="params">point</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = point.x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y = point.y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        multiply: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x *= x || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.y *= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        divide: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x /= x || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.y /= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        add: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x += x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y += y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        subtract: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x -= x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y -= y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        clampX: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = <span class="built_in">Math</span>.max(min, <span class="built_in">Math</span>.min(<span class="keyword">this</span>.x, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        clampY: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.y = <span class="built_in">Math</span>.max(min, <span class="built_in">Math</span>.min(<span class="keyword">this</span>.y, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        flipX: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x *= <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        flipY: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.y *= <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> Factory = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._canvas = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._context = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._sto = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._width = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._height = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._scroll = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._ribbons = [];</span><br><span class="line">        <span class="keyword">this</span>._options = &#123;</span><br><span class="line">            colorSaturation: <span class="string">"80%"</span>,</span><br><span class="line">            colorBrightness: <span class="string">"60%"</span>,</span><br><span class="line">            colorAlpha: <span class="number">0.65</span>,</span><br><span class="line">            colorCycleSpeed: <span class="number">6</span>,</span><br><span class="line">            verticalPosition: <span class="string">"center"</span>,</span><br><span class="line">            horizontalSpeed: <span class="number">150</span>,</span><br><span class="line">            ribbonCount: <span class="number">5</span>,</span><br><span class="line">            strokeSize: <span class="number">5</span>,</span><br><span class="line">            parallaxAmount: <span class="number">-0.5</span>,</span><br><span class="line">            animateSections: <span class="literal">true</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">this</span>._onDraw = <span class="keyword">this</span>._onDraw.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>._onResize = <span class="keyword">this</span>._onResize.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>._onScroll = <span class="keyword">this</span>._onScroll.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>.setOptions(options);</span><br><span class="line">        <span class="keyword">this</span>.init()</span><br><span class="line">    &#125;;</span><br><span class="line">    Factory.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Factory,</span><br><span class="line">        setOptions: function (options) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> options === <span class="string">"object"</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> options) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (options.hasOwnProperty(key)) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._options[key] = options[key]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>._canvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"display"</span>] = <span class="string">"block"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"position"</span>] = <span class="string">"fixed"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"margin"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"padding"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"border"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"outline"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"left"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"top"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"width"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"height"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"z-index"</span>] = <span class="string">"-1"</span>;</span><br><span class="line">                <span class="keyword">this</span>._onResize();</span><br><span class="line">                <span class="keyword">this</span>._context = <span class="keyword">this</span>._canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">                <span class="keyword">this</span>._context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>._width, <span class="keyword">this</span>._height);</span><br><span class="line">                <span class="keyword">this</span>._context.globalAlpha = <span class="keyword">this</span>._options.colorAlpha;</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="keyword">this</span>._onResize);</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, <span class="keyword">this</span>._onScroll);</span><br><span class="line">                <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>._canvas)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="built_in">console</span>.warn(<span class="string">"Canvas Context Error: "</span> + e.toString());</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._onDraw()</span><br><span class="line">        &#125;,</span><br><span class="line">        addRibbon: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> dir = <span class="built_in">Math</span>.round(random(<span class="number">1</span>, <span class="number">9</span>)) &gt; <span class="number">5</span> ? <span class="string">"right"</span> : <span class="string">"left"</span>,</span><br><span class="line">                stop = <span class="number">1000</span>,</span><br><span class="line">                hide = <span class="number">200</span>,</span><br><span class="line">                min = <span class="number">0</span> - hide,</span><br><span class="line">                max = <span class="keyword">this</span>._width + hide,</span><br><span class="line">                movex = <span class="number">0</span>,</span><br><span class="line">                movey = <span class="number">0</span>,</span><br><span class="line">                startx = dir === <span class="string">"right"</span> ? min : max,</span><br><span class="line">                starty = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="keyword">this</span>._height));</span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/^(top|min)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="number">0</span> + hide</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(middle|center)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="keyword">this</span>._height / <span class="number">2</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(bottom|max)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="keyword">this</span>._height - hide</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> ribbon = [],</span><br><span class="line">                point1 = <span class="keyword">new</span> Point(startx, starty),</span><br><span class="line">                point2 = <span class="keyword">new</span> Point(startx, starty),</span><br><span class="line">                point3 = <span class="literal">null</span>,</span><br><span class="line">                color = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="number">360</span>)),</span><br><span class="line">                delay = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (stop &lt;= <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                stop--;</span><br><span class="line">                movex = <span class="built_in">Math</span>.round((<span class="built_in">Math</span>.random() * <span class="number">1</span> - <span class="number">0.2</span>) * <span class="keyword">this</span>._options.horizontalSpeed);</span><br><span class="line">                movey = <span class="built_in">Math</span>.round((<span class="built_in">Math</span>.random() * <span class="number">1</span> - <span class="number">0.5</span>) * (<span class="keyword">this</span>._height * <span class="number">0.25</span>));</span><br><span class="line">                point3 = <span class="keyword">new</span> Point();</span><br><span class="line">                point3.copy(point2);</span><br><span class="line">                <span class="keyword">if</span> (dir === <span class="string">"right"</span>) &#123;</span><br><span class="line">                    point3.add(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.x &gt;= max) <span class="keyword">break</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dir === <span class="string">"left"</span>) &#123;</span><br><span class="line">                    point3.subtract(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.x &lt;= min) <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">                ribbon.push(&#123;</span><br><span class="line">                    point1: <span class="keyword">new</span> Point(point1.x, point1.y),</span><br><span class="line">                    point2: <span class="keyword">new</span> Point(point2.x, point2.y),</span><br><span class="line">                    point3: point3,</span><br><span class="line">                    color: color,</span><br><span class="line">                    delay: delay,</span><br><span class="line">                    dir: dir,</span><br><span class="line">                    alpha: <span class="number">0</span>,</span><br><span class="line">                    phase: <span class="number">0</span></span><br><span class="line">                &#125;);</span><br><span class="line">                point1.copy(point2);</span><br><span class="line">                point2.copy(point3);</span><br><span class="line">                delay += <span class="number">4</span>;</span><br><span class="line">                color += <span class="keyword">this</span>._options.colorCycleSpeed</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._ribbons.push(ribbon)</span><br><span class="line">        &#125;,</span><br><span class="line">        _drawRibbonSection: <span class="function"><span class="keyword">function</span> (<span class="params">section</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (section) &#123;</span><br><span class="line">                <span class="keyword">if</span> (section.phase &gt;= <span class="number">1</span> &amp;&amp; section.alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (section.delay &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    section.phase += <span class="number">0.02</span>;</span><br><span class="line">                    section.alpha = <span class="built_in">Math</span>.sin(section.phase) * <span class="number">1</span>;</span><br><span class="line">                    section.alpha = section.alpha &lt;= <span class="number">0</span> ? <span class="number">0</span> : section.alpha;</span><br><span class="line">                    section.alpha = section.alpha &gt;= <span class="number">1</span> ? <span class="number">1</span> : section.alpha;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._options.animateSections) &#123;</span><br><span class="line">                        <span class="keyword">var</span> mod = <span class="built_in">Math</span>.sin(<span class="number">1</span> + section.phase * <span class="built_in">Math</span>.PI / <span class="number">2</span>) * <span class="number">0.1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (section.dir === <span class="string">"right"</span>) &#123;</span><br><span class="line">                            section.point1.add(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point2.add(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point3.add(mod, <span class="number">0</span>)</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            section.point1.subtract(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point2.subtract(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point3.subtract(mod, <span class="number">0</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                        section.point1.add(<span class="number">0</span>, mod);</span><br><span class="line">                        section.point2.add(<span class="number">0</span>, mod);</span><br><span class="line">                        section.point3.add(<span class="number">0</span>, mod)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    section.delay -= <span class="number">0.5</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">var</span> s = <span class="keyword">this</span>._options.colorSaturation,</span><br><span class="line">                    l = <span class="keyword">this</span>._options.colorBrightness,</span><br><span class="line">                    c = <span class="string">"hsla("</span> + section.color + <span class="string">", "</span> + s + <span class="string">", "</span> + l + <span class="string">", "</span> + section.alpha + <span class="string">" )"</span>;</span><br><span class="line">                <span class="keyword">this</span>._context.save();</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._options.parallaxAmount !== <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.translate(<span class="number">0</span>, <span class="keyword">this</span>._scroll * <span class="keyword">this</span>._options.parallaxAmount)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>._context.beginPath();</span><br><span class="line">                <span class="keyword">this</span>._context.moveTo(section.point1.x, section.point1.y);</span><br><span class="line">                <span class="keyword">this</span>._context.lineTo(section.point2.x, section.point2.y);</span><br><span class="line">                <span class="keyword">this</span>._context.lineTo(section.point3.x, section.point3.y);</span><br><span class="line">                <span class="keyword">this</span>._context.fillStyle = c;</span><br><span class="line">                <span class="keyword">this</span>._context.fill();</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._options.strokeSize &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.lineWidth = <span class="keyword">this</span>._options.strokeSize;</span><br><span class="line">                    <span class="keyword">this</span>._context.strokeStyle = c;</span><br><span class="line">                    <span class="keyword">this</span>._context.lineCap = <span class="string">"round"</span>;</span><br><span class="line">                    <span class="keyword">this</span>._context.stroke()</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>._context.restore()</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        _onDraw: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, t = <span class="keyword">this</span>._ribbons.length; i &lt; t; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!<span class="keyword">this</span>._ribbons[i]) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._ribbons.splice(i, <span class="number">1</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>._width, <span class="keyword">this</span>._height);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; <span class="keyword">this</span>._ribbons.length; ++a) &#123;</span><br><span class="line">                <span class="keyword">var</span> ribbon = <span class="keyword">this</span>._ribbons[a],</span><br><span class="line">                    numSections = ribbon.length,</span><br><span class="line">                    numDone = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> b = <span class="number">0</span>; b &lt; numSections; ++b) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._drawRibbonSection(ribbon[b])) &#123;</span><br><span class="line">                        numDone++</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (numDone &gt;= numSections) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._ribbons[a] = <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>._ribbons.length &lt; <span class="keyword">this</span>._options.ribbonCount) &#123;</span><br><span class="line">                <span class="keyword">this</span>.addRibbon()</span><br><span class="line">            &#125;</span><br><span class="line">            requestAnimationFrame(<span class="keyword">this</span>._onDraw)</span><br><span class="line">        &#125;,</span><br><span class="line">        _onResize: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> screen = screenInfo(e);</span><br><span class="line">            <span class="keyword">this</span>._width = screen.width;</span><br><span class="line">            <span class="keyword">this</span>._height = screen.height;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>._canvas) &#123;</span><br><span class="line">                <span class="keyword">this</span>._canvas.width = <span class="keyword">this</span>._width;</span><br><span class="line">                <span class="keyword">this</span>._canvas.height = <span class="keyword">this</span>._height;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._context) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.globalAlpha = <span class="keyword">this</span>._options.colorAlpha</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        _onScroll: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> screen = screenInfo(e);</span><br><span class="line">            <span class="keyword">this</span>._scroll = screen.scrolly</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> Factory</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> Ribbons(&#123;</span><br><span class="line">    colorSaturation: <span class="string">"60%"</span>,</span><br><span class="line">    colorBrightness: <span class="string">"50%"</span>,</span><br><span class="line">    colorAlpha: <span class="number">0.5</span>,</span><br><span class="line">    colorCycleSpeed: <span class="number">5</span>,</span><br><span class="line">    verticalPosition: <span class="string">"random"</span>,</span><br><span class="line">    horizontalSpeed: <span class="number">200</span>,</span><br><span class="line">    ribbonCount: <span class="number">3</span>,</span><br><span class="line">    strokeSize: <span class="number">0</span>,</span><br><span class="line">    parallaxAmount: <span class="number">-0.2</span>,</span><br><span class="line">    animateSections: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带2.自动飘动--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.ribbon_flow</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon_flow.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 彩带2.自动飘动</span></span><br><span class="line"><span class="attr">ribbon_flow:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="代码雨">代码雨</h2><p><strong>存在问题：位置不对</strong></p><p><code>H:\Hexo\themes\yilia\source\js\code_rain.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//获取画布对象</span></span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"code_rain_canvas"</span>);</span><br><span class="line">    <span class="comment">//获取画布的上下文</span></span><br><span class="line">    <span class="keyword">var</span> context =canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="keyword">var</span> s = <span class="built_in">window</span>.screen;</span><br><span class="line">    <span class="keyword">var</span> W = canvas.width = s.width;</span><br><span class="line">    <span class="keyword">var</span> H = canvas.height;</span><br><span class="line">    <span class="comment">//获取浏览器屏幕的宽度和高度</span></span><br><span class="line">    <span class="comment">//var W = window.innerWidth;</span></span><br><span class="line">    <span class="comment">//var H = window.innerHeight;</span></span><br><span class="line">    <span class="comment">//设置canvas的宽度和高度</span></span><br><span class="line">    canvas.width = W;</span><br><span class="line">    canvas.height = H;</span><br><span class="line">    <span class="comment">//每个文字的字体大小</span></span><br><span class="line">    <span class="keyword">var</span> fontSize = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//计算列</span></span><br><span class="line">    <span class="keyword">var</span> colunms = <span class="built_in">Math</span>.floor(W /fontSize);</span><br><span class="line">    <span class="comment">//记录每列文字的y轴坐标</span></span><br><span class="line">    <span class="keyword">var</span> drops = [];</span><br><span class="line">    <span class="comment">//给每一个文字初始化一个起始点的位置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++)&#123;</span><br><span class="line">        drops.push(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//运动的文字</span></span><br><span class="line">    <span class="keyword">var</span> str =<span class="string">"WELCOME TO WWW.ITRHX.COM"</span>;</span><br><span class="line">    <span class="comment">//4:fillText(str,x,y);原理就是去更改y的坐标位置</span></span><br><span class="line">    <span class="comment">//绘画的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        context.fillStyle = <span class="string">"rgba(238,238,238,.08)"</span>;<span class="comment">//遮盖层</span></span><br><span class="line">        context.fillRect(<span class="number">0</span>,<span class="number">0</span>,W,H);</span><br><span class="line">        <span class="comment">//给字体设置样式</span></span><br><span class="line">        context.font = <span class="string">"600 "</span>+fontSize+<span class="string">"px  Georgia"</span>;</span><br><span class="line">        <span class="comment">//给字体添加颜色</span></span><br><span class="line">        context.fillStyle = [<span class="string">"#33B5E5"</span>, <span class="string">"#0099CC"</span>, <span class="string">"#AA66CC"</span>, <span class="string">"#9933CC"</span>, <span class="string">"#99CC00"</span>, <span class="string">"#669900"</span>, <span class="string">"#FFBB33"</span>, <span class="string">"#FF8800"</span>, <span class="string">"#FF4444"</span>, <span class="string">"#CC0000"</span>][<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * <span class="number">10</span>)];<span class="comment">//randColor();可以rgb,hsl, 标准色，十六进制颜色</span></span><br><span class="line">        <span class="comment">//写入画布中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++)&#123;</span><br><span class="line">            <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * str.length);</span><br><span class="line">            <span class="keyword">var</span> x = i*fontSize;</span><br><span class="line">            <span class="keyword">var</span> y = drops[i] *fontSize;</span><br><span class="line">            context.fillText(str[index],x,y);</span><br><span class="line">            <span class="comment">//如果要改变时间，肯定就是改变每次他的起点</span></span><br><span class="line">            <span class="keyword">if</span>(y &gt;= canvas.height &amp;&amp; <span class="built_in">Math</span>.random() &gt; <span class="number">0.99</span>)&#123;</span><br><span class="line">                drops[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            drops[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">randColor</span>(<span class="params"></span>)</span>&#123;<span class="comment">//随机颜色</span></span><br><span class="line">        <span class="keyword">var</span> r = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> g = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> b = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span>+r+<span class="string">","</span>+g+<span class="string">","</span>+b+<span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    draw();</span><br><span class="line">    setInterval(draw,<span class="number">35</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--代码雨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.code_rain</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 数字雨 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"code_rain_canvas"</span> <span class="attr">width</span>=<span class="string">"1440"</span> <span class="attr">height</span>=<span class="string">"900"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/code_rain.js"</span>&gt;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">            #code_rain_canvas &#123;</span><br><span class="line">              position: fixed;</span><br><span class="line">              right: 0px;</span><br><span class="line">              bottom: 0px;</span><br><span class="line">              min-width: 100%;</span><br><span class="line">              min-height: 100%;</span><br><span class="line">              height: auto;</span><br><span class="line">              width: auto;</span><br><span class="line">              z-index: 4;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码雨</span></span><br><span class="line"><span class="attr">code_rain:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478303678.png" alt="file"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;添加多种页面背景特效，参考：&lt;a href=&quot;https://blog.csdn.net/qq_36759224/article/details/85420403&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo 博客优化之博客美化系列（持续更新）&lt;/a&gt;，需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。&lt;/p&gt;&lt;h2 id=&quot;特效目录&quot;&gt;特效目录&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E7%88%B1%E5%BF%83%E7%89%B9%E6%95%88&quot;&gt;鼠标点击出现爱心特效&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97--%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5jquery&quot;&gt;鼠标点击显示文字–需要引入jQuery&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%83%9F%E8%8A%B1%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C&quot;&gt;鼠标点击烟花爆炸效果&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E5%8A%A8%E6%80%81%E7%BA%BF%E6%9D%A1%E8%83%8C%E6%99%AF&quot;&gt;动态线条背景&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%882%E5%A4%A7%E9%9B%AA%E8%8A%B1%E6%9C%89%E9%BD%BF%E8%BD%AE&quot;&gt;雪花特效2.大雪花(有齿轮)&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%883%E5%B0%8F%E9%9B%AA%E8%8A%B1%E6%97%A0%E9%BD%BF%E8%BD%AE&quot;&gt;雪花特效3.小雪花(无齿轮)&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E5%BD%A9%E5%B8%A61%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E5%BD%A9%E5%B8%A6&quot;&gt;彩带1.鼠标点击自动替换彩带&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E5%BD%A9%E5%B8%A62%E8%87%AA%E5%8A%A8%E9%A3%98%E5%8A%A8&quot;&gt;彩带2.自动飘动&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#%E4%BB%A3%E7%A0%81%E9%9B%A8&quot;&gt;代码雨&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加背景图片</title>
    <link href="https://www.yansheng.xyz/article/72a91df5.html"/>
    <id>https://www.yansheng.xyz/article/72a91df5.html</id>
    <published>2019-11-10T09:06:21.000Z</published>
    <updated>2019-11-11T08:48:37.988Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>添加背景图片，效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png" alt="file"></p><a id="more"></a><p>注：因为有博客不是修改时写的，部分代码没有进行备份，所以有些只能从git中获取代码，有些可能有点乱。</p><p>同时因为每个人选的背景图片可能有所不同，主体颜色可能差异很大，需要调整的颜色可能比较多，这篇博客仅供参考，请自行选择是否替换背景。</p><h3 id="1-左侧边栏">1.左侧边栏</h3><h4 id="取消上半部分的背景颜色">取消上半部分的背景颜色</h4><p>：<code>themes/yilia/layout/_partial/left-col.ejs</code>，如下：这是掉上面的一行代码，使用下面的</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;div class="overlay" style="background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏（上半部分）不设置背景颜色 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay"</span> &gt;</span></span><br></pre></td></tr></table></figure><h4 id="添加背景图片">添加背景图片</h4><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，注释掉原有的背景颜色，添加照片：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> &#123;</span><br><span class="line">    <span class="comment">/* background:#fff; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'http://bucket836.oss-cn-shenzhen.aliyuncs.com/wallpaper/381535373.jpeg'</span>) no-repeat <span class="number">0%</span> <span class="number">20%</span>/ cover;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>:fixed;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>:all .<span class="number">3s</span> ease-in;</span><br><span class="line">    <span class="attribute">-ms-transition</span>: all .<span class="number">3s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>:<span class="number">999</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>根据背景图片修改字体颜色（这步可以自定义），我是将<code>color:#696969</code>改成<code>color:#673ab7</code>:git</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">-    color:#696969</span><br><span class="line">+    <span class="selector-tag">color</span>:<span class="selector-id">#673ab7</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">-    color:#b0a0aa</span><br><span class="line">+    <span class="selector-tag">color</span>: <span class="selector-id">#03A9F4</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-subtitle</span> &#123;</span><br><span class="line">     <span class="attribute">text-align</span>:center;</span><br><span class="line">-    color:#999;</span><br><span class="line">+    <span class="selector-tag">color</span>:<span class="selector-id">#673ab7</span>;</span><br><span class="line">     <span class="selector-tag">font-size</span><span class="selector-pseudo">:18px</span>;</span><br></pre></td></tr></table></figure><h3 id="2-右边的文章">2.右边的文章</h3><h4 id="调整背景颜色为透明">调整背景颜色为透明</h4><p>主要是将白色背景变成透明的，<code>background:#fff;</code>–&gt;<code>background: rgba(255,255,255,.5);</code>调整后Git</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.article</span> &#123;</span><br><span class="line">-    margin:30px;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">position</span><span class="selector-pseudo">:relative</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border-top</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border-bottom</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">background</span>:<span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="comment">/* background: rgba(255,255,255,.5); */</span></span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">transition</span><span class="selector-pseudo">:all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in</span></span><br><span class="line">+    <span class="selector-tag">margin</span>: 30<span class="selector-tag">px</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(255,255,255,<span class="selector-class">.5</span>);^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>即：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-添加背景图片">3.添加背景图片</h3><p>将白色<code>background-color:#fff;</code>替换为照片：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* background-color:#fff; */</span></span><br><span class="line">    <span class="attribute">min-height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)), </span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'https://desk-fd.zol-img.com.cn/t_s960x600c5/g5/M00/02/00/ChMkJlbKw6KIXhXnAA4L-_oxRzUAALG6QBUSg8ADgwT181.jpg'</span>) no-repeat <span class="number">0%</span> <span class="number">0%</span>/ cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 手机端换用一张背景图片，可以不使用 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/your-name-phone2ys.jpg'</span>) no-repeat fixed top;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="效果：">效果：</h4><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png" alt="file"></p><h3 id="4-微调">4.微调</h3><h4 id="4-1调整评论区背景">4.1调整评论区背景</h4><p>原来为白色，现在改为透明。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573203735399.png" alt="file"></p><p>先将之前定义在<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>的样式统一放到<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，如下git diff</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 《valine评论 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">-      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-</span>        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-</span>        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">-      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">+</span><br><span class="line">       <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">         <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">         <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br></pre></td></tr></table></figure><p>在最后面添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 《评论框 */</span></span><br><span class="line"><span class="selector-class">.comments</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.comments</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>:auto;</span><br><span class="line">        <span class="attribute">padding</span>:<span class="number">10px</span>;</span><br><span class="line">        <span class="comment">/* background:#fff */</span></span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* valine的背景颜色 */</span></span><br><span class="line"><span class="selector-id">#vcomment</span>&#123;</span><br><span class="line"><span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 设置valine占位符的颜色 */</span></span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-pseudo">:-moz-placeholder</span> &#123; <span class="comment">/* Mozilla Firefox 4 to 18 */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-pseudo">::-moz-placeholder</span> &#123; <span class="comment">/* Mozilla Firefox 19+ */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-tag">input</span><span class="selector-pseudo">:-ms-input-placeholder</span>, <span class="selector-id">#vcomment</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span>,<span class="selector-id">#vcomment</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 评论框》 */</span></span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573203593161.png" alt="file"></p><p>参考：<a href="https://www.cnblogs.com/yuner-angel/p/8478935.html" target="_blank" rel="noopener">html中怎么设定input的占位符字体颜色</a></p><h4 id="4-2调整归档背景">4.2调整归档背景</h4><p>之前调整的文章背景透明好像没有影响到这个：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573461660402.png" alt="file"></p><p>进行调整：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archives-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>:<span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>:<span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">    <span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调整日期颜色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-meta</span> <span class="selector-tag">time</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#aaa */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2f2d2a</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>日期时间大小</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-article-inner</span> <span class="selector-class">.article-meta</span> <span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>:default;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>微调归档页面的标题样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 丢弃之前的 */</span></span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">transition</span>: color .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修改： */</span></span><br><span class="line"><span class="comment">/* 分类页面的标题 */</span></span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="comment">/* color:#333; */</span></span><br><span class="line">    <span class="attribute">transition</span>:color .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#657b83 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为将右边栏的超链接都统一进行了设置，如果不需要特效，可以通过下面的代码取消超链接的下划线样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">a</span><span class="selector-class">.share-outer</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-3主页的文章块的日期取消超链接样式">4.3主页的文章块的日期取消超链接样式</h4><p>日期和文章统计数样式</p><p>原：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">7.6923%</span>;</span><br><span class="line">    <span class="attribute">float</span>:right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 日期栏（如果是文章还包含卜算子的页面访问量） */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#0087ca; */</span></span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">7.6923%</span>;</span><br><span class="line">    <span class="attribute">float</span>:right</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 日期 */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span> <span class="selector-tag">time</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 日期同一行的文章阅读数量 */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span><span class="selector-attr">[id=busuanzi_container_page_pv]</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主页的“展开全文”按钮样式：受全局超链接样式影响，悬浮后，会变成红色。处理：提前加一个悬浮，掩盖全局的：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 防止鼠标悬浮时，变色，因为会被全局的超链接样式影响 */</span></span><br><span class="line"> <span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>前一页后一页：去掉悬浮的样式，可以直接注释掉：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#article-nav</span> <span class="selector-class">.article-nav-link-wrap</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.article-nav-title</span>, <span class="selector-id">#article-nav</span> <span class="selector-class">.article-nav-link-wrap</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#4d4d4d */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>标签按钮：受全局超链接样式影响，悬浮后，会变成红色。处理：提前加一个悬浮，掩盖全局的：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.tagcloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">+    color:#fff;^M</span><br><span class="line">     <span class="selector-tag">opacity</span><span class="selector-pseudo">:.8</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="4-4手机端头部背景颜色">4.4手机端头部背景颜色</h4><p><code>H:\Hexo\themes\yilia\layout\_partial\mobile-nav.ejs</code>取消内嵌样式，在全局css中进行设置：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--&lt;div class="overlay js-overlay" style="background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay js-overlay"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>设置成渐变：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav</span> <span class="selector-class">.overlay</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>:<span class="number">2</span>;</span><br><span class="line">     <span class="comment">/* 渐变：浅绿色变淡蓝色 */</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#8fecc5,#0badf7);</span><br><span class="line">    <span class="comment">/* 浏览器不支持渐变时显示默认颜色 */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573461729612.png" alt="file"></p><h4 id="4-5鼠标图片">4.5鼠标图片</h4><p>去网上找一种鼠标指针的图片，用图片替换默认的鼠标样式：<code>cursor:url('url'), default;</code>，default表示：如果图片不起效，就是用默认的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* background-color:#fff; */</span></span><br><span class="line">    <span class="attribute">min-height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)), </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/wallpaper/qinshimingyue.jpg'</span>) no-repeat <span class="number">0%</span> <span class="number">0%</span>/ cover;</span><br><span class="line">    <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/ico/favicon-2019110906554413.ico'</span>), default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 因为超链接默认情况下是：cursor: pointer; 显示为手，这里进行设置 */</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/ico/favicon-2019110906554413.ico'</span>), default;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-6行内代码-引用块的背景颜色">4.6行内代码、引用块的背景颜色</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="comment">/* background-color: #f9f2f4; */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(249, 242, 244, .7);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="comment">/* background:#ddd; */</span></span><br><span class="line">    <span class="comment">/* border:2px solid #ccc; */</span></span><br><span class="line">    <span class="attribute">font-family</span>:Menlo, Monaco, Andale Mono, lucida console, Courier New, monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="comment">/* font-size:14px */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#657b83</span>;</span><br><span class="line">    <span class="comment">/* background:#f6f6f6; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(246, 246, 246, .7);</span><br><span class="line">    <span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;添加背景图片，效果图：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加隐藏左边栏目按钮</title>
    <link href="https://www.yansheng.xyz/article/31bbdc67.html"/>
    <id>https://www.yansheng.xyz/article/31bbdc67.html</id>
    <published>2019-11-10T09:06:17.000Z</published>
    <updated>2019-11-11T07:32:19.776Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573145229532.png" alt="file"></p><p>点击按钮时，缩进左侧边栏，再次点击再弹出来。</p><a id="more"></a><h2 id="添加隐藏左边栏目按钮">添加隐藏左边栏目按钮</h2><p>参考：<a href="https://cqh-i.github.io/2019/08/07/hexo-yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E9%9A%90%E8%97%8F%E5%B7%A6%E8%BE%B9%E6%A0%8F%E7%9B%AE%E6%8C%89%E9%92%AE/" target="_blank" rel="noopener">添加隐藏左边栏目按钮</a></p><blockquote><p>下面为引用内容：</p></blockquote><p>折腾了一个下午,终于把隐藏左边侧边栏目的效果实现了. 实现了点击按钮隐藏侧边栏, 查找和修改源码实在是太麻烦了.</p><h3 id="制作按钮样式">制作按钮样式</h3><p>先找一款你喜欢的CSS菜单按钮切换,或者自己实现一个,我在网上找到一款比较<a href="https://c.runoob.com/codedemo/3156" target="_blank" rel="noopener">简单的样式</a>,稍微做了下修改.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mymenucontainer</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">cursor</span>:pointer;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">z-index</span>:<span class="number">9999</span>;</span><br><span class="line"><span class="attribute">position</span>:fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar1</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px,8px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px,8px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar3</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(45deg) <span class="built_in">translate</span>(-4px,-6px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(45deg) <span class="built_in">translate</span>(-4px,-6px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.change</span> <span class="selector-class">.bar1</span> &#123;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.change</span> <span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.change</span> <span class="selector-class">.bar3</span> &#123;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>样式制作完成后,压缩,然后添加进<code>\themes\yilia\source\main.0cf68a.css</code>文件中,添加在最前面即可</p><h3 id="添加按钮到相应的位置">添加按钮到相应的位置</h3><p>打开<code>\themes\yilia\layout\layout.ejs</code>文件, 找到<code>&lt;div class=&quot;left-col&quot;</code>,在其上面添加如下代码:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mymenucontainer"</span> <span class="attr">onclick</span>=<span class="string">"myFunction(this)"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>&lt;/body&gt;</code>之后, <code>&lt;/html&gt;</code>前添加如下Js代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> hide = <span class="literal">false</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        x.classList.toggle(<span class="string">"change"</span>);</span><br><span class="line">        <span class="keyword">if</span>(hide == <span class="literal">false</span>)&#123;</span><br><span class="line">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">6</span>);</span><br><span class="line">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            hide = <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">300</span>);</span><br><span class="line">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            hide = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>重新生成文件,部署即可看到效果, 可以看看<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">我的博客</a>效果</p><p>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573143726040.png" alt="file"></p><blockquote><p>引用结束</p></blockquote><h2 id="结合我的配置进行修改">结合我的配置进行修改</h2><p>因为我的左侧边栏添加了<strong>心知天气</strong>（如下图），所以按钮不能放在一起，因此进行了修改：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573143700619.png" alt="file"></p><h3 id="修改位置">修改位置</h3><p>主要变化：修改按钮位置，移到右边：<code>left: 260px;</code>，修改bar1,bar2,bar3的颜色：<code>background-color: #0087ca;</code>：修改文件：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mymenucontainer</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">260px</span>;  <span class="comment">/*原来： left:0; */</span></span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9999</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0087ca</span>;  <span class="comment">/*原来： background-color:#333; */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px, 8px);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px, 8px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="事件响应">事件响应</h3><p>因为修改了图标位置，事件响应时也要对应修改位置：缩小后设置为<code>$(&quot;.mymenucontainer&quot;).css('left', '0');</code>,展开：<code>$(&quot;.mymenucontainer&quot;).css('left', '260px');</code>。<br>修改文件：<code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 《添加折叠按钮脚本 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> hide = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        x.classList.toggle(<span class="string">"change"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(hide == <span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">6</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="javascript">            hide = <span class="literal">true</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="string">".mymenucontainer"</span>).css(<span class="string">'left'</span>, <span class="string">'0'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">300</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">            hide = <span class="literal">false</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="string">".mymenucontainer"</span>).css(<span class="string">'left'</span>, <span class="string">'260px'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加折叠按钮脚本》 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="响应式：手机端隐藏按钮">响应式：手机端隐藏按钮</h3><p>手机端(当页面变小时)隐藏按钮：修改文件：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，找到<code>@media screen and (max-width:800px)</code>下面的内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#container</span>, <span class="selector-tag">body</span>, <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>:auto;</span><br><span class="line">        <span class="attribute">overflow-x</span>:hidden;</span><br><span class="line">        <span class="attribute">overflow-y</span>:auto</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#mobile-nav</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>:block</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.body-wrap</span> &#123;</span><br><span class="line">        <span class="attribute">margin-bottom</span>:<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.left-col</span>&#123;</span><br><span class="line">        <span class="attribute">display</span>:none</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>.left-col</code>中添加一个按钮的标签：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span>,<span class="selector-class">.mymenucontainer</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573145229532.png" alt="file"></p><h2 id="🐛">🐛</h2><p>有个小问题：在PC端进行测试时，如果先尝试缩放，然后返回再展开，直接测试手机端，就会出现问题：按钮仍然撑开界面；但是如果进到页面直接测试手机端就不会这种问题（或者是在缩放后进行测试也不会影响）。<br>因为这个问题好像影响不是很大，就不深入了。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;效果图：&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573145229532.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;&lt;p&gt;点击按钮时，缩进左侧边栏，再次点击再弹出来。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加“心知天气”</title>
    <link href="https://www.yansheng.xyz/article/cd4e4c1.html"/>
    <id>https://www.yansheng.xyz/article/cd4e4c1.html</id>
    <published>2019-11-10T09:06:16.000Z</published>
    <updated>2019-11-12T07:55:45.773Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>添加“心知天气”<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573378054017.png" alt="file"></p><a id="more"></a><p>參考：<a href="https://letmequadrakill.github.io/post/843b0170.html#more" target="_blank" rel="noopener">https://letmequadrakill.github.io/post/843b0170.html#more</a></p><h3 id="1-注册账号-设置天气样式：">1.注册账号，设置天气样式：</h3><p>官网：<a href="https://www.seniverse.com/widgetv3" target="_blank" rel="noopener">https://www.seniverse.com/widgetv3</a>，需要先注册账号，然后选择样式，如下：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481774183.png" alt="file"></p><p>生成js代码，复制代码，如下（我的免费版的代码）:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tp-weather-widget"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    (<span class="function"><span class="keyword">function</span>(<span class="params">a, h, g, f, e, d, c, b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        b = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            d = h.createElement(g);</span><br><span class="line">            c = h.getElementsByTagName(g)[0];</span><br><span class="line">            d.src = e;</span><br><span class="line"><span class="javascript">            d.charset = <span class="string">"utf-8"</span>;</span></span><br><span class="line">            d.async = 1;</span><br><span class="line">            c.parentNode.insertBefore(d, c)</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        a[<span class="string">"SeniverseWeatherWidgetObject"</span>] = f;</span></span><br><span class="line"><span class="javascript">        a[f] || (a[f] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            (a[f].q = a[f].q || []).push(<span class="built_in">arguments</span>)</span></span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        a[f].l = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (a.attachEvent) &#123;</span></span><br><span class="line"><span class="javascript">            a.attachEvent(<span class="string">"onload"</span>, b)</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            a.addEventListener(<span class="string">"load"</span>, b, <span class="literal">false</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">    &#125;(<span class="built_in">window</span>, <span class="built_in">document</span>, <span class="string">"script"</span>, <span class="string">"SeniverseWeatherWidget"</span>, <span class="string">"//cdn.sencdn.com/widget2/static/js/bundle.js"</span>));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.SeniverseWeatherWidget(<span class="string">'show'</span>, &#123;</span></span><br><span class="line"><span class="javascript">        flavor: <span class="string">"slim"</span>,</span></span><br><span class="line"><span class="javascript">        location: <span class="string">"WS06YNEMPP18"</span>,</span></span><br><span class="line"><span class="javascript">        geolocation: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">        language: <span class="string">"zh-Hans"</span>,</span></span><br><span class="line"><span class="javascript">        unit: <span class="string">"c"</span>,</span></span><br><span class="line"><span class="javascript">        theme: <span class="string">"auto"</span>,</span></span><br><span class="line"><span class="javascript">        token: <span class="string">"a579c7ea-507d-41d7-b578-3537882d20c2"</span>,</span></span><br><span class="line"><span class="javascript">        hover: <span class="string">"enabled"</span>,</span></span><br><span class="line"><span class="javascript">        container: <span class="string">"tp-weather-widget"</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以下是复制的另一个人的代码，可能是升级版的(感觉效果很不错，就用了这个，可能会出现问题，因为应该是用他的秘钥，要是他修改你就会变)：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加“心知天气”--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tp-weather-widget"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        (<span class="function"><span class="keyword">function</span>(<span class="params">T, h, i, n, k, P, a, g, e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            g = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">                P = h.createElement(i);</span><br><span class="line">                a = h.getElementsByTagName(i)[0];</span><br><span class="line">                P.src = k;</span><br><span class="line"><span class="javascript">                P.charset = <span class="string">"utf-8"</span>;</span></span><br><span class="line">                P.async = 1;</span><br><span class="line">                a.parentNode.insertBefore(P, a)</span><br><span class="line">            &#125;;</span><br><span class="line"><span class="javascript">            T[<span class="string">"ThinkPageWeatherWidgetObject"</span>] = n;</span></span><br><span class="line"><span class="javascript">            T[n] || (T[n] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                (T[n].q = T[n].q || []).push(<span class="built_in">arguments</span>)</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            T[n].l = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (T.attachEvent) &#123;</span></span><br><span class="line"><span class="javascript">                T.attachEvent(<span class="string">"onload"</span>, g)</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                T.addEventListener(<span class="string">"load"</span>, g, <span class="literal">false</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">        &#125;(<span class="built_in">window</span>, <span class="built_in">document</span>, <span class="string">"script"</span>, <span class="string">"tpwidget"</span>, <span class="string">"//widget.thinkpage.cn/widget/chameleon.js"</span>))</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        tpwidget(<span class="string">"init"</span>, &#123;</span></span><br><span class="line"><span class="javascript">            <span class="string">"flavor"</span>: <span class="string">"slim"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"location"</span>: <span class="string">"WM6N2PM3WY2K"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"geolocation"</span>: <span class="string">"enabled"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"language"</span>: <span class="string">"zh-chs"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"unit"</span>: <span class="string">"c"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"theme"</span>: <span class="string">"chameleon"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"container"</span>: <span class="string">"tp-weather-widget"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"bubble"</span>: <span class="string">"enabled"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"alarmType"</span>: <span class="string">"badge"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"color"</span>: <span class="string">"#FFFFFF"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"uid"</span>: <span class="string">"U88B4B2797"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"hash"</span>: <span class="string">"c9d7cb43b80ffece52c9a1ebbfbca65f"</span></span></span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        tpwidget(<span class="string">"show"</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加“心知天气”》--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-添加到左侧边栏">2.添加到左侧边栏</h3><p>修改<code>themes/yilia/layout/_partial/left-col.ejs</code>，将上面的js代码添加到指定位置，位置如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay"</span> <span class="attr">style</span>=<span class="string">"background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 添加“心知天气”--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intrude-less"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-设置成方便开启和关闭的形式">3.设置成方便开启和关闭的形式</h3><p>如果主题中开启了这个设置，才开启这个功能：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加“心知天气”--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.xinzhi_weather</span>)&#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tp-weather-widget"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">……</span><br><span class="line">        tpwidget("show");</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加“心知天气”》--&gt;</span></span><br></pre></td></tr></table></figure><p><code>themes/yilia/_config.yml</code>中添加如下配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 心知天气(如果不用为false):https://www.seniverse.com</span></span><br><span class="line"><span class="attr">xinzhi_weather:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;添加“心知天气”&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573378054017.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia测试新的渲染引擎和表情</title>
    <link href="https://www.yansheng.xyz/article/47e1ef2d.html"/>
    <id>https://www.yansheng.xyz/article/47e1ef2d.html</id>
    <published>2019-11-10T09:06:14.000Z</published>
    <updated>2019-11-12T07:40:16.896Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>测试表情（emoji）🤔和hexo渲染器（hexo-renderer-markdown-it）。</p><a id="more"></a><h2 id="表情">表情</h2><h3 id="正常文本间的表情">正常文本间的表情</h3><p>看在文字间的情况🤔看在文字间的情况</p><p>看在文字间的情况🛩看在文字间的情况</p><h3 id="引用块中的表情">引用块中的表情</h3><blockquote><p>🤒</p><p>📑</p></blockquote><h3 id="标题中的表情📝">标题中的表情📝</h3><h3 id="常用表情网站汇总">常用表情网站汇总</h3><p>1.速度较快的：<a href="https://emoji.muan.co/" target="_blank" rel="noopener">https://emoji.muan.co/</a><br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573122719448.png" alt="file"></p><p>2.较慢的：<a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">https://www.webfx.com/tools/emoji-cheat-sheet/</a><br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573122656129.png" alt="file"></p><p>3.专门用于github的提交的：<a href="https://gitmoji.carloscuesta.me/" target="_blank" rel="noopener">https://gitmoji.carloscuesta.me/</a><br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573122807031.png" alt="file"></p><h2 id="hexo渲染器">hexo渲染器</h2><h3 id="测试html">测试HTML</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;这是div&lt;/div&gt;</span><br></pre></td></tr></table></figure><div>这是div</div><h3 id="测试换行">测试换行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">换行&lt;br&gt;</span><br><span class="line">换行</span><br></pre></td></tr></table></figure><p>换行<br><br>换行</p><h3 id="测试相同标题">测试相同标题</h3><h3 id="测试相同标题-v2">测试相同标题</h3><p>查看相同标题的id是否重复，理论上会添加’-v2’ '-v3’等后缀。</p><h3 id="测试有序列表">测试有序列表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 11111</span><br><span class="line">2. 22222</span><br><span class="line">3. 33333</span><br><span class="line">1. 11111 # 这个能够正确处理</span><br></pre></td></tr></table></figure><ol><li>11111</li><li>22222</li><li>33333</li><li>11111</li></ol><p>注意list后面不能有空行，不然会出现问题：序号占一行，然后内容从下一行开始</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 空行的情况</span><br><span class="line">1. 1111</span><br><span class="line"></span><br><span class="line">2. 2222</span><br><span class="line"></span><br><span class="line"># 处理后</span><br><span class="line">1.</span><br><span class="line">1111</span><br><span class="line"></span><br><span class="line">2.</span><br><span class="line">2222</span><br></pre></td></tr></table></figure><h3 id="测试无序列表">测试无序列表</h3><ul><li>无序列表</li><li>无序列表<ul><li>第二层</li><li>第二层<ul><li>第三层</li><li>第三层</li></ul></li><li>第二层</li></ul></li></ul><h3 id="测试选择框">测试选择框</h3><ul><li>[x] 选择框：好像有问题</li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;测试表情（emoji）🤔和hexo渲染器（hexo-renderer-markdown-it）。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia替换渲染引擎，支持emoji表情</title>
    <link href="https://www.yansheng.xyz/article/b902694c.html"/>
    <id>https://www.yansheng.xyz/article/b902694c.html</id>
    <published>2019-11-10T09:06:13.000Z</published>
    <updated>2019-11-11T08:58:16.704Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>Hexo默认是采用<code>hexo-renderer-marked</code>渲染器将markdown渲染成HTML，这个渲染器不支持插件扩展，因此不能支持表情；还有一个支持插件扩展的是 <code>hexo-renderer-markdown-it</code>，所以我们可以使用这个渲染引擎来支持emoji表情。</p><p>就比如这样的表情：😁😂🤣🍱，更多可参考：<a href="/article/47e1ef2d.html">测试新的渲染引擎和表情</a></p><a id="more"></a><h3 id="替换渲染引擎-支持emoji表情">替换渲染引擎，支持emoji表情</h3><p>参考：<a href="https://segmentfault.com/a/1190000009478837#articleHeader5" target="_blank" rel="noopener">https://segmentfault.com/a/1190000009478837#articleHeader5</a></p><hr><p>如何让markdown可以解析emoji呢？实际上我们发现，在编辑器中输入 <code>:blush:</code> 并没有表情出现，是为什么呢？ 这是markdown渲染引擎的问题 。<br>Hexo默认是采用<code>hexo-renderer-marked</code>,这个渲染器不支持插件扩展，当然就不行了，还有一个支持插件扩展的是 <code>hexo-renderer-markdown-it</code>（github：<a href="https://github.com/hexojs/hexo-renderer-markdown-it" target="_blank" rel="noopener">https://github.com/hexojs/hexo-renderer-markdown-it</a>），所以我们可以使用这个渲染引擎来支持emoji表情，具体实现过程如下：</p><ul><li>更换渲染器<br>进入blog跟目录，执行如下命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure><ul><li>安装emoji插件，执行如下命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure><ul><li>编辑站点配置文件<br>就是编辑根目录的_config.yml文件，添加如下内容</li></ul><p>配置<code>H:\Hexo\_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Markdown-it config</span></span><br><span class="line"><span class="comment">## Docs: https://github.com/celsomiranda/hexo-renderer-markdown-it/wiki</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line"><span class="attr">  render:</span></span><br><span class="line"><span class="attr">    html:</span> <span class="literal">true</span>          <span class="comment"># 是否对HTML标签进行解析，false时HTML将按照原样输出</span></span><br><span class="line"><span class="attr">    xhtmlOut:</span> <span class="literal">false</span>     <span class="comment"># 是否需要满足严格的XHTML格式，换行为&lt;br /&gt;</span></span><br><span class="line"><span class="attr">    breaks:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    linkify:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    typographer:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    quotes:</span> <span class="string">'“”‘’'</span></span><br><span class="line"><span class="attr">  plugins:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-abbr</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-footnote</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-ins</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-sub</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-sup</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-emoji</span>  <span class="comment"># add emoji</span></span><br><span class="line"><span class="attr">  anchors:</span></span><br><span class="line">    <span class="comment"># Minimum level for ID creation. (Ex. h2 to h6)</span></span><br><span class="line"><span class="attr">    level:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment"># A suffix that is prepended to the number given if the ID is repeated.</span></span><br><span class="line"><span class="attr">    collisionSuffix:</span> <span class="string">'v'</span></span><br><span class="line">    <span class="comment"># If `true`, creates an anchor tag with a permalink besides the heading.</span></span><br><span class="line"><span class="attr">    permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Class used for the permalink anchor tag.</span></span><br><span class="line"><span class="attr">    permalinkClass:</span> <span class="string">header-anchor</span></span><br><span class="line">    <span class="comment"># The symbol used to make the permalink</span></span><br><span class="line"><span class="attr">    permalinkSymbol:</span> <span class="string">¶</span></span><br></pre></td></tr></table></figure><h3 id="更近一步">更近一步</h3><ul><li>Hexo Markdown 拓展:<a href="https://maqingbo.github.io/2019/03/12/Hexo%20Markdown%20%E6%8B%93%E5%B1%95/" target="_blank" rel="noopener">https://maqingbo.github.io/2019/03/12/Hexo Markdown 拓展/</a></li><li>Hexo中添加emoji表情：<a href="https://blog.csdn.net/weixin_30745641/article/details/95686757" target="_blank" rel="noopener">https://blog.csdn.net/weixin_30745641/article/details/95686757</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;Hexo默认是采用&lt;code&gt;hexo-renderer-marked&lt;/code&gt;渲染器将markdown渲染成HTML，这个渲染器不支持插件扩展，因此不能支持表情；还有一个支持插件扩展的是 &lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;，所以我们可以使用这个渲染引擎来支持emoji表情。&lt;/p&gt;&lt;p&gt;就比如这样的表情：😁😂🤣🍱，更多可参考：&lt;a href=&quot;/article/47e1ef2d.html&quot;&gt;测试新的渲染引擎和表情&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加添加robots配置</title>
    <link href="https://www.yansheng.xyz/article/ae673bea.html"/>
    <id>https://www.yansheng.xyz/article/ae673bea.html</id>
    <published>2019-11-10T09:05:49.000Z</published>
    <updated>2019-11-11T13:40:52.927Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><h3 id="介绍">介绍</h3><p>robots是网站跟爬虫间的协议，用简单直接的txt格式文本方式告诉对应的爬虫被允许的权限，也就是说robots.txt是搜索引擎中访问网站的时候要查看的第一个文件。当一个搜索蜘蛛访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt，如果存在，搜索机器人就会按照该文件中的内容来确定访问的范围；如果该文件不存在，所有的搜索蜘蛛将能够访问网站上所有没有被口令保护的页面。</p><a id="more"></a><h3 id="配置">配置</h3><p>该配置可以管理我们想要搜索引擎爬取的内容，Allow表示允许被访问的，Disallow是不允许的意思。注意后面两个Sitemap就是网站地图了。而网站地图前面说了是给爬虫用的。这里配置在robots中。可参考如下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 允许所有用户代理的浏览器爬虫进行访问（爬起数据）</span><br><span class="line">User-agent: *</span><br><span class="line"></span><br><span class="line"># 允许访问的内容</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /2019/</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /2019/</span><br><span class="line">Allow: /page/</span><br><span class="line">Allow: /photos/</span><br><span class="line">Allow: /tags/</span><br><span class="line"></span><br><span class="line"># 不允许访问的内容</span><br><span class="line">Disallow: /assets/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line">Disallow: /img/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /music/</span><br><span class="line">Disallow: /css/</span><br><span class="line"></span><br><span class="line">Disallow: /*.js</span><br><span class="line">Disallow: /*.css</span><br><span class="line"></span><br><span class="line"># 网站地图Sitemap</span><br><span class="line">Sitemap: https://www.yansheng.xyz/sitemap.xml</span><br><span class="line">Sitemap: https://www.yansheng.xyz/baidusitemap.xml</span><br></pre></td></tr></table></figure><h3 id="进入搜索引擎管理平台更新robots">进入搜索引擎管理平台更新robots</h3><p>Google Search Console: <a href="https://www.google.com/webmasters/tools/home?hl=zh-CN" target="_blank" rel="noopener">https://www.google.com/webmasters/tools/home?hl=zh-CN</a><br>百度站长平台: <a href="http://zhanzhang.baidu.com/" target="_blank" rel="noopener">http://zhanzhang.baidu.com/</a></p><h3 id="robots-txt-生成器">robots.txt 生成器</h3><p>配置相关参数，自动生成robots内容的网站：</p><ul><li><a href="https://robots.51240.com/" target="_blank" rel="noopener">https://robots.51240.com/</a></li><li><a href="http://tool.chinaz.com/robots/" target="_blank" rel="noopener">http://tool.chinaz.com/robots/</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;h3 id=&quot;介绍&quot;&gt;介绍&lt;/h3&gt;&lt;p&gt;robots是网站跟爬虫间的协议，用简单直接的txt格式文本方式告诉对应的爬虫被允许的权限，也就是说robots.txt是搜索引擎中访问网站的时候要查看的第一个文件。当一个搜索蜘蛛访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt，如果存在，搜索机器人就会按照该文件中的内容来确定访问的范围；如果该文件不存在，所有的搜索蜘蛛将能够访问网站上所有没有被口令保护的页面。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加网站运行时间，ICP备案信息，设定站点建立时间</title>
    <link href="https://www.yansheng.xyz/article/50902a4.html"/>
    <id>https://www.yansheng.xyz/article/50902a4.html</id>
    <published>2019-11-10T09:05:16.000Z</published>
    <updated>2019-11-11T15:48:26.515Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>hexo+yilia（在底部）添加</p><ul><li>网站运行时间：<code>本站已安全运行 101 天 12 小时 13 分 41 秒</code></li><li>ICP备案信息：<code>粤ICP备00000000号</code></li><li>设定站点建立时间（年份）：<code>@ 2018 - 2019</code></li></ul><a id="more"></a><h2 id="1-添加网站运行时间">1.添加网站运行时间</h2><p>添加位置建议：如果有统计量（如不蒜子统计量），放在不蒜子后面。没有就按照下面的建议。</p><h3 id="硬性配置">硬性配置</h3><p>参考：<a href="https://www.jianshu.com/p/c9de55660d1b" target="_blank" rel="noopener">Hexo主题更改以及小功能的添加–添加网站运行时间</a></p><p>修改<code>\themes\yilia\layout\_partial\footer.ejs</code>，在<code>&lt;/footer&gt;</code>上面添加如下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--《添加网站运行时间 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;br/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeDate"</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"times"</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">createtime</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"07/25/2019 12:00:00"</span>); <span class="comment">//此处修改你的建站时间或者网站上线时间 </span></span></span><br><span class="line">        now.setTime(now.getTime() + 250);</span><br><span class="line">        days = (now - grt) / 1000 / 60 / 60 / 24;</span><br><span class="line"><span class="javascript">        dnum = <span class="built_in">Math</span>.floor(days);</span></span><br><span class="line">        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);</span><br><span class="line"><span class="javascript">        hnum = <span class="built_in">Math</span>.floor(hours);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(hnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">            hnum = <span class="string">"0"</span> + hnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line"><span class="javascript">        mnum = <span class="built_in">Math</span>.floor(minutes);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(mnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">            mnum = <span class="string">"0"</span> + mnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line"><span class="javascript">        snum = <span class="built_in">Math</span>.round(seconds);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(snum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">            snum = <span class="string">"0"</span> + snum;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"timeDate"</span>).innerHTML = <span class="string">" | 本站已安全运行 "</span> + dnum + <span class="string">" 天 "</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"times"</span>).innerHTML = hnum + <span class="string">" 小时 "</span> + mnum + <span class="string">" 分 "</span> + snum + <span class="string">" 秒"</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    setInterval(<span class="string">"createtime()"</span>, <span class="number">250</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加网站运行时间》 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="灵活配置-推荐">灵活配置（推荐）</h3><p>优化上面的内容，设置成可以直接在配置文件中进行开启和关闭的形式：</p><p>1.修改<code>\themes\yilia\_config.yml</code>，添加如下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网站运行时间，格式形如：“本站已安全运行 101 天 12 小时 13 分 41 秒”</span></span><br><span class="line"><span class="comment"># Runing Time</span></span><br><span class="line"><span class="attr">running_time:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> create_time:</span> <span class="string">'07/25/2019 12:00:00'</span> <span class="comment">#此处修改你的建站时间或者网站上线时间</span></span><br></pre></td></tr></table></figure><p>2.修改<code>\themes\yilia\layout\_partial\footer.ejs</code>，在<code>&lt;/footer&gt;</code>上面添加如下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--《添加网站运行时间  &lt;br/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.running_time</span> &amp;&amp; <span class="attr">theme.running_time.enable</span> &amp;&amp; <span class="attr">theme.running_time.create_time</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeDate"</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"times"</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">createtime</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//此处修改你的建站时间或者网站上线时间</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> create_time = <span class="string">'&lt;%- theme.running_time.create_time %&gt;'</span>;</span></span><br><span class="line">        now.setTime(now.getTime() + 250);</span><br><span class="line">        days = (now - grt) / 1000 / 60 / 60 / 24;</span><br><span class="line"><span class="javascript">        dnum = <span class="built_in">Math</span>.floor(days);</span></span><br><span class="line">        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);</span><br><span class="line"><span class="javascript">        hnum = <span class="built_in">Math</span>.floor(hours);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(hnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">            hnum = <span class="string">"0"</span> + hnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line"><span class="javascript">        mnum = <span class="built_in">Math</span>.floor(minutes);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(mnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">            mnum = <span class="string">"0"</span> + mnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line"><span class="javascript">        snum = <span class="built_in">Math</span>.round(seconds);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(snum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">            snum = <span class="string">"0"</span> + snum;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"timeDate"</span>).innerHTML = <span class="string">" | 本站已安全运行 "</span> + dnum + <span class="string">" 天 "</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"times"</span>).innerHTML = hnum + <span class="string">" 小时 "</span> + mnum + <span class="string">" 分 "</span> + snum + <span class="string">" 秒"</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    setInterval(<span class="string">"createtime()"</span>, <span class="number">250</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加网站运行时间》--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果">效果</h3><p><code>本站已安全运行 101 天 12 小时 13 分 41 秒</code></p><h2 id="2-添加icp备案信息">2.添加ICP备案信息</h2><p>添加位置建议：底部第首行。如果有统计量、运行时间前面。没有就按照下面的建议。</p><p>参考：<a href="https://blog.csdn.net/qq_37449342/article/details/95649140" target="_blank" rel="noopener">Hexo博客页脚添加ICP备案号</a></p><p>1.修改<code>\themes\yilia\_config.yml</code>，添加如下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ICP备案信息（英文全称：Internet Content Provider，中文全称：网络内容提供商。）</span></span><br><span class="line"><span class="comment"># 参考：https://blog.csdn.net/qq_37449342/article/details/95649140</span></span><br><span class="line"><span class="comment"># 粤ICP备00000000号</span></span><br><span class="line"><span class="attr">icp:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> id:</span> <span class="string">'粤ICP备00000000号'</span>  <span class="comment"># 备案号</span></span><br></pre></td></tr></table></figure><p>2.修改<code>\themes\yilia\layout\_partial\footer.ejs</code>，在<code>&lt;/footer&gt;</code>上面添加如下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《网站备案号 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.icp</span> &amp;&amp; <span class="attr">theme.icp.enable</span> &amp;&amp; <span class="attr">theme.icp.id</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"BeiAn-info"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://static.dy208.cn/o_1dfilp8ruo521thr1hvf18ji17soa.png"</span> <span class="attr">title</span>=<span class="string">"备案管理系统"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.beian.miit.gov.cn/"</span> <span class="attr">style</span>=<span class="string">"color:#f72b07"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"备案号"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%-</span> <span class="attr">theme.icp.id</span> %&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 网站备案号》 --&gt;</span></span><br></pre></td></tr></table></figure><p>图标也可为：<a href="http://www.beian.miit.gov.cn/images/top/0.png" target="_blank" rel="noopener">http://www.beian.miit.gov.cn/images/top/0.png</a></p><h3 id="效果-v2">效果</h3><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573392403673.png" alt="file"></p><h2 id="3-设定站点建立时间">3.设定站点建立时间</h2><p>参考：</p><ul><li><a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4" target="_blank" rel="noopener">设定站点建立时间</a></li><li><a href="https://github.com/MOxFIVE/hexo-theme-yelee/commit/5b8b95628f71bf99b5cea20fa3aadd8ebd7ccc61" target="_blank" rel="noopener">https://github.com/MOxFIVE/hexo-theme-yelee/commit/5b8b95628f71bf99b5cea20fa3aadd8ebd7ccc61</a></li></ul><p>这个时间将在站点的底部显示，如果建站时间小于当前时间（年份），形式为：<code>@ 2018 - 2019</code>；否则默认为当前年份，如：<code>@2019</code>。<br>编辑主題的 <code>\themes\yilia\_config.yml</code>（在hexo根目录的配置文件中也可以），新增字段 <code>since</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Year of Site Creation | 网站成立年份</span></span><br><span class="line"><span class="comment"># 设定站点建立时间,这个时间将在站点的底部显示，如果是当年显示为 @ 2019，否则显示为时间段 © 2018 - 2019。</span></span><br><span class="line"><span class="attr">since:</span> <span class="number">2019</span></span><br></pre></td></tr></table></figure><p>对应的配置文件<code>H:\Hexo\themes\yilia\layout\_partial\footer.ejs</code>的原内容（部分内容，主要是<code>&lt;div class=&quot;footer-left&quot;&gt;</code>标签内容）：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer-info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-left"</span>&gt;</span></span><br><span class="line">    &amp;copy; <span class="tag">&lt;<span class="name">%=</span> <span class="attr">date</span>(<span class="attr">new</span> <span class="attr">Date</span>(), '<span class="attr">YYYY</span>') %&gt;</span> <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span> || <span class="attr">config.title</span> %&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-right"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://hexo.io/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Hexo<span class="tag">&lt;/<span class="name">a</span>&gt;</span>  Theme <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/litten/hexo-theme-yilia"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Yilia<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Litten</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>存在问题：小于时，不能正常显示（/按照需求显示）。修改后：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer-info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-left"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--如果有设置theme.since，并且时间小于当前时间（年份），形式为：@ 2018 - 2019(+作者/标题)；否则默认为当前年份(+作者/标题)。 --&gt;</span></span><br><span class="line">    &lt;% if (theme.since &amp;&amp; !isNaN(theme.since) &amp;&amp; theme.since &lt; date(new Date(), 'YYYY')) &#123; %&gt;</span><br><span class="line">                &amp;copy; <span class="tag">&lt;<span class="name">%-</span> <span class="attr">theme.since</span> %&gt;</span>-<span class="tag">&lt;<span class="name">%=</span> <span class="attr">date</span>(<span class="attr">new</span> <span class="attr">Date</span>(), '<span class="attr">YYYY</span>') %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></span><br><span class="line">                &amp;copy; <span class="tag">&lt;<span class="name">%=</span> <span class="attr">date</span>(<span class="attr">new</span> <span class="attr">Date</span>(), '<span class="attr">YYYY</span>') %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span> || <span class="attr">config.title</span> %&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果-v3">效果</h3><p>如：<code>since: 2018</code>显示为<code>@ 2018 - 2019</code>；否则默认为当前年份，如：<code>@2019</code>。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;hexo+yilia（在底部）添加&lt;/p&gt;&lt;ul&gt;&lt;li&gt;网站运行时间：&lt;code&gt;本站已安全运行 101 天 12 小时 13 分 41 秒&lt;/code&gt;&lt;/li&gt;&lt;li&gt;ICP备案信息：&lt;code&gt;粤ICP备00000000号&lt;/code&gt;&lt;/li&gt;&lt;li&gt;设定站点建立时间（年份）：&lt;code&gt;@ 2018 - 2019&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加RSS订阅功能</title>
    <link href="https://www.yansheng.xyz/article/91e4f23f.html"/>
    <id>https://www.yansheng.xyz/article/91e4f23f.html</id>
    <published>2019-11-10T09:05:01.000Z</published>
    <updated>2019-11-11T14:22:50.572Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>使用<strong>hexo-generator-feed</strong>插件生成RSS文件<code>atom.xml</code>，实现RSS订阅功能。<br>插件github网址：<a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="noopener">https://github.com/hexojs/hexo-generator-feed</a>。<br>使用详见：<a href="https://www.jianshu.com/p/2aaac7a19736" target="_blank" rel="noopener">https://www.jianshu.com/p/2aaac7a19736</a>，<a href="https://wxnacy.com/2018/12/12/hexo-add-rss/" target="_blank" rel="noopener">https://wxnacy.com/2018/12/12/hexo-add-rss/</a></p><a id="more"></a><h3 id="1-先安装插件：">1.先安装插件：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed</span><br></pre></td></tr></table></figure><h3 id="2-在hexo根目录配置文件-config-yml中配置插件">2.在hexo根目录配置文件<code>_config.yml</code>中配置插件:</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">atom</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">atom.xml</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">20</span> <span class="comment"># 最新的20篇文章</span></span><br></pre></td></tr></table></figure><h3 id="3-开启主题的左侧边栏的rss功能">3.开启主题的左侧边栏的RSS功能</h3><p>在主题的配置文件<code>theme/yilia/_config.yml</code>中进行设置:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SubNav</span></span><br><span class="line"><span class="attr">subnav:</span></span><br><span class="line"><span class="attr">  rss:</span> <span class="string">"atom.xml"</span></span><br></pre></td></tr></table></figure><h3 id="4-重新生成文件">4.重新生成文件</h3><p><code>hexo clean, hexo g</code>后会在<code>public</code>目录下生成<code>auto.xml</code>订阅文件，到浏览器进行访问，点击图标会跳转到<code>*/auto.xml</code>界面，显示最近的几篇文章的更新。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;使用&lt;strong&gt;hexo-generator-feed&lt;/strong&gt;插件生成RSS文件&lt;code&gt;atom.xml&lt;/code&gt;，实现RSS订阅功能。&lt;br&gt;插件github网址：&lt;a href=&quot;https://github.com/hexojs/hexo-generator-feed&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/hexojs/hexo-generator-feed&lt;/a&gt;。&lt;br&gt;使用详见：&lt;a href=&quot;https://www.jianshu.com/p/2aaac7a19736&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.jianshu.com/p/2aaac7a19736&lt;/a&gt;，&lt;a href=&quot;https://wxnacy.com/2018/12/12/hexo-add-rss/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://wxnacy.com/2018/12/12/hexo-add-rss/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加版权声明</title>
    <link href="https://www.yansheng.xyz/article/3d67529f.html"/>
    <id>https://www.yansheng.xyz/article/3d67529f.html</id>
    <published>2019-11-10T09:04:55.000Z</published>
    <updated>2019-11-11T14:26:03.987Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>添加版权声明，效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110209160.png" alt="file"></p><a id="more"></a><p>参考：</p><ul><li><a href="https://www.v53922.com/posts/cc368447.html#%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E" target="_blank" rel="noopener">版权声明</a></li><li><a href="https://blog.zscself.com/posts/ee4d9ecb/" target="_blank" rel="noopener">在Hexo中自动为Yilia主题增加版权声明</a></li><li><a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3" target="_blank" rel="noopener">hexo-theme-yilia-plus主题的版权声明</a></li></ul><hr><h2 id="1-借鉴修改版">1.借鉴修改版</h2><h3 id="1-1在文末添加声明">1.1在文末添加声明</h3><p>在<code>themes/yilia/layout/_partial/article.ejs</code>文件的指定位置如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.content</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">--</span> 在此处添加代码<span class="attr">--</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> ((<span class="attr">theme.reward_type</span> === <span class="string">2</span> || (<span class="attr">theme.reward_type</span> === <span class="string">1</span> &amp;&amp; <span class="attr">post.reward</span>)) &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br></pre></td></tr></table></figure><p>添加如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 添加版权声明 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  <span class="attr">var</span> <span class="attr">sUrl</span> = <span class="string">url.replace(/index\.html$/,</span> '');</span></span><br><span class="line"><span class="tag">  <span class="attr">sUrl</span> = <span class="string">/^(http:|https:)\/\//.test(sUrl)</span> ? <span class="attr">sUrl</span> <span class="attr">:</span> '<span class="attr">https:</span>' + <span class="attr">sUrl</span>;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> ((<span class="attr">theme.declare_type</span> === <span class="string">2</span> || (<span class="attr">theme.declare_type</span> === <span class="string">1</span> &amp;&amp; <span class="attr">post.declare</span>)) &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>本文作者：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">config.author</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span>%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;<span class="attr">else</span>&#123;%&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"red"</span>&gt;</span>请在博客根目录“_config.yml”中填入正确的“author”<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%&#125;%</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>本文链接：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.url %&gt;/&lt;%= post.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= post.title %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.url</span> %&gt;</span>/<span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.path</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>版权声明：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    本作品采用</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.licensee_url%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.licensee_name</span>%&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    进行许可。转载请注明出处！</span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.licensee_img</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.licensee_url%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"知识共享许可协议"</span> <span class="attr">style</span>=<span class="string">"border-width:0"</span> <span class="attr">src</span>=<span class="string">"&lt;%= theme.licensee_img%&gt;"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123;%&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span> <span class="attr">hidden</span>=<span class="string">"hidden"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 添加版权声明 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-2添加样式">1.2添加样式</h3><p>在文件<code>yilia/source/main.0cf68a.css</code>中添加:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*版权声明的样式*/</span></span><br><span class="line"><span class="selector-class">.declare</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">3px</span> solid <span class="number">#ff1700</span>;</span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-3在主题中开启设置">1.3在主题中开启设置</h3><p>在文件<code>themes/yilia/_config.yml</code>中添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版权声明</span></span><br><span class="line"><span class="comment">#在需要进行版权声明的文章的md文件头部，设置属性declare: true。</span></span><br><span class="line"><span class="comment">#版权基础设定：0-关闭声明； 1-文章对应的md文件里有declare: true属性，才有版权声明； 2-所有文章均有版权声明</span></span><br><span class="line"><span class="attr">declare_type:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">licensee_url:</span> <span class="attr">https://creativecommons.org/licenses/by-nc-sa/4.0/</span>        <span class="comment">#当前应用的版权协议地址。</span></span><br><span class="line"><span class="attr">licensee_name:</span> <span class="string">'知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议'</span>        <span class="comment">#版权协议的名称</span></span><br><span class="line"><span class="attr">licensee_img:</span> <span class="attr">https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png</span>    <span class="comment">#版权协议的Logo</span></span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110587644.png" alt="file"></p><h2 id="2-升级版-配置版">2.升级版-配置版</h2><p>修改：<code>H:\Hexo\themes\yilia\_config.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版权声明</span></span><br><span class="line"><span class="comment">#在需要进行版权声明的文章的md文件头部，设置属性declare: true。</span></span><br><span class="line"><span class="comment">#版权基础设定：0-关闭声明； 1-文章对应的md文件里有declare: true属性，才有版权声明； 2-所有文章均有版权声明</span></span><br><span class="line"><span class="attr">declare:</span></span><br><span class="line"><span class="attr">  declare_type:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">  licensee_url:</span> <span class="attr">https://creativecommons.org/licenses/by-nc-sa/4.0/</span>        <span class="comment">#当前应用的版权协议地址。</span></span><br><span class="line"><span class="attr">  licensee_name:</span> <span class="string">'CC BY-NC-SA 4.0'</span>                                        <span class="comment">#版权协议的名称</span></span><br><span class="line"><span class="attr">  licensee_alias:</span> <span class="string">'知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议'</span>       <span class="comment"># alias别名</span></span><br><span class="line"><span class="attr">  licensee_img:</span> <span class="attr">https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png</span>    <span class="comment">#版权协议的Logo</span></span><br></pre></td></tr></table></figure><p>新建<code>H:\Hexo\themes\yilia\layout\_partial\post\declare.ejs</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加版权声明 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--添加版权声明https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  <span class="attr">var</span> <span class="attr">sUrl</span> = <span class="string">url.replace(/index\.html$/,</span> '');</span></span><br><span class="line"><span class="tag">  <span class="attr">sUrl</span> = <span class="string">/^(http:|https:)\/\//.test(sUrl)</span> ? <span class="attr">sUrl</span> <span class="attr">:</span> '<span class="attr">https:</span>' + <span class="attr">sUrl</span>;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- #版权基础设定：0-关闭声明； 1-文章对应的md文件里有declare: true属性，才有版权声明； 2-所有文章均有版权声明 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> ((<span class="attr">theme.declare.declare_type</span> === <span class="string">2</span> || (<span class="attr">theme.declare.declare_type</span> === <span class="string">1</span> &amp;&amp; <span class="attr">post.declare</span>)) &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"author"</span>&gt;</span>本文作者：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">config.author</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span>%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;<span class="attr">else</span>&#123;%&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"red"</span>&gt;</span>请在博客根目录“_config.yml”中填入正确的“author”<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%&#125;%</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"create-time"</span>&gt;</span>发布时间：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">date</span>(<span class="attr">post.date</span>, '<span class="attr">YYYY-MM-DD</span>') %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"update-time"</span>&gt;</span>最后更新：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">date</span>(<span class="attr">post.updated</span>, '<span class="attr">YYYY-MM-DD</span>') %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"article-titles"</span>&gt;</span>本文标题：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.url %&gt;/&lt;%= post.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= post.title %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"article-url"</span>&gt;</span>本文链接：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.url %&gt;/&lt;%= post.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= post.title %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.url</span> %&gt;</span>/<span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.path</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"copyright"</span>&gt;</span>版权声明：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    本作品采用</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.declare.licensee_url%&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= theme.declare.licensee_alias %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.declare.licensee_name</span>%&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    许可协议进行许可。转载请注明出处！</span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.declare.licensee_img</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.declare.licensee_url%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"知识共享许可协议"</span> <span class="attr">style</span>=<span class="string">"border-width:0"</span> <span class="attr">src</span>=<span class="string">"&lt;%= theme.declare.licensee_img%&gt;"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123;%&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span> <span class="attr">hidden</span>=<span class="string">"hidden"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加版权声明》 --&gt;</span></span><br></pre></td></tr></table></figure><p>修改<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加版权声明 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.declare</span>)&#123;%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">declare</span>') %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加版权声明》 --&gt;</span></span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110209160.png" alt="file"></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;添加版权声明，效果图：&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110209160.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加背景音乐</title>
    <link href="https://www.yansheng.xyz/article/5c52aefe.html"/>
    <id>https://www.yansheng.xyz/article/5c52aefe.html</id>
    <published>2019-11-10T09:04:31.000Z</published>
    <updated>2019-11-11T15:31:08.918Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>添加背景音乐（截图为APlayer播放器）<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573392916217.png" alt="file"></p><a id="more"></a><h3 id="简单版：网易云外链">简单版：网易云外链</h3><p>参考：</p><ul><li><a href="https://www.writebug.site/2018/04/21/hexo-yilia%E4%B8%AA%E6%80%A7%E5%8C%96%E4%B9%8B-%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90/" target="_blank" rel="noopener">hexo+yilia个性化之-添加背景音乐</a></li><li><a href="https://www.techgrow.cn/posts/cfdad023.html" target="_blank" rel="noopener">Hexo博客yilia主题添加背景音乐 （网易云音乐）</a></li></ul><p>步骤：</p><p>1.到<a href="https://music.163.com/" target="_blank" rel="noopener">网易云官网</a>获取音乐外链：搜索音乐–&gt;生成外链播放器（使用iframe插件形式）–&gt;复制代码</p><p>2.打开路径 <code>themes/yilia/layout/_partial/left-col.ejs</code>，在最后一个<code>&lt;/nav&gt;</code>上面添加代码，就像下面这样。注意是否需要自动播放，建议不要设置为自动播放（src中的<code>auto=0</code>表示不自动播放，如果是1就自动播放）。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">228</span> <span class="attr">height</span>=<span class="string">86</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1371939273&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.根据需要设置宽高属性，宽建议228。</p><p>4.为了方便起见，设置成能够在主题的配置文件中开启和关闭的形式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《左侧边栏添加--网易云音乐插件 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://www.writebug.site/2018/04/21/hexo-yilia个性化之-添加背景音乐/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.simple_163_music</span> &amp;&amp; <span class="attr">theme.simple_163_music.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">228</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1371939273&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 网易云音乐插件》--&gt;</span></span><br></pre></td></tr></table></figure><p>同时需要在主题的配置文件<code>themes/yilia/_config.yml</code>中开启：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 音乐</span></span><br><span class="line"><span class="comment"># 简单的网易云音乐</span></span><br><span class="line"><span class="attr">simple_163_music:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如需关闭设置为false。</p><h3 id="复杂版：aplayer音乐播放器">复杂版：APlayer音乐播放器</h3><p>参考：</p><ul><li><a href="https://www.techgrow.cn/posts/cfdad023.html" target="_blank" rel="noopener">Hexo全局添加APlayer音乐播放器</a></li><li>APlayer官网：<a href="https://aplayer.js.org" target="_blank" rel="noopener">https://aplayer.js.org</a></li><li>github仓库：<a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener">https://github.com/MoePlayer/APlayer</a></li><li>使用说明：<a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">https://aplayer.js.org/#/zh-Hans/</a></li></ul><h4 id="安装步骤">安装步骤</h4><p>1.打开路径 <code>themes/yilia/layout/_partial/left-col.ejs</code>，在最后一个<code>&lt;/nav&gt;</code>上面添加代码，就像下面这样。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《左侧边栏添加--APlayer音乐播放器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- // 这里div的样式是笔者自己修改过的，你可以直接使用APlayer官方的原配置：&lt;div id="aplayer"&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"position:absolute;left;0;bottom:0;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span></span><br><span class="line"><span class="javascript">        container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span></span><br><span class="line"><span class="javascript">        autoplay: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">        listFolded: <span class="literal">true</span>,</span></span><br><span class="line">        listMaxHeight: 90,</span><br><span class="line"><span class="javascript">        order: <span class="string">'list'</span>,</span></span><br><span class="line"><span class="javascript">        loop: <span class="string">'all'</span>,</span></span><br><span class="line"><span class="javascript">        theme: <span class="string">'#b7daff'</span>,</span></span><br><span class="line"><span class="javascript">        preload: <span class="string">'none'</span>,</span></span><br><span class="line"><span class="javascript">        mutex: <span class="literal">true</span>,</span></span><br><span class="line">        lrcType: 3,</span><br><span class="line">        volume: 0.7,</span><br><span class="line"><span class="javascript">        fixed: <span class="literal">true</span>,</span></span><br><span class="line">        audio: [&#123;</span><br><span class="line"><span class="javascript">                name: <span class="string">'亲爱的旅人啊（Cover：木村弓）'</span>,</span></span><br><span class="line"><span class="javascript">                artist: <span class="string">'周深'</span>,</span></span><br><span class="line"><span class="javascript">                lrc: <span class="string">'/music/lrc/亲爱的旅人啊（Cover：木村弓）-周深.lrc'</span>,</span></span><br><span class="line"><span class="javascript">                cover: <span class="string">'http://p1.music.126.net/1YrCPOBV314i-mTtlDg8mQ==/109951164148664637.jpg?param=300x300'</span>,</span></span><br><span class="line"><span class="javascript">                url: <span class="string">'http://m10.music.126.net/20191102134206/7c499bc0065a03c980aa04817b2b7b2b/ymusic/555f/525a/5258/b5f91cd86ce0046a6f70e249d0802a1e.mp3'</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line"><span class="javascript">                name: <span class="string">'陈情令：无羁'</span>,</span></span><br><span class="line"><span class="javascript">                artist: <span class="string">'Silu Wang'</span>,</span></span><br><span class="line"><span class="javascript">                lrc: <span class="string">''</span>,</span></span><br><span class="line"><span class="javascript">                cover: <span class="string">'http://p2.music.126.net/8eL7nls1F8o48_umy0uqBQ==/109951164361652548.jpg?param=300x300'</span>,</span></span><br><span class="line"><span class="javascript">                url: <span class="string">'http://m10.music.126.net/20191102144314/e85a4a99852144dced7bc7eace047ecc/ymusic/015d/550f/5152/67f6f0756ebe8bd362f5f85c507acf68.mp3'</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- 根据封面自适应主题色 --&gt;</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="javascript">            colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span>(<span class="params">color</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    setTheme(ap.list.index);</span><br><span class="line"><span class="javascript">    ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">        setTheme(data.index);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><p>2.同时需要在主题的配置文件<code>themes/yilia/_config.yml</code>中开启：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加APlayer音乐播放器，官网：https://aplayer.js.org</span></span><br><span class="line"><span class="comment"># github: https://github.com/MoePlayer/APlayer</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如需关闭设置为false。</p><h4 id="说明">说明</h4><p>1.存在问题：<code>fixed: true</code>模式下，歌曲列表高度<code>listMaxHeight</code>好像无效。</p><p>2.使用：音乐直链搜索：<a href="https://music.liuzhijin.cn/" target="_blank" rel="noopener">https://music.liuzhijin.cn/</a> 查找的歌曲好像有限制，就是如果使用太频繁，会被拒绝访问（响应码403，有点像禁爬虫）。可以使用七牛云存储对应MP3文件。（歌词好像是没有显示的）</p><p>3.对于有些歌曲没有歌词的情况（如上面的第二首歌），不建议直接置为空<code>lrc: '',</code>，这样会出现问题：一开始可能没有问题，如果设置循环，第二次时就会报错–找不到歌词。建议：添加同名歌词文件，如<code>/music/lrc/无羁 - Silu Wang-陈情令.lrc</code>，歌词内容置为空，如：<code>[00:00.00] 暂无歌词</code>，这样就不会出现类似问题。</p><h4 id="补充🐛">补充🐛</h4><p>上面说到的歌曲列表高度<code>listMaxHeight</code>问题，应该是一个bug，详见：<a href="https://github.com/MoePlayer/APlayer/issues/345" target="_blank" rel="noopener">listMaxHeight does not work and no scroll in Fixed mode</a>，但是可以不进行设置，因为它有一个默认值250px。</p><h4 id="更新">更新</h4><p>将配置分开，方便修改。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《左侧边栏添加--APlayer音乐播放器：详见：https://aplayer.js.org/#/zh-Hans/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"text-align:left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为方便修改，添加一个配置文件，修改时直接修改配置文件即可。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&lt;%- url_for('js/APlayer_config.js') %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 根据封面自适应主题色，主要是作用于进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="javascript">              colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span>(<span class="params">color</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;;</span><br><span class="line">          setTheme(ap.list.index);</span><br><span class="line"><span class="javascript">          ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">            setTheme(data.index);</span><br><span class="line">          &#125;);       </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><p>配置文件<code>H:\Hexo\themes\yilia\source\js\APlayer_config.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span><br><span class="line">    fixed: <span class="literal">true</span>,</span><br><span class="line">    autoplay: <span class="literal">false</span>,</span><br><span class="line">    theme: <span class="string">'#b7daff'</span>,</span><br><span class="line">    loop: <span class="string">'all'</span>,</span><br><span class="line">    order: <span class="string">'list'</span>,</span><br><span class="line">    preload: <span class="string">'auto'</span>,</span><br><span class="line">    volume: <span class="number">0.5</span>,</span><br><span class="line">    lrcType: <span class="number">3</span>,</span><br><span class="line">    mutex: <span class="literal">true</span>,</span><br><span class="line">    listFolded: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">    audio: [&#123;</span><br><span class="line">            name: <span class="string">'一直很安静'</span>,</span><br><span class="line">            artist: <span class="string">'阿桑'</span>,</span><br><span class="line">            lrc: <span class="string">'/music/lrc/一直很安静 - 阿桑.lrc'</span>,</span><br><span class="line">            cover: <span class="string">'https://p1.music.126.net/SpovasHBud2A1qXXADXsBg==/109951163167455610.jpg?param=300x300'</span>,</span><br><span class="line">            url: <span class="string">'http://q0fzyzixq.bkt.clouddn.com/audio/mp3/一直很安静 - 阿桑.mp3'</span></span><br><span class="line">                  &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'亲爱的旅人啊（Cover：木村弓）'</span>,</span><br><span class="line">            artist: <span class="string">'周深'</span>,</span><br><span class="line">            lrc: <span class="string">'/music/lrc/亲爱的旅人啊（Cover：木村弓）-周深.lrc'</span>,</span><br><span class="line">            cover: <span class="string">'https://p1.music.126.net/1YrCPOBV314i-mTtlDg8mQ==/109951164148664637.jpg?param=300x300'</span>,</span><br><span class="line">            url: <span class="string">'http://q0fzyzixq.bkt.clouddn.com/audio/mp3/亲爱的旅人啊（Cover：木村弓） - 周深.mp3'</span></span><br><span class="line">                  &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>分开后，如果需要更新歌曲，只需要更新音乐的配置文件<code>APlayer_config.js</code>就可以了，而不是修改主题的布局文件。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;添加背景音乐（截图为APlayer播放器）&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573392916217.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加相册视屏功能</title>
    <link href="https://www.yansheng.xyz/article/d0ba4c3d.html"/>
    <id>https://www.yansheng.xyz/article/d0ba4c3d.html</id>
    <published>2019-11-10T09:04:12.000Z</published>
    <updated>2019-11-11T15:35:37.970Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>主要是添加相册和视频功能，参考<a href="http://lawlite.me/2017/04/13/Hexo-Github%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">Hexo-Github实现相册功能</a> ，csdn博客：<a href="https://blog.csdn.net/u013082989/article/details/70162293" target="_blank" rel="noopener">Hexo+Github实现相册功能</a>，我看到网上好多人都是按照这个模板来实现的。<br>效果图：<br><img src="https://s2.ax1x.com/2019/08/15/mV0P56.jpg" alt="mV0P56.jpg"></p><a id="more"></a><p>注：这个视频加载不出来应该是因为和视频链接有关系.<br><img src="https://s2.ax1x.com/2019/08/15/mV0CUx.jpg" alt="mV0CUx.jpg"></p><h2 id="一-增加相册功能">一、增加相册功能</h2><h3 id="1-原理">1. 原理</h3><p>两个github仓库，一个存放图片，一个存放hexo博客（当然你一个仓库两个分支也可以，我就是这样）。<br><img src="https://s2.ax1x.com/2019/08/15/mV0Yrj.jpg" alt="mV0Yrj.jpg"></p><h3 id="2-修改代码">2.修改代码</h3><p>源代码到github去下：<a href="https://github.com/lawlite19/Blog-Back-Up" target="_blank" rel="noopener">https://github.com/lawlite19/Blog-Back-Up</a></p><h4 id="2-1-新建博客的photos页面">2.1 新建博客的photos页面</h4><ul><li><p>在<strong>博客</strong>的<code>source</code>文件夹下建立一个<code>photos</code>文件夹</p></li><li><p>将样式文件放到<code>photos</code>文件夹下，样式文件我都放到了<code>github</code>上：<a href="https://github.com/lawlite19/Blog-Back-Up/tree/master/blog_photos_copy" target="_blank" rel="noopener">https://github.com/lawlite19/Blog-Back-Up/tree/master/blog_photos_copy</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">├─blog_photos_copy</span><br><span class="line">│      data.json</span><br><span class="line">│      index.ejs</span><br><span class="line">│      ins.css</span><br><span class="line">│      ins.js</span><br><span class="line">│      lazyload.min.js</span><br></pre></td></tr></table></figure></li><li><p>修改<code>ins.js</code>文件，主要是里面的<code>render</code>函数</p></li><li><p>其中的<code>url</code>对应到你的<code>github</code>放图片的地址</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSrc = <span class="string">'https://raw.githubusercontent.com/lawlite19/blog-back-up/master/min_photos/'</span> + data.link[i];</span><br><span class="line"><span class="keyword">var</span> src = <span class="string">'https://raw.githubusercontent.com/lawlite19/blog-back-up/master/photos/'</span> + data.link[i];</span><br></pre></td></tr></table></figure><h4 id="2-2-新建本地图片库">2.2 新建本地图片库</h4><p>新建一个文件夹存放图片，我的是<code>photos-source</code>，新建目录<code>photos</code>，<code>min_photos</code>，同时把<code>ImageProcess.py</code>,<code>ImageProcess.pyc</code>， <code>tool.py</code> 这三个文件放到该目录下。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">H:.photos-source</span><br><span class="line">│  ImageProcess.py</span><br><span class="line">│  ImageProcess.pyc</span><br><span class="line">│  tool.py</span><br><span class="line">│</span><br><span class="line">├─blog_photos_copy</span><br><span class="line">│      data.json</span><br><span class="line">│      index.ejs</span><br><span class="line">│      ins.css</span><br><span class="line">│      ins.js</span><br><span class="line">│      lazyload.min.js</span><br><span class="line">│</span><br><span class="line">├─min_photos</span><br><span class="line">│      2014-11-16_鞠婧祎1.jpg</span><br><span class="line">│</span><br><span class="line">├─photos</span><br><span class="line">│      2014-11-16_鞠婧祎1.jpg</span><br><span class="line">│      data.json</span><br><span class="line">│</span><br><span class="line">└─__pycache__</span><br><span class="line">        ImageProcess.cpython-37.pyc</span><br></pre></td></tr></table></figure><h4 id="2-3-修改tool-py中的路径">2.3 修改<code>tool.py</code>中的路径</h4><p>修改这里的下面代码块的路径：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#路径换成自己的博客的图片文件夹的路径:H:\Hexo\source\photos</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"H:\\Hexo\\source\\photos\\data.json"</span>,<span class="string">"w"</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        json.dump(final_dict, fp)</span><br></pre></td></tr></table></figure><p>注意：如果不是用两个仓库，可以注释git命令部分内容，然后需要自己先将图片上传到github上，要不然显示不了。</p><h4 id="2-4-每次上传照片都需要运行python脚本">2.4 每次上传照片都需要运行python脚本</h4><p>需要安装python环境，在命令行运行<code>py tool.py</code>命令。</p><h4 id="2-5-开启相册功能">2.5 开启相册功能</h4><p><code>H:\Hexo\themes\yilia\_config.yml</code>取消注册相册行。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">主页:</span> <span class="string">/</span></span><br><span class="line">  <span class="comment">#随笔: /tags/随笔/</span></span><br><span class="line">  <span class="comment">#分类: /categories</span></span><br><span class="line">  <span class="string">归档:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="string">相册:</span> <span class="string">/photos</span></span><br><span class="line">  <span class="comment">#标签: /tags</span></span><br></pre></td></tr></table></figure><h3 id="3-存在问题">3.存在问题</h3><p>众所周知，国内访问GitHub还有比较慢的，所以有时候图片会加载不出来。<br>替换方法：使用七牛云作为图库，存放图片，这种方式网上也很常见，可以自行修改。</p><h2 id="二-添加-相册页的-视频功能">二、添加（相册页的）视频功能</h2><p>视频功能基于相册功能，相当于在其旁边添加一个导航栏，导航到相册页。</p><h3 id="1-添加视频样式css">1、添加视频样式css</h3><ul><li>打开<strong>当前博客</strong><code>source\photos</code>文件夹下的<code>ins.css</code>文件</li><li>加入如下内容</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ====== video ===== */</span></span><br><span class="line"> <span class="selector-class">.video-container</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">56.25%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.video-container</span> <span class="selector-tag">iframe</span>, <span class="selector-class">.video-container</span> <span class="selector-tag">object</span>, <span class="selector-class">.video-container</span> <span class="selector-tag">embed</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">7%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">85%</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">20px</span> <span class="number">2px</span> <span class="number">#888888</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-添加视频">2、添加视频</h3><ul><li>我这里添加的是<strong>优酷</strong>上面的视频</li><li>在<strong>当前博客</strong><code>source\photos</code>文件夹下建立<code>videos.ejs</code>文件</li><li>内容如下：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">slug: "photos"</span><br><span class="line">title: "相册"</span><br><span class="line">noDate: "true"</span><br><span class="line">comments: "true"</span><br><span class="line">reward: "true"</span><br><span class="line">open_in_new: false</span><br><span class="line">---</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./ins.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"photos-btn-wrap"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn"</span> <span class="attr">href</span>=<span class="string">"/photos"</span>&gt;</span>Photos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn active"</span> <span class="attr">href</span>=<span class="string">"/photos/videos.html"</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指弹_女儿情<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"80%"</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMjUzMzY4OTM3Ng=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指弹_友谊地久天长<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"80%"</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMjQ5MDExOTY2MA=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指弹_Always with me<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"80%"</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMjQ4MDQyNTQ0MA=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-修改-hexo-source-photos-index-ejs的相册的超链接">3、修改<code>\Hexo\source\photos\index.ejs</code>的相册的超链接</h3><p>原来是<code>&lt;a class=&quot;photos-btn&quot; href=&quot;#&quot;&gt;Videos&lt;/a&gt;</code>，不修改是访问不了的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">slug: "photos"</span><br><span class="line">title: "相册"</span><br><span class="line">noDate: "true"</span><br><span class="line">comments: "false"</span><br><span class="line">---</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./ins.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"photos-btn-wrap"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn active"</span> <span class="attr">href</span>=<span class="string">"javascript:void(0)"</span>&gt;</span>Photos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn"</span> <span class="attr">href</span>=<span class="string">"/photos/videos.html"</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;主要是添加相册和视频功能，参考&lt;a href=&quot;http://lawlite.me/2017/04/13/Hexo-Github%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo-Github实现相册功能&lt;/a&gt; ，csdn博客：&lt;a href=&quot;https://blog.csdn.net/u013082989/article/details/70162293&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo+Github实现相册功能&lt;/a&gt;，我看到网上好多人都是按照这个模板来实现的。&lt;br&gt;效果图：&lt;br&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/08/15/mV0P56.jpg&quot; alt=&quot;mV0P56.jpg&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加百度统计和Google统计</title>
    <link href="https://www.yansheng.xyz/article/eda67a25.html"/>
    <id>https://www.yansheng.xyz/article/eda67a25.html</id>
    <published>2019-11-10T09:04:04.000Z</published>
    <updated>2019-11-12T07:44:31.555Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><h3 id="简介">简介</h3><p>百度统计和Google统计主要用于分析网站数据：流量、访客量等。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478431897.png" alt="file"></p><p>需要注册账号，然后将代码（脚本）嵌入到网站中，然后在后台就会生成对应数据，然后进行分析。</p><ul><li>百度统计网址：<a href="https://tongji.baidu.com" target="_blank" rel="noopener">https://tongji.baidu.com</a></li><li>Google统计网址：<a href="https://analytics.google.com/analytics/web/" target="_blank" rel="noopener">https://analytics.google.com/analytics/web/</a></li></ul><a id="more"></a><h3 id="说明">说明</h3><p>yilia主题已集成，位置如下，我们只需要在主题的配置文件中进行配置即可。</p><ul><li><code>H:\Hexo\themes\yilia\layout\_partial\baidu-analytics.ejs</code></li><li><code>H:\Hexo\themes\yilia\layout\_partial\google-analytics.ejs</code></li></ul><h3 id="配置">配置</h3><p><code>H:\Hexo\themes\yilia\_config.yml</code>原内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Miscellaneous</span></span><br><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">google_analytics:</span> <span class="string">''</span></span><br></pre></td></tr></table></figure><p>主要是配置对应的id即可（google_analytics的代码好像更新了，建议新建，使用新的代码）。</p><h4 id="百度">百度</h4><p>网址生成的原代码（id是一串字符串，这里隐藏了）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> _hmt = _hmt || [];</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">  hm.src = <span class="string">"https://hm.baidu.com/hm.js?id"</span>;</span><br><span class="line">  <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>]; </span><br><span class="line">  s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573050740534.png" alt="file"></p><p>对应的配置文件<code>H:\Hexo\themes\yilia\layout\_partial\baidu-analytics.ejs</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.baidu_analytics</span>)&#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> _hmt = _hmt || [];</span></span><br><span class="line"><span class="javascript">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></span><br><span class="line"><span class="javascript">hm.src = <span class="string">"https://hm.baidu.com/hm.js?&lt;%= theme.baidu_analytics %&gt;"</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>]; </span></span><br><span class="line">s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h4 id="google全局网站代码-gtag-js">Google全局网站代码 (gtag.js)</h4><p>我找了好久才找到代码，因此记录下：</p><p><strong>生成代码</strong>：控制台–&gt;（左下角）管理–&gt;管理–&gt;（中间）媒体资源–&gt;（中间）跟踪信息–&gt;跟踪代码</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573052579176.png" alt="file"></p><p>这是针对此媒体资源的全局网站代码 (gtag.js) 跟踪代码。请复制此代码，并将其作为第一个项目粘贴到您要跟踪的每个网页的<code>&lt;HEAD&gt;</code> 标记中。如果您的网页上已经有全局网站代码，则只需将以下代码段中的 <strong>config</strong> 行添加到现有的全局网站代码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span><br><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"https://www.googletagmanager.com/gtag/js?id=ID"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span><br><span class="line">  gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">  gtag(<span class="string">'config'</span>, <span class="string">'ID'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573050951989.png" alt="file"></p><p>对应的配置文件<code>H:\Hexo\themes\yilia\layout\_partial\google_analytics.ejs</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.google_analytics</span>)&#123; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">(<span class="function"><span class="keyword">function</span>(<span class="params">i,s,o,g,r,a,m</span>)</span>&#123;i[<span class="string">'GoogleAnalyticsObject'</span>]=r;i[r]=i[r]||<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">(i[r].q=i[r].q||[]).push(<span class="built_in">arguments</span>)&#125;,i[r].l=<span class="number">1</span>*<span class="keyword">new</span> <span class="built_in">Date</span>();a=s.createElement(o),</span></span><br><span class="line">m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)</span><br><span class="line"><span class="javascript">&#125;)(<span class="built_in">window</span>,<span class="built_in">document</span>,<span class="string">'script'</span>,<span class="string">'//www.google-analytics.com/analytics.js'</span>,<span class="string">'ga'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">ga(<span class="string">'create'</span>, <span class="string">'&lt;%= theme.google_analytics %&gt;'</span>, <span class="string">'auto'</span>);</span></span><br><span class="line"><span class="javascript">ga(<span class="string">'send'</span>, <span class="string">'pageview'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- End Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>代码好像更新了，yilia主题自带的代码应该是旧的，更换为下面的：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.google_analytics</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://www.googletagmanager.com/gtag/js?id=&lt;%= theme.google_analytics %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span></span><br><span class="line"><span class="javascript">      gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"><span class="javascript">      gtag(<span class="string">'config'</span>, <span class="string">'&lt;%= theme.google_analytics %&gt;'</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- End Google Analytics --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="配置id">配置id</h4><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Miscellaneous(杂项):百度统计、Google统计</span></span><br><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">'百度统计id'</span></span><br><span class="line"><span class="attr">google_analytics:</span> <span class="string">'Google统计id'</span></span><br></pre></td></tr></table></figure><h4 id="成功效果">成功效果</h4><p>本地测试，F12打开控制台，没有报相关错误，而且在<code>Sources--&gt;Page</code>有显示下面两个网站，说明配置成功了。过一段之间再去数据分析控制台查看，应该就会有数据。百度介绍说好像是20分钟就有数据了，我试了下，真有了，很快。google也立刻就有数据了。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573051922653.png" alt="file"></p><h3 id="说明-v2">说明</h3><p>Google虽然好，但是因为墙的原因，所以有时候可能会出现问题。</p><blockquote><p>参考：</p><ul><li><a href="https://support.google.com/analytics/answer/1008080?hl=zh-Hans" target="_blank" rel="noopener">设置 Google Analytics（分析）代码</a></li><li><a href="https://blog.csdn.net/qq_39181100/article/details/86657766" target="_blank" rel="noopener">Hexo-blog-yilia主题迭代 – 增加RSS功能+百度统计/google统计</a></li></ul></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;h3 id=&quot;简介&quot;&gt;简介&lt;/h3&gt;&lt;p&gt;百度统计和Google统计主要用于分析网站数据：流量、访客量等。&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478431897.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;&lt;p&gt;需要注册账号，然后将代码（脚本）嵌入到网站中，然后在后台就会生成对应数据，然后进行分析。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;百度统计网址：&lt;a href=&quot;https://tongji.baidu.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://tongji.baidu.com&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Google统计网址：&lt;a href=&quot;https://analytics.google.com/analytics/web/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://analytics.google.com/analytics/web/&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia进行SEO优化</title>
    <link href="https://www.yansheng.xyz/article/c1217b1d.html"/>
    <id>https://www.yansheng.xyz/article/c1217b1d.html</id>
    <published>2019-11-10T09:04:02.000Z</published>
    <updated>2019-11-12T07:44:22.977Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><h2 id="介绍">介绍</h2><h3 id="seo优化">SEO优化</h3><p>推广是一个烦人的事情，特别是对于我们搞技术的来说，可能就不擅长推广，那么怎么才能让别人知道我们呢，我们就要想办法让别人通过搜索就可以搜索到你博客的内容，给我们带来自然流量，这就需要seo优化,让我们的站点变得对搜索引擎友好。</p><blockquote><p>SEO是由英文Search Engine Optimization缩写而来， 中文意译为“搜索引擎优化”。SEO是指通过站内优化比如网站结构调整、网站内容建设、网站代码优化等以及站外优化。</p></blockquote><a id="more"></a><h2 id="百度收录">百度收录</h2><p>参考：<a href="https://blog.csdn.net/linzhiqiang0316/article/details/89344595" target="_blank" rel="noopener">https://blog.csdn.net/linzhiqiang0316/article/details/89344595</a><br>百度官方介绍：<a href="https://ziyuan.baidu.com/college/articleinfo?id=1504" target="_blank" rel="noopener">https://ziyuan.baidu.com/college/articleinfo?id=1504</a></p><p>bug:提交推送链接后，百度好像有延迟，你不能立即看到提交数据的变化，我的是过几天后才有数据的。</p><h3 id="如何选择链接提交方式-？">如何选择链接提交方式 ？</h3><ol><li>手动提交：一次性提交链接给百度，可以使用此种方式。</li><li>自动提交（虽然这种方式各有千秋，但是百度推荐全用上，全面一点！）：<br>2.1 主动推送（实时）：最为快速的提交方式，推荐您将站点当天新产出链接立即通过此方式推送给百度，以保证新链接可以及时被百度收录。<br>2.2 自动推送：最为便捷的提交方式，请将自动推送的JS代码部署在站点的每一个页面源代码中，部署代码的页面在每次被浏览时，链接会被自动推送给百度。可以与主动推送配合使用。<br>2.3 sitemap：您可以定期将网站链接放到sitemap中，然后将sitemap提交给百度。百度会周期性的抓取检查您提交的sitemap，对其中的链接进行处理，但收录速度慢于主动推送。</li></ol><h3 id="设置推送">设置推送</h3><p>站长平台：<a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener">https://ziyuan.baidu.com</a></p><p>前提：注册百度，添加站点、验证站点。</p><p><strong>注意</strong>：使用HTML进行验证的话，要保证该文件上传到网站后是一模一样的，即不然被渲染和压缩，跳过渲染可以再HTML文件前面加入下面的内容；跳过压缩因插件而异。跳过该HTML文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>验证成功就能在百度找到你的网站了,如<code>site:www.yansheng.xyz</code>，不过百度好像没有那么快，可能需要一两天。</p><h4 id="主动推送">主动推送</h4><p>参考：<a href="https://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/" target="_blank" rel="noopener">Hexo插件之百度主动提交链接</a></p><h5 id="前提：获得秘钥">前提：获得秘钥</h5><p>您得注册百度站长工具，然后在**（标题栏）网站支持-&gt;数据引入-&gt;链接提交**里找到你的密匙。<br><img src="https://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/token.png" alt="img"></p><h5 id="添加插件hexo-baidu-url-submit">添加插件hexo-baidu-url-submit</h5><p>该插件github网址：<a href="https://github.com/huiwang/hexo-baidu-url-submit" target="_blank" rel="noopener">https://github.com/huiwang/hexo-baidu-url-submit</a></p><p>首先，在Hexo根目录下，安装本插件：<br><code>npm install hexo-baidu-url-submit --save</code></p><h5 id="配置-百度主动推送">配置“百度主动推送”</h5><p>然后，同样在根目录下，把以下内容配置到<code>_config.yml</code>文件中:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 百度主动推送</span></span><br><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line"><span class="attr">  count:</span> <span class="number">1</span> <span class="comment">## 提交最新的一个链接</span></span><br><span class="line"><span class="attr">  host:</span> <span class="string">www.hui-wang.info</span> <span class="comment">## 在百度站长平台中注册的域名</span></span><br><span class="line"><span class="attr">  token:</span> <span class="string">your_token</span> <span class="comment">## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidu_urls.txt</span> <span class="comment">## 文本文档的地址， 新链接会保存在此文本文档里</span></span><br></pre></td></tr></table></figure><p>其次，记得查看<code>_config.yml</code>文件中url的值， 必须包含是百度站长平台注册的域名（一般有www）， 比如:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">http://www.hui-wang.info</span></span><br></pre></td></tr></table></figure><p>最后，加入新的deployer:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">s3</span> <span class="comment">## 这是我原来的deployer</span></span><br><span class="line"><span class="attr">  bucket:</span> <span class="string">hui-wang.info</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">baidu_url_submitter</span> <span class="comment">## 这是新加的</span></span><br></pre></td></tr></table></figure><p>注意：上面是官方的文档，而实际上应该要这样，可参考我的：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> </span><br><span class="line"><span class="attr">     github:</span> <span class="attr">https://github.com/yansheng836/yansheng836.github.io.git</span></span><br><span class="line"><span class="attr">     coding:</span> <span class="attr">https://git.dev.tencent.com/yansheng836/yansheng836.coding.me.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="comment"># 发布时，同时进行百度推送</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">baidu_url_submitter</span></span><br></pre></td></tr></table></figure><p>因为不是有两个deploy，要放在一起。</p><h5 id="如何进行推送">如何进行推送</h5><p>执行<code>hexo deploy</code>的时候，新的连接就会被推送了。如下图</p><p><img src="https://s2.ax1x.com/2019/08/17/mnv2AU.jpg" alt="mnv2AU.jpg"></p><p>查看官网信息(如下所示)我们可以知道这是推送成功了。</p><p>补充：官网信息查看方式**(标题栏)网站支持-&gt;数据引入-&gt;链接提交-&gt;自动提交-&gt;主动推送**，在下面就有推送成功的信息（如下）。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#成功返回示例：</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">"remain"</span>:<span class="number">4999998</span>,</span><br><span class="line">    <span class="attr">"success"</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="attr">"not_same_site"</span>:[],</span><br><span class="line">    <span class="attr">"not_valid"</span>:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重新生成后，我们可以发现在<code>public\</code>目录下生成有<code>baidu_urls.txt</code>里面的就是推送的链接。</p><h4 id="自动推送">自动推送</h4><p>参考：<a href="https://purewhite.io/2017/04/29/hexo-baidu-url-submit/" target="_blank" rel="noopener">https://purewhite.io/2017/04/29/hexo-baidu-url-submit/</a></p><p><a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3</a></p><p>1.在配置<code>H:\Hexo\themes\yilia\_config.yml</code>中开启功能：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开启百度站长平台自动推送(https://ziyuan.baidu.com/linksubmit/index)</span></span><br><span class="line"><span class="comment"># 页面被访问了，就会被推送过去。</span></span><br><span class="line"><span class="attr">baidu_push:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>2.新建<code>H:\Hexo\themes\yilia\layout\_partial\baidu-push.ejs</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.baidu_push</span>)&#123; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 开启百度站长平台自动推送https://ziyuan.baidu.com/linksubmit/index，</span></span><br><span class="line"><span class="comment">https://ziyuan.baidu.com/college/courseinfo?id=267&amp;page=2#h2_article_title19--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> bp = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> curProtocol = <span class="built_in">window</span>.location.protocol.split(<span class="string">':'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (curProtocol === <span class="string">'https'</span>) &#123;</span></span><br><span class="line"><span class="javascript">      bp.src = <span class="string">'https://zz.bdstatic.com/linksubmit/push.js'</span>;</span></span><br><span class="line"><span class="javascript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      bp.src = <span class="string">'http://push.zhanzhang.baidu.com/push.js'</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>];</span></span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">  &#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>3.在<code>H:\Hexo\themes\yilia\layout\_partial\head.ejs</code>的<code>&lt;/head&gt;</code>前引入脚本：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--百度自动推送--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">baidu-push</span>') %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="sitemap">sitemap</h4><p>参考博客:<a href="https://purewhite.io/2017/04/29/hexo-baidu-url-submit/" target="_blank" rel="noopener">https://purewhite.io/2017/04/29/hexo-baidu-url-submit/</a></p><p>我们使用 <code>hexo generator-baidu-sitemap</code>这个插件，github：<a href="https://github.com/coneycode/hexo-generator-baidu-sitemap" target="_blank" rel="noopener">https://github.com/coneycode/hexo-generator-baidu-sitemap</a></p><p>或者使用这个插件：<a href="https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap" target="_blank" rel="noopener">https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap</a>:它将为页面，帖子，类别，标签和XSL样式表生成单独的站点地图文件。</p><h5 id="安装hexo-generator-baidu-sitemap插件">安装<code>hexo generator-baidu-sitemap</code>插件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#if your hexo version is 2.x.x, you should install as follow:</span></span><br><span class="line">$ npm install hexo-generator-baidu-sitemap@0.0.8 --save</span><br><span class="line"></span><br><span class="line"><span class="comment">#if version is 3.x.x, you should install as follow:</span></span><br><span class="line">$ npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><h5 id="然后在-config-yml-里面配置一下：">然后在<code>_config.yml</code> 里面配置一下：</h5><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p><code>hexo g</code>后，会在<code>public\</code>目录下生成站点文件<code>baidusitemap.xml</code>。</p><h5 id="百度站长平台设置">百度站长平台设置</h5><p>之后去百度站长平台提交一下 sitemap 的路径就好，一般都是 <code>www.example.com/baidusitemap.xml</code>，一段时间后，去百度搜索相关信息就会出现这些网页。</p><h3 id="效果">效果</h3><p>在站长平台可以看到链接提交数量，如：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573539847586.png" alt="file"></p><h2 id="google收录">Google收录</h2><p>和百度类似。</p><h4 id="添加网站-验证">添加网站、验证</h4><p>登录Google账号，打开搜索控制台：<a href="https://search.google.com/search-console" target="_blank" rel="noopener">https://search.google.com/search-console</a>，添加你的网站，需要验证网站，它那里会提供几种验证方式，我是用HTML，下载它的HTML文件，将它添加到你的网站根目录下，然后点击验证。</p><p>**注意：**使用HTML进行验证的话，要保证该文件上传到网站后是一模一样的，即不然被渲染和压缩，跳过渲染可以再HTML文件前面加入下面的内容，跳过压缩因插件而异。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>验证成功很快就能再Google找到你的网站了,如<code>site:www.yansheng.xyz</code>。</p><h4 id="安装hexo-generator-sitemap插件">安装<code>hexo-generator-sitemap</code>插件</h4><p>提交sitemap，上面使用的是百度特有的sitemap，Google识别不了，所以使用通用sitemap生成器hexo-generator-sitemap：<a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="noopener">https://github.com/hexojs/hexo-generator-sitemap</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><h4 id="配置-config-yml">配置<code>_config.yml</code></h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line"><span class="attr">    path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure><p>重新生成，会在根目录下生成<code>sitemap.xml</code>文件，发布后，就可以在google控制台提交这个sitemap了。</p><h3 id="效果-v2">效果</h3><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573540242297.png" alt="file"></p><h2 id="补充">补充</h2><p>SEO只负责提交网站的索引量、访问量，具体数据可以通过添加百度分析和google分析来参看。可参考：<a href="/article/eda67a25.html">hexo+yilia添加百度统计和Google统计</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;介绍&quot;&gt;介绍&lt;/h2&gt;&lt;h3 id=&quot;seo优化&quot;&gt;SEO优化&lt;/h3&gt;&lt;p&gt;推广是一个烦人的事情，特别是对于我们搞技术的来说，可能就不擅长推广，那么怎么才能让别人知道我们呢，我们就要想办法让别人通过搜索就可以搜索到你博客的内容，给我们带来自然流量，这就需要seo优化,让我们的站点变得对搜索引擎友好。&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;SEO是由英文Search Engine Optimization缩写而来， 中文意译为“搜索引擎优化”。SEO是指通过站内优化比如网站结构调整、网站内容建设、网站代码优化等以及站外优化。&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加URL持久化</title>
    <link href="https://www.yansheng.xyz/article/faa5d14.html"/>
    <id>https://www.yansheng.xyz/article/faa5d14.html</id>
    <published>2019-11-10T09:04:00.000Z</published>
    <updated>2019-11-12T07:44:01.575Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><h2 id="url持久化">URL持久化</h2><p>参考：<a href="http://www.apkbus.com/blog-889706-76401.html" target="_blank" rel="noopener">你的Hexo博客SEO优化了吗？</a></p><p>我们可以发现hexo默认生成的文章地址路径是 【网站名称／年／月／日／文章名称】。比如这篇博客：<br><a href="http://localhost:4000/2019/11/10/hexo+yilia%E6%B7%BB%E5%8A%A0URL%E6%8C%81%E4%B9%85%E5%8C%96" target="_blank" rel="noopener">http://localhost:4000/2019/11/10/hexo+yilia添加URL持久化</a><br>这种链接对搜索爬虫是很不友好的，第一它的url结构超过了三层，太深了。第二使用了中文路径。这样会导致一个问题，在某些聊天工具或分享链接的时候会造成url转码变成很长一串难以读写的链接。而且如果你的页面之前被收录或被转载后，当你再次编辑过后可能会造成之前的url失效带来不必要的404, 比如下面这样：<br><a href="http://localhost:4000/article/faa5d14.html" target="_blank" rel="noopener">http://localhost:4000/article/faa5d14</a>。别担心，我们有好办法来解决它。</p><a id="more"></a><h3 id="第一种方式：">第一种方式：</h3><p>打开_config.yml配置文件，找到permalink</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/ 注释掉</span></span><br><span class="line"><span class="comment"># 改为下面这样</span></span><br><span class="line"><span class="attr">permalink:</span>   <span class="string">/article/:title.html</span></span><br></pre></td></tr></table></figure><p>上面这种方式是去掉了年月日，保持网站最多三层。</p><h3 id="第二种方式：-推荐">第二种方式：(推荐)</h3><p>安装 <code>hexo-abbrlink</code>插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>配置<code>_config.yml</code>，查找<code>permalink</code>，修改成这样：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># permalink: :title/  将之前的注释掉</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">article/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line"><span class="attr">  alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line"><span class="attr">  rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br></pre></td></tr></table></figure><p>安装后的网址：<a href="http://localhost:4000/article/c5f6d65b.html" target="_blank" rel="noopener">http://localhost:4000/article/c5f6d65b.html</a></p><p>注意：配置成功需要重新生成文件<code>hexo clean,hexo g</code>，不然会出现<code>undefined</code>的问题，如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-abbrlink --save</span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ hexo-abbrlink@2.0.5</span><br><span class="line">added 15 packages from 13 contributors and audited 26333 packages <span class="keyword">in</span> 27.509s</span><br><span class="line">found 21 vulnerabilities (8 low, 6 moderate, 6 high, 1 critical)</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` <span class="keyword">for</span> details</span><br><span class="line"></span><br><span class="line">yansheng@MECHREVO MINGW64 /h/Hexo (blog)</span><br><span class="line">$ hexo s</span><br><span class="line">(node:1612) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Generating Baidu urls <span class="keyword">for</span> last 100 posts</span><br><span class="line">INFO  Posts urls generated <span class="keyword">in</span> baidu_urls.txt</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line"></span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><h3 id="弊端">弊端</h3><p>其实使用这个也有弊端：</p><ul><li>按照原格式，发布后，在github仓库中你能很清楚的看到你写博客的日期，因为是按照网址分文件夹的。使用该插件后就看不到了。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573058824364.png" alt="file"></li></ul><h3 id="分类和标签路径名英文化">分类和标签路径名英文化</h3><p>上面我们已经实现将文章的URL简短化和英文化了，但是如果我们的标签和分类有中文，这个插件是控制不了的，</p><p>如有个生活的标签，该标签下的所有文章汇总如下：<a href="http://localhost:4000/tags/%E7%94%9F%E6%B4%BB/" target="_blank" rel="noopener">http://localhost:4000/tags/生活/</a>，还是会出现中文，其实这个问题hexo官方自带解决方法，详见：<a href="https://hexo.io/zh-cn/docs/configuration.html#%E5%88%86%E7%B1%BB-amp-%E6%A0%87%E7%AD%BE" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/configuration.html#%E5%88%86%E7%B1%BB-amp-%E6%A0%87%E7%AD%BE</a></p><p>截个图：<br><a href="https://user-images.githubusercontent.com/45334066/68354504-89893d80-0147-11ea-8bc4-cf90c2531475.png" target="_blank" rel="noopener"><img src="https://user-images.githubusercontent.com/45334066/68354504-89893d80-0147-11ea-8bc4-cf90c2531475.png" alt="image"></a></p><p>站点的配置文件有<code>category_map</code>和<code>tag_map</code>配置，即分类和标签的别名（映射），举个例子：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line">    <span class="string">编程:</span> <span class="string">programming</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line">    <span class="string">生活:</span> <span class="string">life</span></span><br></pre></td></tr></table></figure><p>这样标签<code>生活</code>的访问网址为：<a href="http://localhost:4000/tags/life/" target="_blank" rel="noopener">http://localhost:4000/tags/life/</a>，分类同理。</p><p>参考：<a href="https://yq.aliyun.com/articles/8607?spm=0.0.0.0.TP5ICj" target="_blank" rel="noopener">https://yq.aliyun.com/articles/8607?spm=0.0.0.0.TP5ICj</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;url持久化&quot;&gt;URL持久化&lt;/h2&gt;&lt;p&gt;参考：&lt;a href=&quot;http://www.apkbus.com/blog-889706-76401.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;你的Hexo博客SEO优化了吗？&lt;/a&gt;&lt;/p&gt;&lt;p&gt;我们可以发现hexo默认生成的文章地址路径是 【网站名称／年／月／日／文章名称】。比如这篇博客：&lt;br&gt;&lt;a href=&quot;http://localhost:4000/2019/11/10/hexo+yilia%E6%B7%BB%E5%8A%A0URL%E6%8C%81%E4%B9%85%E5%8C%96&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://localhost:4000/2019/11/10/hexo+yilia添加URL持久化&lt;/a&gt;&lt;br&gt;这种链接对搜索爬虫是很不友好的，第一它的url结构超过了三层，太深了。第二使用了中文路径。这样会导致一个问题，在某些聊天工具或分享链接的时候会造成url转码变成很长一串难以读写的链接。而且如果你的页面之前被收录或被转载后，当你再次编辑过后可能会造成之前的url失效带来不必要的404, 比如下面这样：&lt;br&gt;&lt;a href=&quot;http://localhost:4000/article/faa5d14.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://localhost:4000/article/faa5d14&lt;/a&gt;。别担心，我们有好办法来解决它。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>建站日志</title>
    <link href="https://www.yansheng.xyz/article/e62c38c4.html"/>
    <id>https://www.yansheng.xyz/article/e62c38c4.html</id>
    <published>2019-11-09T16:15:19.000Z</published>
    <updated>2019-11-25T00:51:14.057Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>记录hexo+yilia博客建立过程</p><p><img src="https://oss.yansheng.xyz/img/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E6%88%AA%E5%9B%BE-20191112160122.jpg" alt="博客截图"></p><a id="more"></a><h2 id="特别说明">特别说明</h2><p>该篇博客仅用于记录博客搭建过程。因为这篇文章是后面补的，不是同步进行的，所以有些内容可能有所修改，可能还会存在错误。如需借鉴，仅供参考，如果出现问题可以在文末提问，我知无不言。</p><p>前期添加的功能都使用git进行管理，在文中放了对应提交的链接，所以就没有怎么写博客；后面使用另一个私有仓库存放博客配置和源码，因此后期的功能没有在文章中放链接，但是有写博客，可以到博客中搜索。</p><p>统一说明：在配置文件中，开启配置一般设置为<code>true</code>,关闭为<code>false</code>，因为有些功能我可能暂时不需要可能设置为false了，因此也可能不能在我的博客中预览效果。</p><h2 id="2019年11月10日">2019年11月10日</h2><ul><li>添加<code>hexo-yilia</code>系列博客。</li></ul><h2 id="2019年11月9日">2019年11月9日</h2><ul><li>修复APlayer播放器的bug。更新音乐。</li><li>添加功能标签tag，更新<code>CHANGELOG.md</code>。</li><li>添加8个背景特效。</li><li>修改背景图片（压缩后生成至阿里云OSS）。</li></ul><h2 id="2019年11月8日">2019年11月8日</h2><ul><li>添加按钮，实现缩小左侧边栏的效果。</li><li>添加背景图片。（同时可能设置到需要修改很多样式问题）</li></ul><h2 id="2019年11月7日">2019年11月7日</h2><ul><li>URL持久化，使用简短的URL。</li><li>更新关键字和描述。</li><li>替换渲染引擎，支持表情。</li></ul><h2 id="2019年11月6日">2019年11月6日</h2><ul><li>修改’展开全文’的按钮的样式。</li><li>使用<code>clipboard.js</code>实现复制代码块的功能。</li><li>添加爬虫协议<code>robots.txt</code>。</li><li>添加百度分析和google分析。</li></ul><h2 id="2019年11月5日">2019年11月5日</h2><ul><li>修改部分样式。</li><li>替换APlayer音乐的音乐外链为自己七牛云的外链。</li><li>添加<code>utteranc</code>评论系统。</li></ul><h2 id="2019年11月4日">2019年11月4日</h2><ul><li>添加网站运行时间，如：<code>本站已安全运行 101 天 12 小时 13 分 41 秒</code>。</li><li>添加ICP备案号，如：<code>粤ICP备00000000号</code>。</li><li>修改一些超链接的样式。</li><li>添加看板娘：<code>Live2D</code>。</li></ul><p><img src="https://oss.yansheng.xyz/img/old-blog20191112160702.jpg" alt></p><h2 id="2019年11月3日">2019年11月3日</h2><ul><li>修复底部建站时间（配置关键字’since’）无效的问题：如配置<code>since: 2019</code>，应该显示<code>@2018-2019</code>。</li></ul><h2 id="2019年11月2日">2019年11月2日</h2><ul><li>添加 APlayer音乐播放器。</li><li>修改超链接和引用块的样式。</li></ul><h2 id="2019年10月30日">2019年10月30日</h2><ol><li>修改代码块的样式。</li><li>修改文章内的超链接的样式。</li><li>修改分类页面的标题的样式。</li></ol><p><a href="https://github.com/yansheng836/yansheng836.github.io/commit/ddbabc0689f66618810e17e8d0d3ac1a885cb815" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/ddbabc0689f66618810e17e8d0d3ac1a885cb815</a></p><h2 id="2019年10月18日">2019年10月18日</h2><ul><li>SEO优化：<br>1<a href="https://github.com/yansheng836/yansheng836.github.io/commit/7ae9ca6093febb5c4579e6fca988c1935bb30308" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/7ae9ca6093febb5c4579e6fca988c1935bb30308</a><br>2<a href="https://github.com/yansheng836/yansheng836.github.io/commit/786b3b22ebd8cbdf1fcde0af4216ff5776c13884" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/786b3b22ebd8cbdf1fcde0af4216ff5776c13884</a></li><li>添加’心知天气’。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/8c38bbd631c82c47feb5da37755cc8cd26a9c3f2" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/8c38bbd631c82c47feb5da37755cc8cd26a9c3f2</a></li></ul><h2 id="2019年10月17日">2019年10月17日</h2><ul><li>Backup a new iconfont from ‘JoeyBling/hexo-theme-yilia-plus’， github:<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus</a>，commit:<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/0006834b5bb480b83dfba028c0f0073aa0ff4e36#diff-37125011f1c485ef4209f31ba31134ba" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/0006834b5bb480b83dfba028c0f0073aa0ff4e36#diff-37125011f1c485ef4209f31ba31134ba</a></li><li>改变文章字数统计的样式：只在文章里面显示，预览时不显示；添加图标。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/bd4ebc0be6740a5442ada6ce957464014597c4ce" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/bd4ebc0be6740a5442ada6ce957464014597c4ce</a></li><li>添加飘雪特效。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/517a842c154a6b36544b7091cdc416aa9bec05b4" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/517a842c154a6b36544b7091cdc416aa9bec05b4</a></li><li>改变版权声明的样式：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/406978545d896b219ef282a2619c7dc83af25cad" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/406978545d896b219ef282a2619c7dc83af25cad</a></li><li>添加鼠标悬浮标签页的特效。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e</a></li><li>添加RSS订阅。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/00ba67aa0d09a865c331509e26fe44a9ebf1c83f" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/00ba67aa0d09a865c331509e26fe44a9ebf1c83f</a></li></ul><h2 id="2019年8月20日">2019年8月20日</h2><ul><li>添加(/修改)分类页面：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/3a244aa332e48d88acbff4c4b068ec8cdd1f1469" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/3a244aa332e48d88acbff4c4b068ec8cdd1f1469</a></li></ul><h2 id="2019年8月17日">2019年8月17日</h2><ul><li>添加hexo-neat插件–压缩页面静态资源。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.3" target="_blank" rel="noopener">v1.0.3</a>，文档可参考：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/e304666226e6a326eb394c902d0236b6f5948c5d" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/e304666226e6a326eb394c902d0236b6f5948c5d</a><br>注意：压缩资源可能会导致资源加载不了，如果本地测试有问题，可以跳过压缩某资源。</li><li>修复微信分享二维码失效的问题。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.4" target="_blank" rel="noopener">v1.0.4</a></li><li>添加了百度SEO优化自动提交的三种方式。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.5" target="_blank" rel="noopener">v1.0.5</a></li><li>添加版权声明。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.6" target="_blank" rel="noopener">v1.0.6</a></li><li>修改代码块的样式。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.7" target="_blank" rel="noopener">v1.0.7</a></li></ul><h2 id="2019年8月16日">2019年8月16日</h2><ul><li>为博客添加valine评论。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.2" target="_blank" rel="noopener">v1.0.2</a></li></ul><h2 id="2019年8月15日">2019年8月15日</h2><ul><li>添加相册功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.0" target="_blank" rel="noopener">v1.0.0</a></li><li>添加相册页的视频功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.1" target="_blank" rel="noopener">v1.0.1</a></li><li>添加了相册和视频功能的文档和备份文件。<a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog/docs/%E7%9B%B8%E5%86%8C%E8%A7%86%E5%B1%8F%E5%8A%9F%E8%83%BD%E5%8E%9F%E6%96%87%E5%A4%87%E4%BB%BD" target="_blank" rel="noopener">相册视屏功能原文备份</a></li></ul><h2 id="2019年7月29日">2019年7月29日</h2><ul><li>为头像增加旋转效果：当鼠标悬浮到头像时，头像旋转一圈。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.8" target="_blank" rel="noopener">v0.1.8</a></li><li>安装<code>hexo-admin</code>插件：hexo-admin是一个hexo博客引擎的管理用户界面插件，左边编写博客、右边预览效果。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.9" target="_blank" rel="noopener">v0.1.9</a></li></ul><h2 id="2019年7月27日">2019年7月27日</h2><ul><li>添加背景音乐：侧边栏添加（网易云链接的）背景音乐。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.6" target="_blank" rel="noopener">v0.1.6</a></li><li>为博客设置404页面。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.7" target="_blank" rel="noopener">v0.1.7</a></li></ul><h2 id="2019年7月26日">2019年7月26日</h2><ul><li>添加“不蒜子”访问量统计功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.4" target="_blank" rel="noopener">v0.1.4</a></li><li>设置文章置顶功能：默认的设置是按照时间进行排序，时间越后面顺序越往前；修改后可通过在文章中设置top属性设置文章置顶顺序，top值越大顺序越往前。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.5" target="_blank" rel="noopener">v0.1.5</a></li></ul><h2 id="2019年7月25日">2019年7月25日</h2><ul><li>建站，配置yilia主题的基本信息。主要是用自己的个人信息替换主题模板的信息，如网站、网址、标签、菜单、子导航栏、网站图标、社交关系SubNav图标等。</li><li>处理“标签不能正常显示的问题”。</li><li>增加侧边导航栏的SubNav图标。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.1" target="_blank" rel="noopener">v0.1.1</a></li><li>新增侧边栏归档、分类、标签内容。存在bug（归档可以，但是分类和标签无效）。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.2" target="_blank" rel="noopener">v0.1.2</a></li><li>设置建站时间（有bug，无效）。</li><li>添加字数统计和阅读时长功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.3" target="_blank" rel="noopener">v0.1.3</a></li></ul><h2 id="2019年7月22日">2019年7月22日</h2><p>初次建站，忘记有个什么东西弄错了，但是没有办法恢复，即使hexo是使用Git进行管理的，只能是重新开始。（不能恢复的原因详见下文的master分支的介绍。）</p><p>研究一番后，得出一个结论：<font color="red">备份，备份，备份！！！</font></p><h3 id="推荐两种备份方法：">推荐两种备份方法：</h3><ol><li>一个GitHub仓库，两个分支：一个分支存放hexo博客源码和配置，另一分支存放发布后的HTML网页。</li><li>两个GitHub仓库：一个仓库存放hexo博客源码和配置（如果需要(比如有私密信息)，可以将该仓库设置私有仓库），另一仓库存放发布后的HTML网页。</li></ol><h3 id="我采用第一种方式：">我采用第一种方式：</h3><ul><li>master分支：<a href="https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md</a></li><li>blog分支：<a href="https://github.com/yansheng836/yansheng836.github.io/blob/blog/README.md" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/blob/blog/README.md</a></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;记录hexo+yilia博客建立过程&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/img/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E6%88%AA%E5%9B%BE-20191112160122.jpg&quot; alt=&quot;博客截图&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia的标签和分类的区别</title>
    <link href="https://www.yansheng.xyz/article/5026011a.html"/>
    <id>https://www.yansheng.xyz/article/5026011a.html</id>
    <published>2019-11-08T12:41:24.000Z</published>
    <updated>2019-11-10T08:43:54.585Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>测试标签和分类的区别</p><a id="more"></a><p><strong>重点</strong>：分类是有层级关系的，而标签没有。因此如何将分类显示出来也是比较麻烦的，暂时为实现。<br>下面主要看分类：</p><blockquote><p>引用自官方文档：<a href="https://hexo.io/zh-cn/docs/front-matter#JSON-Front-matter" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/front-matter#JSON-Front-matter</a></p></blockquote><p>分类方法的分歧</p><p>如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">  - Diary</span><br><span class="line">  - Life</span><br></pre></td></tr></table></figure><p>会使分类<code>Life</code>成为<code>Diary</code>的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。</p><p>如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">- [Diary, PlayStation]</span><br><span class="line">- [Diary, Games]</span><br><span class="line">- [Life]</span><br></pre></td></tr></table></figure><p>此时这篇文章同时包括三个分类： <code>PlayStation</code> 和 <code>Games</code> 分别都是父分类 <code>Diary</code> 的子分类，同时 <code>Life</code> 是一个没有子分类的分类。</p><blockquote></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;测试标签和分类的区别&lt;/p&gt;
    
    </summary>
    
    
      <category term="categorie1" scheme="https://www.yansheng.xyz/categories/categorie1/"/>
    
      <category term="categorie11" scheme="https://www.yansheng.xyz/categories/categorie1/categorie11/"/>
    
      <category term="categorie21" scheme="https://www.yansheng.xyz/categories/categorie21/"/>
    
      <category term="categorie22" scheme="https://www.yansheng.xyz/categories/categorie21/categorie22/"/>
    
      <category term="categorie31" scheme="https://www.yansheng.xyz/categories/categorie31/"/>
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia集成utteranc评论系统</title>
    <link href="https://www.yansheng.xyz/article/c5f6d65b.html"/>
    <id>https://www.yansheng.xyz/article/c5f6d65b.html</id>
    <published>2019-11-05T08:46:57.000Z</published>
    <updated>2019-11-12T07:46:13.349Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><h2 id="hexo-yilia集成utteranc评论系统">hexo+yilia集成utteranc评论系统</h2><p>utteranc评论系统是基于GitHub issues的，类似Gitment/Git talk。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960972843.png" alt="file"><a id="more"></a></p><h2 id="前言">前言</h2><p>博客的评论系统还是挺多的，但是也死了挺多的，下面就简单介绍下。(注：以下数据多来自网络，可能存在错误。)</p><h3 id="第一类：已暂停服务的">第一类：已暂停服务的</h3><ul><li>多说：已于2017年6月1日正式关停服务。</li><li>网易云跟帖（网易第三方评论系统）：已于2017年8月1日停止服务。</li><li>友言：2018年4月30日停止了服务。</li></ul><hr><h3 id="第二类：第三方-还可以使用的">第二类：第三方，还可以使用的</h3><ul><li>畅言（搜狐）：畅言是需要备案的，不备案会有15天的试用期。</li><li>Disqus：听说广告有点多。</li><li>来比力（韩国）：挺好的，就是国外的，有点慢，可能会加载不出来。</li><li>Valine ：国内后端云服务提供商 LeanCloud 提供的评论系统。Valine 的特点：<ul><li>无后端实现</li><li>高速，使用国内后端云服务提供商 LeanCloud 提供的存储服务</li><li>开源，自定义程度高</li><li>支持邮件通知</li><li>支持验证码</li><li>支持 Markdown</li><li>头像可选择</li></ul></li></ul><hr><h3 id="第三类：github相关的">第三类：GitHub相关的</h3><ul><li>giteement：基于码云的评论系统，详见：<a href="https://gitee.com/zhousiwei/giteement" target="_blank" rel="noopener">https://gitee.com/zhousiwei/giteement</a>。</li><li>Gitment/Git talk：基于GitHub issue的评论系统，使用Github Application，问题多，好像只能适配一个网站，不适合多网站发布。好像主要是这两个参数的设置：<code>Homepage URL</code>是你的仓库的名字;<code>Authorization callback URL</code>:网站地址，如果你指向了新的域名就填网站主页地址，如我的<a href="https://www.yansheng.xyz">https://www.yansheng.xyz</a>；否则写仓库的名字应该也可以（不确定，没使用过）。</li><li>utteranc：基于GitHub issue的评论系统，官网：<a href="https://utteranc.es/" target="_blank" rel="noopener">https://utteranc.es/</a>，详见下文。</li></ul><p>如需了解更多，可参考下面链接：</p><ul><li><a href="http://www.chiefmore.com/pinglunchajian/733.jhtml" target="_blank" rel="noopener">第三方评论系统综评：畅言、友言、多说、网易云跟贴</a></li><li><a href="https://blog.csdn.net/xiangzhihong8/article/details/77703791" target="_blank" rel="noopener">个人博客网站接入来必力评论系统</a></li><li><a href="https://blog.csdn.net/weixin_39531549/article/details/86651038" target="_blank" rel="noopener">Valine – 一款极简的评论系统</a></li></ul><h2 id="utterances">utterances</h2><h3 id="介绍">介绍</h3><p>一个机器人<code>utterances bot</code>，好像是2017年开工的，2018开始火（769star）,2019大热了（截止发文，2878star）。</p><p>网址：<a href="https://utteranc.es/" target="_blank" rel="noopener">https://utteranc.es/</a>，下面是官网的介绍：</p><blockquote><p>A lightweight comments widget built on GitHub issues. Use GitHub issues for blog comments, wiki pages and more!</p><ul><li><a href="https://github.com/utterance" target="_blank" rel="noopener">Open source</a>. 🙌</li><li>No tracking, no ads, always free. 📡🚫</li><li>No lock-in. All data stored in GitHub issues. 🔓</li><li>Styled with <a href="http://primer.style/" target="_blank" rel="noopener">Primer</a>, the css toolkit that powers GitHub. 💅</li><li>Dark theme. 🌘</li><li>Lightweight. Vanilla TypeScript. No font downloads, JavaScript frameworks or polyfills for evergreen browsers. 🐦🌲</li></ul></blockquote><p>当有人评论时，自动在指定仓库创建一个issues，用于评论。（issues名可指定为多种形式）</p><h3 id="使用">使用</h3><p>网上找的好像都是使用next主题的，如</p><ul><li><a href="https://blog.csdn.net/zhang_zhenwei/article/details/102600387" target="_blank" rel="noopener">Hexo NexT主题集成utterance评论系统</a></li><li><a href="https://www.njphper.com/posts/a4cd94b2.html" target="_blank" rel="noopener">Hexo Next 主题增加新的第三方评论系统 utterance</a></li></ul><p>没有找到相同的，只能自己摸索了。</p><h4 id="1-安装应用">1.安装应用</h4><p>安装utterances应用，网址 <a href="https://github.com/apps/utterances" target="_blank" rel="noopener">https://github.com/apps/utterances</a> ，设置指定仓库即可。</p><h4 id="2-配置基本参数">2.配置基本参数</h4><p>官方（主页）其实自带教程，配置相关参数，生成脚本如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://utteranc.es/client.js"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">repo</span>=<span class="string">"yansheng836/yansheng836.github.io"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">issue-term</span>=<span class="string">"title"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">theme</span>=<span class="string">"github-light"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">async</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>解释一下主要参数：</p><ul><li>repo：存放评论的issues的仓库名（即步骤1指定访问的仓库），可以和博客相同，也可以不同。</li><li>issue-term：指定issues的标题，title表示使用文章的标题作为issues的标题。可选参数（只介绍部分）：<ul><li>URL：博客网址：网址全路径，如：<a href="http://localhost:4000/2019/11/05/hexo+yilia%E9%9B%86%E6%88%90utteranc%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/#more" target="_blank" rel="noopener">http://localhost:4000/2019/11/05/hexo+yilia集成utteranc评论系统/#more</a></li><li>pathname：网址域名之外的文件名：&lt;2019/11/05/hexo+yilia集成utteranc评论系统/#more&gt;</li><li>title：博客标题（推荐使用这个，因为上面两个涉及到网址，如果网址包含中文，会被转义，不方便看。）<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960901812.png" alt="file"></li></ul></li><li>theme：评论系统的主题，在Theme里面，选择主题，页面会变色：<a href="https://utteranc.es/#heading-theme" target="_blank" rel="noopener">https://utteranc.es/#heading-theme</a><br>github-light<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960972843.png" alt="file"><br>github-dark<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572959464163.png" alt="file"></li></ul><h4 id="3-hexo-yilia配置">3.hexo+yilia配置</h4><h5 id="直接嵌入">直接嵌入</h5><p>修改：<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，在博客评论系统代码附近，添加如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《utteranc评论：基于github issue的评论系统 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.utterances</span>&#123;<span class="attribute">max-width</span>: <span class="number">100%</span>;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://utteranc.es/client.js"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">repo</span>=<span class="string">"yansheng836/yansheng836.github.io"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">issue-term</span>=<span class="string">"title"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">theme</span>=<span class="string">"github-light"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">async</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- utteranc评论》 --&gt;</span></span><br></pre></td></tr></table></figure><p>在官网也有介绍到:<code>Customize the layout using the</code>.utterances<code>and</code>.utterances-frame<code>selectors.</code>，如果需要控制样式，可以通过这两个选择器。因为指定了<code>.utterances{max-width: 750px;}</code>，我试了下，在yilia主题下，宽度不能充满评论区域，所以进行了调整。</p><h5 id="灵活嵌入">灵活嵌入</h5><p>可主题的配置文件中进行配置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#7.utteranc评论： https://utteranc.es (参数配置详见主页)</span></span><br><span class="line"><span class="attr">utterance:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">'yansheng836/yansheng836.github.io'</span>     <span class="comment">#仓库名字,格式：你的用户ID/仓库名称，如：blog/utterance_repo</span></span><br><span class="line"><span class="attr">  issue_term:</span> <span class="string">'title'</span>            <span class="comment">#映射配置</span></span><br><span class="line"><span class="attr">  theme:</span> <span class="string">'github-light'</span>          <span class="comment">#主题</span></span><br></pre></td></tr></table></figure><p>修改：<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，在博客评论系统代码附近，添加如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《utteranc评论：基于github issue的评论系统 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.utterance</span> &amp;&amp; <span class="attr">theme.utterance.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.utterances</span>&#123;<span class="attribute">max-width</span>: <span class="number">100%</span>;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://utteranc.es/client.js"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">repo</span>=<span class="string">"&lt;%= theme.utterance.repo %&gt;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">issue-term</span>=<span class="string">"&lt;%= theme.utterance.issue_term %&gt;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">theme</span>=<span class="string">"&lt;%= theme.utterance.theme %&gt;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">async</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- utteranc评论》 --&gt;</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;h2 id=&quot;hexo-yilia集成utteranc评论系统&quot;&gt;hexo+yilia集成utteranc评论系统&lt;/h2&gt;&lt;p&gt;utteranc评论系统是基于GitHub issues的，类似Gitment/Git talk。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960972843.png&quot; alt=&quot;file&quot;&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo+yilia添加valine评论系统</title>
    <link href="https://www.yansheng.xyz/article/658be5fc.html"/>
    <id>https://www.yansheng.xyz/article/658be5fc.html</id>
    <published>2019-08-16T13:52:21.000Z</published>
    <updated>2019-11-10T08:31:57.446Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>hexo+yilia添加valine评论系统</p><p><img src="https://s2.ax1x.com/2019/08/16/mmDUS0.jpg" alt="mmDUS0.jpg"></p><a id="more"></a><p>参考链接</p><ul><li><a href="https://blog.xxwhite.com/2017/Valine.html" target="_blank" rel="noopener">https://blog.xxwhite.com/2017/Valine.html</a></li><li><a href="http://anata.me/2018/04/05/hexo%E4%B8%BB%E9%A2%98yilia%E6%B7%BB%E5%8A%A0valine%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">http://anata.me/2018/04/05/hexo主题yilia添加valine评论系统/</a></li><li>yilia主题的github：<a href="https://github.com/litten/hexo-theme-yilia/pull/646" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/pull/646</a></li><li>valine介绍：<a href="https://valine.js.org/" target="_blank" rel="noopener">https://valine.js.org/</a></li></ul><hr><h2 id="1-注册leancloud">1.注册leancloud</h2><p>到官网：<a href="https://leancloud.cn" target="_blank" rel="noopener">https://leancloud.cn</a>，注册一个账号，然后创建应用，名字可以随意。然后会生成一个应用，有对应的<code>APP ID</code>，<code>APP KEY</code>，在<code>设置&gt;应用key</code>可以查看。</p><h2 id="2-hexo设置">2.hexo设置</h2><h3 id="2-1-在博客主题文件中添加评论设置">2.1 在博客主题文件中添加评论设置</h3><p>在<code>H:\Hexo\themes\yilia\_config.yml</code>大概在<code>#5、Gitment</code>后面添加valine设置，内容如下（注意把里面的<code>APP ID</code>，<code>APP KEY</code>换成自己应用中的信息）</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#6、Valine https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span> </span><br><span class="line"><span class="attr"> appid:</span> <span class="string">'APP ID'</span>  <span class="comment">#Leancloud应用的appId</span></span><br><span class="line"><span class="attr"> appkey:</span> <span class="string">'APP KEY'</span>  <span class="comment">#Leancloud应用的appKey</span></span><br><span class="line"><span class="attr"> verify:</span> <span class="literal">false</span> <span class="comment">#验证码</span></span><br><span class="line"><span class="attr"> notify:</span> <span class="literal">false</span> <span class="comment">#评论回复提醒</span></span><br><span class="line"><span class="attr"> avatar:</span> <span class="string">retro</span> <span class="comment">#评论列表头像样式：''/mm/identicon/monsterid/wavatar/retro/hide</span></span><br><span class="line"> <span class="comment">#头像类型可见： https://valine.js.org/avatar.html</span></span><br><span class="line"><span class="attr"> placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment">#评论框占位符</span></span><br></pre></td></tr></table></figure><h3 id="2-2-为article-ejs添加valine评论">2.2 为<code>article.ejs</code>添加valine评论</h3><p>在<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>中搜索这行代码<code>&lt;% if (!index &amp;&amp; post.comments){ %&gt;</code>，在其后面添加代码：(这个代码是有响应式的)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">        <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">url:</span> <span class="attr">config.url</span>+<span class="attr">url_for</span>(<span class="attr">post.path</span>)</span></span><br><span class="line"><span class="tag">        &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-3-新建文件valine-ejs">2.3 新建文件<code>valine.ejs</code></h3><p>新建文件<code>H:\Hexo\themes\yilia\layout\_partial\post\valine.ejs</code>，内容为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"vcomment"</span> <span class="attr">class</span>=<span class="string">"comment"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn1.lncld.net/static/js/3.0.4/av-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/valine/dist/Valine.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">   <span class="keyword">var</span> notify = <span class="string">'&lt;%= theme.valine.notify %&gt;'</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">   <span class="keyword">var</span> verify = <span class="string">'&lt;%= theme.valine.verify %&gt;'</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="javascript">            el: <span class="string">'.comment'</span>,</span></span><br><span class="line">            notify: notify,</span><br><span class="line">            verify: verify,</span><br><span class="line"><span class="javascript">            app_id: <span class="string">"&lt;%= theme.valine.appid %&gt;"</span>,</span></span><br><span class="line"><span class="javascript">            app_key: <span class="string">"&lt;%= theme.valine.appkey %&gt;"</span>,</span></span><br><span class="line"><span class="javascript">            placeholder: <span class="string">"&lt;%= theme.valine.placeholder %&gt;"</span>,</span></span><br><span class="line"><span class="javascript">            avatar:<span class="string">"&lt;%= theme.valine.avatar %&gt;"</span></span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-生成发布">3.生成发布</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s  <span class="comment">#本地可以预览效果，或者hexo d</span></span><br></pre></td></tr></table></figure><h2 id="4-后台查看数据">4.后台查看数据</h2><p><code>应用&gt;存储&gt;comment</code></p><p><strong>注意</strong>：这里还要设置一下web安全域名，位置：<code>应用&gt;设置&gt;安全中心&gt;Web安全域名</code></p><h2 id="5-升级">5.升级</h2><h3 id="5-1头像设置">5.1头像设置</h3><p>可切换多种头像，请看下面代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span> <span class="string">retro</span> <span class="comment">#评论列表头像样式：''/mm/identicon/monsterid/wavatar/retro/hide</span></span><br><span class="line"> <span class="comment">#头像类型可见： https://valine.js.org/avatar.html</span></span><br></pre></td></tr></table></figure><h3 id="5-2验证码">5.2验证码</h3><p>这个比较多争议，官网是说：“由于是<code>无后端</code>的评论系统，验证工作也就只能在前端做，体验上可能不会太优雅。</p><p>验证码默认是关闭的，如果你觉得太烦人或者太反人类，那就请不要打开。”</p><h3 id="5-3邮箱验证">5.3邮箱验证</h3><p>这个我暂时也不知道怎么设置。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;hexo+yilia添加valine评论系统&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/08/16/mmDUS0.jpg&quot; alt=&quot;mmDUS0.jpg&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>2016十大校花排行榜，美翻了</title>
    <link href="https://www.yansheng.xyz/article/6216745.html"/>
    <id>https://www.yansheng.xyz/article/6216745.html</id>
    <published>2019-08-13T07:06:45.000Z</published>
    <updated>2019-11-06T15:44:49.400Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>根据教育君长期收集的资料，总结了一份全国十大高校校花的花名册。<br>图片太美，惹人心醉。大家看之前控制好自己的情绪。</p><p><a href="https://imgchr.com/i/mPalbF" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/08/13/mPalbF.th.jpg" alt="鞠婧祎"></a></p><a id="more"></a><h2 id="武汉大学校花-樱花">武汉大学校花——樱花</h2><p>武汉大学的樱园是出了名的美，不少电影电视剧前去取景。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_1.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_1.jpeg" alt="img"></a></p><h2 id="北京大学校花-荷花">北京大学校花——荷花</h2><p>北大未名湖里的荷花，出淤泥而不染，濯清涟而不妖。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_2.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_2.jpeg" alt="img"></a></p><h2 id="清华大学校花-丁香花">清华大学校花——丁香花</h2><p>你说你最爱丁香花，因为你的名字就是她。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_3.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_3.jpeg" alt="img"></a></p><h2 id="天津外国语大学校花-玉兰花">天津外国语大学校花——玉兰花</h2><p>雪白的玉兰花正如同天外校园里那一袭白裙的女生们，不艳丽却分外出彩。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_4.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_4.jpeg" alt="img"></a></p><h2 id="中山大学校花-木棉花">中山大学校花——木棉花</h2><p>木棉喜怒按在南方，北方的爷们，是否会喜爱这朵来自南方的姑娘。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_5.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_5.jpeg" alt="img"></a></p><h2 id="哈尔滨工业大学校花-杜鹃花">哈尔滨工业大学校花——杜鹃花</h2><p>不怕冷，傲娇，杜鹃花就是如此要强。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_6.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_6.jpeg" alt="img"></a></p><h2 id="湖南大学校花-芙蓉花">湖南大学校花——芙蓉花</h2><p>吸烟的朋友都会知道，有一款香烟叫芙蓉王。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_7.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_7.jpeg" alt="img"></a></p><h2 id="福州大学校花-蝴蝶兰">福州大学校花——蝴蝶兰</h2><p>此花虽美，却也娇气的出奇。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_8.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_8.jpeg" alt="img"></a></p><h2 id="浙江大学校花-栀子花">浙江大学校花——栀子花</h2><p>栀子花开呀开，栀子花开呀开，栀子花开呀开，栀子花开呀开。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_9.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_9.jpeg" alt="img"></a></p><h2 id="复旦大学校花-海棠花">复旦大学校花——海棠花</h2><p>投我以木桃，报之以琼瑶;匪报也，永以为好也!投我以木李，报之以琼玖;匪报也，永以为好也!</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_10.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_10.jpeg" alt="img"></a></p><hr><blockquote><p>转自：<a href="http://mini.eastday.com/mobile/170102070337255.html" target="_blank" rel="noopener">http://mini.eastday.com/mobile/170102070337255.html</a></p></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;根据教育君长期收集的资料，总结了一份全国十大高校校花的花名册。&lt;br&gt;图片太美，惹人心醉。大家看之前控制好自己的情绪。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://imgchr.com/i/mPalbF&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/08/13/mPalbF.th.jpg&quot; alt=&quot;鞠婧祎&quot;&gt;&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>文件对比软件:Beyond Compare 4-破解方法</title>
    <link href="https://www.yansheng.xyz/article/660ecf00.html"/>
    <id>https://www.yansheng.xyz/article/660ecf00.html</id>
    <published>2019-07-30T13:55:49.000Z</published>
    <updated>2019-11-12T08:00:27.688Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>Beyond Compare允许您快速轻松地比较文件和文件夹。通过使用简单，强大的命令，您可以专注于您感兴趣的差异，并忽略那些您不感兴趣的差异。然后，您可以合并更改，同步文件并生成记录报告。<br>很强大的一个文本比较工具（、文件夹……好像啥都行），用过就会爱不释手。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573545469353.png" alt="file"></p><a id="more"></a><h3 id="介绍">介绍</h3><p>主页：<a href="https://www.scootersoftware.com/index.php" target="_blank" rel="noopener">https://www.scootersoftware.com/index.php</a><br>具体功能介绍：<a href="https://www.scootersoftware.com/features.php?zz=features_focused" target="_blank" rel="noopener">https://www.scootersoftware.com/features.php?zz=features_focused</a><br>下载页面：<a href="https://www.scootersoftware.com/download.php" target="_blank" rel="noopener">https://www.scootersoftware.com/download.php</a><br>下载步骤如下：<br><img src="https://img-blog.csdnimg.cn/20190714093549497.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><hr><h3 id="0-补一波注册码：-2019年7月5日">0、补一波注册码：（2019年7月5日）</h3><p>我之前找过一些注册码但是都失效了（下文也说过），但是最近偶然找到这个真的是牛，之前是一个账号只能一个人用，这个可以同时支持9999！有图有真相：</p><p><img src="https://img-blog.csdnimg.cn/20190705144813385.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><p>注意下这里提供了两种的注册码bc3和bc4，按需自取，每个小点即为一个注册码，例如：下面bc3的第一个注册码(即你需要复制的内容)为：</p><blockquote><p>— BEGIN LICENSE KEY —<br>+WzZmc9nOhf6Nq6UZrdlTiyRwwkF0g0kc7Qi1m8u4W70MKkkGmx8GCAfApSsGZWmnyb-DxvqT4hWqmxDqP96NU<br>— END LICENSE KEY —–</p></blockquote><p>输入秘钥步骤也很简单：（软件上面菜单栏）帮助–&gt;输入密码–&gt;把注册码直接复制进去–&gt;注意要勾选“针对所有用户注册”–&gt;确定–&gt;重启。</p><blockquote><p><strong>// Universal Unlock Keys //</strong></p><ul><li><p>for Beyond Compare v3.x.x on Win/Mac/Linux:</p><ul><li>— BEGIN LICENSE KEY —<br>+WzZmc9nOhf6Nq6UZrdlTiyRwwkF0g0kc7Qi1m8u4W70MKkkGmx8GCAfApSsGZWmnyb-DxvqT4hWqmxDqP96NU<br>— END LICENSE KEY —–</li></ul></li><li><p>— BEGIN LICENSE KEY —<br>KkSCJ2mU2A5bC4PJBxcZuLPp6HcOvLW0N97IdgEpNl+TqMfhtGEYEZEGXoAjYDwH-aI88DuxPWiUtxkhOoyGWU<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>nH3s9i9zmBiRjkoPALth4x97WARK9nb-qbp4q3LemOPJ4EtsYjWhTbR8VhauOSAluBJVvxV4kEc5waolW1m7B7JzJXE6YVapYW7f+tRRXRFI4yn4NjjZ0RiiqGRCTVzwComUcXB-eiFWRBY6JpSsCNkmIxL5KsRCo442djHhTZE+<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>Vf5EsE8iQYtXQxeG46emmFmWioaxoyQt8qSioqZ6q3K86JnfjJ9IAjXZMA8AuHD<br>+932+OIqXOKwcOupap+MONdJzJXE6YVapYW7f+tRRXRFI4yn4NjjZ0RiiqGRCTVz</p><p>wComUcXB-eiFWRBY6JpSsCNkmIxL5KsRCo442djHhTZE+<br>— END LICENSE KEY —–</p><ul><li>— BEGIN LICENSE KEY —<br>gQKdhUEz-lQ3eol25s7vt5UamLLDeu+t6Ud+OWz8ULka40y71BYSDyC8drGILcz01</li></ul><p>+rvSpRpgOjCKj6N93VUKtJzJXE6YVapYW7f+tRRXRFI4yn4NjjZ0RiiqGRCTVzwComUcXB-eiFWRBY6JpSsCNkmIxL5KsRCo442djHhTZE+<br>— END LICENSE KEY —–</p></li><li><p>for Beyond Compare v4.x.x on Win/Mac/Linux:</p><ul><li>— BEGIN LICENSE KEY —<br>L+wNGHgqTtetFnWpzTyfCIsnGMJOaPjZRTwdNyY9jMv1zzHpRQHFX-YaSqfNgijG-qufcsJpzGlhQZ+J8GyYkz8vC0Z54YIMCNrpEr5sXQZG3Ae9SYFUiNgaUpRE3K0ETY3go</li></ul><p>NvnJ8LvALwVgCbgj+E2DsK88L+zzLdqRze5yrwNMS+NtnQucM0EOjeC9mhUnyLZqB4x3W1iDwcYCKhFnZSSM7Fb+BMPbe-SBnToqnk4aNJ1hxanlk+rH8iYHh8RrGFkHiSV6QCS+5UBs28gGGYq-Yo1HwQsCI-KSpLJpGGuz+EyTcCz9r8v1uThuNbuWhX0ZNZR0DrmjC+obgg4-k++<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>H1bJTd2SauPv5Garuaq0Ig43uqq5NJOEw94wxdZTpU-pFB9GmyPk677gJ<br>vC1Ro6sbAvKR4pVwtxdCfuoZDb6hJ5bVQKqlfihJfSYZt-xVrVU27+0Ja<br>hFbqTmYskatMTgPyjvv99CF2Te8ec+Ys2SPxyZAF0YwOCNOWmsyqN5y9t<br>q2Kw2pjoiDs5gIH-uw5U49JzOB6otS7kThBJE-H9A76u4uUvR8DKb+VcB<br>rWu5qSJGEnbsXNfJdq5L2D8QgRdV-sXHp2A-7j1X2n4WIISvU1V9koIyS<br>NisHFBTcWJS0sC5BTFwrtfLEE9lEwz2bxHQpWJiu12ZeKpi+7oUSqebX+<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>8QP7zlhDPb+aoFyysKK68NwROgI0+mNV1pEhPK2CQF95zYrEF9gvL8TfR<br>moO+BiBoJu1T4g-3i0lpQ1BytfO7QL4jnXU-G18UuzNCGL3JtqLxJghs2<br>2gzB5VZnYKQfXfYZG2LL-Vjl43k4Pili1DCBCXsMm3xei6VKeiw4eWFwJ<br>A91xx0gngBUWCpK4GvKSEW0VNqCwECuLUXMie2MMogTmySJ6Xn7Rf2rgy<br>3wqgxExgQWVCVbdD7e3phco7vt2xTH2m0qJEoFN3HVf9l5PWQCO3JflvS<br>CSmQYw+ZkpFcZtfH3EPZBAkfjMEbbTwOTNJT-PTixf2619csMbgIn+M5E<br>++<br>— END LICENSE KEY —–</p></li></ul><p>转自：<a href="https://appnee.com/beyond-compare/" target="_blank" rel="noopener">BEYOND COMPARE – INTELLIGENT AND ALL-ROUND COMPARISON FOR FILES &amp; FOLDERS</a></p></blockquote><hr><p>因为这个软件是付费的，试用30天后需要购买注册码，我们一般都会去网上找别人分享的注册码，但是好像不知道怎么回事会失效（我找的就失效了……）。这里介绍几个我找到的几种破解方法：（这里以bc4为例，bc3的话注意修改一下对应路径）</p><h3 id="1-删除指定文件夹内容：-亲测可用">1、删除指定文件夹内容：（亲测可用）</h3><p><img src="https://img-blog.csdnimg.cn/20190507141919664.png" alt="img"><br><code>**C:\Users\Administrator\AppData\Roaming\Scooter Software\Beyond Compare 4\**</code></p><p>删除上面文件夹的全部内容。</p><p>注意一下那个路径，如果没有<strong>Administrator</strong>的话说明不是用的默认用户，找自己的用户名下的对应文件夹也一样的。</p><p>参考：<a href="https://blog.csdn.net/ghd602338792/article/details/85700014" target="_blank" rel="noopener">https://blog.csdn.net/ghd602338792/article/details/85700014</a></p><h3 id="2-删除对应注册表">2、删除对应注册表</h3><p>（1）在（文件资源管理器，即此电脑）搜索栏中输入 regedit（或者用命令行打开：win+R，输入：regedit ，回车确定），打开注册表。<br>（2）删除项目：<strong>计算机\HKEY_CURRENT_USER\Software\Scooter Software\Beyond Compare 4\CacheId</strong><br><img src="https://img-blog.csdnimg.cn/20190507144110248.png" alt="img"></p><p>参考：<a href="https://blog.csdn.net/vuvivian/article/details/87772437" target="_blank" rel="noopener">https://blog.csdn.net/vuvivian/article/details/87772437</a></p><h3 id="3-删除指定文件夹内容：">3、删除指定文件夹内容：</h3><p>修改C:\Program Files\Beyond Compare 4\BCUnrar.dll ,这个文件重命名或者直接删除，则会新增30天试用期，再次打开提示还有28天试用期。</p><p>参考：<a href="https://blog.csdn.net/weixin_40751723/article/details/86218785" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40751723/article/details/86218785</a></p><p>这几个方法应该有那么一两个有效吧。</p><hr><blockquote><p>文章首发于csdn:<a href="https://blog.csdn.net/weixin_41287260/article/details/88927174" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41287260/article/details/88927174</a></p></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;Beyond Compare允许您快速轻松地比较文件和文件夹。通过使用简单，强大的命令，您可以专注于您感兴趣的差异，并忽略那些您不感兴趣的差异。然后，您可以合并更改，同步文件并生成记录报告。&lt;br&gt;很强大的一个文本比较工具（、文件夹……好像啥都行），用过就会爱不释手。&lt;br&gt;&lt;img src=&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573545469353.png&quot; alt=&quot;file&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="工具软件" scheme="https://www.yansheng.xyz/tags/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="软件破解" scheme="https://www.yansheng.xyz/tags/software-cracking/"/>
    
  </entry>
  
  <entry>
    <title>一分钟教你快速识别不同茶叶分类！</title>
    <link href="https://www.yansheng.xyz/article/2928fb74.html"/>
    <id>https://www.yansheng.xyz/article/2928fb74.html</id>
    <published>2019-07-30T07:26:20.000Z</published>
    <updated>2019-11-10T08:55:09.199Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>中国被称为茶的故乡，不仅因为这里的土地孕育出世界最早的茶树，更因为这里的人们将茶视为一种沟通天地的生命。茶树在中国大地上繁衍，更因气候和土壤的不同，分化出多样的品种，加之不同的制作工艺，茶叶的品类更加丰富起来。对于初识茶者，了解茶叶的分类便成为必修课。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s550x346_jfs/t5296/189/445485792/43946/cf28b04b/59001396N6fe42368.jpg!q70.jpg" title="茶叶"></p><a id="more"></a><div class="origin-content"><h1>【茶的分类】</h1><p>以茶汤色泽和茶叶的制作工艺分类应该是最权威、最通俗的茶叶分类方法了。根据《中国茶经》的定义，所有的茶可以归为绿茶、黄茶、白茶、青茶（又称乌龙茶）、红茶、黑茶六大类。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s660x152_jfs/t4930/328/2392705828/16471/54f771e/590013c7N28440296.jpg!q70.jpg" title="茶叶"></p><h2>【绿茶】</h2><p>绿茶，不发酵，浅绿的汤色。根据杀青工艺不同分为：炒青绿茶、烘青绿茶、晒青绿茶、蒸青绿茶四种。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s499x613_jfs/t4870/143/2462488109/200579/d09e6a31/59001407N493ad180.jpg!q70.jpg" title="茶叶"></p><p>不同绿茶，茶香特色不同。其中炒青香高，多为炒豆香和栗子香，亦有花果香。小伙伴们比较熟悉的西湖龙井，即是炒青绿茶中的细嫩炒青；烘青多清香、花果香；蒸青则多有类海苔的鲜香。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s500x280_jfs/t4432/130/3408817498/284796/cc91bd85/5900145fNf3bf23dd.png" title="茶叶"></p><h2>【黄茶】</h2><p>黄茶，10%-20%轻发酵，汤色黄而亮。经过闷黄，形成特有的黄汤黄叶。其香也因工艺和原料而各有特色。蒙顶黄芽、君山银针类的黄芽茶，香气鲜嫩、清新；沩山毛尖、霍山黄大茶因烘焙工艺，而分别具松烟香和锅巴香。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s454x530_jfs/t4846/354/2435684512/146583/4b1d1aec/5900148fN4248d309.jpg!q70.jpg" title="茶叶"></p><h2>【白茶】</h2><p>轻度发酵的茶(发酵度为20～30%）。老白茶是采摘后，不经杀青或揉捻，只经过晒或文火干燥后加工的茶。具有外形芽毫完整，满身披毫，毫香清鲜，汤色黄绿清澈，滋味清淡回甘的品质特点。代表茶叶品种有：白毫银针、白牡丹等。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s466x201_jfs/t5527/16/451045431/62682/4334a970/590014aaNb58e7c01.jpg!q70.jpg" title="茶叶"></p><h2>【青茶】</h2><p>又称乌龙茶，半发酵的茶(发酵度为30～60%）。以香气著称，多按照产地划分，也是茶叶中品类最丰富的一类茶。它既有绿茶的鲜浓，又有红茶的甜醇。因其叶片中间为绿色，叶缘呈红色，故有“绿叶红镶边”之称。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s470x662_jfs/t5170/48/451611068/144751/8febf70b/590014d0Ne3a5a924.jpg!q70.jpg" title="茶叶"></p><p>代表茶叶品种有：铁观音、大红袍、冻顶乌龙茶。这也是目前市面上主要最常见的三个品种。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s800x800_jfs/t5152/326/447045816/86278/312c036c/590015f6N88795399.JPG!q70.jpg" title="茶叶"></p><h2>【红茶】</h2><p>全发酵的茶(发酵度为80～90%），世界上最早的红茶由中国明朝时期福建武夷山茶区的茶农发明，名为“正山小种”。按照其加工的方法与出品的茶形，一般又可分为三大类：小种红茶、工夫红茶、红碎茶和红茶茶珍。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s492x524_jfs/t5008/256/2442905360/123223/bff64366/59001514N8de79574.jpg!q70.jpg" title="茶叶"></p><p>小种红茶是最古老的红茶，其他红茶都是从小种红茶演变而来的。除中国外，国外的红茶品种主要有印度的大吉岭红茶、斯里兰卡的锡兰红茶、印度的阿萨姆红茶。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s595x385_jfs/t5023/33/2458528710/323684/ac4ea743/59001544N9d8e3003.png" title="茶叶"></p><h2>【黑茶】</h2><p>全发酵的茶，是六大茶类中工艺最复杂的茶了，也是唯一耐得住时间消磨的茶，而且有越陈越好的神奇特性在。工艺的复杂加上地域的风俗，造就了黑茶大家庭的盛况。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s485x379_jfs/t5293/43/448179119/109734/7b39a40d/59001562Nd7502e43.jpg!q70.jpg" title="茶叶"></p><p>主要有湖南黑茶、湖北老青茶、四川边茶、滇桂黑茶、安徽六安黑茶、云南普洱茶，影响力最大的，茶文化最普及的当属云南普洱茶，这得益于有着茶树发源地之称的云南极其丰富的茶树资源，加上愈百万年之久的时间沉积所孕育的山头茶底蕴，赋予了普洱茶与生俱来的口感魅力。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s313x302_jfs/t4714/146/3570851283/73662/215bb3de/5900156cN7984fe6e.jpg!q70.jpg" title="茶叶"></p><p>以上词条内容均来源网络，均系原作者观点及所有，仅供参考。</p></div><hr><p>文章转自：京东-健康养生系列文章：<a href="https://www.jd.com/phb/zhishi/ed341c769764dba8.html" target="_blank" rel="noopener">https://www.jd.com/phb/zhishi/ed341c769764dba8.html</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;中国被称为茶的故乡，不仅因为这里的土地孕育出世界最早的茶树，更因为这里的人们将茶视为一种沟通天地的生命。茶树在中国大地上繁衍，更因气候和土壤的不同，分化出多样的品种，加之不同的制作工艺，茶叶的品类更加丰富起来。对于初识茶者，了解茶叶的分类便成为必修课。&lt;/p&gt;&lt;p&gt;&lt;img alt=&quot;茶叶&quot; src=&quot;//m.360buyimg.com/mobilecms/s550x346_jfs/t5296/189/445485792/43946/cf28b04b/59001396N6fe42368.jpg!q70.jpg&quot; title=&quot;茶叶&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="生活" scheme="https://www.yansheng.xyz/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
    <link href="https://www.yansheng.xyz/article/3efe2740.html"/>
    <id>https://www.yansheng.xyz/article/3efe2740.html</id>
    <published>2019-07-29T08:31:23.000Z</published>
    <updated>2019-11-10T08:18:43.512Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>虽然<code>yilia</code>主题已经集成了挺多功能的，界面也很不错。但是在某些方面好像还是略有欠缺。这篇博客主要是介绍一些外加的扩展功能。</p><a id="more"></a><h2 id="一-增加侧边导航栏的subnav图标">一、增加侧边导航栏的SubNav图标</h2><p>参考：<a href="https://blog.zscself.com/posts/70677220/" target="_blank" rel="noopener">修改Yilia左下角SubNav的社交图标</a><br><a href="http://fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome:一套绝佳的图标字体库和CSS框架</a></p><ol><li>这里只是添加csdn和gitee图标，其他可以参照上面两个链接进行设置。在<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>文件中添加下面的代码（最好是在gitbub附近，分类管理）</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1.这是github的默认图标 */</span></span><br><span class="line"><span class="selector-class">.icon-github</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"\E735"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 添加码云和CSDN的标签的图标 */</span></span><br><span class="line"><span class="selector-class">.icon-gitee</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"码"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon-csdn</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"C"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 2.这是之前github的 */</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.github</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#afb6ca</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#afb6ca</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.github</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#909ab6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 下面两个是新增的csdn和gitee */</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.csdn</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#C71D23</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.csdn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.gitee</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#C71D23</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.gitee</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>H:\Hexo\themes\yilia\_config.yml</code>的中导航栏<code>subnav</code>中添加对应代码，添加后如下</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">subnav:</span></span><br><span class="line"><span class="attr">  github:</span> <span class="string">"https://github.com/username"</span></span><br><span class="line"><span class="attr">  gitee:</span> <span class="string">"https://gitee.com/username"</span></span><br><span class="line"><span class="attr">  csdn:</span> <span class="string">"https://blog.csdn.net/username"</span></span><br></pre></td></tr></table></figure><h2 id="二-新增侧边栏归档-分类-标签内容-有bug-分类-标签">二、新增侧边栏归档、分类、标签内容–有bug（分类、标签）</h2><p>参考：hexo-theme-next的wiki：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E5%88%9B%E5%BB%BA%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2" target="_blank" rel="noopener">创建分类页面</a></p><ol><li>添加一个分类页面，并在菜单中显示页面链接。<br>新建一个页面，命名为 categories 。命令如下：<br><code>hexo new page categories</code></li><li>编辑刚新建的页面，将页面的类型<code>type</code>设置为 categories ，主题将自动为这个页面显示所有分类。</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: 分类</span><br><span class="line">date: 2014-12-22 12:39:04</span><br><span class="line">type: "categories"</span><br></pre></td></tr></table></figure><ol start="3"><li>注意：如果有启用多说 或者 Disqus 评论，默认页面也会带有评论。需要关闭的话，请添加字段 comments 并将值设置为 false，如：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: 分类</span><br><span class="line">date: 2014-12-22 12:39:04</span><br><span class="line">type: "categories"</span><br><span class="line">comments: false</span><br></pre></td></tr></table></figure><ol start="4"><li>在菜单中添加链接。编辑主题的<code>_config.yml</code> ，将 menu中的 <code>#categories: /categories</code>注释去掉，如</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags</span></span><br><span class="line"><span class="string">Add</span> <span class="string">a</span> <span class="string">custom</span> <span class="string">footer</span></span><br></pre></td></tr></table></figure><h2 id="三-设定站点建立时间-有bug-没有实现">三、设定站点建立时间–有bug（没有实现）</h2><p>参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4</a></p><p>这个时间将在站点的底部显示，例如 <code>? 2013 - 2015</code></p><p>编辑<strong>主題</strong>的 <code>_config.yml</code>，新增字段 <code>since</code>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">since: 2013</span><br></pre></td></tr></table></figure><h2 id="四-添加字数统计和阅读时长功能">四、添加字数统计和阅读时长功能</h2><p>参考：<a href="https://blog.csdn.net/weixin_34259232/article/details/91182835" target="_blank" rel="noopener">hexo下yilia主题添加字数统计和阅读时长功能</a></p><ol><li>安装 hexo-wordcount<br>在博客目录下打开Git Bash Here,输入命令:<br><code>npm i --save hexo-wordcount</code></li><li>文件配置<br>在<code>theme\yilia\layout\_partial\post</code>下创建word.ejs文件：</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-top:10px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-time"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-keyboard-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>  字数统计: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">wordcount</span>(<span class="attr">post.content</span>) %&gt;</span>字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-time"</span>&gt;</span></span><br><span class="line">      &amp;nbsp; | &amp;nbsp;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-hourglass-half"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>  阅读时长: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">min2read</span>(<span class="attr">post.content</span>) %&gt;</span>分<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在<code>themes/yilia/layout/_partial/article.ejs</code>中添加:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-inner"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">post.link</span> || <span class="attr">post.title</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"article-header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">title</span>', &#123;<span class="attr">class_name:</span> '<span class="attr">article-title</span>'&#125;) %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (!<span class="attr">post.noDate</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">date</span>', &#123;<span class="attr">class_name:</span> '<span class="attr">archive-article-date</span>', <span class="attr">date_format:</span> <span class="attr">null</span>&#125;) %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 需要添加的位置 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 开始添加字数统计--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.word_count</span> &amp;&amp; !<span class="attr">post.no_word_count</span>)&#123;%&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">word</span>') %&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 添加完成 --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>开启功能<br>在站点的_config.yml中添加下面代码:</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是否开启字数统计</span></span><br><span class="line"><span class="comment">#不需要使用，直接设置值为false，或注释掉</span></span><br><span class="line"><span class="attr">word_count:</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h2 id="五-添加-不蒜子-访问量统计功能">五、添加“不蒜子”访问量统计功能</h2><p>官网：不蒜子 - 极简网页计数器：<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">http://busuanzi.ibruce.info/</a></p><p>参考：<a href="%5Bhttps://joeybling.github.io/2019/03/13/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1/%5D(https://joeybling.github.io/2019/03/13/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1/)">Hexo博客添加访问量统计</a></p><p><font color="red">注意：本地测试时，访问量是不准确的！</font></p><ol><li>配置是否开启不蒜子访问量统计功能<br>在<code>themes/yilia/_config.yml</code>添加属性</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是否开启访问量统计功能(不蒜子)</span></span><br><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ol start="2"><li>引入不蒜子并添加站点访问量<br>在<code>themes/yilia/layout/_partial/footer.ejs</code>末尾(之前)添加如下代码</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.busuanzi</span> &amp;&amp; <span class="attr">theme.busuanzi.enable</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 不蒜子统计 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></span><br><span class="line">                本站总访问量<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span> <span class="attr">style</span>=<span class="string">'display:none'</span>&gt;</span></span><br><span class="line">                本站访客数<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>人</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>添加文章访问量</li></ol><p>我找到的添加位置主要有两种，下面会上图，可以选择自己喜欢的，推荐第一种。<br>3.1 这种形式是：外面不显示，只在文章里面才显示，位置为右上角时间的右边。<br>在<code>themes/yilia/layout/_partial/post/date.ejs</code>开头添加如下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.busuanzi</span> &amp;&amp; <span class="attr">theme.busuanzi.enable</span> &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 不蒜子统计 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_page_pv"</span> <span class="attr">style</span>=<span class="string">'display:none'</span> <span class="attr">class</span>=<span class="string">"&lt;%= class_name %&gt;"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon-smile icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 阅读数：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_page_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>主页样式：<img src="https://s2.ax1x.com/2019/07/26/enG0f0.jpg" alt="enG0f0.jpg"><br>文章样式（注意右上角）：<img src="https://s2.ax1x.com/2019/07/26/enGDpV.jpg" alt="enGDpV.jpg"></p><p>3.2 这种形式是：显示在标签的后面，即不仅文章里面会显示，外面主页也会显示，个人感觉体验略差。<br>参考：<a href="https://codegitz.github.io/2018/04/13/hexo-yilia-%E6%96%87%E7%AB%A0%E6%B5%8F%E8%A7%88%E9%87%8F%E7%BB%9F%E8%AE%A1/" target="_blank" rel="noopener">hexo yilia 文章浏览量统计</a><br>需要修改的文件：<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">tag</span>') %&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 文末访问量统计（开始） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_page_pv"</span>&gt;</span></span><br><span class="line">    |阅读量:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_page_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文末访问量统计（结束） --&gt;</span></span><br></pre></td></tr></table></figure><p>主页和文章样式（注意标签后面，因为之前忘记截图了，这是我自己标记的位置，不是实际显示效果）：<img src="https://s2.ax1x.com/2019/07/26/enGwYq.jpg" alt="enGwYq.jpg"></p><h2 id="六-设置文章置顶功能">六、设置文章置顶功能</h2><p>参考：解决Hexo博客文章置顶问题：<a href="https://zhwhong.cn/2017/03/23/deal-with-hexo-article-top-problem/" target="_blank" rel="noopener">https://zhwhong.cn/2017/03/23/deal-with-hexo-article-top-problem/</a><br>（这篇博客用的是另一个基于yilia的主题，感觉还是挺不错的，github：<a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" rel="noopener">https://github.com/MOxFIVE/hexo-theme-yelee</a>，但是也停止更新很久了……）<br>原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。<br>修改Hexo文件夹下的<code>node_modules/hexo-generator-index/lib/generator.js</code>，在生成文章之前进行文章top值排序。</p><p><font color="red">注意：一般情况下，git默认是忽略该文件的，所以应该先将该文件加到仓库，提交一次进行备份，然后再进行修改，不然不能实现备份该文件功能，可参考下面的示例代码进行操作：</font></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 为了方便起见，不修改.gitignored文件，直接将该文件强制加入仓库。</span></span><br><span class="line"><span class="comment"># 注意：修改后，再添加该文件时也要强制添加</span></span><br><span class="line">git add -f node_modules/hexo-generator-index/lib/generator.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参看是否添加成功，应该会变成绿色，表示已加入暂存区</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提交一次</span></span><br><span class="line">git commit -m <span class="string">"back up node_modules/hexo-generator-index/lib/generator.js"</span></span><br></pre></td></tr></table></figure><p>下面是<code>generator.js</code>修改后的代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts.sort(config.index_generator.order_by);</span><br><span class="line"></span><br><span class="line">  posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><p>补充另一种：置顶方式：通过插件来实现。参考：<a href="https://www.writebug.site/2018/04/29/Hexo%E2%80%94%E2%80%94Yilia%E4%B8%BB%E9%A2%98%E7%9A%84%E5%BD%92%E6%A1%A3%E9%A1%B5%E7%BD%AE%E9%A1%B6/" target="_blank" rel="noopener">Hexo—Yilia主题的归档页置顶</a></p><ol><li>blog目录下执行以下命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><ol start="2"><li>然后在文章头添加 top:true 如：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 终于装好Hexo啦</span><br><span class="line">date: 2018-04-19 00:04:46</span><br><span class="line">tags: 心情</span><br><span class="line">top: true</span><br><span class="line">categories:</span><br><span class="line"><span class="bullet">- </span>你好，世界</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="七-添加背景音乐">七、添加背景音乐</h2><p>参考：<a href="https://www.writebug.site/2018/04/21/hexo-yilia%E4%B8%AA%E6%80%A7%E5%8C%96%E4%B9%8B-%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90/" target="_blank" rel="noopener">hexo+yilia个性化之-添加背景音乐</a></p><ol><li>到网易云官网获取音乐外链：搜索音乐–&gt;生成外链播放器–&gt;复制代码</li><li>打开路径 <code>themes/yilia/layout/_partial/left-col.ejs</code>，在<code>&lt;/nav&gt;</code>上面添加代码，就像下面这样。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">228</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1371939273&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>根据需要设置宽高属性，宽建议228。</li></ol><h2 id="八-为博客设置404页面">八、为博客设置404页面</h2><p>参考：github官网介绍：<a href="https://help.github.com/cn/articles/creating-a-custom-404-page-for-your-github-pages-site" target="_blank" rel="noopener">https://help.github.com/cn/articles/creating-a-custom-404-page-for-your-github-pages-site</a></p><p>在<code>/source/</code>目录下新建<code>404.md</code>在头部添加属性<code>permalink: /404.html</code>，页面内容可以自定义。</p><p>例1：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section"># example 404.md</span></span><br><span class="line">title: 404 Not Found：该页无法显示</span><br><span class="line">permalink: /404.html</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># 404</span></span><br><span class="line"></span><br><span class="line">Page not found! :(</span><br></pre></td></tr></table></figure><p>推荐使用腾讯公益404页面（注意要把首页链接换成自己的）：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 404 Not Found：该页无法显示</span><br><span class="line">date: 2019-07-26 21:51:29</span><br><span class="line">permalink: /404.html</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;head&gt;</span></span><br><span class="line"><span class="code">         &lt;meta charset="UTF-8" /&gt;</span></span><br><span class="line"><span class="code">         &lt;title&gt;404&lt;/title&gt;                           </span></span><br><span class="line"><span class="code">    &lt;/head&gt;</span></span><br><span class="line"><span class="code">    &lt;body&gt;</span></span><br><span class="line"><span class="code">         &lt;script type="text/javascript" src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js" homePageName="返回首页" homePageUrl="https://www.yansheng.xyz/"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;/body&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>然后转换、部署就可以了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h2 id="九-为头像增加旋转效果">九、为头像增加旋转效果</h2><p>参考：<a href="https://qianlei6148.github.io/2018/10/01/hexo%E6%A8%A1%E7%89%88yilia%E5%A4%B4%E5%83%8F%E5%A2%9E%E5%8A%A0%E6%97%8B%E8%BD%AC%E6%95%88%E6%9E%9C/" target="_blank" rel="noopener">hexo模版yilia头像增加旋转效果/</a></p><p>1.在<code>themes\yilia\source\</code>文件夹下<br>增加一个css文件<code>avatarrotation.css</code>用来旋转360度<br>内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.profilepic</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="comment">/* 控制旋转速度时间*/</span></span><br><span class="line">  <span class="attribute">-webkit-transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.profilepic</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="comment">/* 鼠标经过360% */</span></span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.然后在<code>themes\yilia\layout\_partial\head.ejs</code>文件中添加进去创建的<code>css</code>文件：<br>找到<code>&lt;%- partial('css') %&gt;</code>，在它的下面添加代码，把刚才写的文件添加进去，<strong>注意！！是在它的下面添加，不然旋转速度将不会生效</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.avatarrotation</span>)&#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"/./avatarrotation.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>如果<code>css</code>不生效，查看<code>css</code>中的<code>href</code>位置是否写错了，可根据你具体存放的位置写路径。</p><p>3.最后在<code>主题文件_config.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#头像是否旋转(如果不要旋转取false)</span></span><br><span class="line"><span class="attr">avatarrotation:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>重新发布，最终就可以旋转了！</p><h2 id="十-安装hexo-admin插件">十、安装<code>hexo-admin</code>插件</h2><p>github官网：<a href="https://github.com/jaredly/hexo-admin" target="_blank" rel="noopener">https://github.com/jaredly/hexo-admin</a></p><h3 id="0-插件介绍">0.插件介绍</h3><p>hexo-admin 是一个Hexo博客引擎的管理用户界面插件。这个插件最初是作为本地编辑器设计的，在本地运行hexo使用hexo-admin编写文章，<font color="red">左边写右边预览</font>，然后通过hexo g或hexo d（hexo g是本地渲染，hexo d是将渲染的静态页面发布到GitHub）将生成的静态页面发布到GitHub等静态服务器。如果你使用的是非静态托管服务器，比如自己买的主机搭建的hexo，那么一定要设置hexo-admin 的密码，否则谁都可以编辑你的文章。</p><h3 id="1-安装管理员并启动">1.安装管理员并启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br><span class="line">hexo server -d</span><br><span class="line">open http://localhost:4000/admin/</span><br></pre></td></tr></table></figure><h3 id="2-密码保护">2.密码保护</h3><p>如果您在实时服务器上使用Hexo admin，则需要一些密码保护。要启用此功能，只需在hexo中添加一些配置变量<code>_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">admin:</span></span><br><span class="line"><span class="attr">  username:</span> <span class="string">myfavoritename</span></span><br><span class="line"><span class="attr">  password_hash:</span> <span class="string">be121740bf988b2225a313fa1f107ca1</span></span><br><span class="line"><span class="attr">  secret:</span> <span class="string">a</span> <span class="string">secret</span> <span class="string">something</span></span><br></pre></td></tr></table></figure><p>这<code>password_hash</code>是您密码的bcrypt哈希值。本<code>secret</code>是用来做饼干的安全，所以这是一个好主意，有它漫长而复杂。</p><p>Hexo管理员设置中的实用程序可以散列您的密码并<code>admin</code> 为您生成该部分。启动Hexo并转到<code>Settings &gt; Setup authentification</code> 并填写您的信息。将生成的YAML复制到您的<code>_config.yml</code>。</p><p>一旦到位，启动您的hexo服务器，然后<code>/admin/</code>将要求您输入密码。</p><h3 id="3-自定义帖子元数据">3.自定义帖子元数据</h3><p>要使用管理界面添加和编辑您自己的帖子元数据，请将元数据变量和自定义变量添加到您的hexo中<code>_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">metadata:</span></span><br><span class="line"><span class="attr">  author_id:</span> <span class="string">defaultAuthorId</span></span><br><span class="line"><span class="attr">  language:</span></span><br></pre></td></tr></table></figure><p>您可以提供将用于初始化新帖子元数据的默认值。这些可以是基元或数组。</p><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：<br>1.<a href="https://www.yansheng.xyz/2019/07/29/hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章/">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>2.<a href="https://www.yansheng.xyz/2019/07/29/hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>3.<a href="https://www.yansheng.xyz/2019/07/29/hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>4.hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;div style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg&quot; width height title=&quot;hexo&quot;&gt;&lt;/div&gt;&lt;p&gt;虽然&lt;code&gt;yilia&lt;/code&gt;主题已经集成了挺多功能的，界面也很不错。但是在某些方面好像还是略有欠缺。这篇博客主要是介绍一些外加的扩展功能。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
    <link href="https://www.yansheng.xyz/article/b37cf67a.html"/>
    <id>https://www.yansheng.xyz/article/b37cf67a.html</id>
    <published>2019-07-29T08:30:55.000Z</published>
    <updated>2019-11-10T08:18:37.199Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>简单介绍一些<code>yilia</code>主题的需要或者说可以自定义的内容，该部分内容主要参考<code>yilia</code>的制作者<code>litten</code>的博客的博客，github网址：<a href="https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml</a><br>可通过 <code>hexo s</code> 本地发布，然后通过访问 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 预览效果，进行个性化设置。</p><a id="more"></a><h2 id="一-主要信息配置：hexo-config-yml配置">一、主要信息配置：<code>Hexo/_config.yml</code>配置</h2><p>一般需要设置一下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site,url,jsonContent(标签不能正常显示的问题)</span><br></pre></td></tr></table></figure><p>注意：标签不能正常显示的问题</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#标签不能正常显示的问题</span></span><br><span class="line"><span class="attr">jsonContent:</span></span><br><span class="line"><span class="attr">  meta:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  pages:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  posts:</span></span><br><span class="line"><span class="attr">    title:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    date:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    path:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    text:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    raw:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    content:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    slug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    updated:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    permalink:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    excerpt:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    categories:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    tags:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>jsonContent(标签不能正常显示的问题)，该功能需要添加依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-generator-json-content --save</span><br></pre></td></tr></table></figure><h2 id="二-主题配置hexo-themes-yilia-config-yml配置">二、主题配置<code>Hexo/themes/yilia/_config.yml</code>配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">menu;subnav;favicon(设置网站图标);avatar(头像);friends(社交)</span><br></pre></td></tr></table></figure><p>注意：favicon设置网站图标，用自己的图标替换<code>H:\Hexo\source\assets\img\favicon.ico</code>，然后修改<code>H:\Hexo\themes\yilia\_config.yml</code>里面的图标链接</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置网站图标</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/assets/img/favicon.ico</span></span><br></pre></td></tr></table></figure><p>图标介绍及制作可参考：<a href="http://www.faviconico.org/" target="_blank" rel="noopener">http://www.faviconico.org/</a></p><p><font color="red">推荐原因：可以预览图标，就是你制作后图标后，点击预览，它会将当前网页图标设置成你的图标。</font></p><blockquote><p><code>favicon.ico</code>一般用于作为缩略的网站标志，它显示在浏览器的地址栏、浏览器标签上或者在收藏夹上，是展示网站个性的缩略logo标志，也可以说是网站头像,目前主要的浏览器都支持favicon.ico图标，如果要让网站看起来更专业、更美、更有个性，favicon.ico是必不可少的，你在本站使用ICO图标转换工具就可以轻松将您的网站图标转换成favicon.ico。</p></blockquote><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：<br>1.<a href="https://www.yansheng.xyz/2019/07/29/hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章/">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>2.<a href="https://www.yansheng.xyz/2019/07/29/hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>3.hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章<br>4.<a href="https://www.yansheng.xyz/2019/07/29/hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;div style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg&quot; width height title=&quot;hexo&quot;&gt;&lt;/div&gt;&lt;p&gt;简单介绍一些&lt;code&gt;yilia&lt;/code&gt;主题的需要或者说可以自定义的内容，该部分内容主要参考&lt;code&gt;yilia&lt;/code&gt;的制作者&lt;code&gt;litten&lt;/code&gt;的博客的博客，github网址：&lt;a href=&quot;https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml&lt;/a&gt;&lt;br&gt;可通过 &lt;code&gt;hexo s&lt;/code&gt; 本地发布，然后通过访问 &lt;a href=&quot;http://localhost:4000/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://localhost:4000/&lt;/a&gt; 预览效果，进行个性化设置。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
    <link href="https://www.yansheng.xyz/article/37bae0ef.html"/>
    <id>https://www.yansheng.xyz/article/37bae0ef.html</id>
    <published>2019-07-29T08:30:27.000Z</published>
    <updated>2019-11-10T08:18:30.991Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>这篇文章主要介绍了搭建博客中关键部分–hexo的内容，前提工作（git、github、node.js部分）并没有展开讲，如果需要了解这部分内容请步他出。</p><a id="more"></a><h2 id="一-目标">一、目标</h2><p>搭建hexo+yilia的基本的框架，并且部署在github上面，能够通过github pages 进行访问。</p><p>统一说明：我的hexo根目录为<code>Hexo</code>，仓库为<code>yansheng836.github.io</code>。</p><h2 id="二-准备工作">二、准备工作</h2><p>（不详细介绍，可参考hexo官方文档：<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a>）</p><h3 id="1-安装git">1. 安装git。</h3><h3 id="2-注册github-新建一个特殊的仓库-username-github-io">2. 注册github，新建一个特殊的仓库(<a href="http://username.github.io" target="_blank" rel="noopener">username.github.io</a>)。</h3><h3 id="3-安装node-js">3. 安装Node.js。</h3><h2 id="三-安装hexo-并初始化">三、安装hexo，并初始化</h2><p>参考官网教程：<a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener">https://hexo.io/zh-cn/index.html</a></p><p>在你需要安装hexo的地方打开git命令行工具，运行一下命令（注：#开头为注释）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局安装hexo</span></span><br><span class="line"><span class="comment"># 并初始化一个文件夹Hexo作为hexo的根目录（可自定义，命令格式为`hexo init &lt;folder&gt;`）</span></span><br><span class="line"><span class="comment"># 进入Hexo文件夹</span></span><br><span class="line"><span class="comment"># npm install：Hexo 将会在指定文件夹中新建所需要的文件。</span></span><br><span class="line"><span class="comment"># hexo server：部署在本地，会提醒可通过`http://localhost:4000`访问，`Ctrl+C`可停止</span></span><br><span class="line"></span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init Hexo</span><br><span class="line"><span class="built_in">cd</span> Hexo</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/07/25/eZEIaj.jpg" alt="eZEIaj.jpg"></p><h2 id="四-更换主题">四、更换主题</h2><h3 id="4-1-主题介绍">4.1 主题介绍</h3><p>默认主题是<code>landscape</code>，好像不是很好看，一般都会更换主题。</p><p>现在比较流行的挺多的，这里只列举几种：（部署方式在github上面都有，有问题也可以去那里问。）</p><ul><li><p><strong>next</strong>: Elegant theme for Hexo.<br>github旧（已停止更新）:<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next</a><br>github（新的）:<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next</a><br><img src="https://s2.ax1x.com/2019/07/25/eZE5ZQ.jpg" alt="eZE5ZQ.jpg"></p></li><li><p><strong>yilia</strong>: 一个简洁优雅的hexo主题 A simple and elegant theme for hexo.<br>github: <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a><br><img src="https://s2.ax1x.com/2019/07/25/eZEhqg.jpg" alt="eZEhqg.jpg"></p></li><li><p><strong>yelee</strong>: 简而不减 Hexo 双栏博客主题; Another simple and elegant theme for Hexo.(基于yilia)<br>github（已停更）: <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" rel="noopener">https://github.com/MOxFIVE/hexo-theme-yelee</a><br><img src="https://s2.ax1x.com/2019/07/26/euFG2q.jpg" alt="euFG2q.jpg"></p></li></ul><h3 id="4-2-更换yilia主题的简单介绍">4.2 更换yilia主题的简单介绍</h3><p>我选的是yilia，以下是安装方式，参考：</p><ul><li>yilia 的仓库介绍（适用说明）：<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a>。</li><li>yilia 的仓库管理者 <code>litten</code> 的博客备份仓库：<a href="https://github.com/litten/BlogBackup" target="_blank" rel="noopener">https://github.com/litten/BlogBackup</a>。</li></ul><p>（如果你的不是该主题，仅供参考。）<br>注意：一般默认都是在博客根目录打开git命令行，运行这些代码。</p><h4 id="安装">安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure><h4 id="配置">配置</h4><p>修改hexo根目录下的 <code>_config.yml</code> ： <code>theme: yilia</code></p><p><font color="red">注意：（强制）部署这类格式的配置时，冒号后面要加英文空格；（推荐）如果文件中有添加中文注释，统一改文件格式为UTF-8</font>。</p><h4 id="更新">更新</h4><p>该主题好像已经很久没有更新了，最近的一次更新好像是2017年的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/yilia</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h4 id="部署：">部署：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>浏览器访问：<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>，注意访问期间不能按停止命令<code>Ctrl+C</code>,不然会停止服务，页面404。</p><p>效果图：<img src="https://s2.ax1x.com/2019/07/25/eZEoIs.jpg" alt="eZEoIs.jpg"></p><h2 id="五-将hexo部署到github上面-实现双分支部署">五、将hexo部署到github上面，实现双分支部署</h2><p>引用master分支中<code>README.md</code>中的有关双分支的部署说明：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yansheng836.github.io</span><br><span class="line">-- master  部署分支：主要存放生成的静态文件，用于部署到github pages</span><br><span class="line">-- blog    写作分支：主要存放hexo环境配置、博客（md）</span><br></pre></td></tr></table></figure><h3 id="1-部署master分支">1. 部署master分支</h3><h4 id="1-1-指定hexo部署的方式-仓库-分支">1.1 指定hexo部署的方式、仓库、分支</h4><p>修改hexo根目录下的 <code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#部署到github的仓库</span></span><br><span class="line"><span class="comment">#Deployment</span></span><br><span class="line"><span class="comment">#Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> <span class="attr">https://github.com/yansheng836/yansheng836.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h4 id="1-2-为项目添加说明readme-md">1.2 <a href="http://xn--README-vy7ii41abt9bxtq9pwlv1dl97a.md" target="_blank" rel="noopener">为项目添加说明README.md</a></h4><p>你可以把<code>README.md</code>,<code>LICENSE</code>（许可证）等文件放在/source/目录下，该目录的文件可以上传到github根目录；之前提过<code>hexo g</code>是将/source/<em>/</em>.md所有文件渲染成html文件（如果没有设置跳过渲染的话），然后放到对应的/public/目录下；而对于其他文件，直接复制到对应文件夹下。</p><p><a href="http://xn--README-hf5m143bry1btzzavcfq9f.md" target="_blank" rel="noopener">设置跳过渲染README.md</a>，需要修改hexo根目录下的 <code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hexo g 会默认将所有md文件转换成（渲染成）HTML文件放到public文件夹中；加上这句话的意思就是告诉hexo的解析器，跳过渲染(skip_render)README.md文件</span></span><br><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line"><span class="bullet"> -</span> <span class="string">'README.md'</span></span><br></pre></td></tr></table></figure><p>如果不设置该属性，README.md文件会被装换成README.html文件，同理你可以通过该配置跳过渲染你不希望hexo渲染的md文件。</p><h4 id="1-3-把master分支部署到github的master分支">1.3 把master分支部署到github的master分支</h4><p>如果有修改配置文件，最好都进行重新编译。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>如果出现类似错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><p>需要添加git依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h3 id="2-部署blog分支">2. 部署blog分支</h3><p>注意：该分支名可自定义。</p><h4 id="2-1-在hexo根目录打开git命令行-初始化一个仓库">2.1 在Hexo根目录打开git命令行，初始化一个仓库</h4><p>在hexo根目录下新建仓库，用于管理写作分支（之前的部署到github的为部署分支）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add origin https://github.com/yansheng836/yansheng836.github.io.git</span><br></pre></td></tr></table></figure><h4 id="2-2-忽略一些不需要备份的文件">2.2 忽略一些不需要备份的文件</h4><p>修改跟目录下的<code>.gitignore</code>，.gitignore的原内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br></pre></td></tr></table></figure><p>在后面增加以下内容，用来忽略原来的主题文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ignored the useless themes</span><br><span class="line">/themes/landscape/</span><br></pre></td></tr></table></figure><h4 id="2-3-删除-themes-yilia-git文件夹">2.3 删除<code>/themes/yilia/.git</code>文件夹。</h4><p>为方便将yilia的主题配置进行同步（其实该主题已经很久没更新了……），但是之前我们使用github克隆的yilia，也就是话说：/themes/yilia/里面也有一个仓库，这涉及到git仓库下的子仓库的问题，默认情况下是不将该子仓库介入到外层仓库的，但是我们需要备份yilia主题的配置文件，所以需要删除该子仓库，即删除<code>/themes/yilia/.git</code>文件夹。</p><h4 id="2-4-创建blog分支">2.4 创建blog分支。</h4><p>创建一个分支存放写作内容，方便同步到同一仓库的不同分支，先提交一次，不然会报</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal: Not a valid object name: &apos;master&apos;</span><br></pre></td></tr></table></figure><p>添加、提交</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"init the blog"</span></span><br></pre></td></tr></table></figure><p>创建分支，并同步到github的blog分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch blog</span><br><span class="line">git checkout blog</span><br><span class="line">git push origin blog</span><br></pre></td></tr></table></figure><h4 id="2-5-github上把blog分支设置为默认分支">2.5 github上把blog分支设置为默认分支</h4><p>可设置该分支为默认分支<code>Settings--&gt;branches--&gt;Default branch:master设置为blog--&gt;update</code>，这样以后仓库主页显示就是blog分支，而且拉取（或者克隆）的时候拉取的就是blog分支，而不是原来默认的master分支。</p><h4 id="2-6-实现双分支部署">2.6 实现双分支部署</h4><p>每次写完博客要同时同步到该仓库的不同分支上，以实现真正的同步(备份)。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Writing</span></span><br><span class="line"><span class="comment"># 同步到master分支</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 手动同步到blog分支上</span></span><br><span class="line">git add. </span><br><span class="line">git commit -m <span class="string">"提交信息"</span></span><br><span class="line">git push origin blog <span class="comment">#如果设置了blog为默认分支，可以直接git push</span></span><br></pre></td></tr></table></figure><h3 id="五-发布到github-pages">五、发布到github pages</h3><p>设置master分支为主页，步骤<code>Settings--&gt;options--&gt;GitHub Pages:设置master分支--&gt;update</code>，成功后会刷新，显示则可通过<code>&lt;https://yansheng836.github.io/&gt;</code>访问。</p><p>如果有购买域名，可设置对应域名，之前要设置域名解析（这个好像有点啰嗦不细讲），或者直接在hexo根目录的/source/文件夹下添加<code>CNAME</code>文件(注意：该文件没有后缀)，内容为域名，如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www.yansheng.xyz</span><br></pre></td></tr></table></figure><p>然后发布到github上</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>成功后在setting中会显示可通过域名访问，而不是原来的路径。</p><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：<br>1.<a href="https://www.yansheng.xyz/2019/07/29/hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章/">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>2.hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章<br>3.<a href="https://www.yansheng.xyz/2019/07/29/hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>4.<a href="https://www.yansheng.xyz/2019/07/29/hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;div style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg&quot; width height title=&quot;hexo&quot;&gt;&lt;/div&gt;&lt;p&gt;这篇文章主要介绍了搭建博客中关键部分–hexo的内容，前提工作（git、github、node.js部分）并没有展开讲，如果需要了解这部分内容请步他出。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
    <link href="https://www.yansheng.xyz/article/b4e9a9a2.html"/>
    <id>https://www.yansheng.xyz/article/b4e9a9a2.html</id>
    <published>2019-07-29T08:28:00.000Z</published>
    <updated>2019-11-10T08:18:15.439Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>偶然间看到github pages+hexo搭建的博客，感觉很不错，就想自己也动手搭建一个这样的博客。因为从未接触过，所以刚开始搭建只能到各种博客论坛找教程，虽然教程很多，但是因为时间比较久了，很多配图都失效了；加之每个人的电脑环境都不一样……加上其它的林林总总的原因，其实搭建过程还是比较艰难的！</p><p>这篇文章介绍的是有关“博客备份”的内容，有些人可能会疑惑：为什么还没有搭建好，就开始讲备份？在软件测试的过程中，测试是越早进行越好，因为修改的代价越小。博客备份同样也是这个道理。也许只有亲身经历过，你就会懂；不，看完我的文章，你一个也可以懂。我写这篇就是希望：你们不要和我一样走弯路。</p><a id="more"></a><h2 id="踩坑过程：">踩坑过程：</h2><h3 id="1-搭建博客之路：掉坑系列之巨坑篇">1. 搭建博客之路：掉坑系列之巨坑篇</h3><p>我是从2019年7月22日开始搭建的，本以为一两天就能搭建完成的，事实上一天就可以搭建完成。但是为了增加一些个性化设置，我感觉我把自己逼上了绝路……在不知道修改了某个配置文件后，页面崩了，样式表加载不了。因此前端技术一般，所以我压根就找不到问题所占；想按照配置过程一步步回退，但是一下子配置了太多东西也不知道是哪里错了……</p><p>出了问题总得解决，难不成下次出错又再搭建一次？以下是我探究解决方案的过程， 我记下这部分内容的原因是：我想留下点啥，记录我的挣扎的过程……，同时也是希望能给遇到同样问题的人一些帮助。</p><h3 id="2-第一次探索：hexo的主要工作流程">2. 第一次探索：hexo的主要工作流程</h3><p>然后想着既然hexo是使用git部署到github，那么就是用了版本管理，我想着它应该要起作用了。因此想试下能不能恢复借此之前的正确配置，一番挣扎后，我放弃了，因为这和普通的git还是有一定差别的。</p><p>我去研究了下hexo的主要的常用命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo clean     <span class="comment">#删除缓冲文件(db.json)和(public中的)已生成的静态文件。</span></span><br><span class="line">hexo generate  <span class="comment">#读取配置文件，根据主题配置，将md解析成HTML，将source里的文件转换到public文件夹。</span></span><br><span class="line">hexo server    <span class="comment">#将静态文件部署到本地，预览。</span></span><br><span class="line">hexo deploy    <span class="comment">#清理.deploy_git文件夹，将public复制到.deploy_git，发布到github。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#简写形式为</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>如下图：<br><img src="https://s2.ax1x.com/2019/07/25/eZNX6S.jpg" alt="hexo的主要工作流程"></p><h3 id="3-第二次探索：hexo中的-deploy-git">3. 第二次探索：hexo中的<code>.deploy_git</code></h3><p>根据上面的分析，我们可以发现一个问题：这里的<code>.deploy_git</code>版本管理其实是单向的，只有push，没有pull（或者fetch+merge）；另一方面我们到<code>.deploy_git</code>文件夹打开git命令行，运行<code>git remote</code>来查看远程仓库，发现没有远程仓库，但是它确是是能够上传的，说明是被hexo封装了（详情可见<code>/_config.yml</code>的Deployment部分内容），而封装就意味着丢失一些东西，就比如高级语言虽然比底层语言好用，但是速度却慢得多。</p><p>从hexo的命令来看，我们只是一味的将本地的生成的静态文件推送到远程仓库，而没有将远程仓库拉取到本地，因为”<strong>拉取到本地</strong>“其实这是没有意义的！我认为主要原因有下面二：</p><p>（1）由hexo的主要命令我们知道：上传的文件基本是静态页面相关的文件，没有配置文件，每次部署都会自动生成，所以拉取远程仓库根本没有意义。</p><p>（2）同样因为上次的是静态文件，也就是说是由hexo将markdown转换而成的HTML，假如我们之前发的博客发现了有错误，想要修改，我们也是修改源文件（md），而不是修改生成的HTML。</p><h3 id="4-问题的根本：没有对配置文件和历史博客进行备份">4. 问题的根本：没有对配置文件和历史博客进行备份</h3><p>但是这样的设置就容易出现问题：<font color="red">如果配置出错或者是md博客源文件丢失，就找不回了！！！</font>比如：</p><p>（1）如果本地修改配置后，出错了就没有办法恢复原来的状态（我就是这样的）。<br>（2）按照之前我对核心命令的理解：如果重装系统或者两边写博客就会出现问题——md博客源文件丢失，因为clean每次清理public文件夹，也就是每次generate就是重新生成之前你写的所有博客，如果你分开两地写博客（或者重装后），也就意味着你丢失了历史博客，所有只生成你现在更新的博客，发布后也就只有当前更新的博客，而没有历史博客。</p><h3 id="5-解决问题：新建分支存放配置文件和博客源文件">5. 解决问题：新建分支存放配置文件和博客源文件</h3><p>造成这个的原因是我们对发布的文件进行了版本控制，但是没有对我们的环境和写作资料（md）进行办版本控制。因为我是新手，一开始研究hexo，我都是搜如何搭建，所以也没有这方面的考虑，出问题后才开始注意，但是这个问题其实是<strong>很致命的</strong>，就想我一样，一失手就只能从头再来！</p><p>而官方其实是有提及这个问题的，但是是在很不起眼的地方，而且我一开始也没有仔细看文档，只是简单看了下主要的功能，谁能想到这个问题如此致命！根据官网的文档：<a href="https://hexo.io/zh-cn/docs/deployment#%E8%BF%99%E4%B8%80%E5%88%87%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E7%94%9F%E7%9A%84%EF%BC%9F" target="_blank" rel="noopener">deployment部分</a></p><blockquote><p>当初次新建一个库的时候，库将自动包含一个<strong>master</strong>分支。请在这个分支下进行写作和各种配置来完善您的网页。当执行<code>hexo deploy</code>时，Hexo会创建或更新另外一个用于部署的分支，这个分支就是<code>_config.yml</code>配置文件中指定的分支。Hexo会将生成的站点文件推送至该分支下，并且<strong>完全覆盖</strong>该分支下的已有内容。因此，<font color="red">部署分支</font>应当不同于<font color="red">写作分支</font>。（一个推荐的方式是把master作为写作分支，另外使用public分支作为部署分支。）</p><p>值得注意的是，<code>hexo deploy</code>并不会对本地或远程的写作分支进行任何操作，因此依旧需要手动推送写作分支的所有改动以实现版本控制。此外，如果您的Github Pages需要使用CNAME文件<strong>自定义域名</strong>，请将CNAME文件置于写作分支的<code>source_dir</code>目录下，只有这样<code>hexo deploy</code>才能将CNAME文件一并推送至部署分支。</p></blockquote><p>很多人都吐槽hexo的官方文档实在是有点简陋，但是有些问题也许可以在<a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">它的github仓库的issues</a>里面找到答案。</p><p>有了方向就好办了，于是乎我就像是和杜甫“剑外忽传收蓟北，初闻涕泪满衣裳。”一样开心，与此同时”出门左转找度娘，出门右转找哥哥“，求得一篇：CSDN博客<a href="https://blog.csdn.net/zk673820543/article/details/52698760" target="_blank" rel="noopener">Hexo备份与恢复</a>，大意和官方文档基本一致：用一个仓库的两个分支分别存放部署分支和写作分支。就比如我的:</p><blockquote><p><a href="http://yansheng836.github.io" target="_blank" rel="noopener">yansheng836.github.io</a></p><p>– master 部署分支：主要存放生成的静态文件，用于部署到github pages</p><p>– blog 写作分支：主要存放hexo环境配置、博客（md）</p></blockquote><p>这样部署，即使是重装电脑，我们也可以hexo的环境恢复到本地，并且同步之前的博客到本地，这样博客就会有历史了。当然你也可以新建一个仓库存放blog分支，这两种方法二选一，你随意。</p><h2 id="master分支说明">master分支说明</h2><p>主要用于备份hexo生成的文件静态文件（html），用于发布到github pages。<br>详细内容可到我的github仓库上进行查看 : <a href="https://github.com/yansheng836/yansheng836.github.io/tree/master" target="_blank" rel="noopener">master分支</a>。</p><h2 id="blog分支说明">blog分支说明</h2><p>博客构建过程和备份，计划记录下部署过程，方便恢复。</p><p>新建该分支后，可设置该分支为默认分支<code>Settings--&gt;branches--&gt;Default branch:master设置为blog--&gt;update</code>，这样以后仓库主页显示就是blog分支，而且拉取（或者克隆）的时候拉取的就是blog分支，而不是原来默认的master分支。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> url</span><br><span class="line">git push</span><br><span class="line"><span class="comment">#其实是下面的简写形式</span></span><br><span class="line">git <span class="built_in">clone</span> -b master url [&lt;repository-name&gt;]</span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置blog为默认分支后，相当于是这样的：</span></span><br><span class="line">git <span class="built_in">clone</span> -b blog url [&lt;repository-name&gt;]</span><br><span class="line">git push origin blog</span><br></pre></td></tr></table></figure><p>详细内容可到我的github仓库上进行查看 : <a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog" target="_blank" rel="noopener">blog分支</a>。</p><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：<br>1.hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章<br>2.<a href="https://www.yansheng.xyz/2019/07/29/hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>3.<a href="https://www.yansheng.xyz/2019/07/29/hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a><br>4.<a href="https://www.yansheng.xyz/2019/07/29/hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;div style=&quot;text-align:center&quot;&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg&quot; width height title=&quot;hexo&quot;&gt;&lt;/div&gt;&lt;p&gt;偶然间看到github pages+hexo搭建的博客，感觉很不错，就想自己也动手搭建一个这样的博客。因为从未接触过，所以刚开始搭建只能到各种博客论坛找教程，虽然教程很多，但是因为时间比较久了，很多配图都失效了；加之每个人的电脑环境都不一样……加上其它的林林总总的原因，其实搭建过程还是比较艰难的！&lt;/p&gt;&lt;p&gt;这篇文章介绍的是有关“博客备份”的内容，有些人可能会疑惑：为什么还没有搭建好，就开始讲备份？在软件测试的过程中，测试是越早进行越好，因为修改的代价越小。博客备份同样也是这个道理。也许只有亲身经历过，你就会懂；不，看完我的文章，你一个也可以懂。我写这篇就是希望：你们不要和我一样走弯路。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>什么是随笔？</title>
    <link href="https://www.yansheng.xyz/article/792be839.html"/>
    <id>https://www.yansheng.xyz/article/792be839.html</id>
    <published>2019-07-25T08:37:08.000Z</published>
    <updated>2019-11-06T15:44:49.410Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>转自：<a href="https://baike.baidu.com/item/%E9%9A%8F%E7%AC%94/4153?fr=aladdin" target="_blank" rel="noopener">百度百科</a></p><p>注意查看：右下角是否有显示文章标题。</p><hr><h3 id="随笔的定义">随笔的定义</h3><p>随笔，顾名思义：随笔一记，是散文的一个分支，是议论文的一个变体，兼有议论和抒情两种特性，通常篇幅短小，形式多样，写作者惯常用各种修辞手法曲折传达自己的见解和情感，语言灵动，婉而多讽，是言禁未开之社会较为流行的一种文体。随笔作为一种文学样式，是由法国散文家蒙田所创的。</p><a id="more"></a><p>通常指一种散文体裁，随手笔录，抒情、叙事或评论不拘，篇幅短小。或指听课、读书时所作的记录。</p><h3 id="引证解释编辑">引证解释编辑</h3><p>1．犹言随手下笔。鲁迅 《集外集拾遗·&lt;铁流&gt;编校后记》：“觉得译文很笨拙，而且怕有错字、脱字，望看的时候随笔代为改正一下。”<br>2．一种灵活随便的笔记或文体。宋 洪迈《&lt;容斋随笔&gt;序》：“意之所之，随即纪录，因其后先，无复诠次，故目之曰随笔。”<br>3．一种散文体裁。篇幅短小，表现形式灵活自由，可以抒情、叙事或评论。鲁迅《书信集·致李小峰》：“我们几个人在选我的随笔，从《坟》起到《二心》止。”</p><h3 id="写作要点">写作要点</h3><p>随笔这类文章，或讲述文化知识，或发表学术观点，或评析世态人情，启人心智，引人深思。在写法上，它们往往旁征博引，而不作理论性太强的阐释，行文缜密而不失活泼，结构自由而不失谨严，因此，富有“理趣”是它们的突出特色。</p><p>阅读这类文章，要整体把握文章的内容和风格，提炼作者的主要观点品味妙语佳句，还要敢于发表自己的见解。</p><p>随笔是散文的一种，写随笔就像与邻家谈心般轻松，没有任何的负担，没有华丽的词藻，没有严密的结构。随笔的形式可以不受体裁的限制，灵活多样，不拘一格，可以观景抒情；可以睹物谈看法；可以读书谈感想；可以一事一议，也可以对同类事进行综合议论。随笔也不受字数的限制，短的几十字，长的几百字，篇幅长短皆由内容而定。</p><p>写随笔最重要的是要表达出写作的意图：或者是一种快乐的心情，或者是一点小感悟，或者是一个新观点……总之，随笔之“随”字，正是突出了其如同邻家大婶般亲切与平易近人的特点。</p><p>生活随笔就是日常生活中心情、感悟、新观点、新发现……生活如浩瀚的大海，博大宽广，时时处处事事都可以写成文章。</p><p>“五四”新文学时代，现代随笔的创作繁荣一时，但“随笔”的命名与内涵尚未及统一，随笔这一文体便被左翼文学排斥至文学边缘。这给当代随笔的文体研究带来了一定困难。从现代随笔的滥觞、朱自清的“散文观”、周作人和鲁迅的“随笔观”等角度入手，在现代散文众多的命名中寻找随笔的源头，以期为当代随笔的发展提供可资借鉴的依据。</p><h3 id="分类">分类</h3><h4 id="记叙性随笔">记叙性随笔</h4><p>记叙性随笔大多取材于日常生活中的片断或作者的偶然经历，基本内容是叙事写人。随笔的主旨是写情见性，它的抒写往往融入作者的主观感受，有时直截了当说出，有时是隐藏在文字背后；它描写的往往是人人类似经历的平凡小事，但经过你仔细体味后，会使你察觉世俗风情、感悟人生道理。</p><h4 id="议论性随笔">议论性随笔</h4><p>这类随笔又叫“随感”或“杂感”。所谓“随”，有随手记下而非刻意为文之义；所谓“杂”，是指内容广泛，包罗万象，大至社会问题、人生哲理，小至身边琐事，风花雪月，鸟虫宠物，校园风情，学习心得，书籍品评，亲人友人，无可不写。但随笔的重点还是个“感”字，作者要有感而发，哪怕是一点思考、一点感受、一点闪光的意念都可带到文章中去，不摆做文章的架子，保持一种随意漫谈的风格。</p><h4 id="说明性随笔">说明性随笔</h4><p>黎先耀写人和自然关系的随笔《天之骄子》，着笔于形态各异的自然景观，表达自己热爱大自然的情趣，着力加强人们的生态意识。因此，说明性随笔不同于纯粹的说明文，它看重的是事物中的意趣，带有鉴赏的性质，有时则借物抒怀，另有寄托。模山范水，往往以片断的文字，把大自然的千姿百态准确形象地描绘出来。练习这类随笔，要以精细而敏锐的观察力，捕捉到事物特色的生命，笔调轻灵，不刻意为文。正如王国维所说的那样：“以我观物，故物皆著我之色彩。”</p><h3 id="技巧">技巧</h3><h4 id="随手">随手</h4><p>随笔中涉及的往往是一些即时发生的事件和看到事件当时产生的想法，那种想法也有点火花闪动似，所以需要及时捕捉，记录下来。因为扔了一段时间之后，您对事件的记忆可能就不那么清晰了，故事就很难说得完整，思想的火花可能也消失不见了。所以要养成随手写的习惯，如果能坚持记教育日记，那么您会发现那其中有很多您可能已经不太记得的事，但是在当时它是如何地让您受到震动。</p><h4 id="随便">随便</h4><p>随笔没有什么格式的要求，不需要有什么论点论据,文字也可长可短，如果用200字就能把您想说的话说清楚了，也不一定要凑到1000字.如果您没想好这件事说明了什么，但是这件事却让您有所触动，不说不快，您也不必硬憋着，要找什么理论做依托，您可以把事情写出来，让读者自己去理解。</p><h4 id="随心">随心</h4><p>这里讲的随心有两层意思，一是随心所欲，没有太多的限制；二是笔要随脑.文章是笔写出来的，但却是大脑想出来的，所以随笔是笔要随脑。</p><h4 id="总结">总结</h4><p>随笔要想写好，必须有自己的独到之处，或是切入一个事件的角度不同于以往，或是自己的观点不同于常俗.这一切都需要我们有一双善于发现的眼睛，有一个善于思考的大脑，所以工作之中要注意观察.教师生活于学生之中，我们的工作对象是活生生的人，这就给我们提供了丰富的素材.每个孩子都是一本待读的书，和孩子的每一次倾心的谈话，都可以成为我们写作的素材.工作之余要读一点书，用心去思考一些新的教育理念的合理之处及与教育现实的结合点在哪里，所谓有正确的理念，才会有正确的眼光；有正确的眼光，才能有精彩的发现.</p><p>最重要一点是，要想写好随笔，关键还在于动笔，动笔写了，才能有好的随笔。</p><p>有了题材，如何得到一篇高质量的随笔你可能通常会觉得有话说不出说不好，这是因为尚缺乏理论积累，还不能从理论高度对手中的素材进行加工，整合，形成并表达出自己独到的视角.而这个至关重要的锤炼过程要求我们：<br>1．注重积累相关理论.理论积累并无任何捷径，只有平常扎扎实实地研读并作好摘抄,久而久之，再处理起素材来自然会得心应手。<br>2．认真解读他人随笔成果.一般报刊杂志上都有一些非常贴近我们工作实际的教学随笔，可以细细地分析一下它们是如何总结提炼得出自己观点的，久而久之，我们也会受到很大启发，感觉豁然开朗。</p><h3 id="例文编辑">例文编辑</h3><p>1．人的生命形态主要由许许多多细小的琐事组成，惊险奇特，英烈悲壮，可遇而不可求，是生活的非常态。平平凡凡，寻寻常常，随处皆是，是生活的常态。只有那些注目寻常琐事，并在其中能感发出无尽趣味来的人，他的心境必不至枯涩，他的心泉必不至干涸，而一旦弄笔写作便自然容易找到感觉，坠入境界，放任自由。对琐事不大放在心上的人，在平常生活中发现不了诗意的人，其人必定干枯无趣，其心必定顽劣粗糙，自然极难与笔墨有缘。<br>2．于今世界红尘滚滚，物欲汹汹，人心越来越浮躁，时尚越来越火爆，而写作恰恰需要细腻的心灵，素材偏偏多在生活的幽微平常之处。所以，身处现代，你选择写作，其实写作也在选择你。只有当你在生活中“步步留心，时时在意”的时候，你才能从平常的生活中感发出具有共鸣效应的整体情感，生发出启迪人智的哲理思考，也便有可能与写作结下一份良缘。应该说，绮语清词，嘉言华章是天地间早就有了的，它在随笔式的自由写作中最易被呈现出来，只是它需要凝神遐思，用心体味方能妙手偶得。<br>3．人总说永恒，期盼永恒，其实哪会有什么真正的永恒。人易朽，文字也易朽。如前所述，写作和其它种类的艺术一样，只是人的一种生命享受与精神自救。写作之初就心存“文章千古事”的觉悟与抱负的人，十有八九成不了写作的好手。用一颗善良之心，真诚之心去贴近平常的生活，从中感悟人生的真谛，触摸时代的脉搏，寻觅真善美的所在，并忠实地将其诉诸笔端，这才是我们生活随笔写作的正途。把发生在生活中的点点滴滴，记录下来，没有日记那么详细。</p><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;转自：&lt;a href=&quot;https://baike.baidu.com/item/%E9%9A%8F%E7%AC%94/4153?fr=aladdin&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;百度百科&lt;/a&gt;&lt;/p&gt;&lt;p&gt;注意查看：右下角是否有显示文章标题。&lt;/p&gt;&lt;hr&gt;&lt;h3 id=&quot;随笔的定义&quot;&gt;随笔的定义&lt;/h3&gt;&lt;p&gt;随笔，顾名思义：随笔一记，是散文的一个分支，是议论文的一个变体，兼有议论和抒情两种特性，通常篇幅短小，形式多样，写作者惯常用各种修辞手法曲折传达自己的见解和情感，语言灵动，婉而多讽，是言禁未开之社会较为流行的一种文体。随笔作为一种文学样式，是由法国散文家蒙田所创的。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily" scheme="https://www.yansheng.xyz/categories/daily/"/>
    
      <category term="随笔" scheme="https://www.yansheng.xyz/categories/daily/essay/"/>
    
    
      <category term="随笔" scheme="https://www.yansheng.xyz/tags/essay/"/>
    
  </entry>
  
  <entry>
    <title>the first blog writtern by hexo</title>
    <link href="https://www.yansheng.xyz/article/7322d22a.html"/>
    <id>https://www.yansheng.xyz/article/7322d22a.html</id>
    <published>2019-07-22T06:36:29.000Z</published>
    <updated>2019-11-10T08:23:13.672Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --><p>Hello hexo.</p><p><img src="https://s2.ax1x.com/2019/07/22/ePNgBV.jpg" alt="hello-world"></p><a id="more"></a><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      &lt;!-- build time:Wed Jan 01 2020 21:19:06 GMT+0800 (GMT+08:00) --&gt;&lt;p&gt;Hello hexo.&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://s2.ax1x.com/2019/07/22/ePNgBV.jpg&quot; alt=&quot;hello-world&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://www.yansheng.xyz/tags/hexo/"/>
    
      <category term="yilia" scheme="https://www.yansheng.xyz/tags/yilia/"/>
    
  </entry>
  
</feed>
