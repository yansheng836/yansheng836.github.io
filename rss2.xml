<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="/css/rss.css" ?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>荷塘月色的博客</title>
    <link>https://www.yansheng.xyz/</link>
    
	<script xmlns="http://www.w3.org/1999/xhtml" src="/js/rss.js"></script>

    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>生活不止漫无天日的代码和bug，还有诗和远方。</description>
    <pubDate>Sun, 08 Nov 2020 09:00:32 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>解决/home/travis/.travis/functions: ./mvnw: Permission denied</title>
      <link>https://www.yansheng.xyz/article/7c716285.html</link>
      <guid>https://www.yansheng.xyz/article/7c716285.html</guid>
      <pubDate>Sun, 08 Nov 2020 08:13:12 GMT</pubDate>
      <description>
      
        &lt;p&gt;报错/home/travis/.travis/functions: line 320: ./mvnw: Permission denied&lt;br&gt;
The command &amp;quot;eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V &amp;quot; failed. Retrying, 2 of 3.&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>报错/home/travis/.travis/functions: line 320: ./mvnw: Permission denied<br>The command &quot;eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V &quot; failed. Retrying, 2 of 3.</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ java -Xmx32m -version</span><br><span class="line">openjdk version <span class="string">"11.0.2"</span> 2019-01-15</span><br><span class="line">OpenJDK Runtime Environment 18.9 (build 11.0.2+9)</span><br><span class="line">OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)</span><br><span class="line">$ javac -J-Xmx32m -version</span><br><span class="line">javac 11.0.2</span><br><span class="line">3.02s$ ./mvnw install -DskipTests=<span class="literal">true</span> -Dmaven.javadoc.skip=<span class="literal">true</span> -B -V</span><br><span class="line">/home/travis/.travis/<span class="built_in">functions</span>: line 320: ./mvnw: Permission denied</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed. Retrying, 2 of 3.</span><br><span class="line">/home/travis/.travis/<span class="built_in">functions</span>: line 320: ./mvnw: Permission denied</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed. Retrying, 3 of 3.</span><br><span class="line">/home/travis/.travis/<span class="built_in">functions</span>: line 320: ./mvnw: Permission denied</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed 3 <span class="built_in">times</span>.</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V"</span> failed and exited with 126 during .</span><br><span class="line">Your build has been stopped.</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure><p>使用SpringBoot项目，在github上集成<code>travis</code>时报错Permission denied，很明显是缺少执行<code>mvnw</code>的权限，在install执行之前赋权就可以了，在<code>travis.yml</code>文件中加入如下语句</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">travis.yml</span></span><br><span class="line"><span class="attr">before_install:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">chmod</span> <span class="string">+x</span> <span class="string">mvnw</span></span><br></pre></td></tr></table></figure><p>转自：<a href="https://blog.csdn.net/Sophisticated_/article/details/103008313" target="_blank" rel="noopener">https://blog.csdn.net/Sophisticated_/article/details/103008313</a><br>参考：<a href="http://www.voidcn.com/article/p-spcjbiav-bxs.html" target="_blank" rel="noopener">http://www.voidcn.com/article/p-spcjbiav-bxs.html</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/7c716285.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Why does the *.github.io pointed to 127.0.0.1?</title>
      <link>https://www.yansheng.xyz/article/8f353a6c.html</link>
      <guid>https://www.yansheng.xyz/article/8f353a6c.html</guid>
      <pubDate>Sat, 24 Oct 2020 08:33:24 GMT</pubDate>
      <description>
      
        &lt;p&gt;访问*.github.io 出现问题（详见：&lt;a href=&quot;https://stackoverflow.com/questions/63613793/why-does-the-github-io-pointed-to-127-0-0-1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://stackoverflow.com/questions/63613793/why-does-the-github-io-pointed-to-127-0-0-1&lt;/a&gt;）：&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>访问*.github.io 出现问题（详见：<a href="https://stackoverflow.com/questions/63613793/why-does-the-github-io-pointed-to-127-0-0-1" target="_blank" rel="noopener">https://stackoverflow.com/questions/63613793/why-does-the-github-io-pointed-to-127-0-0-1</a>）：</p><a id="more"></a><p>visit error info:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">无法访问此网站</span><br><span class="line">yansheng836.github.io 拒绝了我们的连接请求。</span><br><span class="line">请试试以下办法：</span><br><span class="line"></span><br><span class="line">检查网络连接</span><br><span class="line">检查代理服务器和防火墙</span><br><span class="line">ERR_CONNECTION_REFUSED</span><br></pre></td></tr></table></figure><p>ping info:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;ping yansheng836.github.io</span><br><span class="line"></span><br><span class="line">正在 Ping yansheng836.github.io [127.0.0.1] 具有 32 字节的数据:</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line"></span><br><span class="line">127.0.0.1 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 0ms，最长 = 0ms，平均 = 0ms</span><br></pre></td></tr></table></figure><h2 id="解决方法">解决方法</h2><h3 id="查看dns服务器地址">查看dns服务器地址</h3><p><a href="https://zhidao.baidu.com/question/1799272781423525827.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/1799272781423525827.html</a></p><p>1、点击电脑bai的开始按钮找到运行选项点击du启动，或者使用快捷键&quot;Win+R&quot;打开运行。<br>2、在zhi输入框dao中输入&quot;cmd&quot;，点击&quot;确定&quot;。<br>3、之后会自动打开DOS命令页。<br>4、输入&quot;ipconfig/all&quot;，按下回车键。<br>5、如下图的位置就查看到了电脑对应的DNS服务器地址。</p><h3 id="如何查看自己的dns有没有被污染">如何查看自己的dns有没有被污染</h3><p><a href="https://zhidao.baidu.com/question/690022182784293444.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/690022182784293444.html</a></p><p>以下是百bai度百科作出的解释：某些网du络运营商为了某些目zhi的，对DNS进行了某些操作，dao导致使用ISP的正常上网设置无法通过域名取得正确的IP地址。某些国家或地区为出于某些目的防止某网站被访问，而且其又掌握部分国际DNS根目录服务器或镜像，也可以利用此方法进行屏蔽。</p><p>这和某些运营商利用DNS劫持域名发些小广告不同，DNS污染则让域名直接无法访问了，非得修改DNS服务器不可。我们如何检测是否遭遇DNS污染？经收集整理归纳以下三点：</p><ol><li>点“开始”-“运行”-输入CMD，再输入 ipconfig /all ，在下“DNS SERVER”里找到你使用的DNS服务器地址。</li><li>再输入 nslookup <a href="http://abc.com" target="_blank" rel="noopener">abc.com</a>（你的域名） 你的DNS服务器IP ，来查看是否能解析。</li><li>再输入 nslookup <a href="http://abc.com" target="_blank" rel="noopener">abc.com</a> 8.8.8.8 使用Google的DNS服务器验证。</li></ol><h2 id="发现不能解析后-设置dns">发现不能解析后，设置DNS</h2><p><a href="https://jingyan.baidu.com/article/4b52d70278f9ddfc5d774b63.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/4b52d70278f9ddfc5d774b63.html</a></p><p><a href="https://zhidao.baidu.com/question/936281828986478212.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/936281828986478212.html</a></p><p>广东省广州市移动宽带（中国铁通)首选DNS：61.235.70.98备份DNS：211.98.4.1</p><p>配置后问题解决。</p><h2 id="相关问题">相关问题</h2><p>IP地址: 192.168.1.1本地局域网</p><p><a href="https://tools.ipip.net/dns.php" target="_blank" rel="noopener">https://tools.ipip.net/dns.php</a></p><p><a href="http://tool.chinaz.com/dns?type=1&amp;host=github.com&amp;ip=" target="_blank" rel="noopener">http://tool.chinaz.com/dns?type=1&amp;host=github.com&amp;ip=</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/8f353a6c.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>当中秋遇上国庆，这很中国！</title>
      <link>https://www.yansheng.xyz/article/edecb148.html</link>
      <guid>https://www.yansheng.xyz/article/edecb148.html</guid>
      <pubDate>Thu, 01 Oct 2020 14:36:00 GMT</pubDate>
      <description>
      
        &lt;p&gt;今年的中秋和国庆居然是同一天！&lt;/p&gt;
&lt;p&gt;今年的中国真的太难了，但是我们挺过来了。&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>今年的中秋和国庆居然是同一天！</p><p>今年的中国真的太难了，但是我们挺过来了。</p><a id="more"></a>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/edecb148.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>javap 命令查看堆栈中信息</title>
      <link>https://www.yansheng.xyz/article/26f35b35.html</link>
      <guid>https://www.yansheng.xyz/article/26f35b35.html</guid>
      <pubDate>Wed, 30 Sep 2020 15:02:53 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><p>javap命令是对.java文件进行反编译，通过这个命令可以看到堆栈中是怎么压栈和出栈的已经执行顺序，这里简单解释下javap的简单的使用，下面举个例子：</p><p>题目：i++ 和++i的区别</p><p>解释：简单点说 这个问题都不难回答，这里就不说了，但是实际上堆栈中区别也是老大了（这里就用到了javap命令）， 步骤：</p><p>1.在任意一个盘下面建一个名为Test.java的文件（文件名可以随意命名）代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        i = i++;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.通过javac -c Test 编译Test.java为class文件</p><p>3.使用javap -c Test 命令就可以查看到执行这代码具体在堆栈中执行的信息 截图如下：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2Jsb2cvNTE4NjE4LzIwMTQxMS8yMTEwMzcyNzIzNDkwMDcucG5n?x-oss-process=image/format,png" alt="img"></p><p>到这里一步才真的看到了执行上面代码堆栈里面的信息，这里简单解释下code下面显示的意思：</p><p>iconst_0:把int类型的0 压入到栈中</p><p>istore_1:把int类型的值存入局部变量1中</p><p>iload_1:从局部变量1中装载int类型的值</p><p>iinc:把一个常量值1加到一个局部变量1上</p><p>istore_1:把栈顶的int类型的值存入局部变量1中</p><p>getstatic:从类中获取静态字段</p><p>iload_1:从局部变量1中装载int类型的值</p><p>invokevirtual:运行时按照对象的类来调用实例方法</p><p>return：从方法中返回</p><hr><p>再看下这样的写法 javap出来的结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        i = ++i;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行效果：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2Jsb2cvNTE4NjE4LzIwMTQxMS8yMTEwNTg1ODM0MzkyMzEucG5n?x-oss-process=image/format,png" alt="img"></p><p>对比两个的运行效果就可以分析出来为什么一个执行为0 一个执行为1了。这也就是java的运算符的优先级问题，在jvm中按照这个优先级，进行对应的压栈和出栈操作。</p><p>这里附带：栈和局部变量操作供参考</p><p>将常量压入栈的指令</p><p>aconst_null         将null对象引用压入栈</p><p>iconst_m1         将int类型常量-1压入栈</p><p>iconst_0         将int类型常量0压入栈</p><p>iconst_1         将int类型常量1压入栈</p><p>iconst_2         将int类型常量2压入栈</p><p>iconst_3         将int类型常量3压入栈</p><p>iconst_4         将int类型常量4压入栈</p><p>iconst_5         将int类型常量5压入栈</p><p>lconst_0         将long类型常量0压入栈</p><p>lconst_1         将long类型常量1压入栈</p><p>fconst_0         将float类型常量0压入栈</p><p>fconst_1         将float类型常量1压入栈</p><p>dconst_0         将double类型常量0压入栈</p><p>dconst_1         将double类型常量1压入栈</p><p>bipush             将一个8位带符号整数压入栈</p><p>sipush             将16位带符号整数压入栈</p><p>ldc             把常量池中的项压入栈</p><p>ldc_w             把常量池中的项压入栈（使用宽索引）</p><p>ldc2_w             把常量池中long类型或者double类型的项压入栈（使用宽索引）</p><p>从栈中的局部变量中装载值的指令</p><p>iload             从局部变量中装载int类型值</p><p>lload             从局部变量中装载long类型值</p><p>fload             从局部变量中装载float类型值</p><p>dload             从局部变量中装载double类型值</p><p>aload             从局部变量中装载引用类型值（refernce）</p><p>iload_0             从局部变量0中装载int类型值</p><p>iload_1             从局部变量1中装载int类型值</p><p>iload_2             从局部变量2中装载int类型值</p><p>iload_3             从局部变量3中装载int类型值</p><p>lload_0             从局部变量0中装载long类型值</p><p>lload_1             从局部变量1中装载long类型值</p><p>lload_2             从局部变量2中装载long类型值</p><p>lload_3             从局部变量3中装载long类型值</p><p>fload_0             从局部变量0中装载float类型值</p><p>fload_1             从局部变量1中装载float类型值</p><p>fload_2             从局部变量2中装载float类型值</p><p>fload_3             从局部变量3中装载float类型值</p><p>dload_0             从局部变量0中装载double类型值</p><p>dload_1             从局部变量1中装载double类型值</p><p>dload_2             从局部变量2中装载double类型值</p><p>dload_3             从局部变量3中装载double类型值</p><p>aload_0             从局部变量0中装载引用类型值</p><p>aload_1             从局部变量1中装载引用类型值</p><p>aload_2             从局部变量2中装载引用类型值</p><p>aload_3             从局部变量3中装载引用类型值</p><p>iaload             从数组中装载int类型值</p><p>laload             从数组中装载long类型值</p><p>faload             从数组中装载float类型值</p><p>daload             从数组中装载double类型值</p><p>aaload             从数组中装载引用类型值</p><p>baload             从数组中装载byte类型或boolean类型值</p><p>caload             从数组中装载char类型值</p><p>saload             从数组中装载short类型值</p><p>将栈中的值存入局部变量的指令</p><p>istore             将int类型值存入局部变量</p><p>lstore             将long类型值存入局部变量</p><p>fstore             将float类型值存入局部变量</p><p>dstore             将double类型值存入局部变量</p><p>astore             将将引用类型或returnAddress类型值存入局部变量</p><p>istore_0         将int类型值存入局部变量0</p><p>istore_1         将int类型值存入局部变量1</p><p>istore_2         将int类型值存入局部变量2</p><p>istore_3         将int类型值存入局部变量3</p><p>lstore_0         将long类型值存入局部变量0</p><p>lstore_1         将long类型值存入局部变量1</p><p>lstore_2         将long类型值存入局部变量2</p><p>lstore_3         将long类型值存入局部变量3</p><p>fstore_0         将float类型值存入局部变量0</p><p>fstore_1         将float类型值存入局部变量1</p><p>fstore_2         将float类型值存入局部变量2</p><p>fstore_3         将float类型值存入局部变量3</p><p>dstore_0         将double类型值存入局部变量0</p><p>dstore_1         将double类型值存入局部变量1</p><p>dstore_2         将double类型值存入局部变量2</p><p>dstore_3         将double类型值存入局部变量3</p><p>astore_0         将引用类型或returnAddress类型值存入局部变量0</p><p>astore_1         将引用类型或returnAddress类型值存入局部变量1</p><p>astore_2         将引用类型或returnAddress类型值存入局部变量2</p><p>astore_3         将引用类型或returnAddress类型值存入局部变量3</p><p>iastore             将int类型值存入数组中</p><p>lastore             将long类型值存入数组中</p><p>fastore             将float类型值存入数组中</p><p>dastore             将double类型值存入数组中</p><p>aastore             将引用类型值存入数组中</p><p>bastore             将byte类型或者boolean类型值存入数组中</p><p>castore             将char类型值存入数组中</p><p>sastore             将short类型值存入数组中</p><p>wide指令</p><p>wide             使用附加字节扩展局部变量索引</p><p>通用(无类型）栈操作</p><p>nop             不做任何操作</p><p>pop             弹出栈顶端一个字长的内容</p><p>pop2             弹出栈顶端两个字长的内容</p><p>dup             复制栈顶部一个字长内容</p><p>dup_x1             复制栈顶部一个字长的内容，然后将复制内容及原来弹出的两个字长的内容压入栈</p><p>dup_x2             复制栈顶部一个字长的内容，然后将复制内容及原来弹出的三个字长的内容压入栈</p><p>dup2             复制栈顶部两个字长内容</p><p>dup2_x1             复制栈顶部两个字长的内容，然后将复制内容及原来弹出的三个字长的内容压入栈</p><p>dup2_x2             复制栈顶部两个字长的内容，然后将复制内容及原来弹出的四个字长的内容压入栈</p><p>swap             交换栈顶部两个字长内容</p><p>类型转换</p><p>i2l             把int类型的数据转化为long类型</p><p>i2f             把int类型的数据转化为float类型</p><p>i2d             把int类型的数据转化为double类型</p><p>l2i             把long类型的数据转化为int类型</p><p>l2f             把long类型的数据转化为float类型</p><p>l2d             把long类型的数据转化为double类型</p><p>f2i             把float类型的数据转化为int类型</p><p>f2l             把float类型的数据转化为long类型</p><p>f2d             把float类型的数据转化为double类型</p><p>d2i             把double类型的数据转化为int类型</p><p>d2l             把double类型的数据转化为long类型</p><p>d2f             把double类型的数据转化为float类型</p><p>i2b             把int类型的数据转化为byte类型</p><p>i2c             把int类型的数据转化为char类型</p><p>i2s             把int类型的数据转化为short类型</p><p>整数运算</p><p>iadd             执行int类型的加法</p><p>ladd             执行long类型的加法</p><p>isub             执行int类型的减法</p><p>lsub             执行long类型的减法</p><p>imul             执行int类型的乘法</p><p>lmul             执行long类型的乘法</p><p>idiv             执行int类型的除法</p><p>ldiv             执行long类型的除法</p><p>irem             计算int类型除法的余数</p><p>lrem             计算long类型除法的余数</p><p>ineg             对一个int类型值进行取反操作</p><p>lneg             对一个long类型值进行取反操作</p><p>iinc             把一个常量值加到一个int类型的局部变量上</p><p>逻辑运算</p><p>移位操作</p><p>ishl             执行int类型的向左移位操作</p><p>lshl             执行long类型的向左移位操作</p><p>ishr             执行int类型的向右移位操作</p><p>lshr             执行long类型的向右移位操作</p><p>iushr             执行int类型的向右逻辑移位操作</p><p>lushr             执行long类型的向右逻辑移位操作</p><p>按位布尔运算</p><p>iand             对int类型值进行“逻辑与”操作</p><p>land             对long类型值进行“逻辑与”操作</p><p>ior             对int类型值进行“逻辑或”操作</p><p>lor             对long类型值进行“逻辑或”操作</p><p>ixor             对int类型值进行“逻辑异或”操作</p><p>lxor             对long类型值进行“逻辑异或”操作</p><p>浮点运算</p><p>fadd             执行float类型的加法</p><p>dadd             执行double类型的加法</p><p>fsub             执行float类型的减法</p><p>dsub             执行double类型的减法</p><p>fmul             执行float类型的乘法</p><p>dmul             执行double类型的乘法</p><p>fdiv             执行float类型的除法</p><p>ddiv             执行double类型的除法</p><p>frem             计算float类型除法的余数</p><p>drem             计算double类型除法的余数</p><p>fneg             将一个float类型的数值取反</p><p>dneg             将一个double类型的数值取反</p><p>对象和数组</p><p>对象操作指令</p><p>new             创建一个新对象</p><p>checkcast         确定对象为所给定的类型</p><p>getfield         从对象中获取字段</p><p>putfield         设置对象中字段的值</p><p>getstatic         从类中获取静态字段</p><p>putstatic         设置类中静态字段的值</p><p>instanceof         判断对象是否为给定的类型</p><p>数组操作指令</p><p>newarray         分配数据成员类型为基本上数据类型的新数组</p><p>anewarray         分配数据成员类型为引用类型的新数组</p><p>arraylength         获取数组长度</p><p>multianewarray         分配新的多维数组</p><p>控制流</p><p>条件分支指令</p><p>ifeq             如果等于0，则跳转</p><p>ifne             如果不等于0，则跳转</p><p>iflt             如果小于0，则跳转</p><p>ifge             如果大于等于0，则跳转</p><p>ifgt             如果大于0，则跳转</p><p>ifle             如果小于等于0，则跳转</p><p>if_icmpcq         如果两个int值相等，则跳转</p><p>if_icmpne         如果两个int类型值不相等，则跳转</p><p>if_icmplt         如果一个int类型值小于另外一个int类型值，则跳转</p><p>if_icmpge         如果一个int类型值大于或者等于另外一个int类型值，则跳转</p><p>if_icmpgt         如果一个int类型值大于另外一个int类型值，则跳转</p><p>if_icmple         如果一个int类型值小于或者等于另外一个int类型值，则跳转</p><p>ifnull             如果等于null，则跳转</p><p>ifnonnull         如果不等于null，则跳转</p><p>if_acmpeq         如果两个对象引用相等，则跳转</p><p>if_acmpnc         如果两个对象引用不相等，则跳转</p><p>比较指令</p><p>lcmp             比较long类型值</p><p>fcmpl             比较float类型值（当遇到NaN时，返回-1）</p><p>fcmpg             比较float类型值（当遇到NaN时，返回1）</p><p>dcmpl             比较double类型值（当遇到NaN时，返回-1）</p><p>dcmpg             比较double类型值（当遇到NaN时，返回1）</p><p>无条件转移指令</p><p>goto             无条件跳转</p><p>goto_w             无条件跳转（宽索引）</p><p>表跳转指令</p><p>tableswitch         通过索引访问跳转表，并跳转</p><p>lookupswitch         通过键值匹配访问跳转表，并执行跳转操作</p><p>异常</p><p>athrow             抛出异常或错误</p><p>finally子句</p><p>jsr             跳转到子例程</p><p>jsr_w             跳转到子例程（宽索引）</p><p>rct             从子例程返回</p><p>方法调用与返回</p><p>方法调用指令</p><p>invokcvirtual         运行时按照对象的类来调用实例方法</p><p>invokespecial         根据编译时类型来调用实例方法</p><p>invokestatic         调用类（静态）方法</p><p>invokcinterface         调用接口方法</p><p>方法返回指令</p><p>ireturn             从方法中返回int类型的数据</p><p>lreturn             从方法中返回long类型的数据</p><p>freturn             从方法中返回float类型的数据</p><p>dreturn             从方法中返回double类型的数据</p><p>areturn             从方法中返回引用类型的数据</p><p>return             从方法中返回，返回值为void</p><p>线程同步</p><p>montiorenter         进入并获取对象监视器</p><p>monitorexit         释放并退出对象监视器</p><hr><p>JVM指令助记符</p><p>变量到操作数栈：iload,iload_,lload,lload_,fload,fload_,dload,dload_,aload,aload_</p><p>操作数栈到变量：istore,istore_,lstore,lstore_,fstore,fstore_,dstore,dstor_,astore,astore_</p><p>常数到操作数栈：bipush,sipush,ldc,ldc_w,ldc2_w,aconst_null,iconst_ml,iconst_<em>,lconst_,fconst_,dconst_加：iadd,ladd,fadd,dadd减：isub,lsub,fsub,dsub乘：imul,lmul,fmul,dmul除：idiv,ldiv,fdiv,ddiv余数：irem,lrem,frem,drem取负：ineg,lneg,fneg,dneg移位：ishl,lshr,iushr,lshl,lshr,lushr按位或：ior,lor按位与：iand,land按位异或：ixor,lxor类型转换：i2l,i2f,i2d,l2f,l2d,f2d(放宽数值转换)           i2b,i2c,i2s,l2i,f2i,f2l,d2i,d2l,d2f(缩窄数值转换)</em></p><p>创建类实例：new</p><p>创建新数组：newarray,anewarray,multianwarray</p><p>访问类的域和类实例域：getfield,putfield,getstatic,putstatic</p><p>把数据装载到操作数栈：baload,caload,saload,iaload,laload,faload,daload,aaload</p><p>从操作数栈存存储到数组：bastore,castore,sastore,iastore,lastore,fastore,dastore,aastore</p><p>获取数组长度：arraylength</p><p>检测相类实例或数组属性：instanceof,checkcast</p><p>操作数栈管理：pop,pop2,dup,dup2,dup_xl,dup2_xl,dup_x2,dup2_x2,swap</p><p>有条件转移：ifeq,iflt,ifle,ifne,ifgt,ifge,ifnull,ifnonnull,if_icmpeq,if_icmpene,</p><p>​             if_icmplt,if_icmpgt,if_icmple,if_icmpge,if_acmpeq,if_acmpne,lcmp,fcmpl</p><p>​     fcmpg,dcmpl,dcmpg</p><p>复合条件转移：tableswitch,lookupswitch</p><p>无条件转移：goto,goto_w,jsr,jsr_w,ret</p><p>调度对象的实例方法：invokevirtual</p><p>调用由接口实现的方法：invokeinterface</p><p>调用需要特殊处理的实例方法：invokespecial</p><p>调用命名类中的静态方法：invokestatic</p><p>方法返回：ireturn,lreturn,freturn,dreturn,areturn,return</p><p>异常：athrow</p><p>finally关键字的实现使用：jsr,jsr_w,ret</p><p>—</p><p>转自：<a href="https://www.cnblogs.com/txdcnblogs/p/4112312.html" target="_blank" rel="noopener">https://www.cnblogs.com/txdcnblogs/p/4112312.html</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/26f35b35.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>WebStrom实时预览功能--Chrome</title>
      <link>https://www.yansheng.xyz/article/de15dca.html</link>
      <guid>https://www.yansheng.xyz/article/de15dca.html</guid>
      <pubDate>Wed, 30 Sep 2020 15:01:14 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><p>1.配置WebStrom</p><p><img src="https://img-blog.csdn.net/20171025134750246" alt="img"></p><p><img src="https://img-blog.csdn.net/20171025134801416" alt="img"></p><p><img src="https://img-blog.csdn.net/20171025134811326" alt="img"></p><p>2.chrome安装插件jetbrainside support</p><p>3.chrome插件jetbrains ide support配置</p><p><img src="https://img-blog.csdn.net/20171025134831447" alt="img"><img src="https://img-blog.csdn.net/20171025134837613" alt="img"></p><p>4.webstromdebug启动项目，这样修改webstrom的代码，不需要刷新就可以直接在浏览器查看了</p><p><img src="https://img-blog.csdn.net/20171025134854704" alt="img"></p><p>参考：<a href="https://blog.csdn.net/liumengwei1/article/details/78340518" target="_blank" rel="noopener">https://blog.csdn.net/liumengwei1/article/details/78340518</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/de15dca.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>WebStrom大杂烩</title>
      <link>https://www.yansheng.xyz/article/65d16cc0.html</link>
      <guid>https://www.yansheng.xyz/article/65d16cc0.html</guid>
      <pubDate>Wed, 30 Sep 2020 15:00:12 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><p>webstorm合集</p><h2 id="设置背景-字体大小">设置背景、字体大小</h2><p><img src="https://img-blog.csdnimg.cn/20200918093147959.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/65d16cc0.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>推荐几个SQL在线学习网站</title>
      <link>https://www.yansheng.xyz/article/6971dab1.html</link>
      <guid>https://www.yansheng.xyz/article/6971dab1.html</guid>
      <pubDate>Wed, 30 Sep 2020 14:57:36 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><blockquote><p>适合的群体：SQL初学者，想要复习一下SQL基础知识的朋友，能无障碍阅读基础英文的朋友。</p></blockquote><p>SQL算是声明式的数据操纵语言，基本上感觉是对着数据库管理系统在喊：给我什么样的数据！似乎大部分人都不认为SQL十分困难。的确，入门十分简单。<br>这里整理推荐几个我自己学习时用过的在线学习网站，可以帮助初学者快速入门SQL，在交互式的环境里学习，不用自己劳神搭建一个数据库，也不用担心损坏别人的数据库，就可以达到完成基本的数据提取工作的水平。</p><h1>1. <a href="http://www.w3school.com.cn/sql/" target="_blank" rel="noopener">http://www.w3school.com.cn/sql/</a></h1><p>速查基础SQL命令，快速理解SQL命令的含义和使用方法。最后做一下SQL测试，看看是否建立了基本的SQL概念。<br>无需注册。</p><h1>2. CodeCademy</h1><p><a href="https://www.codecademy.com/learn/learn-sql" target="_blank" rel="noopener">https://www.codecademy.com/learn/learn-sql</a></p><p><a href="https://www.codecademy.com/learn/sql-table-transformation" target="_blank" rel="noopener">https://www.codecademy.com/learn/sql-table-transformation</a></p><p>交互式地学习并在类似真实数据库下使用SQL。对SQL语言常用的指令有个简单的流程化的影响和蜻蜓点水的了解。免费功能也足够学习了。<br>需要注册，解锁高级功能需要付费。</p><h1>3. <a href="https://sqlbolt.com/" target="_blank" rel="noopener">https://sqlbolt.com/</a></h1><p>友好的界面，详细解释SQL语句的功能，并提供了可交互的在线编程环境，体会SQL的用法。<br>无需注册。</p><h1>4. <a href="http://www.w3resource.com/sql-exercises/" target="_blank" rel="noopener">http://www.w3resource.com/sql-exercises/</a></h1><p>题量丰富但基础，提供可交互的编程窗口，但界面不够友好。适合已经大体掌握SQL后巩固之用。<br>无需注册。</p><h1>5. <a href="http://www.sql-ex.ru/" target="_blank" rel="noopener">http://www.sql-ex.ru/</a></h1><p>题量丰富且困难，出题的人考虑到了实际使用时的一些坑爹场景。适合刷题解闷，理解SQL运行的深层逻辑。网站风格古老。标准答案有时候都不能通过答题系统。<br>需要注册。</p><hr><p>增加一个在线学习 HiveQL 的网址 <a href="https://www.tutorialspoint.com/hive/" target="_blank" rel="noopener">https://www.tutorialspoint.com/hive/</a></p><p>参考：<a href="https://blog.csdn.net/huaxiawudi/article/details/82288216" target="_blank" rel="noopener">https://blog.csdn.net/huaxiawudi/article/details/82288216</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/6971dab1.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Spring Boot单元测试编译报错 No runnable methods</title>
      <link>https://www.yansheng.xyz/article/a6a12be4.html</link>
      <guid>https://www.yansheng.xyz/article/a6a12be4.html</guid>
      <pubDate>Fri, 25 Sep 2020 14:48:57 GMT</pubDate>
      <description>
      
        &lt;p&gt;我看到好多情况都是这样的：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;参考：&lt;a href=&quot;https://blog.csdn.net/u010429286/article/details/53520810&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/u010429286/article/details/53520810&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;遇到这种情况表示单元测试中没有可以运行的方法，有可能是以下的原因：&lt;/p&gt;
&lt;p&gt;1.第一种情况，有的测试类为空，只定义了一个类名，也就是类里面没有能运行的方法&lt;/p&gt;
&lt;p&gt;2.第二种情况，测试类方法有错，或者没有添加@Test注解。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;然而这些方法好像都没有解决我的问题，自行测试时，测试如下修改，有效，好像是junit版本问题。&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>我看到好多情况都是这样的：</p><blockquote><p>参考：<a href="https://blog.csdn.net/u010429286/article/details/53520810" target="_blank" rel="noopener">https://blog.csdn.net/u010429286/article/details/53520810</a></p><p>遇到这种情况表示单元测试中没有可以运行的方法，有可能是以下的原因：</p><p>1.第一种情况，有的测试类为空，只定义了一个类名，也就是类里面没有能运行的方法</p><p>2.第二种情况，测试类方法有错，或者没有添加@Test注解。</p></blockquote><p>然而这些方法好像都没有解决我的问题，自行测试时，测试如下修改，有效，好像是junit版本问题。</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"># 将上面这行改成下面的即可。</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br></pre></td></tr></table></figure><h2 id="spring-boot-2-2-之前使用的是-junit4-而后续的使用的是junit5">spring boot 2.2 之前使用的是 Junit4 而后续的使用的是Junit5</h2><p>注解说明：<br>org.junit.jupiter.api.Test</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Test is used to signal that the annotated method is a <span class="built_in">test</span> method. </span><br><span class="line"></span><br><span class="line">@Test methods must not be private or staticand must not <span class="built_in">return</span> a value. </span><br><span class="line"></span><br><span class="line">@Test methods may optionally <span class="built_in">declare</span> parameters to beresolved by ParameterResolvers. </span><br><span class="line"></span><br><span class="line">@Test may also be used as a meta-annotation <span class="keyword">in</span> order to createa custom composed annotation that inherits the semantics of @Test.</span><br></pre></td></tr></table></figure><p>org.junit.Test</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The Test annotation tells JUnit that the public void methodto <span class="built_in">which</span> it is attached can be run as a <span class="built_in">test</span> <span class="keyword">case</span>. To run the method,JUnit first constructs a fresh instance of the class <span class="keyword">then</span> invokes theannotated method. Any exceptions thrown by the <span class="built_in">test</span> will be reportedby JUnit as a failure. If no exceptions are thrown, the <span class="built_in">test</span> is assumedto have succeeded.</span><br></pre></td></tr></table></figure><p>我没看出啥区别。有位博客讲得听清楚的，但是我的运行不了……<br><a href="https://www.cnblogs.com/felixzh/p/12554701.html" target="_blank" rel="noopener">Spring Boot 2.2.x Junit4 升级为Junit5 后的变化、对比 找不到 org.junit.jupiter.api.Test</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/a6a12be4.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>LGTM : code review 行话</title>
      <link>https://www.yansheng.xyz/article/65fb9e3b.html</link>
      <guid>https://www.yansheng.xyz/article/65fb9e3b.html</guid>
      <pubDate>Sat, 19 Sep 2020 00:35:26 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;程序员这个行业，不管你是大佬还是小弟，代码code review是必不可少的。那么在github上，大家日常交流的缩写语，往往一下就能看出你道行的深浅，至少是入行时间，哈哈，不要露怯，勇敢的跟大佬过招拆招。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;收集了一些实用的缩写，方便大家日常交流(ZB)&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<blockquote><p>程序员这个行业，不管你是大佬还是小弟，代码code review是必不可少的。那么在github上，大家日常交流的缩写语，往往一下就能看出你道行的深浅，至少是入行时间，哈哈，不要露怯，勇敢的跟大佬过招拆招。</p></blockquote><p>收集了一些实用的缩写，方便大家日常交流(ZB)</p><a id="more"></a><table><thead><tr><th style="text-align:center">简写</th><th style="text-align:left">全称（解释）</th></tr></thead><tbody><tr><td style="text-align:center">LGTM</td><td style="text-align:left">Looks Good To Me「对我来说，还不错」表示认可这次PR，同意merge合并代码到远程仓库</td></tr><tr><td style="text-align:center">ASAP</td><td style="text-align:left">As Soon As Possible「尽快」</td></tr><tr><td style="text-align:center">ACK</td><td style="text-align:left">Acknowledgement「承认，确认，同意」i.e. agreed/accepted change</td></tr><tr><td style="text-align:center">NACK/NAK</td><td style="text-align:left">Negative acknowledgement「不同意」 i.e. disagree with change and/or concept</td></tr><tr><td style="text-align:center">RFC</td><td style="text-align:left">Request For Comments「请求进行讨论」 i.e. I think this is a good idea, lets discuss</td></tr><tr><td style="text-align:center">WIP</td><td style="text-align:left">Work In Progress 「进展中」常见词汇，这里作为 Best Practice 单独提出来，主要针对改动较多的 PR，可以先提交部分，标题或 Tag 加上 WIP，表示尚未完成，这样别人可以先 review 已提交的部分</td></tr><tr><td style="text-align:center">AFAIK/AFAICT</td><td style="text-align:left">As Far As I Know / Can Tell 「据我所知；就我所知」</td></tr><tr><td style="text-align:center">IIRC</td><td style="text-align:left">If I Recall Correctly「如果我没有记错的话」</td></tr><tr><td style="text-align:center">IANAL</td><td style="text-align:left">I am not a lawyer , but I smell licensing issues「-」</td></tr><tr><td style="text-align:center">IMO</td><td style="text-align:left">In My Opinion 「在我看来」</td></tr><tr><td style="text-align:center">TL;DR</td><td style="text-align:left">Too Long; Didn’t Read 「太长懒得看」README 文档常见。</td></tr><tr><td style="text-align:center">PR</td><td style="text-align:left">Pull Request「合并请求」</td></tr><tr><td style="text-align:center">CR</td><td style="text-align:left">Code Review 「代码审查」</td></tr><tr><td style="text-align:center">PTAL</td><td style="text-align:left">Please Take A Look.「你来瞅瞅？」用来提示别人来看一下</td></tr><tr><td style="text-align:center">TBR</td><td style="text-align:left">To Be Reviewed「提示维护者进行 review」</td></tr><tr><td style="text-align:center">TBD</td><td style="text-align:left">To Be Done(or Defined/Discussed/Decided/Determined). 「未完成，将被做」根据语境不同意义有所区别，但一般都是还没搞定的意思。</td></tr><tr><td style="text-align:center">TBH</td><td style="text-align:left">To Be Honest 「老实说」</td></tr><tr><td style="text-align:center">atm</td><td style="text-align:left">at the moment 「现阶段」</td></tr></tbody></table><hr><p>参考：<a href="https://www.jianshu.com/p/238a1e1f4037" target="_blank" rel="noopener">https://www.jianshu.com/p/238a1e1f4037</a></p><p>内容和排版略有修改。</p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/65fb9e3b.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>HashMap的hash()和tableSizeFor()方法探索</title>
      <link>https://www.yansheng.xyz/article/50ee072f.html</link>
      <guid>https://www.yansheng.xyz/article/50ee072f.html</guid>
      <pubDate>Wed, 02 Sep 2020 01:29:53 GMT</pubDate>
      <description>
      
        &lt;p&gt;转自：&lt;a href=&quot;https://www.cnblogs.com/liujinhong/p/6576543.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cnblogs.com/liujinhong/p/6576543.html&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;为什么要有HashMap的hash()方法，难道不能直接使用KV中K原有的hash值吗？在HashMap的put、get操作时为什么不能直接使用K中原有的hash值。&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>转自：<a href="https://www.cnblogs.com/liujinhong/p/6576543.html" target="_blank" rel="noopener">https://www.cnblogs.com/liujinhong/p/6576543.html</a></p><hr><p>为什么要有HashMap的hash()方法，难道不能直接使用KV中K原有的hash值吗？在HashMap的put、get操作时为什么不能直接使用K中原有的hash值。</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Computes key.hashCode() and spreads (XORs) higher bits of hash</span></span><br><span class="line"><span class="comment"> * to lower.  Because the table uses power-of-two masking, sets of</span></span><br><span class="line"><span class="comment"> * hashes that vary only in bits above the current mask will</span></span><br><span class="line"><span class="comment"> * always collide. (Among known examples are sets of Float keys</span></span><br><span class="line"><span class="comment"> * holding consecutive whole numbers in small tables.)  So we</span></span><br><span class="line"><span class="comment"> * apply a transform that spreads the impact of higher bits</span></span><br><span class="line"><span class="comment"> * downward. There is a tradeoff between speed, utility, and</span></span><br><span class="line"><span class="comment"> * quality of bit-spreading. Because many common sets of hashes</span></span><br><span class="line"><span class="comment"> * are already reasonably distributed (so don't benefit from</span></span><br><span class="line"><span class="comment"> * spreading), and because we use trees to handle large sets of</span></span><br><span class="line"><span class="comment"> * collisions in bins, we just XOR some shifted bits in the</span></span><br><span class="line"><span class="comment"> * cheapest possible way to reduce systematic lossage, as well as</span></span><br><span class="line"><span class="comment"> * to incorporate impact of the highest bits that would otherwise</span></span><br><span class="line"><span class="comment"> * never be used in index calculations because of table bounds.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从上面的代码可以看到key的hash值的计算方法。key的hash值高16位不变，低16位与高16位异或作为key的最终hash值。（h &gt;&gt;&gt; 16，表示无符号右移16位，高位补0，任何数跟0异或都是其本身，因此key的hash值高16位不变。）<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNDA4MTU1MDQ1MzQx?x-oss-process=image/format,png" alt="这里写图片描述"><br>为什么要这么干呢？<br>这个与HashMap中table下标的计算有关。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n = table.length;</span><br><span class="line">index = （n-<span class="number">1</span>） &amp; hash;</span><br></pre></td></tr></table></figure><p>因为，table的长度都是2的幂，因此index仅与hash值的低n位有关，hash值的高位都被与操作置为0了。<br>假设table.length=2^4=16。<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNDA4MTU1MTAyNzM0?x-oss-process=image/format,png" alt="这里写图片描述"><br>由上图可以看到，只有hash值的低4位参与了运算。<br>这样做很容易产生碰撞。设计者权衡了speed, utility, and quality，将高16位与低16位异或来减少这种影响。设计者考虑到现在的hashCode分布的已经很不错了，而且当发生较大碰撞时也用树形存储降低了冲突。仅仅异或一下，既减少了系统的开销，也不会造成的因为高位没有参与下标的计算(table长度比较小时)，从而引起的碰撞。</p><h2 id="hashmap-tablesizefor">HashMap#tableSizeFor()</h2><p>源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXIMUM_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a power of two size for the given target capacity.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">tableSizeFor</span><span class="params">(<span class="keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = cap - <span class="number">1</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">2</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">4</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">8</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">return</span> (n &lt; <span class="number">0</span>) ? <span class="number">1</span> : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个方法被调用的地方：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**省略此处代码**/</span></span><br><span class="line">    <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">    <span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由此可以看到，当在实例化HashMap实例时，如果给定了initialCapacity，由于HashMap的capacity都是2的幂，因此这个方法用于找到大于等于initialCapacity的最小的2的幂（initialCapacity如果就是2的幂，则返回的还是这个数）。<br>下面分析这个<a href="http://lib.csdn.net/base/datastructure" target="_blank" rel="noopener">算法</a>：<br>首先，为什么要对cap做减1操作。<code>int n = cap - 1;</code><br>这是为了防止，cap已经是2的幂。如果cap已经是2的幂， 又没有执行这个减1操作，则执行完后面的几条无符号右移操作之后，返回的capacity将是这个cap的2倍。如果不懂，要看完后面的几个无符号右移之后再回来看看。<br>下面看看这几个无符号右移操作：<br>如果n这时为0了（经过了cap-1之后），则经过后面的几次无符号右移依然是0，最后返回的capacity是1（最后有个n+1的操作）。<br>这里只讨论n不等于0的情况。<br><strong>第一次右移</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n |= n &gt;&gt;&gt; <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>由于n不等于0，则n的二进制表示中总会有一bit为1，这时考虑最高位的1。通过无符号右移1位，则将最高位的1右移了1位，再做或操作，使得n的二进制表示中与最高位的1紧邻的右边一位也为1，如000011xxxxxx。<br><strong>第二次右移</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n |= n &gt;&gt;&gt; <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>注意，这个n已经经过了<code>n |= n &gt;&gt;&gt; 1;</code> 操作。假设此时n为000011xxxxxx ，则n无符号右移两位，会将最高位两个连续的1右移两位，然后再与原来的n做或操作，这样n的二进制表示的高位中会有4个连续的1。如00001111xxxxxx 。<br><strong>第三次右移</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n |= n &gt;&gt;&gt; <span class="number">4</span>;</span><br></pre></td></tr></table></figure><p>这次把已经有的高位中的连续的4个1，右移4位，再做或操作，这样n的二进制表示的高位中会有8个连续的1。如00001111 1111xxxxxx 。<br><strong>以此类推</strong><br>注意，容量最大也就是32bit的正数，因此最后<code>n |= n &gt;&gt;&gt; 16;</code> ，最多也就32个1，但是这时已经大于了<code>MAXIMUM_CAPACITY</code> ，所以取值到<code>MAXIMUM_CAPACITY</code> 。<br>举一个例子说明下吧。<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNDA4MTgzNjUxMTEx?x-oss-process=image/format,png" alt="这里写图片描述"></p><p>这个算法着实牛逼啊！</p><p>注意，得到的这个capacity却被赋值给了threshold。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br></pre></td></tr></table></figure><p>开始以为这个是个Bug，感觉应该这么写：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity) * <span class="keyword">this</span>.loadFactor;</span><br></pre></td></tr></table></figure><p>这样才符合threshold的意思（当HashMap的size到达threshold这个阈值时会扩容）。<br>但是，请注意，在构造方法中，并没有对table这个成员变量进行初始化，table的初始化被推迟到了put方法中，在put方法中会对threshold重新计算，put方法的具体实现请看这篇博文。</p><h2 id="参考资料">参考资料</h2><p>1.<a href="http://yikun.github.io/2015/04/01/Java-HashMap%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0/" target="_blank" rel="noopener">Java HashMap工作原理及实现</a><br>2.<a href="http://blog.csdn.net/shierjun/article/details/45368369" target="_blank" rel="noopener">Java7的HashMap初始化变化</a><br>3.<a href="http://www.cnblogs.com/zyx1314/p/5359434.html" target="_blank" rel="noopener">java HashMap</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/50ee072f.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>JDK8默认垃圾回收器探索</title>
      <link>https://www.yansheng.xyz/article/f5ca5d2f.html</link>
      <guid>https://www.yansheng.xyz/article/f5ca5d2f.html</guid>
      <pubDate>Mon, 31 Aug 2020 13:26:52 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/huanxianglove/article/details/90247994&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/huanxianglove/article/details/90247994&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://blog.csdn.net/youanyyou/article/details/106464291&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/youanyyou/article/details/106464291&lt;/a&gt;&lt;br&gt;
参考上面两篇文章，研究一下jdk8的默认垃圾回收器是哪种。&lt;/p&gt;
&lt;p&gt;Windows和Linux好像有点不一样，亦或是它会根据CPU的核心数自动选择合适的垃圾回收器，暂时先放着，如果有研究的，麻烦留言告知，谢谢。&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p><a href="https://blog.csdn.net/huanxianglove/article/details/90247994" target="_blank" rel="noopener">https://blog.csdn.net/huanxianglove/article/details/90247994</a><br><a href="https://blog.csdn.net/youanyyou/article/details/106464291" target="_blank" rel="noopener">https://blog.csdn.net/youanyyou/article/details/106464291</a><br>参考上面两篇文章，研究一下jdk8的默认垃圾回收器是哪种。</p><p>Windows和Linux好像有点不一样，亦或是它会根据CPU的核心数自动选择合适的垃圾回收器，暂时先放着，如果有研究的，麻烦留言告知，谢谢。</p><a id="more"></a><p>选择器的选择可以参考：<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/collectors.html#sthref28" target="_blank" rel="noopener">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/collectors.html#sthref28</a></p><blockquote><h2 id="selecting-a-collector">Selecting a Collector</h2><p>Unless your application has rather strict pause time requirements, first run your application and allow the VM to select a collector. If necessary, adjust the heap size to improve performance. If the performance still does not meet your goals, then use the following guidelines as a starting point for selecting a collector.</p><ul><li>If the application has a small data set (up to approximately 100 MB), then</li></ul><p>select the serial collector with the option <code>-XX:+UseSerialGC</code>.</p><ul><li><p>If the application will be run on a single processor and there are no pause time requirements, then let the VM select the collector, or select the serial collector with the option <code>-XX:+UseSerialGC</code>.</p></li><li><p>If (a) peak application performance is the first priority and (b) there are no pause time requirements or pauses of 1 second or longer are acceptable, then let the VM select the collector, or select the parallel collector with <code>-XX:+UseParallelGC</code>.</p></li><li><p>If response time is more important than overall throughput and garbage collection pauses must be kept shorter than approximately 1 second, then select the concurrent collector with <code>-XX:+UseConcMarkSweepGC</code> or <code>-XX:+UseG1GC</code>.</p></li></ul><p>These guidelines provide only a starting point for selecting a collector because performance is dependent on the size of the heap, the amount of live data maintained by the application, and the number and speed of available processors. Pause times are particularly sensitive to these factors, so the threshold of 1 second mentioned previously is only approximate: the parallel collector will experience pause times longer than 1 second on many data size and hardware combinations; conversely, the concurrent collector may not be able to keep pauses shorter than 1 second on some combinations.</p><p>If the recommended collector does not achieve the desired performance, first attempt to adjust the heap and generation sizes to meet the desired goals. If performance is still inadequate, then try a different collector: use the concurrent collector to reduce pause times and use the parallel collector to increase overall throughput on multiprocessor hardware.</p></blockquote><p>翻译为：</p><blockquote><h2 id="选择收集器">选择收集器</h2><p>除非您的应用程序有非常严格的暂停时间要求，否则请先运行您的应用程序并允许VM选择收集器。如有必要，请调整堆大小以提高性能。如果性能仍然不能达到您的目标，请使用以下准则作为选择收集器的起点。</p><ul><li>如果应用程序的数据集较小（最大约100 MB），则</li></ul><p>使用选项选择串行收集器<code>-XX:+UseSerialGC</code>。</p><ul><li><p>如果应用程序将在单个处理器上运行，并且没有暂停时间要求，则让VM选择收集器，或使用选项选择串行收集器<code>-XX:+UseSerialGC</code>。</p></li><li><p>如果（a）峰值应用程序性能是第一要务，并且（b）没有暂停时间要求或不超过1秒的暂停时间是可接受的，则让VM选择收集器，或使用选择并行收集器<code>-XX:+UseParallelGC</code>。</p></li><li><p>如果响应时间比整体吞吐量更重要，并且垃圾收集暂停时间必须保持小于1秒，那么请使用<code>-XX:+UseConcMarkSweepGC</code>或选择并发收集器<code>-XX:+UseG1GC</code>。</p></li></ul><p>这些准则仅提供选择收集器的起点，因为性能取决于堆的大小，应用程序维护的实时数据量以及可用处理器的数量和速度。暂停时间对这些因素特别敏感，因此前面提到的1秒阈值仅是近似值：在许多数据大小和硬件组合上，并行收集器的暂停时间将超过1秒。相反，在某些组合上，并发收集器可能无法将暂停时间保持在1秒以内。</p><p>如果推荐的收集器未达到所需的性能，请首先尝试调整堆和生成大小以达到所需的目标。如果性能仍然不足，请尝试使用其他收集器：使用并发收集器减少暂停时间，并使用并行收集器增加多处理器硬件的总体吞吐量。</p></blockquote><h2 id="windows下多cpu">Windows下多CPU</h2><h2 id="查看默认配置">查看默认配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java -XX:+PrintCommandLineFlags -version</span><br><span class="line">-XX:InitialHeapSize=267026304 -XX:MaxHeapSize=4272420864 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC</span><br><span class="line">java version <span class="string">"1.8.0_144"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_144-b01)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)</span><br></pre></td></tr></table></figure><p>为了方便观察，我们整理下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-XX:InitialHeapSize=267026304 </span><br><span class="line">-XX:MaxHeapSize=4272420864 </span><br><span class="line">-XX:+PrintCommandLineFlags </span><br><span class="line">-XX:+UseCompressedClassPointers </span><br><span class="line">-XX:+UseCompressedOops </span><br><span class="line">-XX:-UseLargePagesIndividualAllocation </span><br><span class="line">-XX:+UseParallelGC</span><br></pre></td></tr></table></figure><p>从最后一项我们可以发现，使用的是ParallelGC。</p><h2 id="printgcdetails">PrintGCDetails</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;java -XX:+PrintGCDetails -version</span><br><span class="line">java version <span class="string">"1.8.0_144"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_144-b01)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)</span><br><span class="line">Heap</span><br><span class="line"> PSYoungGen      total 76288K, used 3932K [0x000000076b180000, 0x0000000770680000, 0x00000007c0000000)</span><br><span class="line">  eden space 65536K, 6% used [0x000000076b180000,0x000000076b557240,0x000000076f180000)</span><br><span class="line">  from space 10752K, 0% used [0x000000076fc00000,0x000000076fc00000,0x0000000770680000)</span><br><span class="line">  to   space 10752K, 0% used [0x000000076f180000,0x000000076f180000,0x000000076fc00000)</span><br><span class="line"> ParOldGen       total 175104K, used 0K [0x00000006c1400000, 0x00000006cbf00000, 0x000000076b180000)</span><br><span class="line">  object space 175104K, 0% used [0x00000006c1400000,0x00000006c1400000,0x00000006cbf00000)</span><br><span class="line"> Metaspace       used 2394K, capacity 4480K, committed 4480K, reserved 1056768K</span><br><span class="line">  class space    used 261K, capacity 384K, committed 384K, reserved 1048576K</span><br></pre></td></tr></table></figure><h2 id="直接使用-java-xx-printflagsfinal-是能看到启用状态的">直接使用 java -XX:+PrintFlagsFinal 是能看到启用状态的</h2><p>因为这个命令会打印太多启动信息，我们直接查看GC相关的内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;java -XX:+PrintFlagsFinal | find <span class="string">"GC"</span></span><br><span class="line">    uintx AdaptiveSizeMajorGCDecayTimeScale         = 10                                  &#123;product&#125;</span><br><span class="line">    uintx AutoGCSelectPauseMillis                   = 5000                                &#123;product&#125;</span><br><span class="line">     bool BindGCTaskThreadsToCPUs                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx CMSFullGCsBeforeCompaction                = 0                                   &#123;product&#125;</span><br><span class="line">    uintx ConcGCThreads                             = 0                                   &#123;product&#125;</span><br><span class="line">     bool DisableExplicitGC                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrent               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrentAndUnloadsClasses  = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx G1MixedGCCountTarget                      = 8                                   &#123;product&#125;</span><br><span class="line">    uintx GCDrainStackTargetSize                    = 64                                  &#123;product&#125;</span><br><span class="line">    uintx GCHeapFreeLimit                           = 2                                   &#123;product&#125;</span><br><span class="line">    uintx GCLockerEdenExpansionPercent              = 5                                   &#123;product&#125;</span><br><span class="line">     bool GCLockerInvokesConcurrent                 = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx GCLogFileSize                             = 8192                                &#123;product&#125;</span><br><span class="line">    uintx GCPauseIntervalMillis                     = 0                                   &#123;product&#125;</span><br><span class="line">    uintx GCTaskTimeStampEntries                    = 200                                 &#123;product&#125;</span><br><span class="line">    uintx GCTimeLimit                               = 98                                  &#123;product&#125;</span><br><span class="line">    uintx GCTimeRatio                               = 99                                  &#123;product&#125;</span><br><span class="line">     bool HeapDumpAfterFullGC                       = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool HeapDumpBeforeFullGC                      = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">    uintx HeapSizePerGCThread                       = 87241520                            &#123;product&#125;</span><br><span class="line">    uintx MaxGCMinorPauseMillis                     = 4294967295                          &#123;product&#125;</span><br><span class="line">    uintx MaxGCPauseMillis                          = 4294967295                          &#123;product&#125;</span><br><span class="line">    uintx NumberOfGCLogFiles                        = 0                                   &#123;product&#125;</span><br><span class="line">     intx ParGCArrayScanChunk                       = 50                                  &#123;product&#125;</span><br><span class="line">    uintx ParGCDesiredObjsFromOverflowList          = 20                                  &#123;product&#125;</span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ParGCUseLocalOverflow                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx ParallelGCBufferWastePct                  = 10                                  &#123;product&#125;</span><br><span class="line">    uintx ParallelGCThreads                         = 8                                   &#123;product&#125;</span><br><span class="line">     bool ParallelGCVerbose                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintClassHistogramAfterFullGC            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintClassHistogramBeforeFullGC           = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGC                                   = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCApplicationConcurrentTime          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCApplicationStoppedTime             = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCDateStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCDetails                            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCID                                 = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCTaskTimeStamps                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCTimeStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintHeapAtGC                             = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintHeapAtGCExtended                     = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintJNIGCStalls                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintParallelOldGCPhaseTimes              = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintReferenceGC                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool TraceDynamicGCThreads                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool TraceParallelOldGCTasks                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveGCBoundary                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizePolicyWithSystemGC         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAutoGCSelectPolicy                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseConcMarkSweepGC                        = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseDynamicNumberOfGCThreads               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseG1GC                                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCLogFileRotation                      = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCTaskAffinity                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParNewGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseParallelGC                            := <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParallelOldGC                          = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseSerialGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br></pre></td></tr></table></figure><p>再筛选出为true的值：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;java -XX:+PrintFlagsFinal | find <span class="string">"GC"</span> | find <span class="string">"true"</span></span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParallelGC                            := <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParallelOldGC                          = <span class="literal">true</span>                                &#123;product&#125;</span><br></pre></td></tr></table></figure><h2 id="windows下测试">Windows下测试</h2><h3 id="运行一个简单的javaweb程序">运行一个简单的Javaweb程序</h3><p>运行一个简单的Javaweb程序，让它挂着。我这里使用的是springboot-web的hello程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar spring-boot-hello-1.0.jar</span><br><span class="line"></span><br><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___<span class="string">'_ __ _ _(_)_ __  __ _ \ \ \ \</span></span><br><span class="line"><span class="string">( ( )\___ | '</span>_ | <span class="string">'_| | '</span>_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  <span class="string">'  |____| .__|_| |_|_| |_\__, | / / / /</span></span><br><span class="line"><span class="string"> =========|_|==============|___/=/_/_/_/</span></span><br><span class="line"><span class="string"> :: Spring Boot ::        (v2.2.2.RELEASE)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2020-08-28 22:20:18.638  INFO 13020 --- [           main] com.neo.HelloApplication                 : Starting HelloApplication v1.0 on MECHREV with PID 13020 </span></span><br><span class="line"><span class="string">(H:\spring-boot-hello\target\spring-boot-hello-1.0.jar started by Administrator in H:\spring-boot-hello\target)</span></span><br><span class="line"><span class="string">2020-08-28 22:20:18.641  INFO 13020 --- [           main] com.neo.HelloApplication                 : No active profile set, falling back to default profiles: default</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.096  INFO 13020 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.108  INFO 13020 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.108  INFO 13020 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.183  INFO 13020 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.183  INFO 13020 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1487 ms</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.347  INFO 13020 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService '</span>applicationTaskExecutor<span class="string">'</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.541  INFO 13020 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '</span><span class="string">'</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.544  INFO 13020 --- [           main] com.neo.HelloApplication                 : Started HelloApplication in 2.266 seconds (JVM running for 2.703)</span></span><br></pre></td></tr></table></figure><h3 id="查看该程序的线程号">查看该程序的线程号</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;netstat -ano | find <span class="string">"8080"</span></span><br><span class="line">  TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       8592</span><br><span class="line">  TCP    [::]:8080              [::]:0                 LISTENING       8592</span><br></pre></td></tr></table></figure><h3 id="查看该线程对应的堆空间">查看该线程对应的堆空间</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;jmap -heap 8592</span><br><span class="line">Attaching to process ID 8592, please <span class="built_in">wait</span>...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.144-b01</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Parallel GC with 8 thread(s)</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 0</span><br><span class="line">   MaxHeapFreeRatio         = 100</span><br><span class="line">   MaxHeapSize              = 4273995776 (4076.0MB)</span><br><span class="line">   NewSize                  = 89128960 (85.0MB)</span><br><span class="line">   MaxNewSize               = 1424490496 (1358.5MB)</span><br><span class="line">   OldSize                  = 179306496 (171.0MB)</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">PS Young Generation</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 240648192 (229.5MB)</span><br><span class="line">   used     = 100345168 (95.69660949707031MB)</span><br><span class="line">   free     = 140303024 (133.8033905029297MB)</span><br><span class="line">   41.69786906190428% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 3670016 (3.5MB)</span><br><span class="line">   used     = 3625024 (3.45709228515625MB)</span><br><span class="line">   free     = 44992 (0.04290771484375MB)</span><br><span class="line">   98.77406529017857% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 6815744 (6.5MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 6815744 (6.5MB)</span><br><span class="line">   0.0% used</span><br><span class="line">PS Old Generation</span><br><span class="line">   capacity = 84410368 (80.5MB)</span><br><span class="line">   used     = 5499480 (5.244712829589844MB)</span><br><span class="line">   free     = 78910888 (75.25528717041016MB)</span><br><span class="line">   6.515171216881794% used</span><br><span class="line"></span><br><span class="line">12469 interned Strings occupying 1113616 bytes.</span><br></pre></td></tr></table></figure><p>可以看出这里使用的是Parallel GC。</p><h2 id="linux的单cpu情况下">Linux的单CPU情况下</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintCommandLineFlags -version</span></span><br><span class="line">-XX:InitialHeapSize=32768000 -XX:MaxHeapSize=524288000 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops </span><br><span class="line">java version <span class="string">"1.8.0_131"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintGCDetails -version</span></span><br><span class="line">java version <span class="string">"1.8.0_131"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</span><br><span class="line">Heap</span><br><span class="line"> def new generation   total 9792K, used 522K [0x00000000e0c00000, 0x00000000e16a0000, 0x00000000eb2a0000)</span><br><span class="line">  eden space 8704K,   6% used [0x00000000e0c00000, 0x00000000e0c82ae0, 0x00000000e1480000)</span><br><span class="line">  from space 1088K,   0% used [0x00000000e1480000, 0x00000000e1480000, 0x00000000e1590000)</span><br><span class="line">  to   space 1088K,   0% used [0x00000000e1590000, 0x00000000e1590000, 0x00000000e16a0000)</span><br><span class="line"> tenured generation   total 21888K, used 0K [0x00000000eb2a0000, 0x00000000ec800000, 0x0000000100000000)</span><br><span class="line">   the space 21888K,   0% used [0x00000000eb2a0000, 0x00000000eb2a0000, 0x00000000eb2a0200, 0x00000000ec800000)</span><br><span class="line"> Metaspace       used 2225K, capacity 4480K, committed 4480K, reserved 1056768K</span><br><span class="line">  class space    used 243K, capacity 384K, committed 384K, reserved 1048576K</span><br></pre></td></tr></table></figure><p>打印日志：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintFlagsFinal | grep GC</span></span><br><span class="line">    uintx AdaptiveSizeMajorGCDecayTimeScale         = 10                                  &#123;product&#125;</span><br><span class="line">    uintx AutoGCSelectPauseMillis                   = 5000                                &#123;product&#125;</span><br><span class="line">     bool BindGCTaskThreadsToCPUs                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx CMSFullGCsBeforeCompaction                = 0                                   &#123;product&#125;</span><br><span class="line">    uintx ConcGCThreads                             = 0                                   &#123;product&#125;</span><br><span class="line">     bool DisableExplicitGC                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrent               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrentAndUnloadsClasses  = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx G1MixedGCCountTarget                      = 8                                   &#123;product&#125;</span><br><span class="line">    uintx GCDrainStackTargetSize                    = 64                                  &#123;product&#125;</span><br><span class="line">    uintx GCHeapFreeLimit                           = 2                                   &#123;product&#125;</span><br><span class="line">    uintx GCLockerEdenExpansionPercent              = 5                                   &#123;product&#125;</span><br><span class="line">     bool GCLockerInvokesConcurrent                 = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx GCLogFileSize                             = 8192                                &#123;product&#125;</span><br><span class="line">    uintx GCPauseIntervalMillis                     = 0                                   &#123;product&#125;</span><br><span class="line">    uintx GCTaskTimeStampEntries                    = 200                                 &#123;product&#125;</span><br><span class="line">    uintx GCTimeLimit                               = 98                                  &#123;product&#125;</span><br><span class="line">    uintx GCTimeRatio                               = 99                                  &#123;product&#125;</span><br><span class="line">     bool HeapDumpAfterFullGC                       = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool HeapDumpBeforeFullGC                      = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">    uintx HeapSizePerGCThread                       = 87241520                            &#123;product&#125;</span><br><span class="line">    uintx MaxGCMinorPauseMillis                     = 18446744073709551615                    &#123;product&#125;</span><br><span class="line">    uintx MaxGCPauseMillis                          = 18446744073709551615                    &#123;product&#125;</span><br><span class="line">    uintx NumberOfGCLogFiles                        = 0                                   &#123;product&#125;</span><br><span class="line">     intx ParGCArrayScanChunk                       = 50                                  &#123;product&#125;</span><br><span class="line">    uintx ParGCDesiredObjsFromOverflowList          = 20                                  &#123;product&#125;</span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ParGCUseLocalOverflow                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx ParallelGCBufferWastePct                  = 10                                  &#123;product&#125;</span><br><span class="line">    uintx ParallelGCThreads                         = 0                                   &#123;product&#125;</span><br><span class="line">     bool ParallelGCVerbose                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintClassHistogramAfterFullGC            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintClassHistogramBeforeFullGC           = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGC                                   = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCApplicationConcurrentTime          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCApplicationStoppedTime             = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCDateStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCDetails                            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCID                                 = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCTaskTimeStamps                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCTimeStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintHeapAtGC                             = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintHeapAtGCExtended                     = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintJNIGCStalls                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintParallelOldGCPhaseTimes              = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintReferenceGC                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool TraceDynamicGCThreads                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool TraceParallelOldGCTasks                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveGCBoundary                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizePolicyWithSystemGC         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAutoGCSelectPolicy                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseConcMarkSweepGC                        = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseDynamicNumberOfGCThreads               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseG1GC                                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCLogFileRotation                      = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCTaskAffinity                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParNewGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseParallelGC                             = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseParallelOldGC                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseSerialGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintFlagsFinal | grep GC | grep true</span></span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br></pre></td></tr></table></figure><p>查看某个线上数目的堆情况：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">root@iZbp1bwfwyz4twpsnqia:/www/wwwlogs<span class="comment"># jmap -heap 13467</span></span><br><span class="line">Attaching to process ID 13467, please <span class="built_in">wait</span>...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.131-b11</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Mark Sweep Compact GC</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 40</span><br><span class="line">   MaxHeapFreeRatio         = 70</span><br><span class="line">   MaxHeapSize              = 524288000 (500.0MB)</span><br><span class="line">   NewSize                  = 11141120 (10.625MB)</span><br><span class="line">   MaxNewSize               = 174718976 (166.625MB)</span><br><span class="line">   OldSize                  = 22413312 (21.375MB)</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">New Generation (Eden + 1 Survivor Space):</span><br><span class="line">   capacity = 55050240 (52.5MB)</span><br><span class="line">   used     = 3517400 (3.3544540405273438MB)</span><br><span class="line">   free     = 51532840 (49.145545959472656MB)</span><br><span class="line">   6.389436267671131% used</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 48955392 (46.6875MB)</span><br><span class="line">   used     = 2933888 (2.7979736328125MB)</span><br><span class="line">   free     = 46021504 (43.8895263671875MB)</span><br><span class="line">   5.99298234605087% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 6094848 (5.8125MB)</span><br><span class="line">   used     = 583512 (0.5564804077148438MB)</span><br><span class="line">   free     = 5511336 (5.256019592285156MB)</span><br><span class="line">   9.573856476814516% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 6094848 (5.8125MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 6094848 (5.8125MB)</span><br><span class="line">   0.0% used</span><br><span class="line">tenured generation:</span><br><span class="line">   capacity = 122265600 (116.6015625MB)</span><br><span class="line">   used     = 106832296 (101.88321685791016MB)</span><br><span class="line">   free     = 15433304 (14.718345642089844MB)</span><br><span class="line">   87.37723120812396% used</span><br><span class="line"></span><br><span class="line">23444 interned Strings occupying 2894352 bytes.</span><br></pre></td></tr></table></figure><p>我们可以看到这里使用的是<strong>Mark Sweep Compact GC</strong>，即标记清除压缩。</p><p>标记-清除-压缩（Mark-Sweep-Compat）：多次GC后才压缩（是标记清除和标记整理算法的结合。但不算在GC四大算法（标记清除算法、标记整理（压缩）算法、复制算法、分代回收算法）中）。</p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/f5ca5d2f.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>git push 出现 Fatal: TaskCanceledException encountered问题</title>
      <link>https://www.yansheng.xyz/article/9325564.html</link>
      <guid>https://www.yansheng.xyz/article/9325564.html</guid>
      <pubDate>Thu, 13 Aug 2020 05:47:43 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><p>git push推送代码到github上的时候出现了Fatal: TaskCanceledException encountered.的错误。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br><span class="line">fatal: TaskCanceledException encountered.</span><br><span class="line">   ……</span><br><span class="line">fatal: TaskCanceledException encountered.</span><br><span class="line">   ……</span><br><span class="line">Username <span class="keyword">for</span> <span class="string">'https://github.com'</span>:</span><br></pre></td></tr></table></figure><p>解决方法如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper manager</span><br></pre></td></tr></table></figure><p>之后再push应该就可以正常推送了。</p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/9325564.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>IntelliJ IDEA 配置Tomcat 运行Web项目</title>
      <link>https://www.yansheng.xyz/article/64de9dda.html</link>
      <guid>https://www.yansheng.xyz/article/64de9dda.html</guid>
      <pubDate>Wed, 12 Aug 2020 15:23:52 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/qq_38801550/article/details/78187803&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://blog.csdn.net/qq_38801550/article/details/78187803&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
以前都用MyEclipse写程序的 突然用了IDEA各种不习惯的说&lt;br&gt;&lt;br&gt;借鉴了很多网上好的配置办法，感谢各位大神~&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p><a href="https://blog.csdn.net/qq_38801550/article/details/78187803" target="_blank" rel="noopener">https://blog.csdn.net/qq_38801550/article/details/78187803</a></p><p><br><br><br>以前都用MyEclipse写程序的 突然用了IDEA各种不习惯的说<br><br>借鉴了很多网上好的配置办法，感谢各位大神~</p><a id="more"></a><p><strong>前期准备</strong><br><br>IDEA、JDK、Tomcat请先在自己电脑上装好 好么~<br><br>博客图片为主 请多看红框框</p><p><strong>开始</strong></p><p>1.创建、配置项目<br><br>1.1创建项目<br><br>New Project - 【next】<br><br><img src="https://img-blog.csdn.net/20160727103722044" alt="这里写图片描述"><br><br>1.2 给你的项目起名字，选地方 - 【finish】<br><br><img src="https://img-blog.csdn.net/20160727103657216" alt="这里写图片描述"><br><br>1.3开始配置项目<br><br>配置 project structure<br><br>【F4】 或 项目右键 【Open Module Settings】或 右上角有个黑蓝色的框框 或 菜单栏【view】-【Open Module Settings】进入<br><br><img src="https://img-blog.csdn.net/20160727104947221" alt="这里写图片描述"><br><br>1.3.1 配置Source<br><br>在 项目-web-WEB INF 下创建两个文件夹 classes 和 lib<br><br><img src="https://img-blog.csdn.net/20160727105237417" alt="这里写图片描述"><br><br>1.3.2 配置Paths<br><br>将两个output path 修改为 刚才创建的classes的地址<br><br><img src="https://img-blog.csdn.net/20160727105524379" alt="这里写图片描述"><br><br>1.3.3 配置 Denpendencies<br><br>右面有个绿色小加号 - JARs or directories…<br><br><img src="https://img-blog.csdn.net/20160727105704005" alt="这里写图片描述"><br><br>选刚才创建的lib地址<br><br><img src="https://img-blog.csdn.net/20160727105902850" alt="这里写图片描述"><br><br>选Jar Directory<br><br><img src="https://img-blog.csdn.net/20160727110006960" alt="这里写图片描述"><br><br>后面就 ok -ok<br><br>项目就配置好了~</p><p>2.配置Tomcat<br><br>配置Configurations<br><br>菜单栏【run】-【Edit Configurations】或 右上角有个向下的小箭头<br><br><img src="https://img-blog.csdn.net/20160727110528274" alt="这里写图片描述"><br><br>2.1 新建Tomcat Server<br><br>提醒：有人说这里 可能没有 Tomcat Server 选项<br><br>IntelliJ 2016 社区版(也就是免费版) 没有Tomcat Server这个选项，收费版有<br><br>如果是收费版也没有Tomcat Server选项。。。可能是在安装的时候没有勾选（猜测）</p><p><img src="https://img-blog.csdn.net/20160727110836893" alt="这里写图片描述"><br><br>2.2<br><br>给server起个名字<br><br>在第二个选项卡Deployment中<br><br>右边有个绿色+ 加一个Artifact<br><br><img src="https://img-blog.csdn.net/20160727111038536" alt="这里写图片描述"><br><br>2.3<br><br>项目已经自动添加进来<br><br>记得在右边Application context 中输入项目的启动地址 记得加“/”<br><br><img src="https://img-blog.csdn.net/20160727111336700" alt="这里写图片描述"><br><br>然后点ok<br><br>配好之后 面板会有些变化 证明tomcat 已经配好了<br><br><img src="https://img-blog.csdn.net/20160727111555434" alt="这里写图片描述"></p><p>3.运行<br><br>在index.jsp中写点字 以便测试<br><br>点右上角的 绿色运行按钮就ok啦~<br><br><img src="https://img-blog.csdn.net/20160727111950455" alt="这里写图片描述"><br><br>output里会输出日志<br><br>然后就可以从浏览器中输入项目的启动地址（就是2.3中的地址）查看了<br><br><img src="https://img-blog.csdn.net/20160727112704121" alt="这里写图片描述"></p><link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-60ecaf1f42.css" rel="stylesheet">]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/64de9dda.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>IDEA大杂烩</title>
      <link>https://www.yansheng.xyz/article/b1163b20.html</link>
      <guid>https://www.yansheng.xyz/article/b1163b20.html</guid>
      <pubDate>Wed, 12 Aug 2020 09:21:02 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><hr><h2 id="ctrl-提示显示内容-显示实体类的属性注释">ctrl 提示显示内容 显示实体类的属性注释</h2><p>转自：<a href="https://blog.csdn.net/weixin_40295575/article/details/91492392" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40295575/article/details/91492392</a></p><p>查看了很多资料，大多数都没有提示到要怎么操作，只是知道了通过快捷键Ctrl+Q可以看到你的注释。</p><p>换一种方法，悬停在属性或方法上看到对应的注释等等。</p><p>将标红的地方勾上就行了，英文的意思就是悬停多久可以看到内容<br><img src="https://img-blog.csdnimg.cn/20190612112600563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI5NTU3NQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="idea-代码换行后格式化代码不回到一行">idea 代码换行后格式化代码不回到一行</h2><p><a href="https://blog.csdn.net/qq1032355091/article/details/92657593" target="_blank" rel="noopener">https://blog.csdn.net/qq1032355091/article/details/92657593</a></p><p><img src="https://img-blog.csdnimg.cn/20200811230659856.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="idea换成2019-2版本后-出现中文字体大小不一的情况">idea换成2019.2版本后，出现中文字体大小不一的情况</h2><p><img src="https://img-blog.csdnimg.cn/20200812171918483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>解决方案<br>File–&gt;Settings–&gt;Editor–&gt;Color Scheme–&gt;Color Scheme Font–&gt;Fallback font:SimSun</p><p><img src="https://img-blog.csdnimg.cn/20200812172048380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea还原主题">idea还原主题</h2><p>Settings -&gt; Editor -&gt; Color Scheme -&gt; Scheme 中可以找到下载的主题，在这里也可以删除不想要的主题。<br><img src="https://img-blog.csdnimg.cn/20200812172833286.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea-设置鼠标滑轮修改字体大小">idea 设置鼠标滑轮修改字体大小</h2><p>file–&gt;setting --&gt;Editor–&gt;General–&gt;Mouse<br><img src="https://img-blog.csdnimg.cn/2020081219405171.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea报错-error-java-程序包org-springframework-boot不存在">IDEA报错 Error:java: 程序包org.springframework.boot不存在</h2><p><a href="https://www.jianshu.com/p/1f9284bd9b7e" target="_blank" rel="noopener">https://www.jianshu.com/p/1f9284bd9b7e</a><br><a href="https://www.pianshen.com/article/27191072952/" target="_blank" rel="noopener">https://www.pianshen.com/article/27191072952/</a><br><a href="https://www.cnblogs.com/kylinyang/p/13121779.html" target="_blank" rel="noopener">https://www.cnblogs.com/kylinyang/p/13121779.html</a></p><h2 id="intellij-idea-环境设置-侧栏显示类中所有方法">IntelliJ IDEA 环境设置——侧栏显示类中所有方法</h2><p>myeclipse默认会在右侧栏显示类的所有方法框，但是IDEA里并没有这样的初始化设置</p><p>那么怎样显示这个功能？</p><p>1.点击工具栏View–&gt;Tool Windows–&gt;Structure</p><p>之后会在左下角显示structure栏，显示所有方法的’栏目</p><p><img src="https://img-blog.csdnimg.cn/20200819170656197.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>2.如果不喜欢左下角，可以右键点击structure栏目，点击Move to,将栏目移动到想要显示的地方<br><img src="https://img-blog.csdnimg.cn/2020081917070873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea中的安装lombok">IDEA中的安装lombok</h2><p>打开IDEA的Setting –&gt; 选择Plugins选项 –&gt; 选择Browse repositories –&gt; 搜索lombok –&gt; 点击安装 –&gt; 安装完成重启IDEA –&gt; 安装成功<br><img src="https://img-blog.csdnimg.cn/20191011223201835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RQzhyLFU-1570803965625)(https://leanote.com/api/file/getImage?fileId=5a54370fab644126e2000c44)]"></p><h2 id="idea常用插件">idea常用插件</h2><p><a href="https://blog.csdn.net/lilizhou2008/article/details/100869558" target="_blank" rel="noopener">https://blog.csdn.net/lilizhou2008/article/details/100869558</a></p><p><a href="https://blog.csdn.net/jing_xifeng/article/details/82665175" target="_blank" rel="noopener">https://blog.csdn.net/jing_xifeng/article/details/82665175</a></p><p><a href="https://blog.csdn.net/win7system/article/details/83508313" target="_blank" rel="noopener">https://blog.csdn.net/win7system/article/details/83508313</a></p><p><a href="https://blog.csdn.net/sujun10/article/details/72852939" target="_blank" rel="noopener">https://blog.csdn.net/sujun10/article/details/72852939</a></p><h2 id="idea设置全局jdk">IDEA设置全局JDK</h2><p><img src="https://img-blog.csdnimg.cn/20200824170611408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea配置全局maven">idea配置全局maven</h2><p><img src="https://img-blog.csdnimg.cn/20200824172225412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200824172259731.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="分享一个idea翻译插件translation的安装及使用">分享一个idea翻译插件Translation的安装及使用</h2><p><a href="https://blog.csdn.net/uziuzi669/article/details/104039716" target="_blank" rel="noopener">https://blog.csdn.net/uziuzi669/article/details/104039716</a></p><h2 id="idea导入外部code-style">IDEA导入外部code style</h2><p><a href="https://www.cnblogs.com/jpfss/p/11643215.html" target="_blank" rel="noopener">https://www.cnblogs.com/jpfss/p/11643215.html</a></p><h2 id="idea中查看一个类的调用用和被调用用关系">idea中查看一个类的调用用和被调用用关系</h2><p><img src="https://img-blog.csdnimg.cn/2020082515040284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea自动导包设置">idea自动导包设置</h2><p><a href="https://www.cnblogs.com/kiko2014551511/p/11525637.html" target="_blank" rel="noopener">https://www.cnblogs.com/kiko2014551511/p/11525637.html</a></p><h2 id="idea设置字体大小">Idea设置字体大小</h2><p>描述：Idea刚开始字体很好且不是自己喜欢的字体，所以需要设置成自己喜欢的样式</p><p>步骤：<br>1.File -&gt; Settings进入设置(快捷键Ctrl + Alt + S)<br>2.在左上角搜索框中输入font<br>3.在搜索过滤之后在右边栏的标号3处选择自己喜欢的字体（注意，字只有软件自带的几个，如果需要使用系统字体则需要将标号3下的Show only这个框给取消勾），标号4处设置大小，设置完成确认即可：<br><img src="https://img-blog.csdnimg.cn/20200828094906983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea忽略某些文件">IDEA忽略某些文件</h2><p>Settings→Editor→File Types<br>在下方的忽略文件和目录（Ignore files and folders）中添加自己需要过滤的内容</p><p>下图为我自己添加过滤的内容，例如：<code>*.iml;*.idea;*.gitignore;*.sh;*.classpath;*.project;*.settings;target;</code></p><p><img src="https://img-blog.csdnimg.cn/20200830212732739.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea禁止编译整个项目-程序部分执行">IDEA禁止编译整个项目，程序部分执行</h2><p><a href="https://blog.csdn.net/qq_29303759/article/details/88904772" target="_blank" rel="noopener">https://blog.csdn.net/qq_29303759/article/details/88904772</a></p><h2 id="查找与替换">查找与替换</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查找当前文件内容：ctrl+F  如上图片</span><br><span class="line">查找全局文件：ctrl+<span class="built_in">shift</span>+F  或double <span class="built_in">shift</span>（按两下）或ctrl+<span class="built_in">shift</span>+N</span><br><span class="line"></span><br><span class="line">替换当前文件内容 ：ctrl+R  如上图片</span><br><span class="line">你想通过编辑器快速的将所有的’29’，变为29，你可以 ctrl + R, 搜索： \<span class="string">'(\d*)\'</span>, 替换为：<span class="variable">$1</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/b1163b20.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>hexo+yilia集成本地搜索</title>
      <link>https://www.yansheng.xyz/article/915f21c1.html</link>
      <guid>https://www.yansheng.xyz/article/915f21c1.html</guid>
      <pubDate>Wed, 12 Aug 2020 04:06:31 GMT</pubDate>
      <description>
      
        &lt;p&gt;yilia主题也有集成搜索功能，不过它使用的搜索是基于标题和标签的，有一定的局限性，没有提供全文检索功能。这篇文章介绍的就是集成全文检索和今日诗词。&lt;/p&gt;
&lt;h3 id=&quot;效果图&quot;&gt;效果图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200411232312.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;动图&lt;br&gt;
&lt;img src=&quot;https://oss.yansheng.xyz/picgo/hexo-yilia-local-search1.gif&quot; alt&gt;&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>yilia主题也有集成搜索功能，不过它使用的搜索是基于标题和标签的，有一定的局限性，没有提供全文检索功能。这篇文章介绍的就是集成全文检索和今日诗词。</p><h3 id="效果图">效果图</h3><p><img src="https://oss.yansheng.xyz/picgo/20200411232312.png" alt></p><p>动图<br><img src="https://oss.yansheng.xyz/picgo/hexo-yilia-local-search1.gif" alt></p><a id="more"></a><h2 id="1-集成本地搜索">1.集成本地搜索</h2><p>参考：为 Hexo 博客增加一个站内搜索：<a href="https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/" target="_blank" rel="noopener">https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/</a></p><p><img src="https://oss.yansheng.xyz/picgo/20200411214252.png" alt></p><h3 id="原理说明">原理说明</h3><p>使用<code>hexo-generator-search</code>插件为文章生成一个全局的<code>search.xml</code>，里面包含所有文章的内容（可配置）。然后再去这个文件中搜索关键字，以此来找到需要的文章。</p><h3 id="1-1安装插件">1.1安装插件</h3><p><a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">https://github.com/wzpan/hexo-generator-search</a></p><p>安装分为两步，首先通过 npm 将插件安装到本地：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>然后在全局（<code>_config.yml</code>）配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">all</span></span><br></pre></td></tr></table></figure><ul><li><code>path</code>，生成的路径，上述配置后可以通过 <code>/search.xml</code> 访问到文。</li><li><code>field</code>，用来配置全局检索的区间，可以是 <code>post/page/all</code>。</li></ul><p>重新clean、测试，就可以访问：<a href="http://localhost:4000/search.xml" target="_blank" rel="noopener">http://localhost:4000/search.xml</a> 了。</p><h3 id="1-2为网页添加搜索栏">1.2为网页添加搜索栏</h3><p>参考了博主的代码：<a href="https://github.com/barretlee/hexo-search-plugin-snippets" target="_blank" rel="noopener">https://github.com/barretlee/hexo-search-plugin-snippets</a></p><h4 id="1-2-1添加搜索框">1.2.1添加搜索框</h4><p>在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;div id=&quot;wrapper&quot; class=&quot;body-wrap&quot;&gt;'</code>后面添加如下代码（同时添加了‘今日诗词’）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.search</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page-header"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 今日诗词网址： <span class="attr">https:</span>//<span class="attr">www.jinrishici.com</span>/ %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>🍻  </span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"jinrishici-sentence"</span> <span class="attr">title</span>=<span class="string">"今日诗词"</span>&gt;</span>正在加载今日诗词....<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://sdk.jinrishici.com/v2/browser/jinrishici.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 《集成本地搜索 %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/search.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"local-search"</span> <span class="attr">class</span>=<span class="string">"local-search local-search-plugin"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"search"</span> <span class="attr">placeholder</span>=<span class="string">"站内搜索"</span> <span class="attr">id</span>=<span class="string">"local-search-input"</span> <span class="attr">class</span>=<span class="string">"local-search-input-cls"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span>=<span class="string">"local-search-icon-search"</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span> <span class="attr">title</span>=<span class="string">"站内搜索"</span>&gt;</span>🔍<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-search-result"</span> <span class="attr">class</span>=<span class="string">"local-search-result-cls"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size()) &#123;</span></span><br><span class="line"><span class="javascript">          $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 集成本地搜索》 %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span> <span class="attr">class</span>=<span class="string">"body-wrap"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-2-2添加js脚本">1.2.2添加js脚本</h4><p>新建文件：<code>H:\Hexo\themes\yilia\source\js\search.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of hexo-generator-search</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="keyword">var</span> BTN = <span class="string">"&lt;i id='local-search-close'&gt;x&lt;/i&gt;"</span>;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: <span class="string">"xml"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">xmlResponse</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $(<span class="string">"entry"</span>, xmlResponse).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    title: $(<span class="string">"title"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    content: $(<span class="string">"content"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    url: $(<span class="string">"url"</span>, <span class="keyword">this</span>).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">            $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="string">'&lt;ul class=\"search-result-list\"&gt;'</span>;</span><br><span class="line">                <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">                $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// perform local searching</span></span><br><span class="line">                datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];</span><br><span class="line">                    <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">                        data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">                    <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">                        keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        isMatch = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">"&lt;li&gt;&lt;a href='"</span> + data_url +</span><br><span class="line">                            <span class="string">"' class='search-result-title'&gt;"</span> + data_title + <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">var</span> match_content = content.substr(start, end);</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                                match_content = match_content.replace(regS,</span><br><span class="line">                                    <span class="string">"&lt;em class=\"search-keyword\"&gt;"</span> +</span><br><span class="line">                                    keyword + <span class="string">"&lt;/em&gt;"</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line"></span><br><span class="line">                            str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content +</span><br><span class="line">                                <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">                <span class="keyword">if</span> (str.indexOf(<span class="string">'&lt;li&gt;'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> $resultContent.innerHTML = BTN +</span><br><span class="line">                        <span class="string">"&lt;ul&gt;&lt;span class='local-search-empty'&gt;没有找到内容，更换下搜索词试试吧~&lt;span&gt;&lt;/ul&gt;"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                $resultContent.innerHTML = BTN + str;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'focus'</span>, <span class="string">'#local-search'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).html(<span class="string">'❌'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-close'</span>);</span><br><span class="line">        <span class="comment">//console.log("66666");</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-icon-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).html(<span class="string">'🔍'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-search'</span>);</span><br><span class="line">        <span class="comment">//console.log("1111");</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-3添加样式文件">1.2.3添加样式文件</h4><p>1.新建：<code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">10%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="comment">/* margin: 10px 0; */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#5ad1ed</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-moz-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">'x'</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: consolas;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(180deg);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="comment">/* top: 50px; */</span></span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-class">.local-search-empty</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#bdb7b7</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>:underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">124px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">em</span><span class="selector-class">.search-keyword</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e58c7c</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.将上面的样式引入页面中，修改<code>themes/yilia/layout/_partial/css.ejs</code>，再后面添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"&lt;%=config.root%&gt;./search.css"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.修改<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 页面头部：包含‘今日诗词’，站内搜索 */</span></span><br><span class="line"><span class="selector-class">.page-header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">30px</span> <span class="number">4px</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'微软雅黑'</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 今日诗词 */</span></span><br><span class="line"><span class="selector-id">#jinrishici-sentence</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#27d7a1</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果图2">效果图2</h3><p>详见文章<a href="#">开头</a></p><h3 id="参考">参考</h3><ul><li>今日诗词安装：<a href="https://www.jinrishici.com/doc/#json-fast-easy" target="_blank" rel="noopener">https://www.jinrishici.com/doc/#json-fast-easy</a></li><li>为 Hexo 博客增加一个站内搜索：<a href="https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/" target="_blank" rel="noopener">https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/</a></li><li>搜索栏样式参考：<a href="http://liangtao.site/" target="_blank" rel="noopener">http://liangtao.site/</a></li><li>search.js部分参考：<a href="https://github.com/Kiritor/hexo-theme-yilia-l/blob/8f42e032e14a9746682dc91a0382a0576687a1f0/layout/_partial/post/search.ejs" target="_blank" rel="noopener">https://github.com/Kiritor/hexo-theme-yilia-l/blob/8f42e032e14a9746682dc91a0382a0576687a1f0/layout/_partial/post/search.ejs</a></li><li>另一种配置方式：<a href="https://github.com/Kiritor/hexo-theme-yilia-l/search?q=wrapStyle&amp;unscoped_q=wrapStyle" target="_blank" rel="noopener">https://github.com/Kiritor/hexo-theme-yilia-l/search?q=wrapStyle&amp;unscoped_q=wrapStyle</a></li><li>可复制的表情包：<a href="http://www.fhdq.net/emoji/emojifuhao.html" target="_blank" rel="noopener">http://www.fhdq.net/emoji/emojifuhao.html</a></li></ul><h2 id="2-更近一步">2.更近一步</h2><h3 id="适配手机端">适配手机端</h3><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line"><span class="selector-class">.page-header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="comment">/* margin: 5px 30px 4px 30px; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'微软雅黑'</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 手机端 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">5%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="手机端取消本地搜索功能">手机端取消本地搜索功能</h3><p>因为考虑到手机端界面比较小，这里取消搜索功能。</p><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 移动设备侦测</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> isMobile = &#123;</span></span><br><span class="line"><span class="actionscript">      Android: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Android/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      BlackBerry: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/BlackBerry/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      iOS: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/iPhone|iPad|iPod/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      Opera: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Opera Mini/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      Windows: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/IEMobile/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      any: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span>(isMobile.any())&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//手机端取消搜索功能</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.local-search'</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size() &amp;&amp; !isMobile.any()) &#123;</span></span><br><span class="line"><span class="javascript">      $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者直接用css隐藏搜索框<code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 手机端 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.local-search</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>:none;</span><br><span class="line">        <span class="comment">/* right: -5%; */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="bug">bug</h2><p>测试时，修改文件名后，可能不能立即将文章加入索引，即不能进行搜索。</p><p>停止测试，重新hexo s即可。</p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/915f21c1.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Consider defining a bean named ‘entityManagerFactory‘ in your configuration出现的解决方法</title>
      <link>https://www.yansheng.xyz/article/f0f8e61.html</link>
      <guid>https://www.yansheng.xyz/article/f0f8e61.html</guid>
      <pubDate>Sat, 01 Aug 2020 14:53:27 GMT</pubDate>
      <description>
      
        &lt;p&gt;正文&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>正文</p><a id="more"></a><p>开始学习spring boot的时候，出现了Consider defining a bean named ‘entityManagerFactory’ in your configuration这个问题，于是上网查了好多，发现网上大多说是版本的问题，在pom.xml中把版本去掉就行了，但问题我压根没写版本。。。。<br><img src="https://img-blog.csdnimg.cn/20200801225354315.png" alt="这里写图片描述"></p><p>于是我又百度这有百度那的终于解决了这个问题，其实相当的简单，只要删除 <code>C:\Users\hanfuqingshi.m2\repository\org\hibernate\hibernate-core</code>目录，然后再updata project就行了！</p><p>希望能帮助到跟我遇到同样问题的人！</p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/f0f8e61.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>redis启动出错Creating Server TCP listening socket *:6379: bind: No such file or directory</title>
      <link>https://www.yansheng.xyz/article/60bb9cec.html</link>
      <guid>https://www.yansheng.xyz/article/60bb9cec.html</guid>
      <pubDate>Sun, 26 Jul 2020 14:22:34 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;问题&quot;&gt;问题&lt;/h2&gt;
&lt;p&gt;Windows启动redis时，出现如下错误：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;λ redis-server.exe redis.windows.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[12844] 26 Jul 22:07:35.233 &lt;span class=&quot;comment&quot;&gt;# Creating Server TCP listening socket *:6379: bind: No such file or directory&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<h2 id="问题">问题</h2><p>Windows启动redis时，出现如下错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">λ redis-server.exe redis.windows.conf</span><br><span class="line">[12844] 26 Jul 22:07:35.233 <span class="comment"># Creating Server TCP listening socket *:6379: bind: No such file or directory</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="解决方法">解决方法</h2><p>在命令行中运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt;shutdown</span><br><span class="line"></span><br><span class="line">not connected&gt;<span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>然后重新运行<code>redis-server.exe redis.windows.conf</code>，启动成功！</p><hr><p>参考：<a href="https://blog.csdn.net/shendixiaoxuan/article/details/78016203" target="_blank" rel="noopener">https://blog.csdn.net/shendixiaoxuan/article/details/78016203</a></p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/60bb9cec.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>毕业季</title>
      <link>https://www.yansheng.xyz/article/e5787948.html</link>
      <guid>https://www.yansheng.xyz/article/e5787948.html</guid>
      <pubDate>Thu, 25 Jun 2020 13:47:41 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;后浪&quot;&gt;后浪&lt;/h2&gt;
&lt;p&gt;知乎话题：怎么看待《后浪》？&lt;a href=&quot;https://www.zhihu.com/question/392555046&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.zhihu.com/question/392555046&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;中国财经报：《后浪》刷屏：心急的B站：&lt;a href=&quot;https://baijiahao.baidu.com/s?id=1665856889754406565&amp;amp;wfr=spider&amp;amp;for=pc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://baijiahao.baidu.com/s?id=1665856889754406565&amp;amp;wfr=spider&amp;amp;for=pc&lt;/a&gt;&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<h2 id="后浪">后浪</h2><p>知乎话题：怎么看待《后浪》？<a href="https://www.zhihu.com/question/392555046" target="_blank" rel="noopener">https://www.zhihu.com/question/392555046</a></p><p>中国财经报：《后浪》刷屏：心急的B站：<a href="https://baijiahao.baidu.com/s?id=1665856889754406565&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1665856889754406565&amp;wfr=spider&amp;for=pc</a></p><a id="more"></a>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/e5787948.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>王者荣耀每日壁纸</title>
      <link>https://www.yansheng.xyz/article/19b653c7.html</link>
      <guid>https://www.yansheng.xyz/article/19b653c7.html</guid>
      <pubDate>Thu, 18 Jun 2020 07:20:52 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;img src=&quot;http://wzry.yansheng.xyz/image/wallpaper-bigskin.html&quot; alt=&quot;王者荣耀每日壁纸&quot;&gt;&lt;/p&gt;
&lt;p&gt;《王者荣耀每日壁纸》项目首页：&lt;a href=&quot;http://wzry.yansheng.xyz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wzry.yansheng.xyz&lt;/a&gt; 。&lt;br&gt;
API说明详见：&lt;a href=&quot;http://wzry.yansheng.xyz/swagger-ui.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://wzry.yansheng.xyz/swagger-ui.html&lt;/a&gt; 。&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><p>《王者荣耀每日壁纸》项目首页：<a href="http://wzry.yansheng.xyz" target="_blank" rel="noopener">http://wzry.yansheng.xyz</a> 。<br>API说明详见：<a href="http://wzry.yansheng.xyz/swagger-ui.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/swagger-ui.html</a> 。</p><a id="more"></a><h2 id="1-返回json">1.返回JSON</h2><h3 id="1-1大尺寸壁纸-1920x882">1.1大尺寸壁纸(1920x882)</h3><p><code>/json/wallpaper-bigskin.html</code></p><p>返回当天的壁纸的json信息，如（5月28日的数据）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="参数id说明">参数id说明</h4><table><thead><tr><th>参数值</th><th>说明</th></tr></thead><tbody><tr><td>id=today，不写</td><td>返回从1月1日到当日天数对应的数据</td></tr><tr><td>id=now</td><td>每次刷新随机获得数据</td></tr><tr><td>id=[数字]</td><td>返回对应的id的数据</td></tr></tbody></table><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1</a></p><h3 id="1-2较小尺寸壁纸-1200x530">1.2较小尺寸壁纸(1200x530)</h3><p><code>/json/phone-bigskin.html</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1</a></p><h2 id="2-返回图片">2.返回图片</h2><h3 id="2-1大尺寸壁纸-1920x882">2.1大尺寸壁纸(1920x882)</h3><p><code>/image/wallpaper-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1</a></p><h3 id="2-2较小尺寸壁纸-1200x530">2.2较小尺寸壁纸(1200x530)</h3><p><code>/image/phone-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1</a></p><h2 id="3-图片使用说明">3.图片使用说明</h2><h3 id="html">HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">title</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">src</span>=<span class="string">"http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"</span>/&gt;</span></span><br></pre></td></tr></table></figure><img alt="王者荣耀每日壁纸" title="王者荣耀每日壁纸" src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"><h3 id="md">MD</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">王者荣耀每日壁纸</span>](<span class="link">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</span>)</span><br></pre></td></tr></table></figure><p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><h2 id="license">License</h2><div style="text-align:left"><img src="https://img.shields.io/badge/license-MIT-green.svg" alter="MIT License" title="MIT License"></div><p>This software is licensed under the MIT License by <a href="https://github.com/yansheng836" target="_blank" rel="noopener">yansheng836</a>(Email:<a href="mailto:sheng.yan836@gmail.com" target="_blank" rel="noopener">sheng.yan836@gmail.com</a>).</p>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/19b653c7.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>hexo+yilia添加标签页标题切换功能</title>
      <link>https://www.yansheng.xyz/article/1e69113d.html</link>
      <guid>https://www.yansheng.xyz/article/1e69113d.html</guid>
      <pubDate>Thu, 04 Jun 2020 00:59:38 GMT</pubDate>
      <description>
      
        &lt;p&gt;从网站页面切换到另一个页面时：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200604090653.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;返回网站页面时：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://oss.yansheng.xyz/picgo/20200604090723.png&quot; alt&gt;&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>从网站页面切换到另一个页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090653.png" alt></p><p>返回网站页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090723.png" alt></p><a id="more"></a><h2 id="原理">原理</h2><p>使用JS修改标题内容，几秒后恢复。</p><p>详见：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e</a></p><h2 id="步骤">步骤</h2><h3 id="1-添加配置">1.添加配置</h3><p><code>themes/yilia/_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tab Title Change | 标签页标题切换</span></span><br><span class="line"><span class="attr">tab_title_change:</span> </span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  left_tab_title:</span> <span class="string">'(つェ⊂) 我藏好了哦~ '</span></span><br><span class="line"><span class="attr">  return_tab_title:</span> <span class="string">'(*´∇｀*) 被你发现啦~ '</span></span><br></pre></td></tr></table></figure><h3 id="2-新建脚本文件">2.新建脚本文件</h3><p><code>themes/yilia/layout/_partial/tab-title-change.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.tab_title_change</span> &amp;&amp; <span class="attr">theme.tab_title_change.enable</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> originTitle = <span class="built_in">document</span>.title;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.left_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line">      clearTimeout(titleTime);</span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.return_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line"><span class="actionscript">      titleTime = setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.title = originTitle;</span></span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-引入脚本文件">3.引入脚本文件</h3><p><code>themes/yilia/layout/_partial/after-footer.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">tab-title-change</span>') %&gt;</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>https://www.yansheng.xyz/article/1e69113d.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
