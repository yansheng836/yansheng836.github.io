<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>fastjson序列化保持字段顺序</title>
      <link href="/article/ec768f3c.html"/>
      <url>/article/ec768f3c.html</url>
      
        <content type="html"><![CDATA[<p>在使用 fastjson 将对象序列化成字符串时，发现字段顺序乱了，百度搜了一下，发现原因是将字符串反序列化（即转成JSON对象）时，被默认规则处理了。如果不想使用默认规则，就需要我们指定需要的规则，这里我们可以使用 <code>Feature.OrderedField</code> 来使其保持原有字段顺序。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(jsonString);</span><br><span class="line"><span class="comment">// 默认</span></span><br><span class="line">JSONObject jsonObject = JSON.parseObject(jsonString);</span><br><span class="line"><span class="comment">// 修改后</span></span><br><span class="line">JSONObject jsonObject = JSON.parseObject(jsonString, Feature.OrderedField);</span><br><span class="line">String string= JSON.toJSONString(jsonObject);</span><br><span class="line">System.out.println(string);</span><br></pre></td></tr></table></figure><a id="more"></a><p>我直接去看了下 <code>JSON.parseObject</code> 方法，我猜测字段顺序不一致就是被默认的这个规则影响的：<code>Feature.SortFeidFastMatch</code> ，字面意思就是 <strong>以最快速度为字段进行排序</strong>。</p><p><img src="https://img-blog.csdnimg.cn/7bd5b032a5d043088d50c5ef63cc3600.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56em5pe25piO5pyI5LmL5ZCb5Li05aSp5LiL,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>即：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(jsonString);</span><br><span class="line"><span class="comment">// 默认</span></span><br><span class="line">JSONObject jsonObject = JSON.parseObject(jsonString);</span><br><span class="line"><span class="comment">// 即上面默认处理 相当于 </span></span><br><span class="line">JSONObject jsonObject = JSON.parseObject(jsonString, Feature.SortFeidFastMatch);</span><br></pre></td></tr></table></figure><p>（本来想深究一下的，没想到 <code>Feature</code> 是个枚举类型对象 ，而 <code>getMask()</code> 方法只会返回一个 int 值，然后走不通了，就先这样吧 😂 ）</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Java工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记一次CSDN的资源加载失败的问题的解决方法</title>
      <link href="/article/461b977e.html"/>
      <url>/article/461b977e.html</url>
      
        <content type="html"><![CDATA[<p>前段时间，某天突然发现CSDN加载不了，我还以为网站出现故障了，但是没想到第二天还是访问不了，问了下同事，他的好像没有什么问题……</p><p>（大概长这样）<br><img src="https://img-blog.csdnimg.cn/3a19a91321f5432aaccbfbdd8629a39f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56em5pe25piO5pyI5LmL5ZCb5Li05aSp5LiL,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p><a id="more"></a><p>找到加载失败的url（大部分是CDN的图片和样式文件），本地ping了下，没想到都超时了，怪不得加载不出来！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;ping csdnimg.cn</span><br><span class="line"></span><br><span class="line">正在 Ping uz95.v.trpcdn.net [183.255.253.40] 具有 32 字节的数据:</span><br><span class="line">请求超时。</span><br><span class="line">请求超时。</span><br><span class="line">请求超时。</span><br><span class="line">请求超时。</span><br></pre></td></tr></table></figure><p>然后我就找到站长之家的 <a href="https://ping.chinaz.com/csdnimg.cn" target="_blank" rel="noopener">ping检测工具</a> ，找到速度比较快的ip，放到hosts里面，DNS减少请求的链路。</p><p><img src="https://img-blog.csdnimg.cn/ec7d8471f2f64f81bb9d8078052e0a63.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56em5pe25piO5pyI5LmL5ZCb5Li05aSp5LiL,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>果然就可以了，然后效仿，那个加载失败就给他加上，最后是张这样，终于恢复了！！<br>（至于原因，个人猜测是公司局域网策略变动导致的，因为在这之前我一直都是可以正常访问的。）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CSDN 博客相关</span></span><br><span class="line"><span class="comment"># csdn https://ping.chinaz.com/csdnimg.cn</span></span><br><span class="line">121.12.99.122 uz95.v.trpcdn.net</span><br><span class="line">121.12.99.122 csdnimg.cn </span><br><span class="line">123.244.92.6 csdnimg.cn </span><br><span class="line">121.12.99.98 csdnimg.cn </span><br><span class="line">219.145.180.88 csdnimg.cn </span><br><span class="line">116.162.101.30 csdnimg.cn </span><br><span class="line">121.12.99.76 csdnimg.cn  </span><br><span class="line">121.12.99.90 csdnimg.cn  </span><br><span class="line">129.227.7.170 csdnimg.cn  </span><br><span class="line">103.104.168.98 csdnimg.cn  </span><br><span class="line">23.248.177.91 csdnimg.cn  </span><br><span class="line">129.227.156.178 csdnimg.cn  </span><br><span class="line">129.227.156.178 csdnimg.cn </span><br><span class="line"></span><br><span class="line">121.12.99.122 g.csdnimg.cn </span><br><span class="line">123.244.92.6 g.csdnimg.cn </span><br><span class="line">121.12.99.98 g.csdnimg.cn </span><br><span class="line">219.145.180.88 g.csdnimg.cn </span><br><span class="line">116.162.101.30 g.csdnimg.cn </span><br><span class="line">121.12.99.76 g.csdnimg.cn  </span><br><span class="line">121.12.99.90 g.csdnimg.cn  </span><br><span class="line">129.227.7.170 g.csdnimg.cn  </span><br><span class="line">103.104.168.98 g.csdnimg.cn  </span><br><span class="line">23.248.177.91 g.csdnimg.cn  </span><br><span class="line">129.227.156.178 g.csdnimg.cn  </span><br><span class="line">129.227.156.178 g.csdnimg.cn </span><br><span class="line"></span><br><span class="line">121.12.99.122 avatar.csdnimg.cn </span><br><span class="line">123.244.92.6 avatar.csdnimg.cn </span><br><span class="line">121.12.99.98 avatar.csdnimg.cn </span><br><span class="line">219.145.180.88 avatar.csdnimg.cn </span><br><span class="line">116.162.101.30 avatar.csdnimg.cn </span><br><span class="line">121.12.99.76 avatar.csdnimg.cn  </span><br><span class="line">121.12.99.90 avatar.csdnimg.cn  </span><br><span class="line">129.227.7.170 avatar.csdnimg.cn  </span><br><span class="line">103.104.168.98 avatar.csdnimg.cn  </span><br><span class="line">23.248.177.91 avatar.csdnimg.cn  </span><br><span class="line">129.227.156.178 avatar.csdnimg.cn  </span><br><span class="line">129.227.156.178 avatar.csdnimg.cn</span><br><span class="line"></span><br><span class="line">180.127.236.6 img-blog.csdnimg.cn </span><br><span class="line">121.12.99.76 img-blog.csdnimg.cn  </span><br><span class="line">123.244.92.5 img-blog.csdnimg.cn</span><br><span class="line">180.127.43.12 img-blog.csdnimg.cn </span><br><span class="line">121.12.99.90 img-blog.csdnimg.cn </span><br><span class="line">129.227.7.170 img-blog.csdnimg.cn  </span><br><span class="line">121.12.99.122 img-blog.csdnimg.cn</span><br><span class="line">121.12.99.98 img-blog.csdnimg.cn</span><br><span class="line">129.227.156.178 img-blog.csdnimg.cn</span><br><span class="line">129.227.156.179 img-blog.csdnimg.cn</span><br><span class="line">129.227.55.4 img-blog.csdnimg.cn</span><br><span class="line">38.124.43.229 img-blog.csdnimg.cn</span><br><span class="line"></span><br><span class="line">121.12.99.98 img-home.csdnimg.cn</span><br><span class="line">123.244.92.7 img-home.csdnimg.cn </span><br><span class="line">121.12.99.76 img-home.csdnimg.cn  </span><br><span class="line">121.12.99.122 img-home.csdnimg.cn </span><br><span class="line">121.12.99.90 img-home.csdnimg.cn </span><br><span class="line">103.104.168.99 img-home.csdnimg.cn  </span><br><span class="line">38.124.43.227 img-home.csdnimg.cn</span><br><span class="line">129.227.55.4 img-home.csdnimg.cn</span><br><span class="line">129.227.7.170 img-home.csdnimg.cn</span><br><span class="line">129.227.156.178 img-home.csdnimg.cn</span><br><span class="line">129.227.156.179 img-home.csdnimg.cn</span><br><span class="line">129.227.55.4 img-home.csdnimg.cn</span><br><span class="line">38.124.43.229 img-home.csdnimg.cn</span><br><span class="line"></span><br><span class="line">121.12.99.122 imgconvert.csdnimg.cn</span><br><span class="line">121.78.55.82 imgconvert.csdnimg.cn</span><br><span class="line">123.244.92.8 imgconvert.csdnimg.cn</span><br><span class="line">106.225.244.202 imgconvert.csdnimg.cn</span><br><span class="line">123.244.92.5 imgconvert.csdnimg.cn</span><br><span class="line">38.124.43.226 imgconvert.csdnimg.cn</span><br><span class="line">129.227.156.178 imgconvert.csdnimg.cn</span><br><span class="line">129.227.156.179 imgconvert.csdnimg.cn</span><br><span class="line">103.136.249.22 imgconvert.csdnimg.cn</span><br><span class="line">129.227.55.4 imgconvert.csdnimg.cn</span><br><span class="line">38.124.43.229 imgconvert.csdnimg.cn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个都是独立ip</span></span><br><span class="line">182.92.187.217 blog.csdn.net</span><br><span class="line">39.106.226.142 csdn.net</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git log 日期格式</title>
      <link href="/article/7342a5e.html"/>
      <url>/article/7342a5e.html</url>
      
        <content type="html"><![CDATA[<p>默认的git log查看日志显示的格式如下：</p><p>Date: Thu Aug 16 17:44:32 2018 +0800</p><p>可能不是很容易识别。git bash中使用命令设置即可：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//修改当前仓库log date格式</span><br><span class="line">git config log.date iso-strict-local</span><br><span class="line"></span><br><span class="line">//全局设置log date格式</span><br><span class="line">git config --global log.date iso-strict-local</span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改之后的日历格式：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Date:   2018-08-23T17:16:39+08:00</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者这样</span></span><br><span class="line">git config --global log.date format:'%Y-%m-%d %H:%M:%S'</span><br><span class="line"><span class="meta">#</span><span class="bash"> Date:   2021-08-27 15:38:56</span></span><br></pre></td></tr></table></figure><p><a href="https://git-scm.com/docs/git-log" target="_blank" rel="noopener">https://git-scm.com/docs/git-log</a><br><a href="https://www.cnblogs.com/linx/p/9599075.html" target="_blank" rel="noopener">https://www.cnblogs.com/linx/p/9599075.html</a><br><a href="https://cloud.tencent.com/developer/ask/77373" target="_blank" rel="noopener">https://cloud.tencent.com/developer/ask/77373</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl使用指南</title>
      <link href="/article/fce3cbe9.html"/>
      <url>/article/fce3cbe9.html</url>
      
        <content type="html"><![CDATA[<p>curl是一个命令行工具，通过指定的URL来上传或下载数据，并将数据展示出来。curl中的<code>c</code>表示client，而URL，就是URL。这里我们介绍一下curl的使用。</p><a id="more"></a><h1>1. 命令行基础</h1><h2 id="1-1-命令行选项">1.1 命令行选项</h2><h3 id="1-短形式">1. 短形式</h3><p>在curl中可以使用短形式的命令行选项，比如通知curl打开verbose模式，可以使用<code>-v</code>选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -v www.baidu.com</span></span><br></pre></td></tr></table></figure><p>这里，<code>-v</code>就是短形式的选项，我们使用一个中划线(-)并紧跟着一个字母来指定一个短形式的选项。</p><p>在这个例子中，<code>-v</code>就像一个开关一样，指定某个变量是<code>false</code>还是<code>true</code>。我们可以在一个中划线后面跟多个单字母的选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -vL www.baidu.com</span></span><br></pre></td></tr></table></figure><p>在curl中，命令行解析器总是解析整个命令行，因此，选项可以放在整个命令行的任何位置：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl www.baidu.com -vL</span></span><br></pre></td></tr></table></figure><p>这个和上面的命令具有同样的效果。当然，虽然是任何位置，但不能放在<code>curl</code>前面啊：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> -vL curl www.baidu.com    // No <span class="built_in">command</span> <span class="string">'-vL'</span> found</span></span><br></pre></td></tr></table></figure><h3 id="2-长形式">2. 长形式</h3><p>单个字母的选项敲起来和用起来都很方便，但是字母的个数有限而需要控制的东西又太多，这个时候就可以使用选项的长形式。同样，为了使得命令便于阅读，绝大多数短形式都有一个对应的长形式。</p><p>和短形式不同的是，长形式的选项使用两个中划线(–)指定，然后紧跟着具体的选项。还有就是，在使用长形式的时候，<code>—</code>后面只能跟一个选项。对于<code>-v</code>，对应的长形式如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --verbose www.baidu.com</span></span><br></pre></td></tr></table></figure><p>同样，长形式的选项也可以出现在命令的任何地方：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl www.baidu.com --verbose</span></span><br></pre></td></tr></table></figure><p>对于<code>-vL</code>来说，对应的长形式可以是：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --verbose --location www.baidu.com</span></span><br></pre></td></tr></table></figure><p>或者：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --location www.baidu.com --verbose</span></span><br></pre></td></tr></table></figure><h3 id="3-选项的参数">3. 选项的参数</h3><p>在上面的命令中选项<code>-v</code>（或<code>--verbose</code>）以及<code>-L</code>（或<code>--location</code>）都是<code>bool</code>类型的标志位，来告诉curl打开或关闭某些特征。curl还有一种类型的选项，就是需要传递一些参数。比如，如果想在一个HTTP POST中向服务器传递一个字符串：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d arbitrary http://example.com</span></span><br></pre></td></tr></table></figure><p>同样，也可以使用相应的长形式：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --data arbitrary http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="4-参数有空格？">4. 参数有空格？</h3><p>在上面的例子中，我们的参数<code>arbitrary</code>是一个连续的字符串，但是当我们需要传递一个有空格的参数怎么办？比如<code>Are you OK?</code>，这时我们需要使用引号把参数括起来：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -A <span class="string">"Are you OK?"</span> http://example.com</span></span><br></pre></td></tr></table></figure><p>如果不加引号的话：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -A Are you OK? http://example.com</span></span><br></pre></td></tr></table></figure><p>那么curl只会把<code>Are</code>当做用户的参数，剩下的字符，<code>you</code>和<code>OK?</code>会被curl当做额外的URL处理，因为这里并没有用<code>-</code>指定这是一个选项。</p><p>但是如果参数本身有引号的时候怎么办？这在使用JSON传递参数的时候尤其常见，我们可以使用单引号把参数括起来（不过在Windows中不管用）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'&#123;"name":"fool"&#125;'</span> http://example.com</span></span><br></pre></td></tr></table></figure><p>当数据很多时，我们可以指定一个文件，来传递给curl：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d @params.json http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="5-say-no">5. Say No</h3><p>对于像<code>-t</code>和<code>-L</code>之类的标志选项，我们可以在长形式的前面加上<code>no-</code>前缀来指定关闭相应的特征，比如关闭<code>verbose</code>模式：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --no-verbose http://example.com</span></span><br></pre></td></tr></table></figure><h2 id="1-2-url">1.2 URL</h2><p>curl支持在一个命令行中处理多个URL，中间用空格间隔即可。curl会对传进来的URL做简单的验证，而不会去验证URL是否真正有效，因此，这里需要使用者提供有效的URL。</p><p>前面说过，curl首先解析整个命令行，将得到选项应用于所有的URL上。如果想对每一个URL使用不同的选项，那么可以使用<code>--next</code>来指定。比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --location http://example.com/1 </span></span><br><span class="line">    --next --data sendthis http://example.com/2 </span><br><span class="line">    --next head http://example.com/3</span><br></pre></td></tr></table></figure><h3 id="1-配置文件">1. 配置文件</h3><p>如果选项过多，导致命令很难输入，或者超过了系统命令最大长度的限制，我们可以使用配置文件（config file）来指定curl的选项。</p><p>通过使用<code>-K</code>或<code>--config</code>选项来告诉curl从指定的文件中读取选项，比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -K curl.options http://example.com</span></span><br></pre></td></tr></table></figure><p>在文件<code>curl.options</code>中，列出所有需要的选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ask curl to follow redirects</span></span><br><span class="line">--location</span><br><span class="line"><span class="meta">#</span><span class="bash"> ask curl to <span class="keyword">do</span> a HEAD request</span></span><br><span class="line">--head</span><br></pre></td></tr></table></figure><p>和在命令行中一样，在配置文件中也可以使用长形式或短形式，甚至在配置文件中对于长形式可以省略那两个中划线（–）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ask curl to follow redirects</span></span><br><span class="line">location</span><br><span class="line"><span class="meta">#</span><span class="bash"> ask curl to <span class="keyword">do</span> a HEAD request</span></span><br><span class="line">head</span><br></pre></td></tr></table></figure><p>对于使用参数的选项，同样可以使用配置文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ask curl to change the User-Agent <span class="keyword">in</span> HTTP header</span></span><br><span class="line">user-agent "something-is-an-agent"</span><br></pre></td></tr></table></figure><p>既然叫做配置文件，那么上面的选项也可以写作：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ask curl to change the User-Agent <span class="keyword">in</span> HTTP header</span></span><br><span class="line">user-agent = "something-is-an-agent"</span><br></pre></td></tr></table></figure><p>甚至可以省略没有空格的参数的引号：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ask curl to change the User-Agent <span class="keyword">in</span> HTTP header</span></span><br><span class="line">user-agent = something-is-an-agent</span><br></pre></td></tr></table></figure><p>当然，如果参数中有空格的话就不能省略引号了。</p><h1>2. 开始使用curl</h1><p>在前面我们简单地介绍了什么是curl以及一些基础的命令行知识。我们通过命令行的方式将需要处理的URL交给curl去处理。</p><p>在这里，我们开始着手使用curl，了解curl能做什么以及如何去做。</p><h2 id="2-1-verbose模式">2.1 Verbose模式</h2><p>如果curl得到的结果不是期望的结果，我们可以使用<code>-v</code>或<code>--verbose</code>进入Verbose模式获取更多的信息。</p><h3 id="1-查看通信过程">1. 查看通信过程</h3><p>在Verbose模式中，curl会得到更多的对话式信息，帮助我们了解发生了什么。curl会在每一个信息前面加上*进行标识。在下面的例子中，我们将百度的首页保存下来（使用<code>-o</code>选项并指定参数<code>baidu</code>）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -v www.baidu.com -o baidu</span></span><br></pre></td></tr></table></figure><p>我们可以得到如下的信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">* About to connect() to www.baidu.com port 80 (#0)</span><br><span class="line">*   Trying 14.215.177.39... connected</span><br><span class="line">* Connected to www.baidu.com (14.215.177.39) port 80 (#0)</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> GET / HTTP/1.1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Host: www.baidu.com</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Accept: */*</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br><span class="line"><span class="meta">  %</span><span class="bash"> Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0&lt; HTTP/1.1 200 OK</span><br><span class="line">&lt; Accept-Ranges: bytes</span><br><span class="line">&lt; Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform</span><br><span class="line">&lt; Connection: Keep-Alive</span><br><span class="line">&lt; Content-Length: 2381</span><br><span class="line">&lt; Content-Type: text/html</span><br><span class="line">&lt; Date: Fri, 14 Sep 2018 09:55:18 GMT</span><br><span class="line">&lt; Etag: "588604dd-94d"</span><br><span class="line">&lt; Last-Modified: Mon, 23 Jan 2017 13:27:57 GMT</span><br><span class="line">&lt; Pragma: no-cache</span><br><span class="line">&lt; Server: bfe/1.0.8.18</span><br><span class="line">&lt; Set-Cookie: BDORZ=27315; max-age=86400; domain=.baidu.com; path=/</span><br><span class="line">&lt;</span><br><span class="line">&#123;</span><br><span class="line">             [data not shown]</span><br><span class="line">103  2381  103  2381    0     0   113k      0 --:--:-- --:--:-- --:--:--  232k* Connection #0 to host www.baidu.com left intact</span><br><span class="line"></span><br><span class="line">* Closing connection #0</span><br></pre></td></tr></table></figure><p>下面的信息是建立一个链接：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* About to connect() to www.baidu.com port 80 (#0)</span><br><span class="line">*   Trying 14.215.177.39... connected</span><br><span class="line">* Connected to www.baidu.com (14.215.177.39) port 80 (#0)</span><br></pre></td></tr></table></figure><p>然后就是本次的HTTP请求：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> GET / HTTP/1.1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Host: www.baidu.com</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Accept: */*</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br></pre></td></tr></table></figure><p>接下来是数据的传输过程。然后就是响应：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt; HTTP/1.1 200 OK</span><br><span class="line">&lt; Accept-Ranges: bytes</span><br><span class="line">&lt; Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform</span><br><span class="line">&lt; Connection: Keep-Alive</span><br><span class="line">&lt; Content-Length: 2381</span><br><span class="line">&lt; Content-Type: text/html</span><br><span class="line">&lt; Date: Fri, 14 Sep 2018 09:55:18 GMT</span><br><span class="line">&lt; Etag: "588604dd-94d"</span><br><span class="line">&lt; Last-Modified: Mon, 23 Jan 2017 13:27:57 GMT</span><br><span class="line">&lt; Pragma: no-cache</span><br><span class="line">&lt; Server: bfe/1.0.8.18</span><br><span class="line">&lt; Set-Cookie: BDORZ=27315; max-age=86400; domain=.baidu.com; path=/</span><br><span class="line">&lt;</span><br></pre></td></tr></table></figure><p>连箭头都不一样了。</p><h3 id="2-更详细的信息">2. 更详细的信息</h3><p>如果觉得使用<code>-v</code>的信息还不够的话，还可以使用<code>--trace [filename]</code>选项来讲完整的流保存到<code>filename</code>中。比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --trace dump www.baidu.com</span></span><br></pre></td></tr></table></figure><p>之后，就可以发现一个新的文件<code>dump</code>，里面保存着刚才那个会话的所有信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">== Info: About to connect() to www.baidu.com port 80 (#0)</span><br><span class="line">== Info:   Trying 14.215.177.39... == Info: connected</span><br><span class="line">== Info: Connected to www.baidu.com (14.215.177.39) port 80 (#0)</span><br><span class="line">=&gt; Send header, 166 bytes (0xa6)</span><br><span class="line">0000: 47 45 54 20 2f 20 48 54 54 50 2f 31 2e 31 0d 0a GET / HTTP/1.1..</span><br><span class="line">0010: 55 73 65 72 2d 41 67 65 6e 74 3a 20 63 75 72 6c User-Agent: curl</span><br><span class="line">0020: 2f 37 2e 31 39 2e 37 20 28 78 38 36 5f 36 34 2d /7.19.7 (x86_64-</span><br><span class="line">0030: 72 65 64 68 61 74 2d 6c 69 6e 75 78 2d 67 6e 75 redhat-linux-gnu</span><br><span class="line">0040: 29 20 6c 69 62 63 75 72 6c 2f 37 2e 31 39 2e 37 ) libcurl/7.19.7</span><br><span class="line">0050: 20 4e 53 53 2f 33 2e 32 37 2e 31 20 7a 6c 69 62  NSS/3.27.1 zlib</span><br><span class="line">0060: 2f 31 2e 32 2e 33 20 6c 69 62 69 64 6e 2f 31 2e /1.2.3 libidn/1.</span><br><span class="line">0070: 31 38 20 6c 69 62 73 73 68 32 2f 31 2e 34 2e 32 18 libssh2/1.4.2</span><br><span class="line">0080: 0d 0a 48 6f 73 74 3a 20 77 77 77 2e 62 61 69 64 ..Host: www.baid</span><br><span class="line">0090: 75 2e 63 6f 6d 0d 0a 41 63 63 65 70 74 3a 20 2a u.com..Accept: *</span><br><span class="line">00a0: 2f 2a 0d 0a 0d 0a                               /*....</span><br><span class="line">&lt;= Recv header, 17 bytes (0x11)</span><br><span class="line">0000: 48 54 54 50 2f 31 2e 31 20 32 30 30 20 4f 4b 0d HTTP/1.1 200 OK.</span><br><span class="line">0010: 0a                                              .</span><br><span class="line">&lt;= Recv header, 22 bytes (0x16)</span><br><span class="line">0000: 41 63 63 65 70 74 2d 52 61 6e 67 65 73 3a 20 62 Accept-Ranges: b</span><br><span class="line">0010: 79 74 65 73 0d 0a                               ytes..</span><br></pre></td></tr></table></figure><p>文件的前21行如上所示。每一个发送和接收的数据以十六进制的形式保存起来了，方便以后的分析。</p><p>如果觉得十六进制没啥帮助的话，可以使用<code>--trace-ascii [filename]</code>选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --trace-ascii dump www.baidu.com</span></span><br></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">== Info: About to connect() to www.baidu.com port 80 (#0)</span><br><span class="line">== Info:   Trying 14.215.177.38... == Info: connected</span><br><span class="line">== Info: Connected to www.baidu.com (14.215.177.38) port 80 (#0)</span><br><span class="line">=&gt; Send header, 166 bytes (0xa6)</span><br><span class="line">0000: GET / HTTP/1.1</span><br><span class="line">0010: User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7</span><br><span class="line">0050:  NSS/3.27.1 zlib/1.2.3 libidn/1.18 libssh2/1.4.2</span><br><span class="line">0082: Host: www.baidu.com</span><br><span class="line">0097: Accept: */*</span><br><span class="line">00a4:</span><br><span class="line">&lt;= Recv header, 17 bytes (0x11)</span><br><span class="line">0000: HTTP/1.1 200 OK</span><br><span class="line">&lt;= Recv header, 22 bytes (0x16)</span><br><span class="line">0000: Accept-Ranges: bytes</span><br><span class="line">&lt;= Recv header, 76 bytes (0x4c)</span><br><span class="line">0000: Cache-Control: private, no-cache, no-store, proxy-revalidate, no</span><br><span class="line">0040: -transform</span><br><span class="line">&lt;= Recv header, 24 bytes (0x18)</span><br><span class="line">0000: Connection: Keep-Alive</span><br><span class="line">&lt;= Recv header, 22 bytes (0x16)</span><br><span class="line">0000: Content-Length: 2381</span><br></pre></td></tr></table></figure><p>上面就是前21行的输出。</p><h3 id="3-silence">3. Silence</h3><p>verbose模式的对立模式，就是silence，可以使用<code>-s</code>或<code>--silence</code>选项来告诉curl不输出任何程序的信息或者错误信息，但也会输出响应的结果。</p><p>如果需要在有错误的时候输出错误信息，可以使用<code>-S</code>或<code>--show-error</code>来指定。</p><h2 id="2-2-浏览器到curl">2.2 浏览器到curl</h2><p>别人使用浏览器发起了一个请求之后，如果自己想用curl再来一次同样的请求，这里日常的工作中是比较常见的一个操作。在curl中，有没有什么比较简便快捷的方式来获得curl命令呢？</p><p>Chrome浏览器和Firefox浏览器都实现了复制成curl的工具，可以将浏览器的请求快速复制成curl命令，非常方便快捷。</p><h3 id="1-chrome">1. Chrome</h3><p>在Chrome中，打开More tools-&gt;Developer模式，选择Network选项卡，然后就可以看到所有的请求，选中相应的请求，右键就有<code>Copy as cURL</code>选项，单击就可以了。</p><p><img src="https://img-blog.csdnimg.cn/img_convert/2901315f550326146db9c5d3402a5bb7.png" alt="img"></p><h3 id="2-firefox">2. Firefox</h3><p>在Firefox中，打开Web Developer-&gt;Network工具，然后右键想要复制的链接，就有一个<code>Copy as cURL</code>的选项，单击就可以了。</p><h1>3. HTTP与curl</h1><p>与curl一起使用的协议，最多的还是HTTP，这里就将介绍如何有效地使用curl来发送HTTP请求。</p><h2 id="3-1-http方法">3.1 HTTP方法</h2><p>在每一个HTTP请求中，都有一个对应的方法，常用的方法有：<code>GET</code>、<code>POST</code>、<code>HEAD</code>和<code>PUT</code>。</p><p>如果在一个curl命令中不指定具体的方法，那么默认的就是使用<code>GET</code>方法。对于其它的方法，可以在curl命令中指定：</p><table><thead><tr><th>method</th><th>option</th></tr></thead><tbody><tr><td>`POST`</td><td>`-d`或`-F`</td></tr><tr><td>`HEAD`</td><td>`-I`</td></tr><tr><td>`PUT`</td><td>`-T`</td></tr></tbody></table>## 3.2 Header<p>在curl中，使用<code>-i</code>选项可以显示Response的Header信息，连同Body数据：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -i www.baidu.com</span></span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Length: 2381</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Date: Mon, 17 Sep 2018 10:26:42 GMT</span><br><span class="line">Etag: "588604dd-94d"</span><br><span class="line">Last-Modified: Mon, 23 Jan 2017 13:27:57 GMT</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Server: bfe/1.0.8.18</span><br><span class="line">Set-Cookie: BDORZ=27315; max-age=86400; domain=.baidu.com; path=/</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta</span><br><span class="line">http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=styleshee</span><br><span class="line">t type=text/css href=http://s1.bdstatic.com/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;百度一下，你就</span><br><span class="line">知道&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; ... &lt;/body&gt; &lt;/html&gt;</span><br></pre></td></tr></table></figure><p>使用<code>-I</code>选项可以只显示Response的Header信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -I www.baidu.com</span></span><br></pre></td></tr></table></figure><h2 id="3-3-post">3.3 POST</h2><p><code>POST</code>是HTTP中向服务端提交数据的一种方法。在浏览器中，但在表单中填写完数据后，浏览器就会默认将填写的数据使用<code>key=value</code>串的形式进行转化。在curl中，我们可以使用<code>-d</code>或<code>--data</code>选项来指定具体的数据：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d key1=value1&amp;key2=value2 http://example.com</span></span><br></pre></td></tr></table></figure><p>我们也可以使用多个<code>-d</code>选项来指定多组数据，curl会自动把这些数据连接起来，因此上面的例子还可以这样：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d key1=value1 -d key2=value2 http://example.com</span></span><br></pre></td></tr></table></figure><p>当然，如果数据过多，我们还可以把数据放在一个文件中：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d @filename http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="1-content-type">1. Content-Type</h3><p>当使用<code>POST</code>方法提交数据时，对于提交的数据主要有如下四种形式：</p><ul><li><code>application/x-www-form-urlencoded</code>：默认的形式，即<code>key1=value1&amp;key2=value2</code>的形式；</li><li><code>multipart/form-data</code>：使用表单上传文件时使用这个形式；</li><li><code>application/json</code>：提交JSON格式的数据；</li><li><code>text/xml</code>：提交XML格式的数据。</li></ul><p>Content-Type是一个Header，如果不指定的话，那么默认就是使用<code>application/x-www-form-urlencoded</code>形式传输数据，当需要使用别的形式进行数据传输的话，那么就需要指定这个Header：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">'&#123;I Am A JSON FORM&#125;'</span> -H <span class="string">'Content-Type: application/json'</span> http://example.com</span></span><br></pre></td></tr></table></figure><p>其中，<code>-H</code>就是用来指定一个具体的Header的选项，值就是<code>key=value</code> 的形式。当需要指定其它的Header，可以使用<code>-H</code>选项。</p><h3 id="2-post一个二进制数据">2. POST一个二进制数据</h3><p>在curl中，我们也可以提交一个文件，可以使用<code>--data-binary</code>选项来指定一个文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --data-binary @filename http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="3-转化成一个get">3. 转化成一个GET</h3><p>使用<code>-G</code>或<code>-get</code>选项，可以把一个POST请求转化成一个GET请求。如果有<code>-d</code>选项指定的参数，那么curl就会把<code>-d</code>后面的数据添加到URL的后面，用<code>?</code>连接。比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -d <span class="string">"key1=value1"</span> -G http://example.com</span></span><br></pre></td></tr></table></figure><p>得到的请求URL就是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/?key1=value1</span><br></pre></td></tr></table></figure><h3 id="4-url编码">4. URL编码</h3><p>如果使用的数据没有编码，那么可以指定curl来帮助自己进行编码。这时可以使用<code>--data-urlencode</code>选项来指定。比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --data-urlencode <span class="string">"name=Alan Walker"</span> http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="5-multipart-formposts">5. multipart formposts</h3><p>如果一个HTTP POST具有如下形式的表单：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"submit.cgi"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    Name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"person"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    File: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"secret"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>用户可以在<code>Name</code>中填写名字，在<code>File</code>中选择一个文件，然后单击<code>Submit</code>按钮提交数据。</p><p>为了可以在curl中模拟这个请求，我们可以使用<code>-F</code>或<code>--form</code>选项来指定数据：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -F person=annonymous -F secret=@filename http://example.com/submit.cgi</span></span><br></pre></td></tr></table></figure><p>在上面的表单中，<code>action</code>指定了这个请求发送到哪里；<code>method</code>指定这是一个<code>POST</code>请求；而<code>enctype</code>指定了这是一个multipart formpost。</p><p>当执行上面的curl命令后，curl会产生如下的请求头：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST /submit.cgi HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line">User-Agent: curl/7.46.0</span><br><span class="line">Accept: */*</span><br><span class="line">Content-Length: 313</span><br><span class="line">Content-Type: multipart/form-data; boundary=------------------------d74496d66958873e</span><br></pre></td></tr></table></figure><p>其中<code>Content-Type</code>是和<code>enctype</code>一致的。</p><p>当使用<code>-F</code>选项时，默认的<code>Content-Type</code>就是<code>multipart/form-data</code>，不过，我们也可以使用<code>-H</code>进行指定：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -F <span class="string">'name=Dan'</span> -H <span class="string">'Content-Type: multipart/magic'</span> https://example.com</span></span><br></pre></td></tr></table></figure><h3 id="6-d-vs-f">6. <code>-d</code> vs <code>-F</code></h3><p>在前面我们介绍了使用<code>-d</code>构造一个基本的POST请求，和<code>-F</code>构造一个multipart formpost请求。那么这两个选项有啥区别以及什么时候使用呢？</p><p>这两个选项都是把指定的数据发送到服务器上，区别在于数据传递的格式。大多数时候，接收端来指定希望客户端发送数据的格式，客户端不能随意自己指定格式。</p><ul><li><strong>HTML表单</strong></li></ul><p>当使用HTML表单时，会使用<code>&lt;form&gt;</code>标签指定一个表单，这会让浏览器使用<code>POST</code>方法。如果标签中含有<code>enctype=multipart/form-data</code>，这意味着使用multipart formpost方式，在curl中就是使用<code>-F</code>选项。一个典型的场景就是表单中含有<code>&lt;input type=file&gt;</code>标签。</p><ul><li><strong>不用HTML表单</strong></li></ul><p><code>POST</code>方法不一定非要在HTML中，在好多的service、APIs中，也可以使用<code>POST</code>请求。</p><p>如果这些service期望使用JSON或者其它类似的格式的数据，那么这就是一个普通的POST请求。在curl中就可以使用<code>-d</code>选项。不过要注意<code>-d</code>的默认Content-Type是不是期望的格式，如果不是的话，可以使用<code>-H</code>进行更改。</p><h2 id="3-4-http重定向-redirect">3.4 HTTP重定向（redirect）</h2><p>重定向是HTTP协议中的一个基础部分。在重定向中，服务器给客户端的并不是客户端想要的内容，而是一个车具体的指令，告诉客户端如果想获取想要的数据，应该到哪里去请求。</p><p>但不是所有的重定向都一样。重定向之后的请求使用什么方法呢？重定向多久呢？</p><p>所有的重定向都会返回<code>Location:</code>的Header，来指定一个新的URL。</p><h3 id="1-curl：redirect">1. curl：redirect</h3><p>在curl中，默认不会重定向，可以使用<code>-L</code>或<code>--location</code>选项来告诉curl重定向：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -L http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="2-get还是post">2. <code>GET</code>还是<code>POST</code></h3><p>第一次请求后，服务器会告诉客户端下一次请求需要使用的方法。关于重定向的响应码如下：</p><table><thead><tr><th>Method</th><th>Permanent</th><th>Temporary</th></tr></thead><tbody><tr><td>切换到`GET`</td><td>301</td><td>302和303</td></tr><tr><td>使用第一次请求的方法</td><td>308</td><td>307</td></tr></tbody></table>我们可以指定curl在重定向时使用什么方法。如果我们第一次请求使用的不是`GET`方法，重定向后也不希望curl默认使用`GET`方法，那么我们可以使用`--post301`,`--post302`和`--post303`选项来指定。<h2 id="3-5-修改http请求">3.5 修改HTTP请求</h2><p>每一个请求都有一个请求行、一些请求头和可选的请求体，这里我们看看在curl中可以具体修改的部分，包括请求行和请求头。</p><h3 id="1-请求方法">1. 请求方法</h3><p>在请求行中包含这次请求所使用的方法。我们使用下面的简单命令就可以进行一个<code>GET</code>方法：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl http://example.com/file</span></span><br></pre></td></tr></table></figure><p>这会生成如下的请求行：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /file HTTP/1.1</span><br></pre></td></tr></table></figure><p>在<strong><em>HTTP方法</em></strong>中我们可以通过具体的选项指定使用什么方法。这里我们也可以使用<code>-X</code>选项来进行指定：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -X POST http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="2-修改请求头">2. 修改请求头</h3><p>在curl中，我们可以使用<code>-H</code>或<code>--header</code>选项来指定Header。之前我们就使用<code>-H</code>指定了<code>Content-Type</code>，其实Header就是一个<code>key: value</code>对：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -H <span class="string">"HeaderName: HeaderValue"</span> http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="3-referer">3. Referer</h3><p>我们还可以在curl通过<code>--referer</code>选项来指定我们是从哪里跳转过来的：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --referer http://fromexample.com http://toexample.com</span></span><br></pre></td></tr></table></figure><h3 id="4-user-agent">4. User Agent</h3><p>这个字段是用来表示客户端的设备信息的，服务器会根据这个字段，针对不同的设备，返回不同格式的网页。在curl中，可以使用<code>--user-agent</code>选的来指定：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --user-agent <span class="string">"[User Agent]"</span> http://example.com</span></span><br></pre></td></tr></table></figure><h2 id="3-6-cookies">3.6 Cookies</h2><p>HTTP是一种无状态的协议，为了在会话中保存一些状态，可以使用Cookies。服务器通过<code>Set-Cookie:</code>来设置Cookie，客户端就可以在下一次请求中携带这些数据。</p><h3 id="1-设置cookie">1. 设置Cookie</h3><p>我们可以使用<code>--cookie</code>选项来设置一个Cookie：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl --cookie <span class="string">"CookieName=CookieValue"</span> http://example.com</span></span><br></pre></td></tr></table></figure><h3 id="2-从文件中读取cookies">2. 从文件中读取Cookies</h3><p>curl默认不会记住服务器设置的Cookie，也不会在下一次请求中携带Cookie。除非用户通过选项自己设置。</p><p>我们可以把之前的Cookies保存到一个文件，然后在下一次请求中指定curl读取文件中的Cookies：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -b cookies.txt http://example.com</span></span><br></pre></td></tr></table></figure><p><code>-b</code>选项指定curl去给定的文件中读取Cookies。</p><p>不过要主要，这里仅仅是读取Cookies，如果这次请求中服务器修改了Cookie，那么curl是不会进行保存的，除非我们手动指定。</p><h3 id="3-写cookies到文件">3. 写Cookies到文件</h3><p>我们可以使用<code>-c</code>选项指定curl保存这次请求中服务器设置的Cookies：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -c cookie.jar.txt http://example.com</span></span><br></pre></td></tr></table></figure><p>有时，我们既需要从文件中读取Cookies，也需要保存服务器设置的Cookies。那么就可以同时使用<code>-b</code>和<code>-c</code>选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -b cookies.txt -c cookie.jar.txt http://example.com</span></span><br></pre></td></tr></table></figure><hr><p>作者：今天中午吃啥<br>链接：<a href="https://www.jianshu.com/p/fc0eb6c60816" target="_blank" rel="noopener">https://www.jianshu.com/p/fc0eb6c60816</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>推荐几个无版权图片库，可免费使用</title>
      <link href="/article/e6b97faf.html"/>
      <url>/article/e6b97faf.html</url>
      
        <content type="html"><![CDATA[<h2 id="pixabay">PixaBay</h2><p>「Pixabay」是全球知名的图库网站及充满活力的创意社区 , 拥有上百万张免费正版高清图片素材 , 涵盖照片、插画、矢量图、视频等分类。即使是出于商业目的，也可以免费使用该网站的图片素材。</p><p>Pixabay 支持<strong>设置中文</strong>语言，在最下方的「Language」选项找到简体中文，同时也支持中文关键词搜索，这点还是对国人比较有好的。在搜索结果最上方的区域并不免费的图片，属于 Shutterstock 图库的广告位，注意甄别。</p><p>网址： <a href="https://pixabay.com/zh/" target="_blank" rel="noopener">https://pixabay.com/zh/</a></p><p><img src="https://img-blog.csdnimg.cn/50b8ba75cde84731b70e189e3ab540ec.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/cba82d14464d4c35951a16d1571b19f1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="pexels">Pexels</h2><p>Pexels 提供高质量且完全免费的素材照片，这些照片均在 Pexels 许可下授权。网站精心地为所有照片贴上了标签，你可以搜索，也可以轻松通过发现页面发现这些照片。网站包含有成千上万的免费素材照片，每天都会添加新的高分辨率照片。</p><p>网址： <a href="https://www.pexels.com/" target="_blank" rel="noopener">https://www.pexels.com</a></p><p><img src="https://img-blog.csdnimg.cn/631a6639e81c4a299a3176753bfc905e.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/2c4f759db305411ab558ca152321e89c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="unsplash">UnSplash</h2><p>「Unsplash」是一个非常著名的无版权图片网站，网站提供了大量的可商用且无版权图片，重要的是质量非常高，每天都在更新，图片以风景为主，滤镜效果的风景图比较多，很适合用来做背景或壁纸。Unsplash <strong>只支持英文搜索</strong>，可以用翻译器转换一下。无需注册，就可以免费下载图片。</p><p>网址： <a href="https://unsplash.com/" target="_blank" rel="noopener">https://unsplash.com</a></p><p><img src="https://img-blog.csdnimg.cn/76ea7e0d9e5149c7b2bc29009c7abddd.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/c0b9b51128f74604bfc38053367bd3b2.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="wallhaven">Wallhaven</h2><p>Awesome Wallpapers。<br>壁纸天堂，网络上最强的壁纸？！<br>可自由裁剪壁纸尺寸（Crop &amp; Scale Download）</p><p>网址： <a href="https://wallhaven.cc/" target="_blank" rel="noopener">https://wallhaven.cc/</a></p><p><img src="https://img-blog.csdnimg.cn/8642a3029d1342129308d43de2c6a91c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/ff030bcec5254ae38ef3e7f1f93b5f3f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Postgres开启慢查询日志</title>
      <link href="/article/44ebf4a.html"/>
      <url>/article/44ebf4a.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-全局设置">1.全局设置</h2><p>修改配置配置文件 <code>postgres.conf</code> ，一般位置pgsql的data目录下，单位是毫秒，如下设置的是10,000毫秒，相当于10秒钟，即：当运行时间超过10秒钟后会以日志的格式记录下来：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log_min_duration_statement=10000</span><br></pre></td></tr></table></figure><p>然后加载配置：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># select pg_reload_conf();</span></span><br></pre></td></tr></table></figure><p>查看配置：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># show log_min_duration_statement;</span></span><br><span class="line"></span><br><span class="line"> log_min_duration_statement </span><br><span class="line"><span class="comment">----------------------------</span></span><br><span class="line"> 10s</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-个性化设置">2.个性化设置</h2><p>即：也可以针对某个用户或者某数据库进行设置：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># alter database test set log_min_duration_statement=5000;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python函数默认参数设置</title>
      <link href="/article/a08e791c.html"/>
      <url>/article/a08e791c.html</url>
      
        <content type="html"><![CDATA[<p>我们知道，在调用函数时如果不指定某个参数，<a href="http://c.biancheng.net/python/" target="_blank" rel="noopener">Python</a> 解释器会抛出异常。为了解决这个问题，Python 允许为参数设置默认值，即在定义函数时，直接给形式参数指定一个默认值。这样的话，即便调用函数时没有给拥有默认值的形参传递参数，该参数可以直接使用定义函数时设置的默认值。</p><a id="more"></a><p>Python 定义带有默认值参数的函数，其语法格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名<span class="params">(...，形参名，形参名=默认值)</span>：</span></span><br><span class="line"><span class="function">  代码块</span></span><br></pre></td></tr></table></figure><p>注意，在使用此格式定义函数时，指定有默认值的形式参数必须在所有没默认值参数的最后，否则会产生语法错误。</p><p>下面程序演示了如何定义和调用有默认参数的函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#str1没有默认参数，str2有默认参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dis_str</span><span class="params">(str1,str2 = <span class="string">"http://c.biancheng.net/python/"</span>)</span>:</span></span><br><span class="line">    print(<span class="string">"str1:"</span>,str1)</span><br><span class="line">    print(<span class="string">"str2:"</span>,str2)</span><br><span class="line">dis_str(<span class="string">"http://c.biancheng.net/shell/"</span>)</span><br><span class="line">dis_str(<span class="string">"http://c.biancheng.net/java/"</span>,<span class="string">"http://c.biancheng.net/golang/"</span>)</span><br></pre></td></tr></table></figure><p>运行结果为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str1: http://c.biancheng.net/shell/</span><br><span class="line">str2: http://c.biancheng.net/python/</span><br><span class="line">str1: http://c.biancheng.net/java/</span><br><span class="line">str2: http://c.biancheng.net/golang/</span><br></pre></td></tr></table></figure><p>上面程序中，dis_str() 函数有 2 个参数，其中第 2 个设有默认参数。这意味着，在调用 dis_str() 函数时，我们可以仅传入 1 个参数，此时该参数会传给 str1 参数，而 str2 会使用默认的参数，如程序中第 6 行代码所示。</p><p>当然在调用 dis_str() 函数时，也可以给所有的参数传值（如第 7 行代码所示），这时即便 str2 有默认值，它也会优先使用传递给它的新值。</p><p>同时，结合关键字参数，以下 3 种调用 dis_str() 函数的方式也是可以的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dis_str(str1 = <span class="string">"http://c.biancheng.net/shell/"</span>)</span><br><span class="line">dis_str(<span class="string">"http://c.biancheng.net/java/"</span>,str2 = <span class="string">"http://c.biancheng.net/golang/"</span>)</span><br><span class="line">dis_str(str1 = <span class="string">"http://c.biancheng.net/java/"</span>,str2 = <span class="string">"http://c.biancheng.net/golang/"</span>)</span><br></pre></td></tr></table></figure><p>再次强调，当定义一个有默认值参数的函数时，有默认值的参数必须位于所有没默认值参数的后面。因此，下面例子中定义的函数是不正确的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#语法错误</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dis_str</span><span class="params">(str1=<span class="string">"http://c.biancheng.net/python/"</span>,str2,str3)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>显然，str1 设有默认值，而 str2 和 str3 没有默认值，因此 str1 必须位于 str2 和 str3 之后。</p><p>有读者可能会问，对于自己自定义的函数，可以轻易知道哪个参数有默认值，但如果使用 Python 提供的内置函数，又或者其它第三方提供的函数，怎么知道哪些参数有默认值呢？</p><p>Pyhton 中，可以使用“函数名.<strong>defaults</strong>”查看函数的默认值参数的当前值，其返回值是一个元组。以本节中的 dis_str() 函数为例，在其基础上，执行如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(dis_str.__defaults__)</span><br></pre></td></tr></table></figure><p>程序执行结果为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">'http://c.biancheng.net/python/'</span>,)</span><br></pre></td></tr></table></figure><hr><p>转自:<a href="http://c.biancheng.net/view/2256.html" target="_blank" rel="noopener">http://c.biancheng.net/view/2256.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm中目录directory与包package的区别</title>
      <link href="/article/d065b111.html"/>
      <url>/article/d065b111.html</url>
      
        <content type="html"><![CDATA[<p>对于<a href="http://lib.csdn.net/base/python" target="_blank" rel="noopener">Python</a>而言，有一点是要认识明确的，<a href="http://lib.csdn.net/base/python" target="_blank" rel="noopener">python</a>作为一个相对而言轻量级的，易用的脚本语言（当然其功能并不仅限于此，在此只是讨论该特点），随着程序的增长，可能想要把它分成几个文件，以便逻辑更加清晰，更好维护，亦或想要在几个程序中均使用某个函数，而不必将其复制粘贴到所有程序中。</p><p>为了支持这一点，Python有一种方法将定义函数放在一个文件中，并在脚本中使用它们，这样的文件叫做模块，一个模块中的定义可以被导入到其他模块，或者主模块中。</p><p>简单来说在python中模块就是指一个py文件，如果我们将所有相关的代码都放在一个py文件中，则该py文件既是程序由是模块，但是程序和模块的设计目的是不同的，程序的目的是为了运行，而模块的目的是为了其他程序进行引用。</p><a id="more"></a><p><strong>Dictionary</strong></p><p>Dictionary在pycharm中就是一个文件夹，放置资源文件，对应于在进行JavaWeb开发时用于放置css/<a href="http://lib.csdn.net/base/javascript" target="_blank" rel="noopener">js</a>文件的目录，或者说在进行物体识别时，用来存储背景图像的文件夹。该文件夹其中并不包含_ _ init.py_ _文件</p><p><strong>Python package</strong></p><p>对于Python package 文件夹而言，与Dictionary不同之处在于其会自动创建_ _ init__.py文件。 简单的说，python package就是一个目录，其中包括一组模块和一个_ _ init__.py文件。</p><p>只要image目录是我们程序目录的子目录，我们就可以导入image目录下的任意模块来为我们所用，使用时可如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Image.bmp</span><br><span class="line">tool = Image.bmp.read(<span class="string">'a.bmp'</span>)</span><br></pre></td></tr></table></figure><p><strong>_ _ init_ _.py</strong></p><p>该文件与Python的import机制有关，这关乎到你的哪些.py文件是对外可访问的。有些时候，如果一个包下有很多模块，在调用方import如此多模块是很费事，且不优雅的，此时可以通过修改_ _ init_ <em>.py来完成该任务。<br>在</em> _ init_ <em>.py中定义特殊变量_</em> all_ <em>,将要包含的模块复制给该变量，例如在Image/</em> _ init_ <em>.py中定义</em> <em>all</em> _=[‘tiff’,’bmp’,’jpg’],这里的all 对应的就是 from …import * 中*代指的模块，此时在引用方使用如下语句：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">遇到问题没人解答？小编创建了一个Python学习交流QQ群：857662006 </span></span><br><span class="line"><span class="string">寻找有志同道合的小伙伴，互帮互助,群里还有不错的视频学习教程和PDF电子书！</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">from</span> image <span class="keyword">import</span> *</span><br><span class="line">tool = tiff.read(<span class="string">'a.tiff'</span>)</span><br></pre></td></tr></table></figure><h3 id="补充：">补充：</h3><p>python模块是：<br>自我包含并且有组织的代码片段为模块。<br>表现形式为：写的代码保存为文件。这个文件就是一个模块。<a href="http://sample.py/" target="_blank" rel="noopener">sample.py</a> 其中文件名smaple为模块名字。</p><p>python包是：<br>包是一个有层次的文件目录结构，它定义了由n个模块或n个子包组成的python应用程序执行环境。</p><p>通俗一点：包是一个包含__init__.py 文件的目录，该目录下一定得有这个__init__.py文件和其它模块或子包。</p><p>python库是参考其它编程语言的说法，就是指python中的完成一定功能的代码集合，供用户使用的代码组合。在python中是包和模块的形式。</p><hr><p>参考：<a href="https://blog.csdn.net/qdPython/article/details/98629976" target="_blank" rel="noopener">https://blog.csdn.net/qdPython/article/details/98629976</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python读写CSV文件</title>
      <link href="/article/f4ec56db.html"/>
      <url>/article/f4ec56db.html</url>
      
        <content type="html"><![CDATA[<h2 id="csv文件格式">CSV文件格式</h2><p>CSV （逗号分隔值文件格式）</p><blockquote><p>逗号分隔值（Comma-Separated Values，CSV，有时也称为字符分隔值，因为分隔字符也可以不是逗号），其文件以纯文本形式存储表格数据（数字和文本）。纯文本意味着该文件是一个字符序列，不含必须像二进制数字那样被解读的数据。CSV文件由任意数目的记录组成，记录间以某种换行符分隔；每条记录由字段组成，字段间的分隔符是其它字符或字符串，最常见的是逗号或制表符。</p><p>转自：<a href="https://baike.baidu.com/item/CSV/10739?fr=aladdin" target="_blank" rel="noopener">CSV(逗号分隔值文件格式) - 百度百科</a></p></blockquote><p>纯文本打开：中间有逗号分隔<br>以Excel方式打开：类似于表格，没有逗号分隔（逗号作为分隔符，但是不显示）</p><a id="more"></a><h2 id="python读写csv文件">Python读写CSV文件</h2><p>简单案例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">data = [</span><br><span class="line">    (<span class="string">"测试1"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试2"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试3"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试4"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试5"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">]</span><br><span class="line"><span class="comment"># write</span></span><br><span class="line">filename = <span class="string">'test.csv'</span></span><br><span class="line">f = open(filename, <span class="string">'w'</span>, encoding=<span class="string">'UTF8'</span>)</span><br><span class="line">writer = csv.writer(f)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    writer.writerow(i)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># read</span></span><br><span class="line">f = csv.reader(open(filename, <span class="string">'r'</span>, encoding=<span class="string">'UTF8'</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure><p>打印：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'测试1'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[]</span><br><span class="line">[<span class="string">'测试2'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[]</span><br><span class="line">[<span class="string">'测试3'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[]</span><br><span class="line">[<span class="string">'测试4'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[]</span><br><span class="line">[<span class="string">'测试5'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure><p>左边是WPS打开的，右边时notepad++打开的，发现莫名其妙多了一个空行。<br><img src="https://img-blog.csdnimg.cn/a28cf37189a747138e998e91edbf1cd1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>我们直接在IDE中打开open方法（Ctrl+鼠标左键点击open即可打开该方法定义），看下该方法的定义（这里只看newline参数，省略了其他参数的介绍）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">open</span><span class="params">(file, mode=<span class="string">'r'</span>, buffering=None, encoding=None, errors=None, newline=None, closefd=True)</span>:</span> <span class="comment"># known special case of open</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Open file and return a stream.  Raise OSError upon failure.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ……</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    newline controls how universal newlines works (it only applies to text</span></span><br><span class="line"><span class="string">    mode). It can be None, '', '\n', '\r', and '\r\n'.  It works as</span></span><br><span class="line"><span class="string">    follows:</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    * On input, if newline is None, universal newlines mode is</span></span><br><span class="line"><span class="string">      enabled. Lines in the input can end in '\n', '\r', or '\r\n', and</span></span><br><span class="line"><span class="string">      these are translated into '\n' before being returned to the</span></span><br><span class="line"><span class="string">      caller. If it is '', universal newline mode is enabled, but line</span></span><br><span class="line"><span class="string">      endings are returned to the caller untranslated. If it has any of</span></span><br><span class="line"><span class="string">      the other legal values, input lines are only terminated by the given</span></span><br><span class="line"><span class="string">      string, and the line ending is returned to the caller untranslated.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    * On output, if newline is None, any '\n' characters written are</span></span><br><span class="line"><span class="string">      translated to the system default line separator, os.linesep. If</span></span><br><span class="line"><span class="string">      newline is '' or '\n', no translation takes place. If newline is any</span></span><br><span class="line"><span class="string">      of the other legal values, any '\n' characters written are translated</span></span><br><span class="line"><span class="string">      to the given string.</span></span><br><span class="line"><span class="string">    ……</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>翻译下大概意思：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Newline控制通用换行符的工作方式(它只适用于文本</span><br><span class="line">模式)。它可以是<span class="literal">None</span>， <span class="string">''</span>， <span class="string">'\n'</span>， <span class="string">'\r'</span>和<span class="string">'\r\n'</span>。它的工作原理是</span><br><span class="line">如下:</span><br><span class="line"></span><br><span class="line">*在输入时，如果newline为<span class="literal">None</span>，则通用换行模式为</span><br><span class="line">启用。输入中的行可以以<span class="string">'\n'</span>， <span class="string">'\r'</span>，或<span class="string">'\r\n'</span>和</span><br><span class="line">在返回给。之前，这些被翻译成<span class="string">'\n'</span></span><br><span class="line">调用者。如果是<span class="string">"，则启用通用换行模式</span></span><br><span class="line"><span class="string">未翻译的结尾返回给调用者。如果它有任何</span></span><br><span class="line"><span class="string">其他合法的值，输入行只在给定值结束</span></span><br><span class="line"><span class="string">字符串，并将行结束符未翻译返回给调用者。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*在输出时，如果newline为None，则写入的任何'\n'字符均为</span></span><br><span class="line"><span class="string">转换为系统默认的行分隔符os.linesep。如果</span></span><br><span class="line"><span class="string">Newline为''或'\n'，不发生翻译。如果newline是any</span></span><br><span class="line"><span class="string">对于其他合法值，任何'\n'字符都要翻译</span></span><br><span class="line"><span class="string">到给定的字符串。</span></span><br></pre></td></tr></table></figure><p>我们可以看到在输出时，如果没有定义时按照os.linesep进行输出的，我们看下这是啥：<br>(电脑是Windows，默认换行符为<code>\r\n</code>)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">print(<span class="string">'os.linesep前面'</span>, os.linesep, <span class="string">'os.linesep后面'</span>)</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">os.linesep前面 </span><br><span class="line"> os.linesep后面</span><br></pre></td></tr></table></figure><p>但是好像看不出啥东西，因为换行符 <code>\r\n</code>都 是不可打印字符，再试下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># print('os.linesep前面', os.linesep, 'os.linesep后面')</span></span><br><span class="line">print(int(os.linesep))</span><br></pre></td></tr></table></figure><p>输出报错了，但是我得到想要的了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(int(os.linesep))</span><br><span class="line">ValueError: invalid literal <span class="keyword">for</span> int() <span class="keyword">with</span> base <span class="number">10</span>: <span class="string">'\r\n'</span></span><br></pre></td></tr></table></figure><p>然后后面百度发现原来直接在命令行是可以显示的，如下：</p><p><img src="https://img-blog.csdnimg.cn/b5f21d1a46b84d059bd9d84175b4c20e.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>参考：<a href="https://www.cnblogs.com/jeancheng/p/13759550.html" target="_blank" rel="noopener">https://www.cnblogs.com/jeancheng/p/13759550.html</a></p><p>也就是说默认情况下，<code>\r\n</code> 中的 <code>\n</code> 会被替换成系统的换行符，即<code>\r\n</code>，因此替换后就是<code>\r\r\n</code>。</p><p>用notepad++打开文件，显示所有字符，是这样的（哦，果然是这样）：<br><img src="https://img-blog.csdnimg.cn/b8a399f2e7a04b2d8f561c77a307d7bb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>问题找到了，也可以进行处理了，文档中也有相关介绍，把它置为空字符串就行了<code>newline=&quot;&quot;</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">data = [</span><br><span class="line">    (<span class="string">"测试1"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试2"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试3"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试4"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">    (<span class="string">"测试5"</span>, <span class="string">'软件测试工程师'</span>),</span><br><span class="line">]</span><br><span class="line"><span class="comment"># write</span></span><br><span class="line">filename = <span class="string">'test.csv'</span></span><br><span class="line">f = open(filename, <span class="string">'w'</span>, encoding=<span class="string">'UTF8'</span>, newline=<span class="string">""</span>)</span><br><span class="line">writer = csv.writer(f)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    writer.writerow(i)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># read</span></span><br><span class="line">f = csv.reader(open(filename, <span class="string">'r'</span>, encoding=<span class="string">'UTF8'</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure><p>打印：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">'测试1'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[<span class="string">'测试2'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[<span class="string">'测试3'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[<span class="string">'测试4'</span>, <span class="string">'软件测试工程师'</span>]</span><br><span class="line">[<span class="string">'测试5'</span>, <span class="string">'软件测试工程师'</span>]</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/322706b680714c7882be2a90900f1a99.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm常用配置大杂烩--让IDE更懂你</title>
      <link href="/article/550bc7dd.html"/>
      <url>/article/550bc7dd.html</url>
      
        <content type="html"><![CDATA[<p>收集了一些个人在日常中可能会用到的一些设置，希望这些操作能让我们能够有效提高我们的开发效率。</p><a id="more"></a><h2 id="设置项目编码file-encoding">设置项目编码File Encoding</h2><p>用处：设置项目全局编码，防止乱码。</p><p>步骤：左上角File–&gt;Settings–&gt;Editor–&gt;File Encoding</p><p>设置为对应的编码即可（我这里是设置的UTF-8）<br><img src="https://img-blog.csdnimg.cn/0657fe6f5f0143278d748e0a034ac526.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>上面这个只是设置了当前打开项目的设置，如果需要设置其他项目也适用的<strong>全局的配置</strong>，需要从这里进去：</p><p>左上角File–&gt;Settings for New Project–&gt;Editor–&gt;File Encoding</p><h2 id="设置文件模板file-and-code-template">设置文件模板File and Code Template</h2><p>用处：新建对应类型的文件时，自动生成一些自定义的代码。</p><p>步骤：左上角File–&gt;Settings–&gt;Editor–&gt;File and Code Template</p><p><img src="https://img-blog.csdnimg.cn/72b6c4b69a4d419694749cf56a334471.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>填入你喜欢的模板，例如这样：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*-coding:utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@author: yourname</span></span><br><span class="line"><span class="string">@file: $&#123;NAME&#125;.py</span></span><br><span class="line"><span class="string">@time: $&#123;DATE&#125;</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure><p>因此当你新建python文件时，会自动生成：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*-coding:utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@author: yourname</span></span><br><span class="line"><span class="string">@file: test22.py</span></span><br><span class="line"><span class="string">@time: 2021/08/06</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure><p>官网介绍：<a href="https://www.jetbrains.com/help/pycharm/using-file-and-code-templates.html" target="_blank" rel="noopener">https://www.jetbrains.com/help/pycharm/using-file-and-code-templates.html</a></p><h2 id="设置快捷模板live-templates">设置快捷模板Live templates</h2><p>用处：编码时，输入一些标志，自动带出我们定义好的模板。</p><p>步骤：左上角File–&gt;Settings–&gt;Editor–&gt;Live templates</p><p><img src="https://img-blog.csdnimg.cn/ce57a8002e0d41e2bbda37f15f8573e4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>例如这个自带的main模板，你在python文件中输入main时，会自动生成下面这个代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br></pre></td></tr></table></figure><p>你可以自己添加一些常用的模板，当然你也可以记一下这里的默认的模块，可以有效提高编码效率。</p><p>官网介绍：<a href="https://www.jetbrains.com/help/pycharm/using-live-templates.html" target="_blank" rel="noopener">https://www.jetbrains.com/help/pycharm/using-live-templates.html</a></p><h2 id="typo单词拼写错误提醒问题">typo单词拼写错误提醒问题</h2><p>IDE默认开始这个单词拼写错误提醒功能，这是一个很不错的功能（<strong>特点</strong>），这样当你单词拼写错的，它会给你一个提示，这样你可以对它进行修正。</p><p><img src="https://img-blog.csdnimg.cn/39256fe324e7491d8d5aef7ba6cd6d8f.png" alt="在这里插入图片描述"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Spellchecker inspection helps locate typos <span class="keyword">and</span> misspelling <span class="keyword">in</span> your code, comments <span class="keyword">and</span> literals, <span class="keyword">and</span> fix them <span class="keyword">in</span> one click.</span><br><span class="line">拼写检查程序可以帮助您定位代码、注释和文字中的拼写错误，并在一次单击中修复它们。</span><br></pre></td></tr></table></figure><p>比如图片中的dirdath，就有这样的提示，然后我们按照驼峰命名法重新命名后dirPath，它就不会再提醒了 。</p><p>但是有时候我们不希望它对某些特定的单词进行提示时（比如自己的名字拼音），我们可以这样做。</p><h3 id="处理方法">处理方法</h3><p><strong>方法1</strong>：将该单词添加到项目级别的字典中，然后他就不会再提示了。</p><p>点击单词右键–&gt;Spelling–Save ‘word’ to project-leveldictionary。</p><p>文件保存位置：<code>（项目根目录）.idea/dictionaries/Administrator.xml</code> ，其中Administrator表示计算机当前用户名。<br><img src="https://img-blog.csdnimg.cn/837778a2db9e4bd88a8874f2c551df79.png" alt="在这里插入图片描述"><br><strong>方法2</strong>：彻底关闭这个提醒功能。</p><p>步骤：左上角File–&gt;Settings–&gt;Editor–&gt;Inspection --&gt;搜索typo，取消这个勾选，保存。<br><img src="https://img-blog.csdnimg.cn/59a6c6bc39d24d50b4e3cac6238d8ceb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="设置文件换行符格式">设置文件换行符格式</h2><p>一般情况下IDE都会设置跟系统一直的换行符，我的是Windows，即<code>\r\n</code>，但是我一般习惯设置成Unix格式的，即<code>\n</code>。</p><p>步骤：左上角File–&gt;Settings–&gt;Code Style --&gt;Line separator，设置为需要的，保存。</p><p><img src="https://img-blog.csdnimg.cn/c4da04c48bec4a46b904e076bedd4df3.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="pycharm打开csv文件">PyCharm打开csv文件</h2><p>默认情况下打开CSV文件可能会乱码，我们可以通过安装插件解决这个问题。</p><p>有时候打开CSV文件时会自动提醒不支持，可以安装插件，那么我们直接点击安装就行了。</p><p>如果没有提醒的话，我们就需要自己去插件那里搜索安装下：</p><p>步骤：左上角File–&gt;Settings–&gt;Plugins --&gt; Install JetBrains plugins --&gt;搜索下面这3个插件，然后安装就行了。</p><p><img src="https://img-blog.csdnimg.cn/6062113896724358b1818e74b8a21b06.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Python基础 </tag>
            
            <tag> 开发工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux查询本机的内网IP和外网IP</title>
      <link href="/article/7e1807e.html"/>
      <url>/article/7e1807e.html</url>
      
        <content type="html"><![CDATA[<h2 id="查询本机内网ip地址-ifconfig">查询本机内网IP地址-ifconfig</h2><p>这里的eth0 的 inet 的值 <code>172.14.116.91</code> 即使内网ip。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ2zejd98t~]# ifconfig</span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.14.116.91  netmask 255.255.240.0  broadcast 172.14.127.255</span><br><span class="line">        inet6 fe80::216:3eff:fe15:b7f3  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:16:3e:15:b7:f3  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 39472104  bytes 15521220904 (14.4 GiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 38258459  bytes 15199147861 (14.1 GiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 17170519  bytes 9777458856 (9.1 GiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 17170519  bytes 9777458856 (9.1 GiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line">        </span><br><span class="line">[root@iZ2zejd98t~]# ifconfig eth0</span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.14.116.91  netmask 255.255.240.0  broadcast 172.14.127.255</span><br><span class="line">        inet6 fe80::216:3eff:fe15:b7f3  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:16:3e:15:b7:f3  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 39472688  bytes 15521320121 (14.4 GiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 38259098  bytes 15199345538 (14.1 GiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="说明">说明</h3><ol><li><code>eth0</code>：是指第一个物理网卡，具体叫光纤以太网接口卡，学名 Fiber Ethernet Adapter0。物理网卡这里指的是服务器上实际的网络接口设备，这里我服务器上双网卡，在系统中看到多个物理网卡则分别对应 eth0、eth1、eth2…，类似 Windows 装了好几个网卡，会显示本地连接1、本地连接2、本地连接3…</li><li><code>lo</code>：localhost 本地连接，127.0.0.1。</li><li><code>en0</code>：en0 是逻辑上的网络接口名，enx(x是一个数字，代表第几块网卡)是标准以太网接口，ent0 是物理设备，en0 是逻辑设备。查看网络接口信息时，假设看到三个网络接口，en0, en1, en2，但是只有 en1 的状态是 Available 的，说明目前只有这个口已经插上网线在使用，而其它的并没有在用。</li></ol><h3 id="或者使用ip命令">或者使用ip命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ2zejd98t logs]$ ip addr</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000</span><br><span class="line">    link/ether 00:16:3e:22:03:cd brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.14.116.91/24 brd 10.0.19.255 scope global dynamic eth0</span><br><span class="line">       valid_lft 306206694sec preferred_lft 306206694sec</span><br></pre></td></tr></table></figure><h2 id="查询本机外网-ip-地址">查询本机外网 IP 地址</h2><p>这里主要是通过访问一些网站来返回本地对应的外网ip，因为时间等诸多原因有些网址可能已经失效，下面是我收集的一些网址。</p><p>比如：访问 ：<a href="http://www.cip.cc/" target="_blank" rel="noopener">http://www.cip.cc/</a> ，返回电脑本机外网ip。</p><blockquote><p><strong>该网址描述</strong>：<br>查IP(<a href="http://www.cip.cc" target="_blank" rel="noopener">www.cip.cc</a>)网站, 提供免费的IP查询服务,命令行查询IP, 并且支持’PC网站, 手机网站, 命令行(Windows/UNIX/Linux)’ 三大平台, 是个多平台的IP查询网站, 更新即使, 数据准确是我们的目标</p></blockquote><p><img src="https://img-blog.csdnimg.cn/a947ceb3b1e0474e8831e2e688e419aa.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">root@iZ2zejd98t</span><br><span class="line"><span class="meta">$</span><span class="bash"> curl cip.cc</span></span><br><span class="line">IP      : 120.234.191.42</span><br><span class="line">地址    : 中国  广东  汕头</span><br><span class="line">运营商  : 移动</span><br><span class="line"></span><br><span class="line">数据二  : 广东省汕头市 | 移动</span><br><span class="line"></span><br><span class="line">数据三  : 中国广东广州 | 移动</span><br><span class="line"></span><br><span class="line">URL     : http://www.cip.cc/120.234.191.42</span><br><span class="line"></span><br><span class="line">root@iZ2zejd98t</span><br><span class="line"><span class="meta">$</span><span class="bash"> curl icanhazip.com</span></span><br><span class="line">120.234.191.42</span><br><span class="line"></span><br><span class="line">root@iZ2zejd98t</span><br><span class="line"><span class="meta">$</span><span class="bash"> curl whatismyip.akamai.com</span></span><br><span class="line">120.234.191.42</span><br><span class="line"></span><br><span class="line">root@iZ2zejd98t</span><br><span class="line"><span class="meta">$</span><span class="bash"> curl myip.ipip.net</span></span><br><span class="line">当前 IP：120.234.191.42  来自于：中国 广东 广州  移动</span><br><span class="line"></span><br><span class="line">root@iZ2zejd98t</span><br><span class="line"><span class="meta">$</span><span class="bash"> curl http://members.3322.org/dyndns/getip</span></span><br><span class="line">120.234.191.42</span><br><span class="line"></span><br><span class="line">root@iZ2zejd98t</span><br><span class="line"><span class="meta">$</span><span class="bash"> curl ident.me</span></span><br><span class="line">120.234.191.42</span><br></pre></td></tr></table></figure><hr><p>参考：<a href="https://blog.csdn.net/liaowenxiong/article/details/107688426" target="_blank" rel="noopener">https://blog.csdn.net/liaowenxiong/article/details/107688426</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Navicat 的连接配置</title>
      <link href="/article/1aa5e00d.html"/>
      <url>/article/1aa5e00d.html</url>
      
        <content type="html"><![CDATA[<p>navicat的连接配置</p><p>regedit.exe</p><p>REG_SZ<br><a href="https://zhidao.baidu.com/question/272755496.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/272755496.html</a></p><p><img src="https://img-blog.csdnimg.cn/ab909e10e6ce477cb678b585e005ec68.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>参考：<a href="https://bbs.csdn.net/topics/393711927" target="_blank" rel="noopener">https://bbs.csdn.net/topics/393711927</a></p><a id="more"></a><p>大致路径：<code>计算机\HKEY_USERS\S-1-5-21-3070403362-4279873263-3053120353-500\SOFTWARE\PremiumSoft\NavicatPG\Servers\</code><br>其中<code>\S-1-5-21-3070403362-4279873263-3053120353-500\</code> 这个好像因为Navicat版本（或者Windows版本）不一样会有所差异。</p><p><img src="https://img-blog.csdnimg.cn/28c2119b040b4afa987dcca93b21fff2.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><hr><p>Navicat 文件位置：<a href="http://www.navicat.com.cn/manual/online_manual/cn/navicat/win_manual/options_file_location.html" target="_blank" rel="noopener">http://www.navicat.com.cn/manual/online_manual/cn/navicat/win_manual/options_file_location.html</a><br>Navicat 高级设置：<a href="http://www.navicat.com.cn/manual/online_manual/cn/navicat/win_manual/con_adv_settings.html" target="_blank" rel="noopener">http://www.navicat.com.cn/manual/online_manual/cn/navicat/win_manual/con_adv_settings.html</a><br>Navicat 日志文件：<a href="http://www.navicat.com.cn/manual/online_manual/cn/navicat/win_manual/log_files.html" target="_blank" rel="noopener">http://www.navicat.com.cn/manual/online_manual/cn/navicat/win_manual/log_files.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客gravatar头像访问失效问题处理</title>
      <link href="/article/33cfeef5.html"/>
      <url>/article/33cfeef5.html</url>
      
        <content type="html"><![CDATA[<h2 id="问题描述">问题描述</h2><p>个人博客的Valine评论的头像使用的是gravatar，使用了镜像 <a href="https://gravatar.loli.net/" target="_blank" rel="noopener">https://gravatar.loli.net/</a> （详见：<a href="https://valine.js.org/avatar.html" target="_blank" rel="noopener">valine 头像配置</a>），之前刚配置是可以正常使用，但是最近发现头像都挂了，如下：</p><p><img src="https://img-blog.csdnimg.cn/ca74a7da3d204be388e953c9957e3121.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><h2 id="分析">分析</h2><p>之前遇到类似问题一般都是添加对应ip映射到hosts的，就像访问GitHub失效一样。</p><h2 id="步骤">步骤</h2><h3 id="步骤1-ping-域名">步骤1.ping 域名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;ping gravatar.loli.net</span><br><span class="line"></span><br><span class="line">正在 Ping cdnjs-jp.loli.net [103.201.128.233] 具有 32 字节的数据:</span><br><span class="line">来自 103.201.128.233 的回复: 字节=32 时间=71ms TTL=47</span><br><span class="line">来自 103.201.128.233 的回复: 字节=32 时间=74ms TTL=47</span><br><span class="line">来自 103.201.128.233 的回复: 字节=32 时间=76ms TTL=47</span><br><span class="line">来自 103.201.128.233 的回复: 字节=32 时间=99ms TTL=47</span><br><span class="line"></span><br><span class="line">103.201.128.233 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 71ms，最长 = 99ms，平均 = 80ms</span><br></pre></td></tr></table></figure><h3 id="步骤2-添加到hosts">步骤2.添加到hosts</h3><p>将这个添加到hosts（一般是 <code>C:\Windows\System32\drivers\etc\hosts</code> ）就好了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">103.201.128.233  gravatar.loli.net</span><br></pre></td></tr></table></figure><hr><h2 id="附注">附注</h2><p>对应通用的gravatar网站，即 <a href="http://www.gravatar.com" target="_blank" rel="noopener">www.gravatar.com</a> ,如果失效我们可以通过类似的方式达到这个效果（ps:具体ip建议先ping）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">93.184.220.20 s.gravatar.com</span><br><span class="line">93.184.220.20 0.gravatar.com</span><br><span class="line">93.184.220.20 1.gravatar.com</span><br><span class="line">93.184.220.20 2.gravatar.com</span><br></pre></td></tr></table></figure><hr><p>附：怎么在Gravatar网站上进行设置自己的头像，并通过URL获取：<a href="https://blog.csdn.net/qq_38796548/article/details/102725696" target="_blank" rel="noopener">https://blog.csdn.net/qq_38796548/article/details/102725696</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python中字符串String去除出换行符(\n,\r)和空格的问题</title>
      <link href="/article/5759927c.html"/>
      <url>/article/5759927c.html</url>
      
        <content type="html"><![CDATA[<h2 id="python中字符串string去除出换行符和空格的问题-n-r">Python中字符串String去除出换行符和空格的问题（\n,\r）</h2><p>在Python的编写过程中，获取到的字符串进场存在不明原因的换行和空格，如何整合成一个单句，成为问题。</p><a id="more"></a><p>方法：</p><h3 id="一-去除空格">一、去除空格</h3><p>“ · ”代表的为空格</p><p>strip()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"···xyz···"</span>.strip()            <span class="comment"># returns "xyz"  </span></span><br><span class="line"><span class="string">"···xyz···"</span>.lstrip()           <span class="comment"># returns "xyz···"  </span></span><br><span class="line"><span class="string">"···xyz···"</span>.rstrip()           <span class="comment"># returns "···xyz"  </span></span><br><span class="line"><span class="string">"··x·y·z··"</span>.replace(<span class="string">' '</span>, <span class="string">''</span>)   <span class="comment"># returns "xyz"</span></span><br></pre></td></tr></table></figure><h3 id="二-替换-replace-space">二、替换 <code>replace(&quot;space&quot;,&quot;&quot;)</code></h3><p>用 <code>replace(&quot;\n&quot;, &quot;&quot;)</code>，与 <code>replace(&quot;\r&quot;, &quot;&quot;)</code>，后边的内容替换掉前边的。</p><p>实际问题：</p><p>如图：</p><p>string中内容</p><p><img src="https://img-blog.csdn.net/20180715113106561?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2plcnJ5Z2FvbGluZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p><p>其中，“ · ”代表的为空格，一段话被换行成了几段。</p><p>1.使用 <code>.strip()</code> 只能够去除字符串首尾的空格，不能够去除中间的空格。如图：</p><p><img src="https://img-blog.csdn.net/20180715113056973?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2plcnJ5Z2FvbGluZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p><p>所以需要使用 <code>.replace(' ', '')</code> 来替换空格项。<code>string.replace(' ', '')</code>。如图：</p><p><img src="https://img-blog.csdn.net/20180715113031300?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2plcnJ5Z2FvbGluZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br>2.使用 <code>.replace('\n', '')</code> 去除换行。如图：并不能达到效果。</p><p><img src="https://img-blog.csdn.net/20180715112957749?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2plcnJ5Z2FvbGluZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p><p>原因在于：在python中存在继承了 回车符\r 和 换行符\n 两种标记。</p><p><code>\r</code>和<code>\n</code> 都是以前的那种打字机传承来的。</p><p><code>\r</code> 代表回车，也就是打印头归位，回到某一行的开头。</p><p><code>\n</code>代表换行，就是走纸，下一行。</p><p>linux只用<code>\n</code>换行。</p><p>win下用<code>\r\n</code>表示换行。</p><p>python中同样一句话：<code>print (u'前面的内容\r只显示后面的内容')</code></p><p>所以，在去除换行时，需要同时去除两者才行，即使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.replace(<span class="string">'\n'</span>, <span class="string">''</span>).replace(<span class="string">'\r'</span>, <span class="string">''</span>)</span><br></pre></td></tr></table></figure><p>结果如图：</p><p><img src="https://img-blog.csdn.net/2018071511293694?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2plcnJ5Z2FvbGluZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p><hr><p>转自：<a href="https://blog.csdn.net/jerrygaoling/article/details/81051447" target="_blank" rel="noopener">https://blog.csdn.net/jerrygaoling/article/details/81051447</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notepad++格式化JSON</title>
      <link href="/article/9a173e5b.html"/>
      <url>/article/9a173e5b.html</url>
      
        <content type="html"><![CDATA[<p>插件–&gt;插件管理–&gt;可用–&gt;搜索json，找到json viewer–&gt;安装（成功后自动重启）</p><a id="more"></a><p>使用：点击插件，找到json viewer，点击格式化就行了，当然也可以使用快捷键Ctrl+shift+alt+M</p><p><img src="https://img-blog.csdnimg.cn/20210409180141454.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20210409180221751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20210409180328775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20210409180415446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><hr><p>参考：<br><a href="https://blog.csdn.net/qq_39052982/article/details/92977827" target="_blank" rel="noopener">https://blog.csdn.net/qq_39052982/article/details/92977827</a><br><a href="https://jingyan.baidu.com/article/5225f26baffaf3e6fb090877.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/5225f26baffaf3e6fb090877.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Notepad++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NPM相关问题</title>
      <link href="/article/3703e674.html"/>
      <url>/article/3703e674.html</url>
      
        <content type="html"><![CDATA[<p>NPM相关问题</p><h2 id="npm是什么">npm是什么</h2><p>NPM的全称是Node Package Manager，是随同NodeJS一起安装的包管理和分发工具，它很方便让JavaScript开发者下载、安装、上传以及管理已经安装的包。</p><a id="more"></a><h2 id="npm官网">npm官网</h2><p><a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a></p><p><img src="https://img-blog.csdnimg.cn/1f74ddedf8ac4983812ff9be9fc7c5ac.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm 通过package.json来安装第三方包</title>
      <link href="/article/bf58ba05.html"/>
      <url>/article/bf58ba05.html</url>
      
        <content type="html"><![CDATA[<h2 id="npm-通过package-json来安装第三方包"><a href="https://www.cnblogs.com/tutumissed/p/8276221.html" target="_blank" rel="noopener">npm 通过package.json来安装第三方包</a></h2><p>通过package.json来安装第三方包</p><ol><li><p>将package.json文件拷贝到项目，在当前目录打开命令行</p></li><li><p>安装： npm install --production</p></li></ol><p><img src="https://img-blog.csdnimg.cn/img_convert/bcffa3abbecdc4616ccba6a241c24488.png" alt="img"></p><p><a href="https://segmentfault.com/a/1190000022829431" target="_blank" rel="noopener">npm之package.json解析并执行</a><br><a href="https://www.cnblogs.com/sese/p/10119511.html" target="_blank" rel="noopener">npm安装package.json中的模块依赖</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm 常用命令详解</title>
      <link href="/article/75bb359.html"/>
      <url>/article/75bb359.html</url>
      
        <content type="html"><![CDATA[<h2 id="npm是什么">npm是什么</h2><p>NPM的全称是Node Package Manager，是随同NodeJS一起安装的包管理和分发工具，它很方便让JavaScript开发者下载、安装、上传以及管理已经安装的包。</p><a id="more"></a><h2 id="npm-install-安装模块">npm install 安装模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm install (with no args, in package dir)</span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;</span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;tag&gt;</span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version&gt;</span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version range&gt;</span><br><span class="line">npm install &lt;tarball file&gt;</span><br><span class="line">npm install &lt;tarball url&gt;</span><br><span class="line">npm install &lt;folder&gt;</span><br><span class="line"></span><br><span class="line">alias: npm i</span><br><span class="line">common options: [-S|--save|-D|--save-dev|-O|--save-optional] [-E|--save-exact] [--dry-run]</span><br></pre></td></tr></table></figure><p>安装包，默认会安装最新的版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/f5a11865441a08240a1f7a3991c299f8.png" alt="img"></p><p>安装指定版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp@3.9.1</span><br></pre></td></tr></table></figure><p>安装包并将信息保持到项目的package.json文件中</p><p><img src="https://img-blog.csdnimg.cn/img_convert/c156d00602b01b97dbc0ef0cbeb216b3.png" alt="img"></p><p>项目对模块的依赖可以使用下面的 3 种方法来表示（假设当前版本号是 1.1.0 ）：</p><ul><li>兼容模块新发布的补丁版本：~1.1.0、1.1.x、1.1</li><li>兼容模块新发布的小版本、补丁版本：^1.1.0、1.x、1</li><li>兼容模块新发布的大版本、小版本、补丁版本：*、x</li></ul><p><strong>-S, --save 安装包信息将加入到dependencies（生产阶段的依赖）</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save 或 npm install gulp -S</span><br></pre></td></tr></table></figure><p>package.json 文件的 dependencies 字段：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">    "gulp": "^3.9.1"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>-D, --save-dev 安装包信息将加入到devDependencies（开发阶段的依赖），所以开发阶段一般使用它</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save-dev 或 npm install gulp -D</span><br></pre></td></tr></table></figure><p>package.json 文件的 devDependencies字段：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"devDependencies": &#123;</span><br><span class="line">            </span><br><span class="line">    "gulp": "^3.9.1"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>-O, --save-optional 安装包信息将加入到optionalDependencies（可选阶段的依赖）</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save-optional 或 npm install gulp -O</span><br></pre></td></tr></table></figure><p>package.json 文件的optionalDependencies字段：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"optionalDependencies": &#123;</span><br><span class="line">            </span><br><span class="line">    "gulp": "^3.9.1"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>-E, --save-exact 精确安装指定模块版本</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save-exact 或 npm install gulp -E</span><br></pre></td></tr></table></figure><p>输入命令**npm install gulp -ES，<strong>留意package.json 文件的 dependencies 字段，以看出版本号中的</strong>^**消失了</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">            </span><br><span class="line">    "gulp": "3.9.1"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>模块的依赖都被写入了package.json文件后，他人打开项目的根目录（项目开源、内部团队合作），使用npm install命令可以根据dependencies配置安装所有的依赖包</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/e392d965c69ebdff7b80c763d5e7b663.png" alt="img"></p><p>本地安装（local）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp</span><br></pre></td></tr></table></figure><p>全局安装（global）,使用 -g 或 --global</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g</span><br></pre></td></tr></table></figure><h2 id="npm-uninstall-卸载模块">npm uninstall 卸载模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]... [-S|--save|-D|--save-dev|-O|--save-optional]</span><br><span class="line"></span><br><span class="line">aliases: remove, rm, r, un, unlink</span><br></pre></td></tr></table></figure><p>如卸载开发版本的模块</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall gulp --save-dev</span><br></pre></td></tr></table></figure><h2 id="npm-update-更新模块">npm update 更新模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update [-g] [&lt;pkg&gt;...]</span><br></pre></td></tr></table></figure><h2 id="npm-outdated-检查模块是否已经过时">npm outdated 检查模块是否已经过时</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm outdated [[&lt;@scope&gt;/]&lt;pkg&gt; ...]</span><br></pre></td></tr></table></figure><p>此命令会列出所有已经过时的包，可以及时进行包的更新</p><p><img src="https://img-blog.csdnimg.cn/img_convert/40f39be6dc5d6a7faac44829ea9f4edc.png" alt="img"></p><h2 id="npm-ls-查看安装的模块">npm ls 查看安装的模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm ls [[&lt;@scope&gt;/]&lt;pkg&gt; ...]</span><br><span class="line"></span><br><span class="line">aliases: list, la, ll</span><br></pre></td></tr></table></figure><p>查看全局安装的模块及依赖</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm ls -g</span><br></pre></td></tr></table></figure><h2 id="npm-init-在项目中引导创建一个package-json文件">npm init 在项目中引导创建一个package.json文件</h2><p>安装包的信息可保持到项目的package.json文件中，以便后续的其它的项目开发或者他人合作使用，也说package.json在项目中是必不可少的。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init [-f|--force|-y|--yes]</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/a0106ff7874808cd151cf161eacffcb3.gif" alt="img"></p><h2 id="npm-help-查看某条命令的详细帮助">npm help 查看某条命令的详细帮助</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm help &lt;term&gt; [&lt;terms..&gt;]</span><br></pre></td></tr></table></figure><p>例如输入<code>npm help install</code>，系统在默认的浏览器或者默认的编辑器中打开本地nodejs安装包的文件 <code>/nodejs/node_modules/npm/html/doc/cli/npm-install.html</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm help install</span><br></pre></td></tr></table></figure><h2 id="npm-root-查看包的安装路径">npm root 查看包的安装路径</h2><p>输出 node_modules的路径</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm root [-g]</span><br></pre></td></tr></table></figure><h2 id="npm-config-管理npm的配置路径">npm config 管理npm的配置路径</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm config set &lt;key&gt; &lt;value&gt; [-g|--global]</span><br><span class="line">npm config get &lt;key&gt;</span><br><span class="line">npm config delete &lt;key&gt;</span><br><span class="line">npm config list</span><br><span class="line">npm config edit</span><br><span class="line">npm get &lt;key&gt;</span><br><span class="line">npm set &lt;key&gt; &lt;value&gt; [-g|--global]</span><br></pre></td></tr></table></figure><p>对于config这块用得最多应该是<strong>设置代理，解决npm安装一些模块失败的问题</strong></p><p>例如我在公司内网，因为公司的防火墙原因，无法完成任何模块的安装，这个时候设置代理可以解决</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set proxy=http://xxx.com:8080</span><br></pre></td></tr></table></figure><p>又如国内的网络环境问题，某官方的IP可能被和谐了，幸好国内有好心人，搭建了镜像，此时我们简单设置镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry="http://r.cnpmjs.org"</span><br></pre></td></tr></table></figure><p>也可以临时配置，如安装淘宝镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h2 id="npm-cache-管理模块的缓存">npm cache 管理模块的缓存</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm cache add &lt;tarball file&gt;</span><br><span class="line">npm cache add &lt;folder&gt;</span><br><span class="line">npm cache add &lt;tarball url&gt;</span><br><span class="line">npm cache add &lt;name&gt;@&lt;version&gt;</span><br><span class="line"></span><br><span class="line">npm cache ls [&lt;path&gt;]</span><br><span class="line"></span><br><span class="line">npm cache clean [&lt;path&gt;]</span><br></pre></td></tr></table></figure><p>最常用命令无非清除npm本地缓存</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean</span><br></pre></td></tr></table></figure><h2 id="npm-start-启动模块">npm start 启动模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start [-- &lt;args&gt;]</span><br></pre></td></tr></table></figure><p>该命令写在package.json文件scripts的start字段中，可以自定义命令来配置一个服务器环境和安装一系列的必要程序，如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">            </span><br><span class="line">    &quot;start&quot;: &quot;gulp -ws&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时在cmd中输入npm start命令相当于执行gulpfile.js文件自定义的watch和server命令。</p><p>如果package.json文件没有设置start，则将直接启动node server.js</p><h2 id="npm-stop-停止模块">npm stop 停止模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm stop [-- &lt;args&gt;]</span><br></pre></td></tr></table></figure><h2 id="npm-restart-重新启动模块">npm restart 重新启动模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm restart [-- &lt;args&gt;]</span><br></pre></td></tr></table></figure><h2 id="npm-test-测试模块">npm test 测试模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm test [-- &lt;args&gt;]</span><br><span class="line">npm tst [-- &lt;args&gt;]</span><br></pre></td></tr></table></figure><p>该命令写在package.json文件scripts的test字段中，可以自定义该命令来执行一些操作，如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">            </span><br><span class="line">    &quot;test&quot;: &quot;gulp release&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>此时在cmd中输入npm test命令相当于执行gulpfile.js文件自定义的release命令。</p><h2 id="npm-version-查看模块版本">npm version 查看模块版本</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm version [&lt;newversion&gt; | major | minor | patch | premajor | preminor | prepatch | prerelease | from-git]</span><br><span class="line"></span><br><span class="line">'npm [-v | --version]' to print npm version</span><br><span class="line">'npm view &lt;pkg&gt; version' to view a package's published version</span><br><span class="line">'npm ls' to inspect current package/dependency versions</span><br></pre></td></tr></table></figure><p>查看模块的版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm version</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/aff9e29e85ed7f307971b7bc8d187c48.png" alt="img"></p><h2 id="npm-view-查看模块的注册信息">npm view 查看模块的注册信息</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm view [&lt;@scope&gt;/]&lt;name&gt;[@&lt;version&gt;] [&lt;field&gt;[.&lt;subfield&gt;]...]</span><br><span class="line"></span><br><span class="line">aliases: info, show, v</span><br></pre></td></tr></table></figure><p>查看模块的依赖关系</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view gulp dependencies</span><br></pre></td></tr></table></figure><p>查看模块的源文件地址</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view gulp repository.url</span><br></pre></td></tr></table></figure><p>查看模块的贡献者，包含邮箱地址</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm view npm contributors</span><br></pre></td></tr></table></figure><h2 id="npm-adduser-用户登录">npm adduser 用户登录</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm adduser [--registry=url] [--scope=@orgname] [--always-auth]</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/7fc926e8d1996cd2f9bfbc498c3a20f7.png" alt="img"></p><p>发布模板到npm社区前需要先登录，然后再进入发布的操作</p><h2 id="npm-publish-发布模块">npm publish 发布模块</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm publish [&lt;tarball&gt;|&lt;folder&gt;] [--tag &lt;tag&gt;] [--access &lt;public|restricted&gt;]</span><br><span class="line"></span><br><span class="line">Publishes '.' if no argument supplied</span><br><span class="line">Sets tag 'latest' if no --tag specified</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/28063e5e23a4431ea1dbfd1ad6ae9aea.png" alt="img"></p><h2 id="npm-access-在发布的包上设置访问级别">npm access 在发布的包上设置访问级别</h2><p>基础语法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm access public [&lt;package&gt;]</span><br><span class="line">npm access restricted [&lt;package&gt;]</span><br><span class="line"></span><br><span class="line">npm access grant &lt;read-only|read-write&gt; &lt;scope:team&gt; [&lt;package&gt;]</span><br><span class="line">npm access revoke &lt;scope:team&gt; [&lt;package&gt;]</span><br><span class="line"></span><br><span class="line">npm access ls-packages [&lt;user&gt;|&lt;scope&gt;|&lt;scope:team&gt;]</span><br><span class="line">npm access ls-collaborators [&lt;package&gt; [&lt;user&gt;]]</span><br><span class="line">npm access edit [&lt;package&gt;]</span><br></pre></td></tr></table></figure><h2 id="npm-package-json的语法">npm package.json的语法</h2><p>英文原版：<a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="noopener">https://docs.npmjs.com/files/package.json</a></p><p>这块内容好多，国内有好心人整理：《<a href="https://github.com/ericdum/mujiang.info/issues/6/" target="_blank" rel="noopener">npm的package.json中文文档</a>》，从这份文档拷贝出一些比较常见的，如下：</p><p><strong>默认值</strong></p><p>npm会根据包内容设置一些默认值。</p><ul><li><code>&quot;scripts&quot;: {&quot;start&quot;: &quot;node server.js&quot;}</code></li></ul><p>如果包的根目录有<code>server.js</code>文件，npm会默认将<code>start</code>命令设置为<code>node server.js</code>。</p><ul><li><code>&quot;scripts&quot;:{&quot;preinstall&quot;: &quot;node-waf clean || true; node-waf configure build&quot;}</code></li></ul><p>如果包的根目录有<code>wscript</code>文件，npm会默认将<code>preinstall</code>命令用node-waf进行编译。</p><ul><li><code>&quot;scripts&quot;:{&quot;preinstall&quot;: &quot;node-gyp rebuild&quot;}</code></li></ul><p>如果包的根目录有<code>binding.gyp</code>文件，npm会默认将<code>preinstall</code>命令用node-gyp进行编译。</p><ul><li><code>&quot;contributors&quot;: [...]</code></li></ul><p>如果包的根目录有<code>AUTHORS</code>文件，npm会默认逐行按<code>Name &lt;email&gt; (url)</code>格式处理，邮箱和url是可选的。#号和空格开头的行会被忽略。</p><p><strong>name</strong></p><p>在package.json中最重要的就是name和version字段。他们都是必须的，如果没有就无法install。name和version一起组成的标识在假设中是唯一的。改变包应该同时改变version。</p><p>name是这个东西的名字。注意：</p><ul><li>不要把node或者js放在名字中。因为你写了package.json它就被假定成为了js，不过你可以用&quot;engine&quot;字段指定一个引擎（见后文）。</li><li>这个名字会作为在URL的一部分、命令行的参数或者文件夹的名字。任何non-url-safe的字符都是不能用的。</li><li>这个名字可能会作为参数被传入require()，所以它应该比较短，但也要意义清晰。</li><li>在你爱上你的名字之前，你可能要去npm registry查看一下这个名字是否已经被使用了。<a href="http://registry.npmjs.org/" target="_blank" rel="noopener">http://registry.npmjs.org/</a></li></ul><p><strong>version</strong></p><p>version必须能被<a href="https://github.com/isaacs/node-semver" target="_blank" rel="noopener">node-semver</a>解析，它被包在npm的依赖中。（要自己用可以执行<code>npm install semver</code>）</p><p>可用的“数字”或者“范围”见<a href="https://npmjs.org/doc/misc/semver.html" target="_blank" rel="noopener">semver(7)</a>.</p><p><strong>description</strong></p><p>放简介，字符串，方便在<code>npm search</code>中搜索</p><p><strong>keywords</strong></p><p>关键字，数组、字符串，方便在<code>npm search</code>中搜索</p><p><strong>bugs</strong></p><p>你项目的提交问题的url和（或）邮件地址</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">            </span><br><span class="line"> <span class="attr">"url"</span> : <span class="string">"http://github.com/owner/project/issues"</span>, </span><br><span class="line"><span class="attr">"email"</span> : <span class="string">"project@hostname.com"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>license</strong></p><p>你应该要指定一个许可证，让人知道使用的权利和限制的。</p><p>最简单的方法是，假如你用一个像BSD或者MIT这样通用的许可证，就只需要指定一个许可证的名字，像这样：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">             <span class="attr">"license"</span> : <span class="string">"BSD"</span> &#125;</span><br></pre></td></tr></table></figure><p>如果你又更复杂的许可条件，或者想要提供给更多地细节，可以这样:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"licenses" : [</span><br><span class="line">  &#123;</span><br><span class="line">             <span class="attr">"type"</span> : <span class="string">"MyLicense"</span></span><br><span class="line">  , <span class="attr">"url"</span> : <span class="string">"http://github.com/owner/project/path/to/license"</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>repository</strong></p><p>指定你的代码存放的地方。这个对希望贡献的人有帮助。如果git仓库在github上，那么<code>npm docs</code>命令能找到你。</p><p>这样做：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">"repository" :</span><br><span class="line">  &#123;</span><br><span class="line">             <span class="attr">"type"</span> : <span class="string">"git"</span></span><br><span class="line">  , <span class="attr">"url"</span> : <span class="string">"http://github.com/isaacs/npm.git"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">"repository" :</span><br><span class="line">  &#123;</span><br><span class="line">             <span class="attr">"type"</span> : <span class="string">"svn"</span></span><br><span class="line">  , <span class="attr">"url"</span> : <span class="string">"http://v8.googlecode.com/svn/trunk/"</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>URL应该是公开的（即便是只读的）能直接被未经过修改的版本控制程序处理的url。不应该是一个html的项目页面。因为它是给计算机看的。</p><p><strong>scripts</strong></p><p>“scripts”是一个由脚本命令组成的hash对象，他们在包不同的生命周期中被执行。key是生命周期事件，value是要运行的命令。</p><p>参考上面的<a href="https://www.cnblogs.com/PeunZhang/p/5553574.html#npm-start" target="_blank" rel="noopener">npm start</a>、<a href="https://www.cnblogs.com/PeunZhang/p/5553574.html#npm-test" target="_blank" rel="noopener">npm test</a>命令</p><p>更多详细请看 <a href="https://npmjs.org/doc/misc/npm-scripts.html" target="_blank" rel="noopener">npm-scripts(7)</a></p><p><strong>config</strong></p><p>“config” hash可以用来配置用于包脚本中的跨版本参数。在实例中，如果一个包有下面的配置：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">            </span><br><span class="line"> <span class="attr">"name"</span> : <span class="string">"foo"</span>,</span><br><span class="line"> <span class="attr">"config"</span> : &#123;</span><br><span class="line">             <span class="attr">"port"</span> : <span class="string">"8080"</span> &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后有一个“start”命令引用了<code>npm_package_config_port</code>环境变量，用户可以通过<code>npm config set foo:port 8001</code>来重写他。</p><p>参见 <a href="https://npmjs.org/doc/misc/npm-config.html" target="_blank" rel="noopener">npm-config(7)</a> 和 <a href="https://npmjs.org/doc/misc/npm-scripts.html" target="_blank" rel="noopener">npm-scripts(7)</a>。</p><p><strong>dependencies</strong></p><p>依赖是给一组包名指定版本范围的一个hash。这个版本范围是一个由一个或多个空格分隔的字符串。依赖还可以用tarball或者git URL。</p><p>请不要将测试或过渡性的依赖放在<code>dependencies</code>hash中。见下文的<code>devDependencies</code></p><p><strong>详见<a href="https://npmjs.org/doc/misc/semver.html" target="_blank" rel="noopener">semver(7)</a>.</strong></p><ul><li><code>version</code> 必须完全和<code>version</code>一致</li><li><code>&gt;version</code> 必须比<code>version</code>大</li><li><code>&gt;=version</code> 同上</li><li><code>&lt;version</code> 同上</li><li><code>&lt;=version</code> 同上</li><li><code>~version</code> 大约一样，见<a href="https://npmjs.org/doc/misc/semver.html" target="_blank" rel="noopener">semver(7)</a></li><li><code>1.2.x</code> 1.2.0, 1.2.1, 等，但不包括1.3.0</li><li><code>http://...</code> 见下文’依赖URL’</li><li><code>*</code> 所有</li><li><code>&quot;&quot;</code> 空，同<code>*</code></li><li><code>version1 - version2</code> 同 <code>&gt;=version1 &lt;=version2</code>.</li><li><code>range1 || range2</code> 二选一。</li><li><code>git...</code> 见下文’依赖Git URL’</li><li><code>user/repo</code> 见下文’GitHub URLs’</li></ul><p>比如下面都是合法的：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">             </span><br><span class="line"> <span class="attr">"dependencies"</span> :</span><br><span class="line">  &#123;</span><br><span class="line">             <span class="attr">"foo"</span> : <span class="string">"1.0.0 - 2.9999.9999"</span></span><br><span class="line">  , <span class="attr">"bar"</span> : <span class="string">"&gt;=1.0.2 &lt;2.1.2"</span></span><br><span class="line">  , <span class="attr">"baz"</span> : <span class="string">"&gt;1.0.2 &lt;=2.3.4"</span></span><br><span class="line">  , <span class="attr">"boo"</span> : <span class="string">"2.0.1"</span></span><br><span class="line">  , <span class="attr">"qux"</span> : <span class="string">"&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2 &lt;3.0.0"</span></span><br><span class="line">  , <span class="attr">"asd"</span> : <span class="string">"http://asdf.com/asdf.tar.gz"</span></span><br><span class="line">  , <span class="attr">"til"</span> : <span class="string">"~1.2"</span></span><br><span class="line">  , <span class="attr">"elf"</span> : <span class="string">"~1.2.3"</span></span><br><span class="line">  , <span class="attr">"two"</span> : <span class="string">"2.x"</span></span><br><span class="line">  , <span class="attr">"thr"</span> : <span class="string">"3.3.x"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>devDependencies</strong></p><p>如果有人要使用你的模块，那么他们可能不需要你开发使用的外部测试或者文档框架。</p><p>在这种情况下，最好将这些附属的项目列在<code>devDependencies</code>中。</p><p>这些东西会在执行<code>npm link</code>或者<code>npm install</code>的时候初始化，并可以像其他npm配置参数一样管理。详见<a href="https://npmjs.org/doc/misc/npm-config.html" target="_blank" rel="noopener">npm-config(7)</a>。</p><p>对于非特定平台的构建步骤，比如需要编译CoffeeScript，可以用<code>prepublish</code>脚本去实现，并把它依赖的包放在devDependency中。（译者注：prepublish定义了在执行<code>npm publish</code>的时候先行执行的脚本）</p><p>比如：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">             <span class="attr">"name"</span>: <span class="string">"ethopia-waza"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"a delightfully fruity coffee varietal"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.2.3"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">            </span><br><span class="line">    <span class="attr">"coffee-script"</span>: <span class="string">"~1.6.3"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">            </span><br><span class="line">    <span class="attr">"prepublish"</span>: <span class="string">"coffee -o lib/ -c src/waza.coffee"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"lib/waza.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>prepublish</code>脚本会在publishing前运行，这样用户就不用自己去require来编译就能使用。并且在开发模式中（比如本地运行<code>npm install</code>）会运行这个脚本以便更好地测试。</p><hr><p>参考资料：</p><p><a href="https://docs.npmjs.com/#cli" target="_blank" rel="noopener">https://docs.npmjs.com/#cli</a></p><p><a href="https://github.com/ericdum/mujiang.info/issues/6/" target="_blank" rel="noopener">https://github.com/ericdum/mujiang.info/issues/6/</a></p><p><a href="https://segmentfault.com/a/1190000004221514" target="_blank" rel="noopener">https://segmentfault.com/a/1190000004221514</a></p><hr><blockquote><p>转载<br>作者：白树<br>出处：<a href="http://peunzhang.cnblogs.com/" target="_blank" rel="noopener">http://peunzhang.cnblogs.com/</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021年【CSDN毎周小结】</title>
      <link href="/article/d8d10d6.html"/>
      <url>/article/d8d10d6.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>叮！你的【CSDN一周小结】新鲜出炉~<br>一周结束了，CSDN为你整理了好了本周小结，点击查看本周的【用户数据详情】，快去秀出你的战绩！</p></blockquote><p>CSDN用户每周一会收到一个上周数据汇总的消息推送：</p><p><img src="https://img-blog.csdnimg.cn/20210718143025546.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><p>点击【用户数据详情】：</p><p><img src="https://img-blog.csdnimg.cn/20210718154810743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>我们可以发现网址：<a href="https://mp.csdn.net/poster/20210712" target="_blank" rel="noopener">https://mp.csdn.net/poster/20210712</a> ，内容是：07.05-07.11一周小结。<br>按照这个规律，我们得到2021年的历史每周小结（注：<strong>登录用户，点击是访问自己的数据</strong>）。</p><h2 id="2021年01月份毎周小结">2021年01月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210111" target="_blank" rel="noopener">01.04-01.10一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210118" target="_blank" rel="noopener">01.11-01.17一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210125" target="_blank" rel="noopener">01.18-01.24一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210201" target="_blank" rel="noopener">01.25-01.31一周小结</a></p><h2 id="2021年02月份毎周小结">2021年02月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210208" target="_blank" rel="noopener">02.01-02.07一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210215" target="_blank" rel="noopener">02.08-02.14一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210222" target="_blank" rel="noopener">02.15-02.21一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210301" target="_blank" rel="noopener">02.22-02.28一周小结</a></p><h2 id="2021年03月份毎周小结">2021年03月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210308" target="_blank" rel="noopener">03.01-03.07一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210315" target="_blank" rel="noopener">03.08-03.14一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210322" target="_blank" rel="noopener">03.15-03.21一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210329" target="_blank" rel="noopener">03.22-03.28一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210405" target="_blank" rel="noopener">03.29-04.04一周小结</a></p><h2 id="2021年04月份毎周小结">2021年04月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210412" target="_blank" rel="noopener">04.05-04.11一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210419" target="_blank" rel="noopener">04.12-04.18一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210426" target="_blank" rel="noopener">04.19-04.25一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210503" target="_blank" rel="noopener">04.26-05.02一周小结</a></p><h2 id="2021年05月份毎周小结">2021年05月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210510" target="_blank" rel="noopener">05.03-05.09一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210517" target="_blank" rel="noopener">05.10-05.16一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210524" target="_blank" rel="noopener">05.17-05.23一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210531" target="_blank" rel="noopener">05.24-05.30一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210607" target="_blank" rel="noopener">05.31-06.06一周小结</a></p><h2 id="2021年06月份毎周小结">2021年06月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210614" target="_blank" rel="noopener">06.07-06.13一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210621" target="_blank" rel="noopener">06.14-06.20一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210628" target="_blank" rel="noopener">06.21-06.27一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210705" target="_blank" rel="noopener">06.28-07.04一周小结</a></p><h2 id="2021年07月份毎周小结">2021年07月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210712" target="_blank" rel="noopener">07.05-07.11一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210719" target="_blank" rel="noopener">07.12-07.18一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210726" target="_blank" rel="noopener">07.19-07.25一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210802" target="_blank" rel="noopener">07.26-08.01一周小结</a></p><h2 id="2021年08月份毎周小结">2021年08月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210809" target="_blank" rel="noopener">08.02-08.08一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210816" target="_blank" rel="noopener">08.09-08.15一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210823" target="_blank" rel="noopener">08.16-08.22一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210830" target="_blank" rel="noopener">08.23-08.29一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210906" target="_blank" rel="noopener">08.30-09.05一周小结</a></p><h2 id="2021年09月份毎周小结">2021年09月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20210913" target="_blank" rel="noopener">09.06-09.12一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210920" target="_blank" rel="noopener">09.13-09.19一周小结</a></p><p><a href="https://mp.csdn.net/poster/20210927" target="_blank" rel="noopener">09.20-09.26一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211004" target="_blank" rel="noopener">09.27-10.03一周小结</a></p><h2 id="2021年10月份毎周小结">2021年10月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20211011" target="_blank" rel="noopener">10.04-10.10一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211018" target="_blank" rel="noopener">10.11-10.17一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211025" target="_blank" rel="noopener">10.18-10.24一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211101" target="_blank" rel="noopener">10.25-10.31一周小结</a></p><h2 id="2021年11月份毎周小结">2021年11月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20211108" target="_blank" rel="noopener">11.01-11.07一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211115" target="_blank" rel="noopener">11.08-11.14一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211122" target="_blank" rel="noopener">11.15-11.21一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211129" target="_blank" rel="noopener">11.22-11.28一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211206" target="_blank" rel="noopener">11.29-12.05一周小结</a></p><h2 id="2021年12月份毎周小结">2021年12月份毎周小结</h2><p><a href="https://mp.csdn.net/poster/20211213" target="_blank" rel="noopener">12.06-12.12一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211220" target="_blank" rel="noopener">12.13-12.19一周小结</a></p><p><a href="https://mp.csdn.net/poster/20211227" target="_blank" rel="noopener">12.20-12.26一周小结</a></p><p><a href="https://mp.csdn.net/poster/20220103" target="_blank" rel="noopener">12.27-01.02一周小结</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10出现‘telnet‘ 不是内部或外部命令，也不是可运行的程序或批处理文件</title>
      <link href="/article/a9a2fa9.html"/>
      <url>/article/a9a2fa9.html</url>
      
        <content type="html"><![CDATA[<h2 id="windows10出现-telnet-不是内部或外部命令-也不是可运行的程序或批处理文件">Windows10出现’telnet’ 不是内部或外部命令，也不是可运行的程序或批处理文件</h2><p><strong>博客说明</strong></p><blockquote><p>文章所涉及的资料来自互联网整理和个人总结，意在于个人学习和经验汇总，如有什么地方侵权，请联系本人删除，谢谢！</p></blockquote><h4 id="问题截图">问题截图</h4><p><img src="https://img-blog.csdnimg.cn/20200319111051671.png" alt="在这里插入图片描述"></p><h4 id="问题原因">问题原因</h4><p>出现这个问题是因为我们的系统默认把telnet的功能关闭了，需要我们手动去打开</p><a id="more"></a><h4 id="解决办法">解决办法</h4><p>首先我们进入控制面板</p><p>如果不知道怎么找，在下面的搜索控制面板就行了</p><p><img src="https://img-blog.csdnimg.cn/2020031911131265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1MTYzMTIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>进去之后我们打开程序管理</p><p><img src="https://img-blog.csdnimg.cn/20200319111410964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1MTYzMTIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>找到启动或关闭Window功能，然后找到我们的telnet，将它勾选上就好啦</p><h4 id="测试">测试</h4><p>再次执行telnet命令就好啦</p><p><img src="https://img-blog.csdnimg.cn/20200319111653156.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1MTYzMTIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>感谢</strong></p><blockquote><p>万能的网络</p><p>以及勤劳的自己</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何看懂Tomcat里的catalina.out</title>
      <link href="/article/e5d2ae9a.html"/>
      <url>/article/e5d2ae9a.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-什么是catalina-out">1.什么是catalina.out</h2><p>catalina.out即标准输出和标准输出，</p><p>所有输出都会进入catalina.out</p><p>这里包含tomcat运行自己输出的日志</p><p>以及应用里向console输出的日志。</p><a id="more"></a><h2 id="2-tail-f-catalina-out-的作用是什么？">2.tail -f catalina.out 的作用是什么？</h2><p>查看实时日志，动态输出</p><h2 id="3-catalina-out里都是有什么？">3.Catalina.out里都是有什么？</h2><p>Catalina.out里都是有tomcat自己的日志以及控制台输出的内容根据项目不同自己定义进行</p><hr><p>转自：<a href="https://blog.csdn.net/weixin_42369687/article/details/88785012" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42369687/article/details/88785012</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx常用命令</title>
      <link href="/article/96d8af1a.html"/>
      <url>/article/96d8af1a.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">验证配置是否正确: nginx  -t</span><br><span class="line">查看Nginx的详细的版本号：nginx  -V</span><br><span class="line">查看Nginx的简洁版本号：nginx  -v</span><br><span class="line">启动Nginx：start  nginx</span><br><span class="line">快速停止或关闭Nginx：nginx   -s   stop</span><br><span class="line">正常停止或关闭Nginx：nginx   -s   quit</span><br><span class="line">配置文件修改重装载命令：nginx   -s  reload</span><br></pre></td></tr></table></figure><p>参考：<a href="https://blog.csdn.net/wjg8209/article/details/94899191" target="_blank" rel="noopener">https://blog.csdn.net/wjg8209/article/details/94899191</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git如何取消merge</title>
      <link href="/article/561f334b.html"/>
      <url>/article/561f334b.html</url>
      
        <content type="html"><![CDATA[<p>当我们使用git merge操作合并代码但还没add时，若想取消这次合并，使用“git merge --abort”命令即可<br><img src="https://img-blog.csdnimg.cn/20210713093142533.png" alt="在这里插入图片描述"></p><p>假如不幸已经 git add 了怎么办呢？ 其实也很简单，先用 git reflog 指令显示历史的操作<br><img src="https://img-blog.csdnimg.cn/20210713093150800.png" alt="在这里插入图片描述"></p><p>再用 'git reset --hard commit id’就可以回退到操作之前的状态了</p><hr><p>转自：<a href="https://blog.csdn.net/weixin_40984292/article/details/100024411" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40984292/article/details/100024411</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notepad++相关设置</title>
      <link href="/article/6fea1000.html"/>
      <url>/article/6fea1000.html</url>
      
        <content type="html"><![CDATA[<h2 id="如何将notepad-添加到右键">如何将Notepad++添加到右键</h2><p>参考：<a href="https://blog.csdn.net/qq_40709468/article/details/89087938" target="_blank" rel="noopener">https://blog.csdn.net/qq_40709468/article/details/89087938</a></p><p>我安装这个进行配置后，不知道为什么，右键使用这个配置打开文件时，会不能打开有空格的文件，提示如下。</p><p>然后找了很久没有研究清楚，就直接重装了一下Notepad（因为之前重装了Windows系统可能导致一些软件的配置文件丢失了），就解决了该问题。</p><p><img src="https://img-blog.csdnimg.cn/2021070916520085.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><h2 id="设置中文界面">设置中文界面</h2><ol><li>安装时会提示使用哪种语言的，选中文就好了。</li><li>如果安装时，没有进行设置，我们可以在 设置–&gt;首选项–&gt; 常用–&gt;界面语言，这里设置为中文。<br><img src="https://img-blog.csdnimg.cn/20210711230643588.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Notepad++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fastJson格式化输出字符串</title>
      <link href="/article/b0aba2da.html"/>
      <url>/article/b0aba2da.html</url>
      
        <content type="html"><![CDATA[<p>主要是使用序列化的这个特性：<code>SerializerFeature.PrettyFormat</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 输出格式化后的字符串</span></span><br><span class="line">String pretty = JSON.toJSONString(obj, SerializerFeature.PrettyFormat, </span><br><span class="line">SerializerFeature.WriteDateUseDateFormat,SerializerFeature.WriteMapNullValue, </span><br><span class="line">SerializerFeature.WriteNullListAsEmpty);</span><br><span class="line">System.out.println(pretty );</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Java工具 </tag>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PostgreSQL查询出换行符和回车符</title>
      <link href="/article/32f425fc.html"/>
      <url>/article/32f425fc.html</url>
      
        <content type="html"><![CDATA[<p>1、有时候，业务因为回车和换行出现的错误，第一步，首先要查询出回车符和换行符那一条数据：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用chr(13)和chr(10)进行查询</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> 数据表名称 <span class="keyword">WHERE</span> <span class="string">"字段"</span> <span class="keyword">like</span> <span class="string">'%'</span>||<span class="keyword">chr</span>(<span class="number">13</span>)||<span class="string">'%'</span> <span class="keyword">or</span> <span class="string">"字段"</span> <span class="keyword">like</span> <span class="string">'%'</span>||<span class="keyword">chr</span>(<span class="number">10</span>)||<span class="string">'%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 其实查询chr(13)和chr(10)都可以将数据查询出来的</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> 数据表名称 <span class="keyword">WHERE</span> <span class="string">"字段"</span> <span class="keyword">like</span> <span class="string">'%'</span>||<span class="keyword">chr</span>(<span class="number">13</span>)||<span class="string">'%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> 数据表名称 <span class="keyword">WHERE</span> <span class="string">"字段"</span> <span class="keyword">like</span> <span class="string">'%'</span>||<span class="keyword">chr</span>(<span class="number">10</span>)||<span class="string">'%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- chr(int) 将数字转换成字符;例如，select chr(65); A</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>2、对于回车和换行迷糊的，可以简单了解一下：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">回车 \r 本义是光标重新回到本行开头，r的英文return，控制字符可以写成CR，即Carriage Return</span><br><span class="line">换行 \n 本义是光标往下一行（不一定到下一行行首），n的英文newline，控制字符可以写成LF，即Line Feed</span><br><span class="line">符号    ASCII码      意义</span><br><span class="line"></span><br><span class="line">\n        10        换行NL</span><br><span class="line"></span><br><span class="line">\r        13        回车CR</span><br></pre></td></tr></table></figure><hr><p>转自：<a href="https://www.cnblogs.com/biehongli/p/10046032.html" target="_blank" rel="noopener">https://www.cnblogs.com/biehongli/p/10046032.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PostgreSQL函数 for循环使用</title>
      <link href="/article/984ce274.html"/>
      <url>/article/984ce274.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">function</span> insert_user_roles()</span><br><span class="line"><span class="keyword">returns</span> <span class="built_in">void</span> <span class="keyword">as</span> $$</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="keyword">user</span> <span class="built_in">RECORD</span>;</span><br><span class="line">  role RECORD;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">user</span> <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> is_delete = <span class="literal">false</span>) <span class="keyword">loop</span></span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">role</span> <span class="keyword">in</span> (<span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">role</span> <span class="keyword">where</span> is_delete = <span class="literal">false</span>) <span class="keyword">loop</span></span><br><span class="line">      <span class="keyword">insert</span> <span class="keyword">into</span> <span class="string">'实际要插入数据的表'</span> (<span class="string">'字段'</span>)</span><br><span class="line">      <span class="keyword">values</span></span><br><span class="line">      (user.id, role.id);</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line">$$ language plpgsql;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">select</span> insert_user_roles();;</span><br></pre></td></tr></table></figure><p>注意事项：</p><blockquote><p>loop关键字不能忽略,且要跟for循环对应上 声明的变量需要使用declare begin end要对应上<br>因为我这个业务场景是不需要返回值的,如果需要有返回值的可以去参考pgsql文档也不是很难<br>查询*完全就是为了方便，实际业务操作建议不要这么操作</p></blockquote><hr><p>参考：<a href="https://blog.csdn.net/londa/article/details/109399884" target="_blank" rel="noopener">https://blog.csdn.net/londa/article/details/109399884</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>COALESCE types text and integer cannot be matched</title>
      <link href="/article/72152d4e.html"/>
      <url>/article/72152d4e.html</url>
      
        <content type="html"><![CDATA[<p>pgsql 使用 <code>COALESCE()</code> 函数时（使用Navicat查询工具），出现这个问题，中文意思应该是：“COALESCE类型不能匹配文本和整数”。</p><p>问题语句差不多是这样的 <code>…… COALESCE('1',0)::int ……</code> ，然而当我直接使用这个语句进行测试，是没有问题的（如下）；但是如果内嵌到长的SQL语句里面就会报这个错误，很奇怪，不知道是查询工具的问题，还是函数自身问题（后续我又用pgadmin进行了测试，发现）。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="literal">null</span>::<span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="string">'1'</span>::<span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">COALESCE</span>(<span class="number">1</span>, <span class="number">0</span>)::<span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">COALESCE</span>(<span class="string">'1'</span>, <span class="number">0</span>)::<span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">COALESCE</span>(<span class="number">1</span>, <span class="string">'0'</span>)::<span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">COALESCE</span>(<span class="string">'1'</span>, <span class="string">'0'</span>)::<span class="built_in">int</span>;</span><br></pre></td></tr></table></figure><a id="more"></a><p>不管咋样问题还是的解决，需要保持前后数据格式一直，我是都改成字符串了：</p><p><code>…… COALESCE('1','0')::int ……</code></p><h3 id="navicat查询">Navicat查询</h3><p>报错信息（比较详细）</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ERROR:  COALESCE types text and integer cannot be matched</span><br><span class="line">LINE 14:         , COALESCE(dsrTemp.dsrcount, 0) as ppaccount</span><br><span class="line">                                              ^</span><br><span class="line"></span><br><span class="line">时间: 0.075s</span><br></pre></td></tr></table></figure><h3 id="pgadmin">pgadmin</h3><p>报错信息</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ERROR:  COALESCE types text and integer cannot be matched</span><br><span class="line">LINE 14:         , COALESCE(dsrTemp.dsrcount, 0) as ppaccount</span><br><span class="line">                                              ^</span><br><span class="line">SQL 状态: 42804</span><br><span class="line">字符: 614</span><br></pre></td></tr></table></figure><p>查看对应文档可以找到该状态码：</p><ul><li><a href="https://www.postgresql.org/search/?u=%2Fdocs%2F10%2F&amp;q=42804" target="_blank" rel="noopener">https://www.postgresql.org/search/?u=%2Fdocs%2F10%2F&amp;q=42804</a></li><li><a href="http://shouce.jb51.net/postgresql/errcodes-appendix.htm" target="_blank" rel="noopener">http://shouce.jb51.net/postgresql/errcodes-appendix.htm</a></li></ul><p><img src="https://img-blog.csdnimg.cn/20210622113735319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git添加空文件夹</title>
      <link href="/article/33c317e5.html"/>
      <url>/article/33c317e5.html</url>
      
        <content type="html"><![CDATA[<p>git默认会忽略空文件夹，应该因为它认为这种文件没有什么太大的意义。</p><p>但是有些什么场景下，我们可能需要提交一些空的文件夹，以达到某种特定的目的。</p><a id="more"></a><p>我们可以用两种方法来实现这个效果：</p><h2 id="1-为空文件夹添加-gitkeep-文件-推荐">1.为空文件夹添加 .gitkeep 文件(推荐)</h2><p>这个文件它本身是没有意义的，git好像也没有赋予它特殊使命，更像是团队使用者之间的一种约定，仅仅是为了标记这个空的文件夹是需要添加到仓库的。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find ./ -type d -empty -exec touch &#123;</span><br><span class="line">            &#125;/.gitkeep \;</span><br></pre></td></tr></table></figure><h2 id="2-为空文件夹添加-gitignore-文件">2.为空文件夹添加 .gitignore 文件</h2><p>用过git的老用户都知道 .gitignore 是为了忽略一些对项目无用的文件而设置的，我们添加这个文件也可以实现这个效果，但是不是最佳的，因此推荐用第一种（因为它本身是有意义的）。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find ./ -type d -empty -exec touch &#123;</span><br><span class="line">            &#125;/.gitignore \;</span><br></pre></td></tr></table></figure><hr><p>参考：</p><ul><li><a href="https://segmentfault.com/a/1190000018191030?utm_source=tag-newest" target="_blank" rel="noopener">.gitkeep是什么? .gitignore和.gitkeep之间的区别</a></li><li><a href="git%E6%8F%90%E4%BA%A4%E7%A9%BA%E7%9B%AE%E5%BD%95%E7%9A%84%E6%96%B9%E6%B3%95">git提交空目录的方法</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git显示当前仓库占用大小的命令</title>
      <link href="/article/4bd581a4.html"/>
      <url>/article/4bd581a4.html</url>
      
        <content type="html"><![CDATA[<p>git提供了相关的命令：<code>git count-objects -vH</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git count-objects -vH</span></span><br><span class="line">count: 82</span><br><span class="line">size: 72.78 MiB</span><br><span class="line">in-pack: 0</span><br><span class="line">packs: 0</span><br><span class="line">size-pack: 0 bytes</span><br><span class="line">prune-packable: 0</span><br><span class="line">garbage: 0</span><br><span class="line">size-garbage: 0 bytes</span><br></pre></td></tr></table></figure><a id="more"></a><p>gc 回收一下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git gc</span></span><br><span class="line">Enumerating objects: 75, done.</span><br><span class="line">Counting objects: 100% (75/75), done.</span><br><span class="line">Delta compression using up to 8 threads</span><br><span class="line">Compressing objects: 100% (70/70), done.</span><br><span class="line">Writing objects: 100% (75/75), done.</span><br><span class="line">Total 75 (delta 16), reused 0 (delta 0)</span><br></pre></td></tr></table></figure><p>再查看下结果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git count-objects -vH</span></span><br><span class="line">count: 7</span><br><span class="line">size: 71.15 MiB</span><br><span class="line">in-pack: 75</span><br><span class="line">packs: 1</span><br><span class="line">size-pack: 1.60 MiB</span><br><span class="line">prune-packable: 0</span><br><span class="line">garbage: 0</span><br><span class="line">size-garbage: 0 bytes</span><br></pre></td></tr></table></figure><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/default7/article/details/103694727" target="_blank" rel="noopener">git显示当前仓库占用大小的命令</a></li><li><a href="http://cn.voidcc.com/question/p-glgnzriy-uy.html" target="_blank" rel="noopener">查找git仓库的大小</a></li><li><a href="https://www.cnblogs.com/qiyuexin/p/12792381.html" target="_blank" rel="noopener">Git的gc功能</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim/vi编辑工具实现多行注释和取消注释</title>
      <link href="/article/d35b9a6a.html"/>
      <url>/article/d35b9a6a.html</url>
      
        <content type="html"><![CDATA[<p>系统：Linux</p><h2 id="多行注释：">多行注释：</h2><ol><li>进入命令行模式–&gt;</li><li>将光标移动到要注释的第一行位置–&gt;</li><li>按 <code>ctrl + v</code> 进入 visual block 模式–&gt;</li><li>按字母j，或k（或者上下移动键）纵向选中需要注释的行–&gt;</li><li>按大写字母I，进入插入模式–&gt;</li><li>输入注释符号，例如#–&gt;</li><li>按esc键就注释多行了。</li></ol><a id="more"></a><h2 id="取消多行注释-删除注释-：">取消多行注释（删除注释）：</h2><ol><li>进入命令行模式–&gt;</li><li>将光标移动到要取消注释的第一行第一列位置–&gt;</li><li>按 <code>ctrl + v</code> 进入 visual block模式–&gt;</li><li>按小写字母h或l横向选中列的个数，按小写字母j或k纵向选中行的个数（同样可以使用上下左右移动键）–&gt;</li><li>按d键或者delete键就可多行取消注释。</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>window系统 telnet报错：‘telnet‘ 不是内部或外部命令，也不是可运行的程序 或批处理文件。</title>
      <link href="/article/a7f3d940.html"/>
      <url>/article/a7f3d940.html</url>
      
        <content type="html"><![CDATA[<p>如果在window系统的cmd命令行中执行 telnet 命令，遇到上图的报错时，可能您没有开启 telnet 功能，下面教大家开启此功能：</p><p>1、打开控制面板，然后进入到 “程序” 里面：</p><p>2、点击 “启用或关闭Windows功能”：</p><p>3、选中 “Telnet客户端” 后，点击确定按钮即可：</p><p>4、最后再一次测试 telnet 功能：</p><p>成功启用了 telnet 功能，退出只需要 ctrl + c</p><hr><p>版权声明：本文为CSDN博主「David_jiahuan」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/David_jiahuan/article/details/102702903" target="_blank" rel="noopener">https://blog.csdn.net/David_jiahuan/article/details/102702903</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Navicat连接pgsql遇到的问题</title>
      <link href="/article/474e4c2f.html"/>
      <url>/article/474e4c2f.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-连接时-报错：authentication-method-10-not-supported">1.连接时，报错：authentication method 10 not supported</h2><blockquote><p>翻译为： 不支持认证方式10</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2021060710572348.png#pic_left" alt="在这里插入图片描述"><br>看着很像配置有问题的情况。</p><a id="more"></a><p>修改安装路径内配置文件： <code>pg_hba.conf</code></p><p><img src="https://img-blog.csdnimg.cn/20210607110001225.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># &quot;local&quot; is for Unix domain socket connections only</span><br><span class="line">local   all             all                           trust</span><br><span class="line"># IPv4 local connections:</span><br><span class="line">host    all             all             127.0.0.1/32            trust</span><br><span class="line"># IPv6 local connections:</span><br><span class="line">host    all             all             ::1/128                 trust</span><br></pre></td></tr></table></figure><p>修改后重启下服务：<code>services postgresql restart</code></p><p>参考：<a href="https://blog.csdn.net/qq_35377323/article/details/112979532" target="_blank" rel="noopener">pgsql在连接的时候报：不支援 10 验证类型。请核对您已经组态</a></p><h2 id="2-连接后-看不到postgresql下已创建的表">2.连接后，看不到PostgreSQL下已创建的表</h2><p>有点懵，百度了一下，发现原来是 <strong>Navicat Premium 12</strong> 的bug，升级为<strong>换最新版本Navicat Premium</strong> 即可解决问题（Navicat Premium 15就行）</p><p>参考：<a href="https://blog.csdn.net/YueYingGuang/article/details/104014159" target="_blank" rel="noopener">Navicat Premium 下看不到PostgreSQL下已创建的表</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>移动端Web开发调试之Chrome远程调试(Remote Debugging)</title>
      <link href="/article/6dda00fe.html"/>
      <url>/article/6dda00fe.html</url>
      
        <content type="html"><![CDATA[<p>我是用手机USB连接进行调试的，首先需要开启手机的调试模式，不同机型可能会有所差异，建议百度。</p><a id="more"></a><h2 id="步骤">步骤</h2><ol><li><p>连接电脑，打开USB调试</p></li><li><p>Chrome输入：chrome://inspect/#devices ，输入需要手机ip，和需要调试的端口号。然后后面就会显示设备。CDY-AN95就是我设备型号。<br><img src="https://img-blog.csdnimg.cn/20210602161449818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210602161405434.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></li><li><p>然后输入对应的链接，就可以想web端一样调试手机端页面了。</p></li></ol><hr><p>参考：</p><ul><li><a href="https://www.cnblogs.com/terrylin/p/4606277.html" target="_blank" rel="noopener">移动端Web开发调试之Chrome远程调试(Remote Debugging)</a></li><li><a href="https://www.jianshu.com/p/1e290caef2c9" target="_blank" rel="noopener">Chrome DevTools 使用</a></li><li><a href="https://blog.csdn.net/qq_24935119/article/details/105177981" target="_blank" rel="noopener">https://blog.csdn.net/qq_24935119/article/details/105177981</a></li><li><a href="https://zhaomenghuan.js.org/blog/chrome-devtools.html#chrome-extension" target="_blank" rel="noopener">深入理解 Chrome DevTools</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS实现replaceAll方法</title>
      <link href="/article/d50d13af.html"/>
      <url>/article/d50d13af.html</url>
      
        <content type="html"><![CDATA[<h2 id="replace方法">replace方法</h2><p>JS本来有replace()方法，请看w3school的说明( <a href="https://www.w3school.com.cn/jsref/jsref_replace.asp" target="_blank" rel="noopener">JavaScript replace() 方法</a> )：</p><blockquote><p><strong>定义和用法</strong><br>replace() 方法用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。<br><strong>语法</strong><br>stringObject.replace(regexp/substr,replacement)<br>第一个参数为一个字符串或者一个正则表达式，第二个参数为一个字符串或者一个用于生成字符串的函数。</p></blockquote><p>注意重点：</p><p>如果 regexp 具有全局标志 g，那么 replace() 方法将替换所有匹配的子串。否则，它只替换第一个匹配子串。</p><a id="more"></a><p>实例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"dogdogdog"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = str.replace(<span class="string">"dog"</span>,<span class="string">"cat"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str2);</span><br></pre></td></tr></table></figure><p>这里仅替换第一个dog字符串，输出为：catdogdog。</p><p><strong>js中是没有replaceAll方法的，那么如何实现替换所有匹配的字符串呢，即在js中实现replaceAll方法。</strong></p><h2 id="1-使用具有全局标志g的正则表达式">1. 使用具有全局标志g的正则表达式</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"dogdogdog"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = str.replace(<span class="regexp">/dog/g</span>,<span class="string">"cat"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str2);</span><br></pre></td></tr></table></figure><p>实现替换全部匹配字符串，输出结果为：catcatcat。</p><h2 id="2-使用另一种具有全局标志g的正则表达式的定义方法">2. 使用另一种具有全局标志g的正则表达式的定义方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"dogdogdog"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = str.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"dog"</span>,<span class="string">"gm"</span>),<span class="string">"cat"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str2);</span><br></pre></td></tr></table></figure><p>输出结果同上例。这里g表示执行全局匹配，m表示执行多次匹配。</p><h2 id="3-给string对象添加原型方法replaceall">3. 给string对象添加原型方法replaceAll()</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.replaceAll = <span class="function"><span class="keyword">function</span>(<span class="params">s1, s2</span>) </span>&#123;</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(s1, <span class="string">"gm"</span>), s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就可以像使用replace方法一样使用replaceAll方法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"dogdogdog"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = str.replaceAll(<span class="string">"dog"</span>, <span class="string">"cat"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str2);</span><br></pre></td></tr></table></figure><p>输出结果同上例。<br>个人推荐使用第3种方法。</p><hr><p>参考：<a href="https://www.cnblogs.com/henuyuxiang/p/11609088.html" target="_blank" rel="noopener">https://www.cnblogs.com/henuyuxiang/p/11609088.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS查找某个字符在字符串中出现的位置及次数</title>
      <link href="/article/f3b671b8.html"/>
      <url>/article/f3b671b8.html</url>
      
        <content type="html"><![CDATA[<p>str.inedxOf(‘要查找的字符串’,起始位置)；</p><p>indexOf()方法可以返回某个字符在字符串在首次出现的位置，若没有在字符串中找到该字符，则返回-1。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'fdhfgcsaedvcfhgfh'</span>;</span><br><span class="line"><span class="keyword">var</span> index = str.indexOf(<span class="string">'f'</span>); <span class="comment">// 字符出现的位置</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>; <span class="comment">// 这个字符出现的次数</span></span><br><span class="line"><span class="keyword">while</span>(index !== <span class="number">-1</span>) &#123;</span><br><span class="line">            </span><br><span class="line">    <span class="built_in">console</span>.log(index); <span class="comment">// 打印字符串出现的位置</span></span><br><span class="line">    num++; <span class="comment">// 每出现一次 次数加一</span></span><br><span class="line">    index = str.indexOf(<span class="string">'f'</span>,index + <span class="number">1</span>); <span class="comment">// 从字符串出现的位置的下一位置开始继续查找</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'f一共出现了'</span> + num + <span class="string">'次'</span>);</span><br></pre></td></tr></table></figure><hr><p>转自 ： <a href="https://www.cnblogs.com/sunyan-blog/p/11783408.html" target="_blank" rel="noopener">https://www.cnblogs.com/sunyan-blog/p/11783408.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS字符串的裁剪</title>
      <link href="/article/efef598a.html"/>
      <url>/article/efef598a.html</url>
      
        <content type="html"><![CDATA[<h2 id="一-javascript字符串的处理方法">一.JavaScript字符串的处理方法</h2><h3 id="1-split">1.split()</h3><p>功能：使用一个指定的分隔符把一个字符串分割存储到数组</p><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str=”jpg|bmp|gif|ico|png”; </span><br><span class="line">arr=str.split(”|”);</span><br><span class="line"><span class="comment">//arr是一个包含字符值”jpg”、”bmp”、”gif”、”ico”和”png”的数组</span></span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="2-join">2.join()</h3><p>功能：使用您选择的分隔符将一个数组合并为一个字符串</p><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> delimitedString=myArray.join(delimiter);</span><br><span class="line"><span class="keyword">var</span> myList=<span class="keyword">new</span> <span class="built_in">Array</span>(”jpg”,”bmp”,”gif”,”ico”,”png”);</span><br><span class="line"><span class="keyword">var</span> portableList=myList.join(”|”);</span><br><span class="line"><span class="comment">//结果是jpg|bmp|gif|ico|png</span></span><br></pre></td></tr></table></figure><h3 id="3-concat">3.concat()</h3><p>功能：将两个数组连接在一起；</p><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">arr2=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">alert(arr1.concat(arr2))  </span><br><span class="line"><span class="comment">//结果为[1,2,3,4,5,6,7,8]</span></span><br></pre></td></tr></table></figure><h3 id="4-charat">4.charAt()</h3><p>功能：返回指定位置的字符。字符串中第一个字符的下标是 0。如果参数 index 不在 0 与 string.length 之间，该方法将返回一个空字符串。</p><p>例子:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">'a,g,i,d,o,v,w,d,k,p'</span>;</span><br><span class="line">alert(str.charAt(<span class="number">2</span>))  </span><br><span class="line"><span class="comment">//结果为g</span></span><br></pre></td></tr></table></figure><h3 id="5-charcodeat">5.charCodeAt()</h3><p>功能：charCodeAt() 方法可返回指定位置的字符的 Unicode 编码。这个返回值是 0 - 65535 之间的整数。</p><p>方法 charCodeAt() 与 charAt() 方法执行的操作相似，只不过前者返回的是位于指定位置的字符的编码，而后者返回的是字符子串。</p><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">'a,g,i,d,o,v,w,d,k,p'</span>;</span><br><span class="line">alert(str.charCodeAt(<span class="number">2</span>))  </span><br><span class="line"><span class="comment">//结果为103。即g的Unicode编码为103</span></span><br></pre></td></tr></table></figure><h3 id="6-slice">6.slice()</h3><p>功能：arrayObject.slice(start,end)</p><p>start:必需。规定从何处开始选取。如果是负数，那么它规定从数组尾部开始算起的位置。也就是说，-1 指最后一个元素，-2 指倒数第二个元素，以此类推。</p><p>end:可选。规定从何处结束选取。该参数是数组片断结束处的数组下标。如果没有指定该参数，那么切分的数组包含从 start 到数组结束的所有元素。如果这个参数是负数，那么它规定的是从数组尾部开始算起的元素。</p><p>返回一个新的数组，包含从start到end（不包括该元素）的arrayobject中的元素。</p><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">'ahji3o3s4e6p8a0sdewqdasj'</span></span><br><span class="line">alert(str.slice(<span class="number">2</span>,<span class="number">5</span>))   </span><br><span class="line"><span class="comment">//结果ji3</span></span><br></pre></td></tr></table></figure><h3 id="7-substring">7.substring()</h3><p>定义和用法 substring 方法用于提取字符串中介于两个指定下标之间的字符。</p><p>语法 stringObject.substring(start,stop)</p><p>start 必需。一个非负的整数，规定要提取的子串的第一个字符在 stringObject 中的位置。</p><p>stop 可选。一个非负的整数，比要提取的子串的最后一个字符在 stringObject 中的位置多 1。</p><p>如果省略该参数，那么返回的子串会一直到字符串的结尾。</p><p>返回 一个新的字符串，该字符串值包含 stringObject 的一个子字符串，其内容是从 start 处到 stop-1 处的所有字符，其长度为 stop 减 start。 说明 substring 方法返回的子串包括 start 处的字符，但不包括 end 处的字符。 如果 start 与 end 相等，那么该方法返回的就是一个空串（即长度为 0 的字符串）。 如果 start 比 end 大，那么该方法在提取子串之前会先交换这两个参数。 如果 start 或 end 为负数，那么它将被替换为 0。</p><p>例子:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">'ahji3o3s4e6p8a0sdewqdasj'</span></span><br><span class="line">alert(str.substring(<span class="number">2</span>,<span class="number">6</span>))   </span><br><span class="line"><span class="comment">//结果为ji3o3</span></span><br></pre></td></tr></table></figure><h3 id="8-substr">8.substr()</h3><p>定义和用法 substr 方法用于返回一个从指定位置开始的指定长度的子字符串。</p><p>语法 stringObject.substr(start [, length ])</p><p>参数 start 必需。所需的子字符串的起始位置。字符串中的第一个字符的索引为 0。</p><p>length 可选。在返回的子字符串中应包括的字符个数。 说明 如果 length 为 0 或负数，将返回一个空字符串。 如果没有指定该参数，则子字符串将延续到stringObject的最后。</p><p>举例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"0123456789"</span>;</span><br><span class="line">alert(str.substring(<span class="number">0</span>)); <span class="comment">//"0123456789"</span></span><br><span class="line">alert(str.substring(<span class="number">5</span>)); <span class="comment">//"56789"</span></span><br><span class="line">alert(str.substring(<span class="number">10</span>)); <span class="comment">//""</span></span><br><span class="line">alert(str.substring(<span class="number">12</span>)); <span class="comment">//""</span></span><br><span class="line">alert(str.substring( - <span class="number">5</span>)); <span class="comment">//"0123456789"</span></span><br><span class="line">alert(str.substring( - <span class="number">10</span>)); <span class="comment">//"0123456789"</span></span><br><span class="line">alert(str.substring( - <span class="number">12</span>)); <span class="comment">//"0123456789"</span></span><br><span class="line">alert(str.substring(<span class="number">0</span>, <span class="number">5</span>)); <span class="comment">//"01234"</span></span><br><span class="line">alert(str.substring(<span class="number">0</span>, <span class="number">10</span>)); <span class="comment">//"0123456789"</span></span><br><span class="line">alert(str.substring(<span class="number">0</span>, <span class="number">12</span>)); <span class="comment">//"0123456789"</span></span><br><span class="line">alert(str.substring(<span class="number">2</span>, <span class="number">0</span>)); <span class="comment">//"01"</span></span><br><span class="line">alert(str.substring(<span class="number">2</span>, <span class="number">2</span>)); <span class="comment">//""</span></span><br><span class="line">alert(str.substring(<span class="number">2</span>, <span class="number">5</span>)); <span class="comment">//"234"</span></span><br><span class="line">alert(str.substring(<span class="number">2</span>, <span class="number">12</span>)); <span class="comment">//"23456789"</span></span><br><span class="line">alert(str.substring(<span class="number">2</span>, <span class="number">-2</span>)); <span class="comment">//"01"</span></span><br><span class="line">alert(str.substring( - <span class="number">1</span>, <span class="number">5</span>)); <span class="comment">//"01234"</span></span><br><span class="line">alert(str.substring( - <span class="number">1</span>, <span class="number">-5</span>)); <span class="comment">//""</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS字符串比较大小</title>
      <link href="/article/20e8507f.html"/>
      <url>/article/20e8507f.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>本文简单概括下JS中字符串比较大小的注意事项。</p><h2 id="主体">主体</h2><h3 id="1-大于-小于-运算符">（1）大于(&gt;)，小于(&lt;)运算符</h3><p>JS字符串在进行大于(小于)比较时，会根据第一个不同的字符的ASCII值码进行比较，情况分为多种：</p><p>① 当数字跟字符串进行数学运算时(不光是&gt;,&lt;,=,还包括±*/等运算)，会把字符串转换成数字。</p><p>② 如果字符串是数字的形式，转换成数字后就直接根据数字大小进行比较。</p><p>③ 如果字符串不是不是数字形式，不管是’a’还是’100a’这样的形式，在转换时都转成了NaN，而NaN跟数字比较大小时，只会返回false。例如console.log(19&lt;‘ssf’)，同样输出false。</p><p>④NaN跟数字进行四则运算时，则是返回NaN。</p><a id="more"></a><h3 id="2-相等-严格相等-运算符">（2）相等(<code>==</code>)，严格相等(<code>===</code>)运算符</h3><p>在进行相等 (<code>==</code>) 运算比较时，如果一边是字符，一边是数字，会先将字符串转换成数字再进行比较；<br>严格相等(<code>===</code>) 则不会进行类型转换，会比较类型是否相等。注NaN与任何值比较时都是false。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'6'</span>==<span class="number">6</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'6'</span>===<span class="number">6</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">6</span>===<span class="number">6</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'abc'</span>==<span class="number">2</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'abc'</span>==<span class="string">'abc'</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'abc'</span>===<span class="string">'abc'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="3-一些特殊值的相等与严格相等比较">（3）一些特殊值的相等与严格相等比较</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>==<span class="literal">undefined</span>) <span class="comment">// 输出：true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>===<span class="literal">undefined</span>) <span class="comment">// 输出：false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>===<span class="literal">null</span>) <span class="comment">// 输出：true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span>===<span class="literal">undefined</span>) <span class="comment">// 输出：true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>==<span class="literal">undefined</span>) <span class="comment">// 输出：false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>==<span class="literal">null</span>)  <span class="comment">// 输出：false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>==<span class="literal">NaN</span>)  <span class="comment">// 输出：false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>===<span class="literal">NaN</span>)  <span class="comment">// 输出：false</span></span><br></pre></td></tr></table></figure><hr><p>版权声明：本文为CSDN博主「骆小胖」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_42445490/article/details/88819093" target="_blank" rel="noopener">https://blog.csdn.net/qq_42445490/article/details/88819093</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pgsql 命令行常用命令</title>
      <link href="/article/79926547.html"/>
      <url>/article/79926547.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-登录">1.登录</h2><h3 id="1-1-psql报错">1.1 psql报错</h3><p>详情+分析：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;pgsql</span><br><span class="line"><span class="string">'pgsql'</span> 不是内部或外部命令，也不是可运行的程序</span><br><span class="line">或批处理文件。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 命令错误</span></span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;psql</span><br><span class="line">用户 Administrator 的口令：</span><br><span class="line">psql: 错误: 致命错误:  用户 <span class="string">"Administrator"</span> Password 认证失败</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将对应的可执行文件路径添加到系统‘环境变量’，如：F:\Program Files\PostgreSQL\13\bin</span></span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;psql</span><br><span class="line">用户 Administrator 的口令：</span><br><span class="line">psql: 错误: fe_sendauth: no password supplied</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要指定用户</span></span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;psql -u postgres</span><br><span class="line">psql: illegal option -- u</span><br><span class="line">尝试 <span class="string">"psql --help"</span> 以得到更多信息.</span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;psql -U postgres</span><br><span class="line">用户 postgres 的口令：</span><br><span class="line">psql: 错误: 致命错误:  用户 <span class="string">"postgres"</span> Password 认证失败</span><br></pre></td></tr></table></figure><p>参考：<a href="https://blog.csdn.net/gghhm/article/details/104279508" target="_blank" rel="noopener">https://blog.csdn.net/gghhm/article/details/104279508</a></p><a id="more"></a><h3 id="1-2-psql-错误-致命错误-用户-postgres-password-认证失败">1.2 psql: 错误: 致命错误: 用户 “postgres” Password 认证失败</h3><p>报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;psql -U postgres</span><br><span class="line">用户 postgres 的口令：</span><br><span class="line">psql: 错误: 致命错误:  用户 <span class="string">"postgres"</span> Password 认证失败</span><br></pre></td></tr></table></figure><p>解决方法：</p><ol><li>找到postgreSQL的配置文件 pg_hba.conf ，如：<code>F:\Program Files\PostgreSQL\13\data</code></li><li>找到“IPv4 local connections”，把编码方式改成md5，如： <code>host all all 0.0.0.0/0 md5</code></li><li>重启服务 <code>services postgresql restart</code></li><li>连接数据库</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;psql -U postgres</span><br><span class="line">用户 postgres 的口令：</span><br><span class="line">psql (13.3)</span><br><span class="line">输入 <span class="string">"help"</span> 来获取帮助信息.</span><br></pre></td></tr></table></figure><p>参考：<a href="https://blog.csdn.net/qq_41805514/article/details/88891059" target="_blank" rel="noopener">psql: 致命错误: 对用户&quot;postgres&quot;的对等认证失败的解决方法</a><br><a href="https://blog.csdn.net/weixin_34390996/article/details/86260833" target="_blank" rel="noopener">https://blog.csdn.net/weixin_34390996/article/details/86260833</a></p><h2 id="2-常用操作">2.常用操作</h2>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PostgresSQL客户端pgAdmin4使用</title>
      <link href="/article/a45d3982.html"/>
      <url>/article/a45d3982.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-查看postgressql内置函数的定义">1.查看PostgresSQL内置函数的定义</h2><p><img src="https://img-blog.csdnimg.cn/20210526104539710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><h2 id="2-pgadmin4界面切换为中文">2.pgAdmin4界面切换为中文</h2><p><img src="https://img-blog.csdnimg.cn/20210526140416866.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20210526140457437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20210526140514132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>转自：<a href="https://www.cnblogs.com/feng-hao/p/10837156.html" target="_blank" rel="noopener">https://www.cnblogs.com/feng-hao/p/10837156.html</a></p><hr><p>PostgresSQL客户端pgAdmin4使用：<a href="https://www.jianshu.com/p/e7fe45a10cee" target="_blank" rel="noopener">https://www.jianshu.com/p/e7fe45a10cee</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端面试题：JS中的let和var的区别</title>
      <link href="/article/27224145.html"/>
      <url>/article/27224145.html</url>
      
        <content type="html"><![CDATA[<p>最近很多前端的朋友去面试被问到let和var的区别，其实 <a href="https://link.jianshu.com/?t=http%3A%2F%2Fes6.ruanyifeng.com%2F%23docs%2Flet" target="_blank" rel="noopener">阮一峰老师的ES6</a> 中已经很详细介绍了<code>let</code>的用法和<code>var</code>的区别。我简单总结一下，以便各位以后面试中使用。</p><p>ES6 新增了<code>let</code>命令，用来声明局部变量。它的用法类似于<code>var</code>，但是所声明的变量，只在<code>let</code>命令所在的代码块内有效，而且有暂时性死区的约束。</p><a id="more"></a><p>先看个<code>var</code>的常见变量提升的面试题目：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">题目<span class="number">1</span>：</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">99</span>;            <span class="comment">// 全局变量a</span></span><br><span class="line">f();                   <span class="comment">// f是函数，虽然定义在调用的后面，但是函数声明会提升到作用域的顶部。 </span></span><br><span class="line"><span class="built_in">console</span>.log(a);        <span class="comment">// a=&gt;99,  此时是全局变量的a</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            </span><br><span class="line">  <span class="built_in">console</span>.log(a);      <span class="comment">// 当前的a变量是下面变量a声明提升后，默认值undefined</span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a);      <span class="comment">// a =&gt; 10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">99</span></span><br></pre></td></tr></table></figure><p>如果以上题目有理解困难的童鞋，请系统的看一下老马的<a href="https://link.jianshu.com/?t=http%3A%2F%2Fqtxh.ke.qq.com%2F" target="_blank" rel="noopener">免费JS高级视频教程</a>。</p><h2 id="es6可以用let定义块级作用域变量">ES6可以用let定义块级作用域变量</h2><p>在ES6之前，我们都是用var来声明变量，而且JS只有函数作用域和全局作用域，没有块级作用域，所以<code>{}</code>限定不了var声明变量的访问范围。<br>例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">             </span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">9</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">console</span>.log(i);  <span class="comment">// 9</span></span><br></pre></td></tr></table></figure><p>ES6新增的<code>let</code>，可以声明块级作用域的变量。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">             </span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">9</span>;     <span class="comment">// i变量只在 花括号内有效！！！</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">console</span>.log(i);  <span class="comment">// Uncaught ReferenceError: i is not defined</span></span><br></pre></td></tr></table></figure><h2 id="let-配合for循环的独特应用">let 配合for循环的独特应用</h2><p><code>let</code>非常适合用于 <code>for</code>循环内部的块级作用域。JS中的for循环体比较特殊，每次执行都是一个全新的独立的块作用域，用let声明的变量传入到 for循环体的作用域后，不会发生改变，不受外界的影响。看一个常见的面试题目：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">              </span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">              <span class="comment">// 同步注册回调函数到 异步的 宏任务队列。</span></span><br><span class="line">    <span class="built_in">console</span>.log(i);        <span class="comment">// 执行此代码时，同步代码for循环已经执行完成</span></span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出结果</span></span><br><span class="line"><span class="number">10</span>   共<span class="number">10</span>个</span><br><span class="line"><span class="comment">// 这里面的知识点： JS的事件循环机制，setTimeout的机制等</span></span><br></pre></td></tr></table></figure><p>如果把 <code>var</code>改成 <code>let</code>声明：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// i虽然在全局作用域声明，但是在for循环体局部作用域中使用的时候，变量会被固定，不受外界干扰。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">             </span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            </span><br><span class="line">    <span class="built_in">console</span>.log(i);    <span class="comment">//  i 是循环体内局部作用域，不受外界影响。</span></span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure><h2 id="let没有变量提升与暂时性死区">let没有变量提升与暂时性死区</h2><p>用<code>let</code>声明的变量，不存在变量提升。而且要求必须 等<code>let</code>声明语句执行完之后，变量才能使用，不然会报<code>Uncaught ReferenceError</code>错误。<br>例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(aicoder);    <span class="comment">// 错误：Uncaught ReferenceError ...</span></span><br><span class="line"><span class="keyword">let</span> aicoder = <span class="string">'aicoder.com'</span>;</span><br><span class="line"><span class="comment">// 这里就可以安全使用aicoder</span></span><br></pre></td></tr></table></figure><blockquote><p>ES6 明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。<br>总之，在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）。</p></blockquote><h2 id="let变量不能重复声明">let变量不能重复声明</h2><p>let不允许在相同作用域内，重复声明同一个变量。否则报错：<code>Uncaught SyntaxError: Identifier 'XXX' has already been declared</code></p><p>例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> a = <span class="string">'sss'</span>;</span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Identifier 'a' has already been declared</span></span><br></pre></td></tr></table></figure><h2 id="总结">总结</h2><p>ES6的let让js真正拥有了块级作用域，也是向这更安全更规范的路走，虽然加了很多约束，但是都是为了让我们更安全的使用和写代码。</p><hr><p>转自：<a href="https://www.cnblogs.com/fly_dragon/p/8669057.html" target="_blank" rel="noopener">https://www.cnblogs.com/fly_dragon/p/8669057.html</a><br>更多：<a href="https://blog.csdn.net/nfer_zhuang/article/details/48781671" target="_blank" rel="noopener">js中let和var定义变量的区别</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS字符串转换成数字与数字转换成字符串的实现方法</title>
      <link href="/article/bc99913.html"/>
      <url>/article/bc99913.html</url>
      
        <content type="html"><![CDATA[<h2 id="js字符串转换成数字">JS字符串转换成数字</h2><p>将字符串转换成数字，得用到 <strong>parseInt</strong> 函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(string) ： 函数从string的开始解析，返回一个整数。</span><br></pre></td></tr></table></figure><p><strong>举例</strong>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'123'</span>) : 返回 <span class="number">123</span>（int）；</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'1234xxx'</span>) : 返回 <span class="number">1234</span>（int），如果不是全部都是数字，只返回前面的数字部分；</span><br></pre></td></tr></table></figure><a id="more"></a><p>如果解析不到数字，则将返回一个NaN的值，可以用isNaN()函数来检测；</p><p><strong>举例</strong>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="built_in">parseInt</span>(<span class="string">'abc'</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">isNaN</span>(i))</span><br><span class="line">&#123;</span><br><span class="line">            </span><br><span class="line">alert(<span class="string">'NaN value'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>同样的parseFloat函数是将字符串转换成浮点数。</p><p><strong>举例</strong>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'31.24abc'</span>) : 返回 <span class="number">31.24</span>；</span><br></pre></td></tr></table></figure><h2 id="js数字转换成字符串">JS数字转换成字符串</h2><p>将字符串转换成数字，得用到 <strong>String</strong> 类的 <strong>toString</strong> 方法。</p><p><strong>举例</strong>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> s = i.toString();</span><br><span class="line">alert(<span class="keyword">typeof</span> s); <span class="comment">//将输出 String</span></span><br></pre></td></tr></table></figure><h2 id="js数字与字符串的-加法-的区别">JS数字与字符串的&quot;加法&quot;的区别</h2><p>js的数字的加法与字符串的连接都是 + 符号， 所以究竟是加还是字符串的连接就取决与变量的类型。</p><p><strong>举例：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'abc'</span> + <span class="string">'xyz'</span>; <span class="comment">//a的值为：abcxyz,字符串与字符串是连接</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span> + <span class="number">5</span>; <span class="comment">//a的值为：15，数字是加</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">'abc'</span> + <span class="number">10</span>; <span class="comment">//a的值为：abc10，字符串与数字，自动将10转换成字符串了</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">'abc'</span> + <span class="number">10</span> + <span class="number">20</span> + <span class="string">'cd'</span>; <span class="comment">//a的值为:abc1020cd</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span> + <span class="number">20</span> + <span class="string">'abc'</span> + <span class="string">'cd'</span>; <span class="comment">//a的值为:30abccd，可以数字加的先数字加，然后再连接</span></span><br></pre></td></tr></table></figure><h2 id="补充">补充</h2><h3 id="js字符串转换数字的三种方法">JS字符串转换数字的三种方法</h3><p>转换函数、强制类型转换、利用js变量弱类型转换。</p><h4 id="1-转换函数">1. 转换函数</h4><p>js提供了parseInt()和parseFloat()两个转换函数。前者把值转换成整数，后者把值转换成浮点数。只有对String类型调用这些方法，这两个函数才能正确运行；对其他类型返回的都是NaN(Not a Number)。</p><p>一些示例如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">"1234blue"</span>); <span class="comment">//returns 1234</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"0xA"</span>); <span class="comment">//returns 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"22.5"</span>); <span class="comment">//returns 22</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"blue"</span>); <span class="comment">//returns NaN</span></span><br></pre></td></tr></table></figure><p>parseInt()方法还有基模式，可以把二进制、八进制、十六进制或其他任何进制的字符串转换成整数。基是由parseInt()方法的第二个参数指定的，示例如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">"AF"</span>, <span class="number">16</span>); <span class="comment">//returns 175</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"10"</span>, <span class="number">2</span>); <span class="comment">//returns 2</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"10"</span>, <span class="number">8</span>); <span class="comment">//returns 8</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"10"</span>, <span class="number">10</span>); <span class="comment">//returns 10</span></span><br></pre></td></tr></table></figure><p>如果十进制数包含前导0，那么最好采用基数10，这样才不会意外地得到八进制的值。例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">"010"</span>); <span class="comment">//returns 8</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"010"</span>, <span class="number">8</span>); <span class="comment">//returns 8</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">"010"</span>, <span class="number">10</span>); <span class="comment">//returns 10</span></span><br></pre></td></tr></table></figure><p>parseFloat()方法与parseInt()方法的处理方式相似。<br>使用parseFloat()方法的另一不同之处在于，字符串必须以十进制形式表示浮点数，parseFloat()没有基模式。</p><p>下面是使用parseFloat()方法的示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="string">"1234blue"</span>); <span class="comment">//returns 1234.0</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">"0xA"</span>); <span class="comment">//returns NaN</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">"22.5"</span>); <span class="comment">//returns 22.5</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">"22.34.5"</span>); <span class="comment">//returns 22.34</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">"0908"</span>); <span class="comment">//returns 908</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">"blue"</span>); <span class="comment">//returns NaN</span></span><br></pre></td></tr></table></figure><h4 id="2-强制类型转换">2. 强制类型转换</h4><p>还可使用强制类型转换（type casting）处理转换值的类型。使用强制类型转换可以访问特定的值，即使它是另一种类型的。</p><p>ECMAScript中可用的3种强制类型转换如下：</p><ul><li>Boolean(value)——把给定的值转换成Boolean型；</li><li>Number(value)——把给定的值转换成数字（可以是整数或浮点数）；</li><li>String(value)——把给定的值转换成字符串。</li></ul><p>用这三个函数之一转换值，将创建一个新值，存放由原始值直接转换成的值。这会造成意想不到的后果。<br>当要转换的值是至少有一个字符的字符串、非0数字或对象时，Boolean()函数将返回true。如果该值是空字符串、数字0、undefined或null，它将返回false。</p><p>可以用下面的代码段测试Boolean型的强制类型转换。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Boolean</span>(<span class="string">""</span>); <span class="comment">//false – empty string</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">"hi"</span>); <span class="comment">//true – non-empty string</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">100</span>); <span class="comment">//true – non-zero number</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">null</span>); <span class="comment">//false - null</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>); <span class="comment">//false - zero</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="keyword">new</span> <span class="built_in">Object</span>()); <span class="comment">//true – object</span></span><br></pre></td></tr></table></figure><p>Number()的强制类型转换与parseInt()和parseFloat()方法的处理方式相似，只是它转换的是整个值，而不是部分值。示例如下：</p><p>用法结果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="literal">false</span>) <span class="number">0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">true</span>) <span class="number">1</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">undefined</span>) <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">null</span>) <span class="number">0</span></span><br><span class="line"><span class="built_in">Number</span>( <span class="string">"5.5 "</span>) <span class="number">5.5</span></span><br><span class="line"><span class="built_in">Number</span>( <span class="string">"56 "</span>) <span class="number">56</span></span><br><span class="line"><span class="built_in">Number</span>( <span class="string">"5.6.7 "</span>) <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="keyword">new</span> <span class="built_in">Object</span>()) <span class="literal">NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="number">100</span>) <span class="number">100</span></span><br></pre></td></tr></table></figure><p>最后一种强制类型转换方法String()是最简单的，示例如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">String</span>(<span class="literal">null</span>); <span class="comment">//"null"</span></span><br><span class="line"><span class="keyword">var</span> oNull = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> s2 = oNull.toString(); <span class="comment">//won't work, causes an error</span></span><br></pre></td></tr></table></figure><h4 id="3-利用js变量弱类型转换">3. 利用js变量弱类型转换</h4><p>举个小例子，一看，就会明白了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> str= <span class="string">'012.345 '</span>;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> x = str<span class="number">-0</span>;</span></span><br><span class="line">x = x*1;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上例利用了js的弱类型的特点，只进行了算术运算，实现了字符串到数字的类型转换，不过这个方法还是不推荐的</p><hr><p>转自：<a href="https://www.jb51.net/article/45331.htm" target="_blank" rel="noopener">https://www.jb51.net/article/45331.htm</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git Bash下grep命令检索内容高亮的方法</title>
      <link href="/article/f71884c5.html"/>
      <url>/article/f71884c5.html</url>
      
        <content type="html"><![CDATA[<p>这里介绍两种 Git Bash下grep命令检索内容高亮的方法。</p><h2 id="简单的方法">简单的方法</h2><p>添加 <code>--color</code> 参数即可实现检索内容高亮：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat 1.txt | grep 666 --color</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="一劳永逸-为命令取别名">一劳永逸，为命令取别名</h2><p>打开<code>Git\etc\profile.d\aliases.sh</code></p><p>添加 <code>alias grep='grep --color'</code></p><p>重启bash</p><p>附，我的aliases.sh文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Some good standards, <span class="built_in">which</span> are not used <span class="keyword">if</span> the user</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> creates his/her own .bashrc/.bash_profile</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> --show-control-chars: <span class="built_in">help</span> showing Korean or accented characters</span></span><br><span class="line">alias ls='ls -F --color=auto --show-control-chars'</span><br><span class="line">alias ll='ls -l'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> grep 检索高亮</span></span><br><span class="line">alias grep='grep --color'</span><br><span class="line"></span><br><span class="line">case "$TERM" in</span><br><span class="line">xterm*)</span><br><span class="line"><span class="meta">#</span><span class="bash"> The following programs are known to require a Win32 Console</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">for</span> interactive usage, therefore <span class="built_in">let</span><span class="string">'s launch them through winpty</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> when run inside `mintty`.</span></span><br><span class="line">for name in node ipython php php5 psql python2.7</span><br><span class="line">do</span><br><span class="line">case "$(type -p "$name".exe 2&gt;/dev/null)" in</span><br><span class="line">''|/usr/bin/*) continue;;</span><br><span class="line">esac</span><br><span class="line">alias $name="winpty $name.exe"</span><br><span class="line">done</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux常用命令备份</title>
      <link href="/article/cbbe3502.html"/>
      <url>/article/cbbe3502.html</url>
      
        <content type="html"><![CDATA[<p>linux命令——查找文件大小大于1M的文件</p><p><a href="https://blog.csdn.net/qq_38605328/article/details/100657699" target="_blank" rel="noopener">https://blog.csdn.net/qq_38605328/article/details/100657699</a></p><p>查找当前目录下文件大小大于1M的文件：find ./ -type f -size +1M ./当前路径 -type 文件类型 -size 文件大小 +大于 -小于 无 等于</p><hr><p><a href="https://www.cnblogs.com/zhangmingda/p/10698248.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhangmingda/p/10698248.html</a></p><p>ls -l --time=ctime /etc/man.config</p><a id="more"></a><h3 id="echo-不换行">echo 不换行</h3><p>echo -n 不换行输出</p><p>$echo -n “123”<br>$echo “456”</p><p>最终输出<br>123456</p><p>而不是<br>123<br>456</p><p>echo -e 处理特殊字符</p><p>若字符串中出现以下字符，则特别加以处理，而不会将它当成一般文字输出：<br>\a 发出警告声；<br>\b 删除前一个字符；<br>\c 最后不加上换行符号；<br>\f 换行但光标仍旧停留在原来的位置；<br>\n 换行且光标移至行首；<br>\r 光标移至行首，但不换行；<br>\t 插入tab；<br>\v 与\f相同；<br>\ 插入\字符；<br>\nnn 插入nnn（八进制）所代表的ASCII字符；</p><h2 id="shell求两个数相除后的百分比">shell求两个数相除后的百分比</h2><p><a href="https://blog.ct99.cn/2018/08/15/shell_qiu_liang_ge_shu_xiang_chu_hou_de_bai_fen_bi.html" target="_blank" rel="noopener">https://blog.ct99.cn/2018/08/15/shell_qiu_liang_ge_shu_xiang_chu_hou_de_bai_fen_bi.html</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">a=38</span><br><span class="line">b=99</span><br><span class="line"></span><br><span class="line">percent_1=$(printf "%d%%" $((a*100/b)))</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">percent_2=`awk 'BEGIN&#123;printf "%.1f%%\n",('$a'/'$b')*100&#125;'`</span><br><span class="line"><span class="meta">#</span><span class="bash"> 保留１位小数,四舍五入</span></span><br><span class="line">echo $percent_1</span><br><span class="line">echo $percent_2</span><br></pre></td></tr></table></figure><p>Shell 变量<br><a href="https://www.runoob.com/linux/linux-shell-variable.html" target="_blank" rel="noopener">https://www.runoob.com/linux/linux-shell-variable.html</a></p><h2 id="命令拼接">命令拼接</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 命令</span></span><br><span class="line">str01=`date`</span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前日期</span></span><br><span class="line">echo $&#123;</span><br><span class="line">            str01&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 拼接</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前日期end</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前日期part01</span></span><br><span class="line">part01="part01"</span><br><span class="line">str02=`date`"end"</span><br><span class="line">echo $&#123;</span><br><span class="line">            str02&#125;</span><br><span class="line">str03=`date`$&#123;</span><br><span class="line">            part01&#125;</span><br><span class="line">echo $&#123;</span><br><span class="line">            str03&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 引号</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 单引号内的 命令无法执行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前日期</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> `date`</span></span><br><span class="line">str04="`date`"</span><br><span class="line">echo $&#123;</span><br><span class="line">            str04&#125;</span><br><span class="line">str05='`date`'</span><br><span class="line">echo $&#123;</span><br><span class="line">            str05&#125;</span><br></pre></td></tr></table></figure><h2 id="find命令">find命令</h2><p>查找空目录</p><p>find ./ -type d -empty</p><p>删除：</p><p>find ./ -type d -empty | xargs rm -rf</p><p>参考：<a href="https://blog.csdn.net/imliuqun123/article/details/83311444" target="_blank" rel="noopener">https://blog.csdn.net/imliuqun123/article/details/83311444</a><br>linux find 排除某目录或文件 执行：<a href="https://blog.csdn.net/liqfyiyi/article/details/50634230" target="_blank" rel="noopener">https://blog.csdn.net/liqfyiyi/article/details/50634230</a></p><h4 id="排除某个目录">排除某个目录</h4><p>排除Nfc目录</p><p>find . -path ./Nfc -prune -o -type f -name *.mk -print</p><p>排除多个目录</p><p>find . ( -path ./Gallery2 -o -path ./HTMLViewer -o -path ./Nfc ) -prune -o -name *.mk -print</p><p>-o 或运算, 类型的还有 -a:与(可省略,默认就是与); -not:非(和!意义相同)</p><p>-type 要搜索的文件类型, f:普通文件; d:目录; l:符号链接; s:Socket; 其它参见man手册</p><p>( expr ) 括号用于把多个表达式括起来, 但要注意在shell中要以 ( 表示, 且()与expr之间也要留空格</p><h2 id="grep搜索当前目录下的所有文件的内容">grep搜索当前目录下的所有文件的内容</h2><p>比如： grep print * -nR 搜索当前目录下所有文件的内容中含有print的行</p><p>Linux 查找当前目录下 包含特定字符串 的所有文件<br><a href="https://www.cnblogs.com/miracle-luna/p/11037614.html" target="_blank" rel="noopener">https://www.cnblogs.com/miracle-luna/p/11037614.html</a></p><p>使用ls命令按时间排序文件<br><a href="https://www.cnblogs.com/syavingcs/articles/7761422.html" target="_blank" rel="noopener">https://www.cnblogs.com/syavingcs/articles/7761422.html</a></p><h2 id="grep-满足-或-排除多个关键字">grep 满足 或 排除多个关键字</h2><p>grep 同时满足多个关键字<br>① grep -E “word1|word2|word3” file.txt<br>满足任意条件（word1、word2和word3之一）将匹配。<br>② grep word1 file.txt | grep word2 |grep word3<br>必须同时满足三个条件（word1、word2和word3）才匹配。</p><p>grep 同时排除多个关键字<br>不说废话, 例如需要排除 abc.txt 中的 mmm nnn</p><p>grep -v ‘mmm|nnn’ abc.txt</p><hr><p><a href="https://blog.csdn.net/allen_a/article/details/78623422" target="_blank" rel="noopener">https://blog.csdn.net/allen_a/article/details/78623422</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SecureCRT相关</title>
      <link href="/article/377bc97a.html"/>
      <url>/article/377bc97a.html</url>
      
        <content type="html"><![CDATA[<hr><h2 id="securecrt介绍">SecureCRT介绍</h2><p>官网：<a href="https://www.vandyke.com/" target="_blank" rel="noopener">https://www.vandyke.com/</a></p><blockquote><p>生产力。安全。信心。<br>VanDyke软件帮助您在强大的安全性和轻松地从任何地方、任何时间访问网络之间实现正确的平衡。</p></blockquote><p>了解远程服务器的一个很好的工具。<br><img src="https://img-blog.csdnimg.cn/202104081519231.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><p>软件下载页：<a href="https://www.vandyke.com/download/" target="_blank" rel="noopener">https://www.vandyke.com/download/</a></p><p><img src="https://img-blog.csdnimg.cn/20210408152012626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>VanDyke SecureCRT 8.3中文版介绍：<a href="http://www.32r.com/soft/39196.html" target="_blank" rel="noopener">http://www.32r.com/soft/39196.html</a></p><h2 id="securecrt中复制快捷键">SecureCRT中复制快捷键</h2><p>从SecureCRT中往外面复制<br>Ctrl+Insert</p><p>从外面往SecureCRT中复制<br>Shift+Insert</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下grep显示前后几行信息</title>
      <link href="/article/bea02521.html"/>
      <url>/article/bea02521.html</url>
      
        <content type="html"><![CDATA[<p>Linux下grep显示前后几行信息<br>标准unix/linux下的grep通过下面參数控制上下文</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep -C 5 foo file 显示file文件里匹配foo字串那行以及上下5行</span><br><span class="line">grep -B 5 foo file 显示foo及前5行</span><br><span class="line">grep -A 5 foo file 显示foo及后5行</span><br></pre></td></tr></table></figure><p>查看grep版本号的方法是</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -V</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用在线工具收集</title>
      <link href="/article/8239f86c.html"/>
      <url>/article/8239f86c.html</url>
      
        <content type="html"><![CDATA[<h2 id="在线文本比较工具">在线文本比较工具</h2><p><a href="https://www.jq22.com/textDifference" target="_blank" rel="noopener">https://www.jq22.com/textDifference</a></p><p><img src="https://img-blog.csdnimg.cn/20210408154406738.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><h2 id="json解析">json解析</h2><p><a href="https://tool.oschina.net/codeformat/json" target="_blank" rel="noopener">https://tool.oschina.net/codeformat/json</a><br><img src="https://img-blog.csdnimg.cn/20210407111001861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="json压缩转义">json压缩转义</h2><p><a href="http://www.bejson.com/zhuanyi/" target="_blank" rel="noopener">http://www.bejson.com/zhuanyi/</a><br><img src="https://img-blog.csdnimg.cn/20210407165959958.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="代码格式化">代码格式化</h2><h3 id="js-格式化">js 格式化</h3><p><a href="https://tool.oschina.net/codeformat/js" target="_blank" rel="noopener">https://tool.oschina.net/codeformat/js</a></p><h3 id="sql格式化">sql格式化</h3><p><a href="https://www.w3cschool.cn/tools/index?name=sql_formatter" target="_blank" rel="noopener">https://www.w3cschool.cn/tools/index?name=sql_formatter</a></p><p><a href="https://tool.oschina.net/codeformat/sql" target="_blank" rel="noopener">https://tool.oschina.net/codeformat/sql</a></p><h2 id="时间戳转换工具">时间戳转换工具</h2><p><a href="https://tool.lu/timestamp/" target="_blank" rel="noopener">https://tool.lu/timestamp/</a><br><img src="https://img-blog.csdnimg.cn/20210407110925670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="在线工具合集">在线工具合集</h2><p><a href="https://tool.lu/" target="_blank" rel="noopener">https://tool.lu/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SoapUI相关</title>
      <link href="/article/3f2b8ac3.html"/>
      <url>/article/3f2b8ac3.html</url>
      
        <content type="html"><![CDATA[<p>开源中国：<a href="https://www.oschina.net/p/soapui?hmsr=aladdin1e1" target="_blank" rel="noopener">https://www.oschina.net/p/soapui?hmsr=aladdin1e1</a></p><ol><li><p>soapui格式化xml快捷键<br><code>Alt+F</code></p></li><li><p>使用介绍：<a href="https://www.cnblogs.com/haifeima/p/9520870.html" target="_blank" rel="noopener">https://www.cnblogs.com/haifeima/p/9520870.html</a></p></li><li><p>SOAP UI如何调整菜单栏里字体的大小：<a href="https://blog.csdn.net/weixin_38844565/article/details/89852448" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38844565/article/details/89852448</a></p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pgsql查表名_PostgreSQL查询表名称及表结构</title>
      <link href="/article/7bd72d45.html"/>
      <url>/article/7bd72d45.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-查询表名称">1. 查询表名称</h2><p>在psql状态下查询表名称</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\dt</span><br></pre></td></tr></table></figure><p>SQL方式查看表名称</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> tablename <span class="keyword">FROM</span> pg_tables;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> viewname <span class="keyword">FROM</span> pg_views;</span><br></pre></td></tr></table></figure><p>PostgreSQL获取数据库中所有view名 视图</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> viewname <span class="keyword">FROM</span> pg_views <span class="keyword">WHERE</span> schemaname = <span class="string">'public'</span> ;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-查询表结构">2. 查询表结构</h2><p>在psql状态下查询表结构</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d tablename</span><br></pre></td></tr></table></figure><p>SQL方式查看表结构：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">  A.attnum, </span><br><span class="line">  A.attname <span class="keyword">AS</span> <span class="keyword">field</span>, </span><br><span class="line">  T.typname <span class="keyword">AS</span> <span class="keyword">TYPE</span>, </span><br><span class="line">  A.attlen <span class="keyword">AS</span> <span class="keyword">LENGTH</span>, </span><br><span class="line">  A.atttypmod <span class="keyword">AS</span> lengthvar, </span><br><span class="line">  A.attnotnull <span class="keyword">AS</span> <span class="keyword">NOTNULL</span>, </span><br><span class="line">  b.description <span class="keyword">AS</span> <span class="keyword">COMMENT</span> </span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">  pg_class C, </span><br><span class="line">  pg_attribute A </span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> pg_description b <span class="keyword">ON</span> A.attrelid = b.objoid </span><br><span class="line">  <span class="keyword">AND</span> A.attnum = b.objsubid, </span><br><span class="line">  pg_type T </span><br><span class="line"><span class="keyword">WHERE</span> </span><br><span class="line">  C.relname = <span class="string">'pg_class'</span> </span><br><span class="line">  <span class="keyword">AND</span> A.attnum &gt; <span class="number">0</span> </span><br><span class="line">  <span class="keyword">AND</span> A.attrelid = C.oid </span><br><span class="line">  <span class="keyword">AND</span> A.atttypid = T.oid </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> </span><br><span class="line">  A.attnum;</span><br></pre></td></tr></table></figure><hr><p>参考：<a href="https://blog.csdn.net/weixin_39713335/article/details/112926022" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39713335/article/details/112926022</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>postman的body四个参数类型</title>
      <link href="/article/9108a37c.html"/>
      <url>/article/9108a37c.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20210315114735686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><h3 id="1-form-data">1.form-data</h3><p>既可以上传键值对，也可以上传文件。当上传的字段是文件时，会有content-type来说明文件类型；<br>content-disposition用来说明字段的一些信息；由于有boundary隔离，所以multipart/form-data既可以上传文件，也可以上传键值对，它采用了键值对的方式，所以可以上传多个文件。</p><h3 id="2-x-www-form-urlencoded：">2.x-www-form-urlencoded：</h3><p>就是application/x-www-from-urlencoded,会将表单内的数据转换为键值对</p><h3 id="3-raw">3.raw</h3><p>可以上传任意格式的文本，可以上传text、json、xml、html等</p><h3 id="4-binary">4.binary</h3><p>相当于content-type:application/octet-stream,从字面意思得知，只可以上传二进制数据，通常用来上传文件，由于没有键值，所以，一次只能上传一个文件。</p><hr><p>转自：<a href="https://blog.csdn.net/u013732378/article/details/86478131" target="_blank" rel="noopener">https://blog.csdn.net/u013732378/article/details/86478131</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notepad++中查找替换「换行符」</title>
      <link href="/article/29bb67d6.html"/>
      <url>/article/29bb67d6.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Notepad++ 是 Windows 中一款优秀的文本编辑软件功能非常强大。</p></blockquote><p><strong>重要说明</strong></p><p>1、为更好的理解本文建议先阅读相关文章 – <a href="https://blog.csdn.net/lijing742180/article/details/85018164" target="_blank" rel="noopener">不同操作系统中的换行符</a>。</p><p>2、本文内容基于 Notepad++ 7.5.1 版本为方便书写若无特殊说明下文中内容均指在该软件版本下的操作。</p><a id="more"></a><h2 id="一-查找替换-换行符">一、查找替换「换行符」</h2><h3 id="1-设置-显示行尾符">1、设置「显示行尾符」</h3><p>为了更清楚的看到换行符的变化首先进行下面设置<br><code>视图 -&gt; 显示符号 -&gt; 显示行尾符</code><br><img src="https://img-blog.csdnimg.cn/20181219093239448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpamluZzc0MjE4MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>然后新建一个文本在其中随意输入内容会看到显示「换行符」为 <code>CRLF</code>即 <code>\r\n</code>。</p><h3 id="2-查找并替换-换行符">2、查找并替换「换行符」</h3><ul><li><code>Ctrl + H</code>打开替换对话框<code>查找模式</code> 选中 <code>扩展</code> 或者 <code>正则表达式</code>使<code>查找目标</code> 和 <code>替换为</code> 中同时支持字符串和特殊字符的匹配</li><li>然后在 <code>查找目标</code> 中输入 <code>\r\n</code> 即可匹配到文本中的回车换行符</li><li>在 <code>替换为</code> 中输入要替换成的字符即可</li></ul><p><img src="https://img-blog.csdnimg.cn/201812191503534.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpamluZzc0MjE4MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="二-扩展：查找替换-空行-空白符">二、扩展：查找替换「空行」、空白符</h2><p>下面列举常用的几种查找替换情况</p><p>前提是要选中 <code>正则表达式</code> 模式</p><table><thead><tr><th>查找目标</th><th>替换为</th><th>说明</th></tr></thead><tbody><tr><td>`\r\n`</td><td>`,\r\n`</td><td>在行尾加上逗号</td></tr><tr><td>`\r\n`</td><td></td><td>替换为空即合并多行内容为一行</td></tr><tr><td>`\r\n`</td><td>`\n`</td><td>把 windows 下的换行符替换为 linux 下的换行符</td></tr><tr><td>`\n`</td><td></td><td>把 \n 替换为空即把 windows 下的换行符替换为 Mac 下的换行符</td></tr><tr><td>`,`</td><td>`\r\n`</td><td>把逗号全部替换成换行</td></tr><tr><td>`\r\n\r\n`</td><td>`\r\n`</td><td>去掉空行</td></tr><tr><td>`1\s\s`</td><td>`1`</td><td>去掉 1 后的两个空格其中一个 \s 表示一个空格</td></tr><tr><td>`1两个半角空格`</td><td>`1`</td><td>可以直接在 1 后跟两个半角空格来匹配跟上面 \s 是一样的效果</td></tr><tr><td>`\r\n`</td><td>`\r\n`</td><td>在每行行首添加制表符即四个半角空格的效果</td></tr></tbody></table>### 特殊字符串转特殊字符<p>比如将 <code>\n</code> 字符串转为 <code>换行符</code>，我可以使用转义，比如<code>\\n</code> 实际搜的是<code>\n</code>字符串。<br><img src="https://img-blog.csdnimg.cn/20210603152646533.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><hr><p>转自：<a href="https://blog.csdn.net/lijing742180/article/details/85174564" target="_blank" rel="noopener">Notepad++中查找替换「换行符」</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>达叔走了</title>
      <link href="/article/c2eb14c1.html"/>
      <url>/article/c2eb14c1.html</url>
      
        <content type="html"><![CDATA[<p>达叔走了，带着我们的童年！</p><p>惟愿天堂没有疾病、没有疼痛。</p><a id="more"></a>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
            <tag> 记忆 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件对比软件 Beyond Compare 4简介</title>
      <link href="/article/625ea023.html"/>
      <url>/article/625ea023.html</url>
      
        <content type="html"><![CDATA[<p>Beyond Compare允许您快速轻松地比较文件和文件夹。通过使用简单，强大的命令，您可以专注于您感兴趣的差异，并忽略那些您不感兴趣的差异。然后，您可以合并更改，同步文件并生成记录报告。</p><a id="more"></a><p>很强大的一个文本比较工具（、文件夹……好像啥都行），用过就会爱不释手。</p><p><img src="https://img-blog.csdnimg.cn/20210225125731272.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>详见：<a href="https://www.yansheng.xyz/article/660ecf00.html" target="_blank" rel="noopener">文件对比软件Beyond Compare 4</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Jsoup爬取json文件，报错org.jsoup.UnsupportedMimeTypeException: Unhandled content type</title>
      <link href="/article/ff06bf5e.html"/>
      <url>/article/ff06bf5e.html</url>
      
        <content type="html"><![CDATA[<p>使用Jsoup爬取json文件，报错</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Connection.Response res =</span><br><span class="line">    Jsoup.connect(url).header(<span class="string">"Accept"</span>, <span class="string">"*/*"</span>).header(<span class="string">"Accept-Encoding"</span>, <span class="string">"gzip, deflate"</span>)</span><br><span class="line">        .header(<span class="string">"Accept-Language"</span>, <span class="string">"zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3"</span>)</span><br><span class="line">        .header(<span class="string">"Content-Type"</span>, <span class="string">"application/json;charset=UTF-8"</span>)</span><br><span class="line">        .header(<span class="string">"Content-Type"</span>, <span class="string">"application/x-javascript;charset=UTF-8"</span>)</span><br><span class="line">        .header(<span class="string">"User-Agent"</span>, <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:48.0) Gecko/20100101 Firefox/48.0"</span>)</span><br><span class="line">        .timeout(<span class="number">10000</span>).execute();</span><br><span class="line">String body = res.body();</span><br></pre></td></tr></table></figure><a id="more"></a><p>报错如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">org.jsoup.UnsupportedMimeTypeException: Unhandled content type. Must be text<span class="comment">/*, application/xml, or application/xhtml+xml. Mimetype=application/x-javascript, URL=https://game.gtimg.cn/images/lol/act/img/js/hero/1.js</span></span><br><span class="line"><span class="comment">at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:770)</span></span><br><span class="line"><span class="comment">at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:705)</span></span><br><span class="line"><span class="comment">at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:295)</span></span><br><span class="line"><span class="comment">at xyz.yansheng.util.SpiderUtil.getLolHeroSkins2(SpiderUtil.java:267)</span></span><br><span class="line"><span class="comment">at xyz.yansheng.main.App2.main(App2.java:41)</span></span><br><span class="line"><span class="comment">Exception in thread "main" java.lang.NullPointerException</span></span><br><span class="line"><span class="comment">at xyz.yansheng.util.SpiderUtil.getLolHeroSkins2(SpiderUtil.java:292)</span></span><br><span class="line"><span class="comment">at xyz.yansheng.main.App2.main(App2.java:41)</span></span><br></pre></td></tr></table></figure><p>这里我们需要设置下：ignoreContentType为true（默认为false）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Connection.Response res =</span><br><span class="line">    Jsoup.connect(url).header(<span class="string">"Accept"</span>, <span class="string">"*/*"</span>).header(<span class="string">"Accept-Encoding"</span>, <span class="string">"gzip, deflate"</span>)</span><br><span class="line">        .header(<span class="string">"Accept-Language"</span>, <span class="string">"zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3"</span>)</span><br><span class="line">        .header(<span class="string">"Content-Type"</span>, <span class="string">"application/json;charset=UTF-8"</span>)</span><br><span class="line">        .header(<span class="string">"Content-Type"</span>, <span class="string">"application/x-javascript;charset=UTF-8"</span>)</span><br><span class="line">        .header(<span class="string">"User-Agent"</span>, <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:48.0) Gecko/20100101 Firefox/48.0"</span>)</span><br><span class="line">        .timeout(<span class="number">10000</span>).ignoreContentType(<span class="keyword">true</span>).execute();</span><br><span class="line">String body = res.body();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Java爬虫：Jsoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git常用命令</title>
      <link href="/article/caff8000.html"/>
      <url>/article/caff8000.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章主要介绍了我在日常工作中比较常用的一些 <strong>Git命令</strong> ，留作备份，以防忘记。</p><h2 id="1-最常用的">1.最常用的</h2><p>其实git命令很多，最常用的就是下面这几条！<br>（在GitHub新建一个仓库后，项目从哪里来？它就会给你以下几种建议！其中就有常用的命令！）</p><p><img src="https://img-blog.csdnimg.cn/20210210222829751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><a id="more"></a><h3 id="1-1-首次提交">1.1 首次提交</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 初始化仓库</span></span><br><span class="line">git init</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加文件到暂存区</span></span><br><span class="line">git add README.md</span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加所有有变化的文件（更新、新增、删除）到暂存区</span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交记录到本地仓库</span></span><br><span class="line">git commit -m "commit message"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加远程仓库</span></span><br><span class="line">git remote add origin &lt;url&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看远程仓库</span></span><br><span class="line">git remote -v </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 推送本地仓库到远程仓库</span></span><br><span class="line">git push  origin  master</span><br><span class="line"><span class="meta">#</span><span class="bash"> 第一次！推送本地仓库到远程仓库</span></span><br><span class="line">git push  origin -u master</span><br></pre></td></tr></table></figure><h3 id="1-2-非首次提交">1.2 非首次提交</h3><p>主要是查看变化，然后进行处理。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看工作空间状态</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看工作空间具体文件变动</span></span><br><span class="line">git diff</span><br><span class="line"></span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h2 id="2-标签tag">2.标签tag</h2><h3 id="2-1-创建标签">2.1 创建标签</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag -a &lt;tagname&gt; -m "XXX..."</span><br><span class="line">git tag -a v1.1 -m "房屋1楼平面图-v1.1" 963689f</span><br><span class="line">git tag -d v1.0</span><br><span class="line"></span><br><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure><h3 id="2-2-查看标签">2.2 查看标签</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">查看本地某个tag 的详细信息</span><br><span class="line">git show &lt;tagName&gt;</span><br><span class="line"></span><br><span class="line">查看本地所有 tag：</span><br><span class="line"></span><br><span class="line">git tag 或者 git tag -l</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag</span></span><br><span class="line">v1.1</span><br><span class="line">v2.0</span><br><span class="line"></span><br><span class="line">查看远程所有 tag：</span><br><span class="line"></span><br><span class="line">git ls-remote --tags origin</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-remote --tags origin</span></span><br><span class="line">cf83eda83d9a9de499f9426acd7d59c9ddd9818d        refs/tags/v1.1</span><br><span class="line">963689f5b072417b871e0bcb7a1e1ea2b5413631        refs/tags/v1.1^&#123;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-删除标签">2.3 删除标签</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">本地 tag 的删除：</span><br><span class="line">git tag -d &lt;tagName&gt;</span><br><span class="line"></span><br><span class="line">远程 tag 的删除：</span><br><span class="line">git push origin :&lt;tagName&gt;</span><br></pre></td></tr></table></figure><h3 id="2-4-检出标签">2.4 检出标签</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branchName&gt; &lt;tagName&gt;</span><br></pre></td></tr></table></figure><p>因为 tag 本身指向的就是一个 commit，所以和根据commit id 检出分支是一个道理。</p><p>但是需要特别说明的是，如果我们想要修改 tag检出代码分支，那么虽然分支中的代码改变了，但是 tag标记的 commit还是同一个，标记的代码是不会变的，这个要格外的注意。</p><p>其它</p><p>命令git tag -a -m “XXX…” 可以指定标签信息。</p><p>命令git tag -a v0.1.0 -m “release 0.1.0 version” 创建附注标签。</p><p>命令git checkout [tagname] 切换标签。</p><hr><p>参考：</p><ul><li><a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%89%93%E6%A0%87%E7%AD%BE" target="_blank" rel="noopener">https://git-scm.com/book/zh/v2/Git-基础-打标签</a></li><li><a href="https://blog.csdn.net/jdsjlzx/article/details/98654951" target="_blank" rel="noopener">https://blog.csdn.net/jdsjlzx/article/details/98654951</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>error: failed to push some refs to</title>
      <link href="/article/8839bbcc.html"/>
      <url>/article/8839bbcc.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push origin master -u</span></span><br><span class="line">error: src refspec master does not match any</span><br><span class="line">error: failed to push some refs to 'https://github.com/yansheng836/xyz.yansheng.git'</span><br></pre></td></tr></table></figure><p>原因：没有master分支。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PGSQL的字符串函数</title>
      <link href="/article/66123c61.html"/>
      <url>/article/66123c61.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.iteye.com/blog/gavin-chen-262847" target="_blank" rel="noopener">https://www.iteye.com/blog/gavin-chen-262847</a><br><a href="https://blog.csdn.net/likey3/article/details/24493277" target="_blank" rel="noopener">https://blog.csdn.net/likey3/article/details/24493277</a></p><p>今天做项目遇到客户反映了一个麻烦的事情，有一些数据存在，但就是在程序中搜索不出来，后来分析，发现问题为数据前面有几个空白字符，后来用SQL查询了一下，发现八九个数据表中，数千万条数据中有将近三百万条数据存在相同的问题，本想着在查询时添加匹配符’%’，后来试运行了一下，发现不可行，因为尚有很多其它页面存在类似的搜索问题，并且这样会极大地影响到查询的速度，再加上客户迫切需要解决这个问题，由于在白天程序需不间断访问，并且不能对其运行速度产生较大的影响，所以排除了JDBC进行修改的方案，也排除了修改程序搜索代码的方案，头痛不己</p><a id="more"></a><p>后来仔细想了一下，并尝试去查找相关sql字符串操作函数，确认有没有快捷的方式去解决空白字符串问题，很快，我们找到了合适的解决方案，对其中一个测试数据库进行了测试，结果非常令人满意，三百多万的数据只用了数分种，便去掉了所有的无用空格问题，为之兴奋不己。。。用法如下</p><p>update property set memorial_no = btrim(memorial_no, ’ ‘) where memorial_no like ’ %’</p><p>或</p><p>update property set memorial_no = trim(both ’ ’ from memorial_no) where memorial_no like ’ %’</p><p>btrim()方法为删除字符串两边的某类字符，可以同时指定多个，在上面为’ '，意为空格</p><p>trim()方法可以实现所有btrim()能实现的功能，事实上btrim()即为删除两边的某类字符串，trim()可以只指定某一边，当然也可以为两边</p><p>现把Postgresql的字符串操作函数罗列在以，以便日方使用</p><p><strong>函数：string || string</strong> 说明：String concatenation 字符串连接操作<br>例子：‘Post’ || ‘greSQL’ ＝ PostgreSQL</p><p><strong>函数：string || non-string or non-string || string</strong><br>说明：String concatenation with one non-string input 字符串与非字符串类型进行连接操作<br>例子：'Value: ’ || 42 = Value: 42</p><p><strong>函数：bit_length(string)</strong><br>说明：Number of bits in string 计算字符串的位数<br>例子：bit_length(‘jose’) = 32</p><p><strong>函数：char_length(string) or character_length(string)</strong><br>说明：Number of characters in string 计算字符串中字符个数<br>例子：char_length(‘jose’) = 4</p><p><strong>函数：lower(string)</strong><br>说明：Convert string to lower case 转换字符串为小写<br>例子：bit_length(‘jose’) = 32</p><p><strong>函数：octet_length(string)</strong><br>说明：Number of bytes in string 计算字符串的字节数<br>例子：octet_length(‘jose’) = 4</p><p><strong>函数：overlay(string placing string from int [for int])</strong><br>说明：Replace substring 替换字符串中任意长度的子字串为新字符串<br>例子：overlay(‘Txxxxas’ placing ‘hom’ from 2 for 4) = 4</p><p><strong>函数：position(substring in string)</strong><br>说明：Location of specified substring 子串在一字符串中的位置<br>例子：position(‘om’ in ‘Thomas’) = 3</p><p><strong>函数：substring(string [from int] [for int])</strong><br>说明：Extract substring 截取任意长度的子字符串<br>例子：substring(‘Thomas’ from 2 for 3) = hom</p><p><strong>函数：substring(string from pattern)</strong><br>说明：Extract substring matching POSIX regular expression. See Section 9.7 for more information on pattern matching. 利用正则表达式对一字符串进行任意长度的字串的截取<br>例子：substring(‘Thomas’ from ‘…$’) = mas</p><p><strong>函数：substring(string from pattern for escape)</strong><br>说明：Extract substring matching SQL regular expression. See Section 9.7 for more information on pattern matching. 利于正则表达式对某类字符进行删除，以得到子字符串<br>例子：trim(both ‘x’ from ‘xTomxx’) = Tom</p><p><strong>函数：trim([leading | trailing | both] [characters] from string)</strong><br>说明：Remove the longest string containing only the characters (a space by default) from the start/end/both ends of the string 去除尽可能长开始，结束或者两边的某类字符，默认为去除空白字符，当然可以自己指定，可同时指定多个要删除的字符串<br>例子：trim(both ‘x’ from ‘xTomxx’) = Tom</p><p><strong>函数：upper(string)</strong><br>说明：Convert string to uppercase 将字符串转换为大写<br>例子：upper(‘tom’) = TOM</p><p><strong>函数：ascii(string)</strong><br>说明：ASCII code of the first character of the argument. For UTF8 returns the Unicode code point of the character. For other multibyte encodings. the argument must be a strictly ASCII character. 得到某一个字符的Assii值<br>例子：ascii(‘x’) = 120</p><p><strong>函数：btrim(string text [, characters text])</strong><br>说明：Remove the longest string consisting only of characters in characters (a space by default) from the start and end of string 去除字符串两边的所有指定的字符，可同时指定多个字符<br>例子：btrim(‘xyxtrimyyx’, ‘xy’) = trim</p><p><strong>函数：chr(int)</strong><br>说明：Character with the given code. For UTF8 the argument is treated as a Unicode code point. For other multibyte encodings the argument must designate a strictly ASCII character. The NULL (0) character is not allowed because text data types cannot store such bytes. 得到某ACSII值对应的字符<br>例子：chr(65) = A</p><p>**函数：convert(string bytea, src_encoding name, dest_encoding name)**说明：Convert string to dest_encoding. The original encoding is specified by src_encoding. The string must be valid in this encoding. Conversions can be defined by CREATE CONVERSION. Also there are some predefined conversions. See Table 9-7 for available conversions. 转换字符串编码，指定源编码与目标编码<br>例子：convert(‘text_in_utf8’, ‘UTF8’, ‘LATIN1’) = text_in_utf8 represented in ISO 8859-1 encoding</p><p>**函数：convert_from(string bytea, src_encoding name)**说明：Convert string to the database encoding. The original encoding is specified by src_encoding. The string must be valid in this encoding. 转换字符串编码，自己要指定源编码,目标编码默认为数据库指定编码，<br>例子：convert_from(‘text_in_utf8’, ‘UTF8’) = text_in_utf8 represented in the current database encoding</p><p>**函数：convert_to(string text, dest_encoding name)**说明：Convert string to dest_encoding.转换字符串编码，源编码默认为数据库指定编码，自己要指定目标编码,<br>例子：convert_to(‘some text’, ‘UTF8’) = some text represented in the UTF8 encoding</p><p>**函数：decode(string text, type text)**说明：Decode binary data from string previously encoded with encode. Parameter type is same as in encode. 对字符串按指定的类型进行解码<br>例子：decode(‘MTIzAAE=’, ‘base64’) = 123\000\001</p><p>**函数：encode(data bytea, type text)**说明：Encode binary data to different representation. Supported types are: base64, hex, escape. Escape merely outputs null bytes as \000 and doubles backslashes. 与decode相反，对字符串按指定类型进行编码<br>例子：encode(E’123\000\001’, ‘base64’) = MTIzAAE=</p><p>**函数：initcap(string)**说明：Convert the first letter of each word to uppercase and the rest to lowercase. Words are sequences of alphanumeric characters separated by non-alphanumeric characters. 将字符串所有的单词进行格式化，首字母大写，其它为小写<br>例子：initcap(‘hi THOMAS’) = Hi Thomas</p><p>**函数：length(string)**说明：Number of characters in string 讲算字符串长度<br>例子：length(‘jose’) = 4</p><p>**函数：length(stringbytea, encoding name )**说明：Number of characters in string in the given encoding. The string must be valid in this encoding. 计算字符串长度，指定字符串使用的编码<br>例子：length(‘jose’, ‘UTF8’) = 4</p><p>**函数：lpad(string text, length int [, fill text])**说明：Fill up the string to length length by prepending the characters fill (a space by default). If the string is already longer than length then it is truncated (on the right). 对字符串左边进行某类字符自动填充，即不足某一长度，则在左边自动补上指定的字符串，直至达到指定长度，可同时指定多个自动填充的字符<br>例子：lpad(‘hi’, 5, ‘xy’) = xyxhi</p><p>**函数：ltrim(string text [, characters text])**说明：Remove the longest string containing only characters from characters (a space by default) from the start of string 删除字符串左边某一些的字符，可以时指定多个要删除的字符<br>例子：trim</p><p>**函数：md5(string)**说明：Calculates the MD5 hash of string, returning the result in hexadecimal 将字符串进行md5编码<br>例子：md5(‘abc’) = 900150983cd24fb0 d6963f7d28e17f72</p><p>**函数：pg_client_encoding()**说明：Current client encoding name 得到pg客户端编码<br>例子：pg_client_encoding() = SQL_ASCII</p><p>**函数：quote_ident(string text)**说明：Return the given string suitably quoted to be used as an identifier in an SQL statement string. Quotes are added only if necessary (i.e., if the string contains non-identifier characters or would be case-folded). Embedded quotes are properly doubled. 对某一字符串加上两引号<br>例子：quote_ident(‘Foo bar’) = “Foo bar”</p><p>**函数：quote_literal(string text)**说明：Return the given string suitably quoted to be used as a string literal in an SQL statement string. Embedded single-quotes and backslashes are properly doubled. 对字符串里两边加上单引号，如果字符串里面出现sql编码的单个单引号，则会被表达成两个单引号<br>例子：quote_literal(‘O’Reilly’) = ‘O’‘Reilly’</p><p>**函数：quote_literal(value anyelement)**说明：Coerce the given value to text and then quote it as a literal. Embedded single-quotes and backslashes are properly doubled. 将一数值转换为字符串，并为其两边加上单引号，如果数值中间出现了单引号，也会被表示成两个单引号<br>例子：quote_literal(42.5) = ‘42.5’</p><p>**函数：regexp_matches(string text, pattern text [, flags text])**说明：Return all captured substrings resulting from matching a POSIX regular expression against the string. See Section 9.7.3 for more information. 对字符串按正则表达式进行匹配，如果存在则会在结果数组中表示出来<br>例子：regexp_matches(‘foobarbequebaz’, ‘(bar)(beque)’) = {bar,beque}</p><p>**函数：regexp_replace(string text, pattern text, replacement text [, flags text])**说明：Replace substring(s) matching a POSIX regular expression. See Section 9.7.3 for more information. 利用正则表达式对字符串进行替换<br>例子：regexp_replace(‘Thomas’, ‘.[mN]a.’, ‘M’) = ThM</p><p>**函数：regexp_split_to_array(string text, pattern text [, flags text ])**说明：Split string using a POSIX regular expression as the delimiter. See Section 9.7.3 for more information. 利用正则表达式将字符串分割成数组<br>例子：regexp_split_to_array(‘hello world’, E’\s+’) = {hello,world}</p><p>**函数：regexp_split_to_table(string text, pattern text [, flags text])**说明：Split string using a POSIX regular expression as the delimiter. See Section 9.7.3 for more information. 利用正则表达式将字符串分割成表格<br>例子：regexp_split_to_table(‘hello world’, E’\s+’) =<br>hello<br>world<br>(2 rows)</p><p>**函数：repeat(string text, number int)**说明：Repeat string the specified number of times 重复字符串一指定次数<br>例子：repeat(‘Pg’, 4) = PgPgPgPg</p><p>**函数：replace(string text, from text, to text)**说明：Replace all occurrences in string of substring from with substring to 将字符的某一子串替换成另一子串<br>例子：(‘abcdefabcdef’, ‘cd’, ‘XX’) = abXXefabXXef</p><p>**函数：rpad(string text, length int [, fill text])**说明：Fill up the string to length length by appending the characters fill (a space by default). If the string is already longer than length then it is truncated. 对字符串进行填充，填充内容为指定的字符串<br>例子：rpad(‘hi’, 5, ‘xy’) = hixyx</p><p>**函数：rtrim(string text [, characters text])**说明：Remove the longest string containing only characters from characters (a space by default) from the end of string<br>去除字符串右边指定的字符<br>例子：rtrim(‘trimxxxx’, ‘x’) = trim</p><p>**函数：split_part(string text, delimiter text, field int)**说明：Split string on delimiter and return the given field (counting from one) 对字符串按指定子串进行分割，并返回指定的数值位置的值<br>例子：split_part(<a href="mailto:'%20rel=" target="_blank" rel="noopener">‘abc<sub>@</sub>def<sub>@</sub>ghi’</a>, <a href="mailto:'%20rel=" target="_blank" rel="noopener">‘<sub>@</sub>’</a>, 2) = def</p><p>**函数：strpos(string, substring)**说明：Location of specified substring (same as position(substring in string), but note the reversed argument order) 指定字符串在目标字符串的位置<br>例子：strpos(‘high’, ‘ig’) = 2</p><p>**函数：substr(string, from [, count])**说明：Extract substring (same as substring(string from from for count)) 截取子串<br>例子：substr(‘alphabet’, 3, 2) = ph</p><p>**函数：to_ascii(string text [, encoding text])**说明：Convert string to ASCII from another encoding (only supports conversion from LATIN1, LATIN2, LATIN9, and WIN1250 encodings) 将字符串转换成ascii编码字符串<br>例子：to_ascii(‘Karel’) = Karel</p><p>**函数：to_hex(number int or bigint)**说明：Convert number to its equivalent hexadecimal representation 对数值进行十六进制编码<br>例子：to_hex(2147483647) = 7fffffff</p><p>**函数：translate(string text, from text, to text)**说明：Any character in string that matches a character in the from set is replaced by the corresponding character in the to set 将字符串中某些匹配的字符替换成指定字符串，目标字符与源字符都可以同时指定多个<br>例子：translate(‘12345’, ‘14’, ‘ax’) = a23x5</p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PostgreSQL判断字符串包含的几种方法</title>
      <link href="/article/d799bdc8.html"/>
      <url>/article/d799bdc8.html</url>
      
        <content type="html"><![CDATA[<p><strong>1. position(substring in string):</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># select position('aa' in 'abcd');</span></span><br><span class="line"> position </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line">        0</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select position('ab' in 'abcd');</span></span><br><span class="line"> position </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line">        1</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select position('ab' in 'abcdab');</span></span><br><span class="line"> position </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line">        1</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure><p>可以看出，如果包含目标字符串，会返回目标字符串笫一次出现的位置，可以根据返回值是否大于0来判断是否包含目标字符串。</p><a id="more"></a><p><strong>2. strpos(string, substring): 该函数的作用是声明子串的位置。</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># select strpos('abcd','aa');</span></span><br><span class="line"> strpos </span><br><span class="line"><span class="comment">--------</span></span><br><span class="line">      0</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select strpos('abcd','ab');</span></span><br><span class="line"> strpos </span><br><span class="line"><span class="comment">--------</span></span><br><span class="line">      1</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select strpos('abcdab','ab');</span></span><br><span class="line"> strpos </span><br><span class="line"><span class="comment">--------</span></span><br><span class="line">      1</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure><p>作用与position函数一致。</p><p><strong>3. 使用正则表达式：</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># select 'abcd' ~ 'aa';</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> f</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select 'abcd' ~ 'ab';</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> t</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select 'abcdab' ~ 'ab';</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> t</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure><p><strong>4. 使用数组的@&gt;操作符（不能准确判断是否包含）：</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># select regexp_split_to_array('abcd','') @&gt; array['b','e'];</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> f</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select regexp_split_to_array('abcd','') @&gt; array['a','b'];</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> t</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure><p><strong>注意下面这些例子：</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">postgres=<span class="comment"># select regexp_split_to_array('abcd','') @&gt; array['a','a'];</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> t</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select regexp_split_to_array('abcd','') @&gt; array['a','c'];</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> t</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">postgres=<span class="comment"># select regexp_split_to_array('abcd','') @&gt; array['a','c','a','c'];</span></span><br><span class="line"> ?column? </span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"> t</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure><p>可以看出，数组的包含操作符判断的时候不管顺序、重复，只要包含了就返回true，在真正使用的时候注意。</p><hr><p>转自：<a href="https://blog.csdn.net/luojinbai/article/details/45461837" target="_blank" rel="noopener">https://blog.csdn.net/luojinbai/article/details/45461837</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>聚合函数count(*)，count(1)和count(列名)的区别</title>
      <link href="/article/95e8bd9.html"/>
      <url>/article/95e8bd9.html</url>
      
        <content type="html"><![CDATA[<h2 id="执行效果上">执行效果上</h2><p>count(*)：包括了所有的列，相当于行数，在统计结果的时候，不会忽略列值为NULL 的行。<br>count(1)：会统计表中的所有的记录数，包含列值为NULL 的行。<br>count(列名)：只包括列名那一列，在统计结果的时候，会忽略列值为空（这里的空不是指空字符串或者0，而是表示null）的计数。</p><a id="more"></a><h2 id="执行效率上">执行效率上</h2><p>列名为主键，count(列名) 会比 count(1) 快。<br>列名不为主键，count(1) 会比 count(列名) 快。<br>如果表多个列并且没有主键，则 count(1) 的执行效率优于 count(*) 的执行效率。</p><p>如果有主键，则 select count(主键) 的执行效率是最优的。<br>如果表只有一个字段，则 select count(*) 的执行效率是最优的。</p><hr><p>转自：<a href="https://blog.csdn.net/dongzhanglong/article/details/105936580" target="_blank" rel="noopener">https://blog.csdn.net/dongzhanglong/article/details/105936580</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> PostgreSQL </tag>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL开窗函数</title>
      <link href="/article/397c504b.html"/>
      <url>/article/397c504b.html</url>
      
        <content type="html"><![CDATA[<h2 id="为什么需要开窗函数？">为什么需要开窗函数？</h2><p>辅助聚合函数！</p><h2 id="背景">背景</h2><p>通常我们在使用聚合函数时，我们可以查询出的列很有限，比如<code>row_number()</code>用于统计当前所在行数，但是我们却不能同时查出其它列，比如：<code>SELECT row_number(),* from student;</code>，这样是违规的！</p><p>这样就导致了我们使用<code>row_number()</code> 只能统计当前行数，不能同时查出该行的其他内容，那么这个聚合函数在这里的作用好像不大！！而如果要实现这个功能我们可以通过复杂子查询或者存储过程来实现，但是会有点麻烦（臃肿）。</p><p>而开窗函数正式基于这个背景而诞生的！</p><a id="more"></a><h2 id="开窗函数简介">开窗函数简介</h2><blockquote><p>《圣经》说：“当上帝关了这扇门，一定会为你打开另一扇窗。”</p></blockquote><p>与聚合函数一样，开窗函数也是对<strong>行集组</strong>进行聚合计算，但是它不像普通聚合函数那样每组只返回一个值，开窗函数可以为每组返回多个值，因为开窗函数所执行聚合计算的行集组是窗口。</p><p>在 ISO SQL 规定了这样的函数为开窗函数，在 Oracle 中则被称为分析函数。</p><p>目前在 MSSQLServer、Oracle、DB2 等主流数据库中都提供了对开窗函数的支持，不过非常遗憾的是 MYSQL 暂时还未对开窗函数给予支持。</p><h2 id="开窗函数的用法">开窗函数的用法</h2><p>与聚合函数不同的是，开窗函数在聚合函数后增加了一个 <code>OVER</code> 关键字。</p><p><strong>开窗函数格式： 函数名(列) OVER(选项)</strong></p><p>OVER 关键字表示把函数当成开窗函数而不是聚合函数。SQL 标准允许将所有聚合函数用做开窗函数，使用 OVER 关键字来区分这两种用法。</p><p>在上边的例子中，开窗函数 row_number(*) OVER()对于查询结果的每一行都返回所有符合条件的行的条数。OVER 关键字后的括号中还经常添加选项用以改变进行聚合运算的窗口范围。如果 OVER 关键字后的括号中的选项为空，则开窗函数会对结果集中的所有行进行聚合运算。</p><p>举例：显示</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> row_number() <span class="keyword">over</span>(),* <span class="keyword">from</span> student <span class="keyword">limit</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 有针对性</span></span><br><span class="line"><span class="comment"># 按照课程进行分组，然后按照分数进行逆序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> row_number() <span class="keyword">over</span>(<span class="keyword">partition</span> <span class="keyword">by</span> course <span class="keyword">ORDER</span> <span class="keyword">BY</span> score <span class="keyword">desc</span>),* <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure><hr><p>参考：<br><a href="https://www.cnblogs.com/lihaoyang/p/6756956.html" target="_blank" rel="noopener">https://www.cnblogs.com/lihaoyang/p/6756956.html</a></p><p><a href="https://www.cnblogs.com/yachao1120/p/12175952.html" target="_blank" rel="noopener">https://www.cnblogs.com/yachao1120/p/12175952.html</a></p><p><a href="https://blog.csdn.net/u010251897/article/details/80504896" target="_blank" rel="noopener">https://blog.csdn.net/u010251897/article/details/80504896</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pgsql的一些常用的时间相关的内置函数</title>
      <link href="/article/9f7f247f.html"/>
      <url>/article/9f7f247f.html</url>
      
        <content type="html"><![CDATA[<p>pgsql的一些常用的时间相关的内置函数：</p><a id="more"></a><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.时间相关</span></span><br><span class="line"><span class="comment">-- 1.1 基本时间</span></span><br><span class="line"><span class="comment">-- 1.1.1 完整时间（日期+时间）</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">CURRENT_TIMESTAMP</span>; <span class="comment">--2021-01-01 12:00:14.654607+08</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>(); <span class="comment">-- 2021-01-01 12:09:09.433443+08</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.1.2 日期</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">current_date</span>; <span class="comment">-- 2021-01-01</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.1.3 时间</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">current_time</span>; <span class="comment">-- 12:00:14.631598+08</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.1.4 本地时间日期</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">localtime</span>; <span class="comment">-- 本地时间。 12:00:00.653848</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">localtimestamp</span>; <span class="comment">--本地日期时间 2021-01-01 12:01:03.287146</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2 日期计算(使用 interval 关键字进行时间加减，interval 也可以不写(最好写上，有时候减法好像会有问题))</span></span><br><span class="line"><span class="comment">-- 1.2.1 年： years year y Y</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">now</span>();</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'2 years'</span>; <span class="comment">--2023-01-01 17:05:12.478947+08</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'2years'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'2 y'</span>; </span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'2 Y'</span>; </span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() - <span class="built_in">interval</span> <span class="string">'2 y'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.2 月 month M (注意小写m是分钟)</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 month'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 m'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.3 日 day</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 day'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 d'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 days'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.4 周 week w</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 week'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 w'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.5 小时 hour</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 hour'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 h'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.6 分钟 minute m</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 minute'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 m'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.7 秒 second s</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>();</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 second'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() + <span class="built_in">interval</span> <span class="string">'1 s'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2.8 省略interval</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>();</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() +  <span class="string">'1 second'</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>() +  <span class="string">'1 s'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.3 计算两个时间差 age(timestamp, timestamp)</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">now</span>();</span><br><span class="line"><span class="keyword">select</span> age(<span class="keyword">now</span>(), <span class="keyword">now</span>() +  <span class="string">'1 h'</span>);</span><br><span class="line"><span class="keyword">select</span> age(<span class="keyword">now</span>(), <span class="keyword">now</span>() +  <span class="string">'1 d'</span>);</span><br><span class="line"><span class="keyword">select</span> age(<span class="keyword">now</span>(), <span class="keyword">now</span>() +  <span class="string">'1 MONTH'</span>);</span><br><span class="line"><span class="keyword">select</span> age(<span class="keyword">now</span>(), <span class="keyword">now</span>() +  <span class="string">'1 y'</span>);</span><br><span class="line"><span class="keyword">select</span> age(<span class="keyword">now</span>(), <span class="keyword">now</span>() - <span class="built_in">INTERVAL</span> <span class="string">'1 y'</span>);</span><br><span class="line"><span class="comment">-- select age(now(), now() -  '1 y');  -- ERROR:  invalid input syntax for type timestamp with time zone: "1 y"</span></span><br><span class="line"><span class="keyword">select</span> age(<span class="keyword">now</span>(), <span class="built_in">timestamp</span> <span class="string">'1997-05-06'</span>);</span><br><span class="line"><span class="keyword">select</span> age(<span class="built_in">timestamp</span> <span class="string">'1997-05-06'</span>);</span><br><span class="line"><span class="keyword">select</span> age(<span class="built_in">timestamp</span> <span class="string">'1970-01-01'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4 时间字段的截取 (https://blog.qdac.cc/?p=70 , https://www.runoob.com/postgresql/postgresql-datetime.html ，http://www.postgres.cn/docs/9.4/functions-datetime.html)</span></span><br><span class="line"><span class="comment">-- 1.4.1 EXTRACT(field FROM source)   提取:field表示取的时间对象（年，月，日，小时等值），source 表示取的日期来源，类型为 timestamp、time 或 interval。</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">year</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">month</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">day</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">hour</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">minute</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">second</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">hour</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(<span class="keyword">hour</span> <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看今天是一年中的第几天 day of year</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(doy <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(doy <span class="keyword">from</span> <span class="built_in">date</span> <span class="string">'2020-12-31'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--每周的星期号，星期天(0)到星期六(6)</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(dow <span class="keyword">from</span> <span class="keyword">now</span>()); <span class="comment">-- 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看现在距1970-01-01 00:00:00 UTC 的秒数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">extract</span>(epoch <span class="keyword">from</span> <span class="keyword">now</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 把epoch 值转换回时间戳</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TIMESTAMP</span> <span class="keyword">WITH</span> <span class="built_in">TIME</span> ZONE <span class="string">'epoch'</span> + <span class="number">1369755555</span> * <span class="built_in">INTERVAL</span> <span class="string">'1 second'</span>; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4.2 date_part('field'，source) 获取子域(等效于extract)；</span></span><br><span class="line"><span class="keyword">select</span> date_part(<span class="string">'hour'</span>,<span class="keyword">now</span>());</span><br><span class="line"><span class="keyword">SELECT</span> date_part(<span class="string">'day'</span>, <span class="built_in">TIMESTAMP</span> <span class="string">'2001-02-16 20:38:40'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4.3 date_trunc('field'，source) 截断成指定的精度，不要的都置为0</span></span><br><span class="line"><span class="keyword">SELECT</span> date_trunc(<span class="string">'hour'</span>, <span class="built_in">timestamp</span> <span class="string">'2001-02-16 20:38:40'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> date_trunc(<span class="string">'day'</span>, <span class="built_in">TIMESTAMP</span> <span class="string">'2001-02-16 20:38:40'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4.4 isfinite(date) 测试是否为有穷日期(不是 +/-无穷) ，返回true 或者false，不会用</span></span><br><span class="line"><span class="comment">-- infinite adj. 无限的，无穷的</span></span><br><span class="line"><span class="keyword">SELECT</span> isfinite(<span class="built_in">date</span> <span class="string">'2001-02-16'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> isfinite(<span class="built_in">date</span> <span class="string">'0000-02-16'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4.5 justify_days(interval) 按照每月 30 天调整时间间隔</span></span><br><span class="line"><span class="comment">-- justify 使齐整</span></span><br><span class="line"><span class="keyword">SELECT</span> justify_days(<span class="built_in">interval</span> <span class="string">'35 days'</span>);  <span class="comment">-- 1 mon 5 days</span></span><br><span class="line"><span class="keyword">SELECT</span> justify_hours(<span class="built_in">interval</span> <span class="string">'25 h'</span>); <span class="comment">--1 day 01:00:00</span></span><br><span class="line"> <span class="comment">-- 使用justify_days和justify_hours调整时间间隔的同时进行正负号调整</span></span><br><span class="line"><span class="keyword">SELECT</span> justify_interval(<span class="built_in">interval</span> <span class="string">'1 mon -1 hour'</span>); <span class="comment">--29 days 23:00:00 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4.6 构造日期 make_date(year int, month int, day int)</span></span><br><span class="line"><span class="keyword">select</span> make_date(<span class="number">2013</span>, <span class="number">7</span>, <span class="number">15</span>);</span><br><span class="line"><span class="keyword">select</span> make_interval(<span class="keyword">days</span> := <span class="number">10</span>);</span><br><span class="line"><span class="keyword">select</span> make_time(<span class="number">8</span>, <span class="number">15</span>, <span class="number">23.5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.4.7  timeofday() 与clock_timestamp相同，但结果是一个text 字符串；</span></span><br><span class="line"><span class="keyword">select</span> clock_timestamp();</span><br><span class="line"><span class="keyword">SELECT</span> timeofday();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.5 日期转文本 https://blog.csdn.net/snn1410/article/details/7741283 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 模式描述</span></span><br><span class="line"><span class="comment">-- HH一天的小时数(01-12)</span></span><br><span class="line"><span class="comment">-- HH12一天的小时数(01-12)</span></span><br><span class="line"><span class="comment">-- HH24一天的小时数(00-23)</span></span><br><span class="line"><span class="comment">-- MI分钟(00-59)</span></span><br><span class="line"><span class="comment">-- SS秒(00-59)</span></span><br><span class="line"><span class="comment">-- MS毫秒(000-999)</span></span><br><span class="line"><span class="comment">-- US微秒(000000-999999)</span></span><br><span class="line"><span class="comment">-- AM正午标识(大写)</span></span><br><span class="line"><span class="comment">-- Y,YYY带逗号的年(4和更多位)</span></span><br><span class="line"><span class="comment">-- YYYY年(4和更多位)</span></span><br><span class="line"><span class="comment">-- YYY年的后三位</span></span><br><span class="line"><span class="comment">-- YY年的后两位</span></span><br><span class="line"><span class="comment">-- Y年的最后一位</span></span><br><span class="line"><span class="comment">-- MONTH全长大写月份名(空白填充为9字符)</span></span><br><span class="line"><span class="comment">-- Month全长混合大小写月份名(空白填充为9字符)</span></span><br><span class="line"><span class="comment">-- month全长小写月份名(空白填充为9字符)</span></span><br><span class="line"><span class="comment">-- MON大写缩写月份名(3字符)</span></span><br><span class="line"><span class="comment">-- Mon缩写混合大小写月份名(3字符)</span></span><br><span class="line"><span class="comment">-- mon小写缩写月份名(3字符)</span></span><br><span class="line"><span class="comment">-- MM月份号(01-12)</span></span><br><span class="line"><span class="comment">-- DAY全长大写日期名(空白填充为9字符)</span></span><br><span class="line"><span class="comment">-- Day全长混合大小写日期名(空白填充为9字符)</span></span><br><span class="line"><span class="comment">-- day全长小写日期名(空白填充为9字符)</span></span><br><span class="line"><span class="comment">-- DY缩写大写日期名(3字符)</span></span><br><span class="line"><span class="comment">-- Dy缩写混合大小写日期名(3字符)</span></span><br><span class="line"><span class="comment">-- dy缩写小写日期名(3字符)</span></span><br><span class="line"><span class="comment">-- DDD一年里的日子(001-366)</span></span><br><span class="line"><span class="comment">-- DD一个月里的日子(01-31)</span></span><br><span class="line"><span class="comment">-- D一周里的日子(1-7；周日是1)</span></span><br><span class="line"><span class="comment">-- W一个月里的周数(1-5)(第一周从该月第一天开始)</span></span><br><span class="line"><span class="comment">-- WW一年里的周数(1-53)(第一周从该年的第一天开始)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意这里不区分大小写</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">current_date</span>,<span class="string">'yyyy'</span>);</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">current_date</span>,<span class="string">'y'</span>); <span class="comment">-- 年的最后一位</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">current_date</span>,<span class="string">'yy'</span>);</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">current_date</span>,<span class="string">'yyy'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">current_date</span> - <span class="built_in">interval</span> <span class="string">'1 day'</span>,<span class="string">'yyyy-MM-dd'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">now</span>();</span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'YYYY-MM-DD HH24:MI:SS'</span>); <span class="comment">-- MM 月份，MI 分钟，SS 分钟，MS 毫秒</span></span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'yyyy-mm-dd hh24:mi:ss'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'YYYY-MM-DD HH24:MM:SS.MS'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'YYYY-MM-DD HH:MI:SS'</span>); <span class="comment">-- HH24 24 小时制，HH 12小时制</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意这里区分大小写 !!</span></span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'MONTH'</span>); <span class="comment">-- 全长大写月份名(空白填充为9字符) JANUARY  </span></span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'Month'</span>); <span class="comment">-- January  </span></span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'month'</span>); <span class="comment">-- 全长小写月份名(空白填充为9字符) january  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DDD一年里的日子(001-366)</span></span><br><span class="line"><span class="comment">-- DD一个月里的日子(01-31)</span></span><br><span class="line"><span class="comment">-- D一周里的日子(1-7；周日是1)</span></span><br><span class="line"><span class="comment">-- W一个月里的周数(1-5)(第一周从该月第一天开始)</span></span><br><span class="line"><span class="comment">-- WW一年里的周数(1-53)(第一周从该年的第一天开始)</span></span><br><span class="line"><span class="keyword">SELECT</span> to_char(<span class="keyword">now</span>(),<span class="string">'DDD'</span>); <span class="comment">-- 001</span></span><br></pre></td></tr></table></figure><hr><p>参考：</p><ul><li><a href="https://www.cnblogs.com/mchina/archive/2013/04/15/3010418.html" target="_blank" rel="noopener">https://www.cnblogs.com/mchina/archive/2013/04/15/3010418.html</a></li><li><a href="https://www.runoob.com/postgresql/postgresql-datetime.html" target="_blank" rel="noopener">https://www.runoob.com/postgresql/postgresql-datetime.html</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL排序时null前后顺序分析</title>
      <link href="/article/3ac38cd2.html"/>
      <url>/article/3ac38cd2.html</url>
      
        <content type="html"><![CDATA[<p>在排序时，我们可能会遇到排序字段为null的情况，但是又需要该null数据（即不能限制该字段is not null），而一般情况下我们都希望非null数据在前面。我们来看下这两种情况：</p><ul><li>升序排序（默认排序）时，null默认会放在最后面，当然如果我们需要null在前面，可以这样：<code>ORDER BY tn_time ASC NULLS FIRST</code></li><li>降序时，null默认会放在最前面，我们可以使用 <code>ORDER BY tn_time DESC NULLS LAST</code> 将null放到最后面。</li></ul><hr><p>参考：<a href="https://blog.csdn.net/zebgdddd/article/details/78458927" target="_blank" rel="noopener">https://blog.csdn.net/zebgdddd/article/details/78458927</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PostgreSQL常用函数</title>
      <link href="/article/b2a3f40.html"/>
      <url>/article/b2a3f40.html</url>
      
        <content type="html"><![CDATA[<p>PostgreSQL 内置函数也称为聚合函数，用于对字符串或数字数据执行处理。</p><p>下面是所有通用 PostgreSQL 内置函数的列表：</p><ul><li>COUNT 函数：用于计算数据库表中的行数。</li><li>MAX 函数：用于查询某一特定列中最大值。</li><li>MIN 函数：用于查询某一特定列中最小值。</li><li>AVG 函数：用于计算某一特定列中平均值。</li><li>SUM 函数：用于计算数字列所有值的总和。</li><li>ARRAY 函数：用于输入值(包括null)添加到数组中。</li><li>Numeric 函数：完整列出一个 SQL 中所需的操作数的函数。</li><li>String 函数：完整列出一个 SQL 中所需的操作字符的函数。</li></ul><hr><a id="more"></a><h2 id="数学函数">数学函数</h2><p>下面是PostgreSQL中提供的数学函数列表，需要说明的是，这些函数中有许多都存在多种形式，区别只是参数类型不同。除非特别指明，任何特定形式的函数都返回和它的参数相同的数据类型。</p><table><thead><tr><th align="left">函数</th><th align="left">返回类型</th><th align="left">描述</th><th align="left">例子</th><th align="left">结果</th></tr></thead><tbody><tr><td align="left">abs(x)</td><td align="left"></td><td align="left">绝对值</td><td align="left">abs(-17.4)</td><td align="left">17.4</td></tr><tr><td align="left">cbrt(double)</td><td align="left"></td><td align="left">立方根</td><td align="left">cbrt(27.0)</td><td align="left">3</td></tr><tr><td align="left">ceil(double/numeric)</td><td align="left"></td><td align="left">不小于参数的最小的整数</td><td align="left">ceil(-42.8)</td><td align="left">-42</td></tr><tr><td align="left">degrees(double)</td><td align="left"></td><td align="left">把弧度转为角度</td><td align="left">degrees(0.5)</td><td align="left">28.6478897565412</td></tr><tr><td align="left">exp(double/numeric)</td><td align="left"></td><td align="left">自然指数</td><td align="left">exp(1.0)</td><td align="left">2.71828182845905</td></tr><tr><td align="left">floor(double/numeric)</td><td align="left"></td><td align="left">不大于参数的最大整数</td><td align="left">floor(-42.8)</td><td align="left">-43</td></tr><tr><td align="left">ln(double/numeric)</td><td align="left"></td><td align="left">自然对数</td><td align="left">ln(2.0)</td><td align="left">0.693147180559945</td></tr><tr><td align="left">log(double/numeric)</td><td align="left"></td><td align="left">10为底的对数</td><td align="left">log(100.0)</td><td align="left">2</td></tr><tr><td align="left">log(b numeric,x numeric)</td><td align="left">numeric</td><td align="left">指定底数的对数</td><td align="left">log(2.0, 64.0)</td><td align="left">6.0000000000</td></tr><tr><td align="left">mod(y, x)</td><td align="left"></td><td align="left">取余数</td><td align="left">mod(9,4)</td><td align="left">1</td></tr><tr><td align="left">pi()</td><td align="left">double</td><td align="left">"π"常量</td><td align="left">pi()</td><td align="left">3.14159265358979</td></tr><tr><td align="left">power(a double, b double)</td><td align="left">double</td><td align="left">求a的b次幂</td><td align="left">power(9.0, 3.0)</td><td align="left">729</td></tr><tr><td align="left">power(a numeric, b numeric)</td><td align="left">numeric</td><td align="left">求a的b次幂</td><td align="left">power(9.0, 3.0)</td><td align="left">729</td></tr><tr><td align="left">radians(double)</td><td align="left">double</td><td align="left">把角度转为弧度</td><td align="left">radians(45.0)</td><td align="left">0.785398163397448</td></tr><tr><td align="left">random()</td><td align="left">double</td><td align="left">0.0到1.0之间的随机数值</td><td align="left">random()</td><td align="left"></td></tr><tr><td align="left">round(double/numeric)</td><td align="left"></td><td align="left">圆整为最接近的整数</td><td align="left">round(42.4)</td><td align="left">42</td></tr><tr><td align="left">round(v numeric, s int)</td><td align="left">numeric</td><td align="left">圆整为s位小数数字</td><td align="left">round(42.438,2)</td><td align="left">42.44</td></tr><tr><td align="left">sign(double/numeric)</td><td align="left"></td><td align="left">参数的符号(-1,0,+1)</td><td align="left">sign(-8.4)</td><td align="left">-1</td></tr><tr><td align="left">sqrt(double/numeric)</td><td align="left"></td><td align="left">平方根</td><td align="left">sqrt(2.0)</td><td align="left">1.4142135623731</td></tr><tr><td align="left">trunc(double/numeric)</td><td align="left"></td><td align="left">截断(向零靠近)</td><td align="left">trunc(42.8)</td><td align="left">42</td></tr><tr><td align="left">trunc(v numeric, s int)</td><td align="left">numeric</td><td align="left">截断为s小数位置的数字</td><td align="left">trunc(42.438,2)</td><td align="left">42.43</td></tr></tbody></table>### 三角函数列表<table><thead><tr><th align="left">函数</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">acos(x)</td><td align="left">反余弦</td></tr><tr><td align="left">asin(x)</td><td align="left">反正弦</td></tr><tr><td align="left">atan(x)</td><td align="left">反正切</td></tr><tr><td align="left">atan2(x, y)</td><td align="left">正切 y/x 的反函数</td></tr><tr><td align="left">cos(x)</td><td align="left">余弦</td></tr><tr><td align="left">cot(x)</td><td align="left">余切</td></tr><tr><td align="left">sin(x)</td><td align="left">正弦</td></tr><tr><td align="left">tan(x)</td><td align="left">正切</td></tr></tbody></table><hr><h2 id="字符串函数和操作符">字符串函数和操作符</h2><p>下面是 PostgreSQL 中提供的字符串操作符列表：</p><table><thead><tr><th align="left">函数</th><th align="left">返回类型</th><th align="left">描述</th><th align="left">例子</th><th align="left">结果</th></tr></thead><tbody><tr><td align="left">string 丨丨 string</td><td align="left">text</td><td align="left">字串连接</td><td align="left">‘Post’ 丨丨 ‘greSQL’</td><td align="left">PostgreSQL</td></tr><tr><td align="left">bit_length(string)</td><td align="left">int</td><td align="left">字串里二进制位的个数</td><td align="left">bit_length(‘jose’)</td><td align="left">32</td></tr><tr><td align="left">char_length(string)</td><td align="left">int</td><td align="left">字串中的字符个数</td><td align="left">char_length(‘jose’)</td><td align="left">4</td></tr><tr><td align="left">convert(string using conversion_name)</td><td align="left">text</td><td align="left">使用指定的转换名字改变编码。</td><td align="left">convert(‘PostgreSQL’ using iso_8859_1_to_utf8)</td><td align="left">‘PostgreSQL’</td></tr><tr><td align="left">lower(string)</td><td align="left">text</td><td align="left">把字串转化为小写</td><td align="left">lower(‘TOM’)</td><td align="left">tom</td></tr><tr><td align="left">octet_length(string)</td><td align="left">int</td><td align="left">字串中的字节数</td><td align="left">octet_length(‘jose’)</td><td align="left">4</td></tr><tr><td align="left">overlay(string placing string from int [for int])</td><td align="left">text</td><td align="left">替换子字串</td><td align="left">overlay(‘Txxxxas’ placing ‘hom’ from 2 for 4)</td><td align="left">Thomas</td></tr><tr><td align="left">position(substring in string)</td><td align="left">int</td><td align="left">指定的子字串的位置</td><td align="left">position(‘om’ in ‘Thomas’)</td><td align="left">3</td></tr><tr><td align="left">substring(string [from int] [for int])</td><td align="left">text</td><td align="left">抽取子字串</td><td align="left">substring(‘Thomas’ from 2 for 3)</td><td align="left">hom</td></tr><tr><td align="left">substring(string from pattern)</td><td align="left">text</td><td align="left">抽取匹配 POSIX 正则表达式的子字串</td><td align="left">substring(‘Thomas’ from ‘…$’)</td><td align="left">mas</td></tr><tr><td align="left">substring(string from pattern for escape)</td><td align="left">text</td><td align="left">抽取匹配SQL正则表达式的子字串</td><td align="left">substring(‘Thomas’ from ‘%#“o_a#”_’ for ‘#’)</td><td align="left">oma</td></tr><tr><td align="left">trim([leading丨trailing 丨 both] [characters] from string)</td><td align="left">text</td><td align="left">从字串string的开头/结尾/两边/ 删除只包含characters(默认是一个空白)的最长的字串</td><td align="left">trim(both ‘x’ from ‘xTomxx’)</td><td align="left">Tom</td></tr><tr><td align="left">upper(string)</td><td align="left">text</td><td align="left">把字串转化为大写。</td><td align="left">upper(‘tom’)</td><td align="left">TOM</td></tr><tr><td align="left">ascii(text)</td><td align="left">int</td><td align="left">参数第一个字符的ASCII码</td><td align="left">ascii(‘x’)</td><td align="left">120</td></tr><tr><td align="left">btrim(string text [, characters text])</td><td align="left">text</td><td align="left">从string开头和结尾删除只包含在characters里(默认是空白)的字符的最长字串</td><td align="left">btrim(‘xyxtrimyyx’,‘xy’)</td><td align="left">trim</td></tr><tr><td align="left">chr(int)</td><td align="left">text</td><td align="left">给出ASCII码的字符</td><td align="left">chr(65)</td><td align="left">A</td></tr><tr><td align="left">convert(string text, [src_encoding name,] dest_encoding name)</td><td align="left">text</td><td align="left">把字串转换为dest_encoding</td><td align="left">convert( ‘text_in_utf8’, ‘UTF8’, ‘LATIN1’)</td><td align="left">以ISO 8859-1编码表示的text_in_utf8</td></tr><tr><td align="left">initcap(text)</td><td align="left">text</td><td align="left">把每个单词的第一个子母转为大写，其它的保留小写。单词是一系列字母数字组成的字符，用非字母数字分隔。</td><td align="left">initcap(‘hi thomas’)</td><td align="left">Hi Thomas</td></tr><tr><td align="left">length(string text)</td><td align="left">int</td><td align="left">string中字符的数目</td><td align="left">length(‘jose’)</td><td align="left">4</td></tr><tr><td align="left">lpad(string text, length int [, fill text])</td><td align="left">text</td><td align="left">通过填充字符fill(默认为空白)，把string填充为长度length。 如果string已经比length长则将其截断(在右边)。</td><td align="left">lpad(‘hi’, 5, ‘xy’)</td><td align="left">xyxhi</td></tr><tr><td align="left">ltrim(string text [, characters text])</td><td align="left">text</td><td align="left">从字串string的开头删除只包含characters(默认是一个空白)的最长的字串。</td><td align="left">ltrim(‘zzzytrim’,‘xyz’)</td><td align="left">trim</td></tr><tr><td align="left">md5(string text)</td><td align="left">text</td><td align="left">计算给出string的MD5散列，以十六进制返回结果。</td><td align="left">md5(‘abc’)</td><td align="left"></td></tr><tr><td align="left">repeat(string text, number int)</td><td align="left">text</td><td align="left">重复string number次。</td><td align="left">repeat(‘Pg’, 4)</td><td align="left">PgPgPgPg</td></tr><tr><td align="left">replace(string text, from text, to text)</td><td align="left">text</td><td align="left">把字串string里出现地所有子字串from替换成子字串to。</td><td align="left">replace(‘abcdefabcdef’, ‘cd’, ‘XX’)</td><td align="left">abXXefabXXef</td></tr><tr><td align="left">rpad(string text, length int [, fill text])</td><td align="left">text</td><td align="left">通过填充字符fill(默认为空白)，把string填充为长度length。如果string已经比length长则将其截断。</td><td align="left">rpad(‘hi’, 5, ‘xy’)</td><td align="left">hixyx</td></tr><tr><td align="left">rtrim(string text [, character text])</td><td align="left">text</td><td align="left">从字串string的结尾删除只包含character(默认是个空白)的最长的字</td><td align="left">rtrim(‘trimxxxx’,‘x’)</td><td align="left">trim</td></tr><tr><td align="left">split_part(string text, delimiter text, field int)</td><td align="left">text</td><td align="left">根据delimiter分隔string返回生成的第field个子字串(1 Base)。</td><td align="left">split_part(‘abc<sub>@</sub>def<sub>@</sub>ghi’, ‘<sub>@</sub>’, 2)</td><td align="left">def</td></tr><tr><td align="left">strpos(string, substring)</td><td align="left">text</td><td align="left">声明的子字串的位置。</td><td align="left">strpos(‘high’,‘ig’)</td><td align="left">2</td></tr><tr><td align="left">substr(string, from [, count])</td><td align="left">text</td><td align="left">抽取子字串。</td><td align="left">substr(‘alphabet’, 3, 2)</td><td align="left">ph</td></tr><tr><td align="left">to_ascii(text [, encoding])</td><td align="left">text</td><td align="left">把text从其它编码转换为ASCII。</td><td align="left">to_ascii(‘Karel’)</td><td align="left">Karel</td></tr><tr><td align="left">to_hex(number int/bigint)</td><td align="left">text</td><td align="left">把number转换成其对应地十六进制表现形式。</td><td align="left">to_hex(9223372036854775807)</td><td align="left">7fffffffffffffff</td></tr><tr><td align="left">translate(string text, from text, to text)</td><td align="left">text</td><td align="left">把在string中包含的任何匹配from中的字符的字符转化为对应的在to中的字符。</td><td align="left">translate(‘12345’, ‘14’, ‘ax’)</td><td align="left">a23x5</td></tr></tbody></table><hr><h2 id="类型转换相关函数">类型转换相关函数</h2><table><thead><tr><th align="left">函数</th><th align="left">返回类型</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">to_char(timestamp, text)</td><td align="left">text</td><td align="left">将时间戳转换为字符串</td><td align="left">to_char(current_timestamp, ‘HH12:MI:SS’)</td></tr><tr><td align="left">to_char(interval, text)</td><td align="left">text</td><td align="left">将时间间隔转换为字符串</td><td align="left">to_char(interval ‘15h 2m 12s’, ‘HH24:MI:SS’)</td></tr><tr><td align="left">to_char(int, text)</td><td align="left">text</td><td align="left">整型转换为字符串</td><td align="left">to_char(125, ‘999’)</td></tr><tr><td align="left">to_char(double precision, text)</td><td align="left">text</td><td align="left">双精度转换为字符串</td><td align="left">to_char(125.8::real, ‘999D9’)</td></tr><tr><td align="left">to_char(numeric, text)</td><td align="left">text</td><td align="left">数字转换为字符串</td><td align="left">to_char(-125.8, ‘999D99S’)</td></tr><tr><td align="left">to_date(text, text)</td><td align="left">date</td><td align="left">字符串转换为日期</td><td align="left">to_date(‘05 Dec 2000’, ‘DD Mon YYYY’)</td></tr><tr><td align="left">to_number(text, text)</td><td align="left">numeric</td><td align="left">转换字符串为数字</td><td align="left">to_number(‘12,454.8-’, ‘99G999D9S’)</td></tr><tr><td align="left">to_timestamp(text, text)</td><td align="left">timestamp</td><td align="left">转换为指定的时间格式 time zone convert string to time stamp</td><td align="left">to_timestamp(‘05 Dec 2000’, ‘DD Mon YYYY’)</td></tr><tr><td align="left">to_timestamp(double precision)</td><td align="left">timestamp</td><td align="left">把UNIX纪元转换成时间戳</td><td align="left">to_timestamp(1284352323)</td></tr></tbody></table><hr><p>转自：<a href="https://www.runoob.com/postgresql/postgresql-functions.html" target="_blank" rel="noopener">菜鸟教程：PostgreSQL 常用函数</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PostgreSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里云OSS的https证书替换后未生效</title>
      <link href="/article/38adb403.html"/>
      <url>/article/38adb403.html</url>
      
        <content type="html"><![CDATA[<p>感觉有点莫名其妙，阿里云提前10天左右提示https证书快过期了，于是去重新申请了一个免费证书，并且部署了，我以为这就完事了（虽然阿里云还是每天一个短信不间断……），然后到期后，发现OSS的文件好像还是不支持https，有点懵……</p><p>然后就去控制台一波操作，然后好像没什么用……继续试，突然就好了，我都不知道是哪个步骤让它成功的，因为可能和缓存有一定的关系。</p><a id="more"></a><p>猜测可能是下面的设置：</p><p>1.在CDN域名管理（<a href="https://cdnnext.console.aliyun.com/domain/list" target="_blank" rel="noopener">https://cdnnext.console.aliyun.com/domain/list</a>）里的HTTPS配置，设置HTTPS证书。</p><p><img src="https://img-blog.csdnimg.cn/20201114191339292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>2.在CDN里面进行设置（网址为：<a href="https://cdn.console.aliyun.com/safety/https" target="_blank" rel="noopener">https://cdn.console.aliyun.com/safety/https</a>），操作如下：</p><p><img src="https://img-blog.csdnimg.cn/20201114184900528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>因为一开始这里的证书好像没有更新，更新后是这样的：</p><p><img src="https://img-blog.csdnimg.cn/20201114185420473.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决/home/travis/.travis/functions: ./mvnw: Permission denied</title>
      <link href="/article/7c716285.html"/>
      <url>/article/7c716285.html</url>
      
        <content type="html"><![CDATA[<p>报错/home/travis/.travis/functions: line 320: ./mvnw: Permission denied<br>The command &quot;eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V &quot; failed. Retrying, 2 of 3.</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ java -Xmx32m -version</span><br><span class="line">openjdk version <span class="string">"11.0.2"</span> 2019-01-15</span><br><span class="line">OpenJDK Runtime Environment 18.9 (build 11.0.2+9)</span><br><span class="line">OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)</span><br><span class="line">$ javac -J-Xmx32m -version</span><br><span class="line">javac 11.0.2</span><br><span class="line">3.02s$ ./mvnw install -DskipTests=<span class="literal">true</span> -Dmaven.javadoc.skip=<span class="literal">true</span> -B -V</span><br><span class="line">/home/travis/.travis/<span class="built_in">functions</span>: line 320: ./mvnw: Permission denied</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed. Retrying, 2 of 3.</span><br><span class="line">/home/travis/.travis/<span class="built_in">functions</span>: line 320: ./mvnw: Permission denied</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed. Retrying, 3 of 3.</span><br><span class="line">/home/travis/.travis/<span class="built_in">functions</span>: line 320: ./mvnw: Permission denied</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed 3 <span class="built_in">times</span>.</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V"</span> failed and exited with 126 during .</span><br><span class="line">Your build has been stopped.</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure><p>使用SpringBoot项目，在github上集成<code>travis</code>时报错Permission denied，很明显是缺少执行<code>mvnw</code>的权限，在install执行之前赋权就可以了，在<code>travis.yml</code>文件中加入如下语句</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">travis.yml</span></span><br><span class="line"><span class="attr">before_install:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">chmod</span> <span class="string">+x</span> <span class="string">mvnw</span></span><br></pre></td></tr></table></figure><p>转自：<a href="https://blog.csdn.net/Sophisticated_/article/details/103008313" target="_blank" rel="noopener">https://blog.csdn.net/Sophisticated_/article/details/103008313</a><br>参考：<a href="http://www.voidcn.com/article/p-spcjbiav-bxs.html" target="_blank" rel="noopener">http://www.voidcn.com/article/p-spcjbiav-bxs.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Why does the *.github.io pointed to 127.0.0.1?</title>
      <link href="/article/8f353a6c.html"/>
      <url>/article/8f353a6c.html</url>
      
        <content type="html"><![CDATA[<p>访问*.github.io 出现问题（详见：<a href="https://stackoverflow.com/questions/63613793/why-does-the-github-io-pointed-to-127-0-0-1" target="_blank" rel="noopener">https://stackoverflow.com/questions/63613793/why-does-the-github-io-pointed-to-127-0-0-1</a>）：</p><a id="more"></a><p>visit error info:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">无法访问此网站</span><br><span class="line">yansheng836.github.io 拒绝了我们的连接请求。</span><br><span class="line">请试试以下办法：</span><br><span class="line"></span><br><span class="line">检查网络连接</span><br><span class="line">检查代理服务器和防火墙</span><br><span class="line">ERR_CONNECTION_REFUSED</span><br></pre></td></tr></table></figure><p>ping info:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;ping yansheng836.github.io</span><br><span class="line"></span><br><span class="line">正在 Ping yansheng836.github.io [127.0.0.1] 具有 32 字节的数据:</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 127.0.0.1 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line"></span><br><span class="line">127.0.0.1 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 0ms，最长 = 0ms，平均 = 0ms</span><br></pre></td></tr></table></figure><h2 id="解决方法">解决方法</h2><h3 id="查看dns服务器地址">查看dns服务器地址</h3><p><a href="https://zhidao.baidu.com/question/1799272781423525827.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/1799272781423525827.html</a></p><p>1、点击电脑bai的开始按钮找到运行选项点击du启动，或者使用快捷键&quot;Win+R&quot;打开运行。<br>2、在zhi输入框dao中输入&quot;cmd&quot;，点击&quot;确定&quot;。<br>3、之后会自动打开DOS命令页。<br>4、输入&quot;ipconfig/all&quot;，按下回车键。<br>5、如下图的位置就查看到了电脑对应的DNS服务器地址。</p><h3 id="如何查看自己的dns有没有被污染">如何查看自己的dns有没有被污染</h3><p><a href="https://zhidao.baidu.com/question/690022182784293444.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/690022182784293444.html</a></p><p>以下是百bai度百科作出的解释：某些网du络运营商为了某些目zhi的，对DNS进行了某些操作，dao导致使用ISP的正常上网设置无法通过域名取得正确的IP地址。某些国家或地区为出于某些目的防止某网站被访问，而且其又掌握部分国际DNS根目录服务器或镜像，也可以利用此方法进行屏蔽。</p><p>这和某些运营商利用DNS劫持域名发些小广告不同，DNS污染则让域名直接无法访问了，非得修改DNS服务器不可。我们如何检测是否遭遇DNS污染？经收集整理归纳以下三点：</p><ol><li>点“开始”-“运行”-输入CMD，再输入 ipconfig /all ，在下“DNS SERVER”里找到你使用的DNS服务器地址。</li><li>再输入 nslookup <a href="http://abc.com" target="_blank" rel="noopener">abc.com</a>（你的域名） 你的DNS服务器IP ，来查看是否能解析。</li><li>再输入 nslookup <a href="http://abc.com" target="_blank" rel="noopener">abc.com</a> 8.8.8.8 使用Google的DNS服务器验证。</li></ol><h2 id="发现不能解析后-设置dns">发现不能解析后，设置DNS</h2><p><a href="https://jingyan.baidu.com/article/4b52d70278f9ddfc5d774b63.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/4b52d70278f9ddfc5d774b63.html</a></p><p><a href="https://zhidao.baidu.com/question/936281828986478212.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/936281828986478212.html</a></p><p>广东省广州市移动宽带（中国铁通)首选DNS：61.235.70.98备份DNS：211.98.4.1</p><p>配置后问题解决。</p><h2 id="相关问题">相关问题</h2><p>IP地址: 192.168.1.1本地局域网</p><p><a href="https://tools.ipip.net/dns.php" target="_blank" rel="noopener">https://tools.ipip.net/dns.php</a></p><p><a href="http://tool.chinaz.com/dns?type=1&amp;host=github.com&amp;ip=" target="_blank" rel="noopener">http://tool.chinaz.com/dns?type=1&amp;host=github.com&amp;ip=</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>当中秋遇上国庆，这很中国！</title>
      <link href="/article/edecb148.html"/>
      <url>/article/edecb148.html</url>
      
        <content type="html"><![CDATA[<p>今年的中秋和国庆居然是同一天！</p><p>今年的中国真的太难了，但是我们挺过来了。</p><p><img src="https://oss.yansheng.xyz/picgo/20210227153922.png" alt></p><a id="more"></a><p><img src="https://oss.yansheng.xyz/picgo/20210227153842.png" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20210227153155.png" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20210227153227.png" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20210227153738.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javap 命令查看堆栈中信息</title>
      <link href="/article/26f35b35.html"/>
      <url>/article/26f35b35.html</url>
      
        <content type="html"><![CDATA[<p>javap命令是对.java文件进行反编译，通过这个命令可以看到堆栈中是怎么压栈和出栈的已经执行顺序，这里简单解释下javap的简单的使用，下面举个例子：</p><p>题目：i++ 和++i的区别</p><p>解释：简单点说 这个问题都不难回答，这里就不说了，但是实际上堆栈中区别也是老大了（这里就用到了javap命令），</p><a id="more"></a><p>步骤：</p><p>1.在任意一个盘下面建一个名为Test.java的文件（文件名可以随意命名）代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        i = i++;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.通过javac -c Test 编译Test.java为class文件</p><p>3.使用javap -c Test 命令就可以查看到执行这代码具体在堆栈中执行的信息 截图如下：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2Jsb2cvNTE4NjE4LzIwMTQxMS8yMTEwMzcyNzIzNDkwMDcucG5n?x-oss-process=image/format,png" alt="img"></p><p>到这里一步才真的看到了执行上面代码堆栈里面的信息，这里简单解释下code下面显示的意思：</p><p>iconst_0:把int类型的0 压入到栈中</p><p>istore_1:把int类型的值存入局部变量1中</p><p>iload_1:从局部变量1中装载int类型的值</p><p>iinc:把一个常量值1加到一个局部变量1上</p><p>istore_1:把栈顶的int类型的值存入局部变量1中</p><p>getstatic:从类中获取静态字段</p><p>iload_1:从局部变量1中装载int类型的值</p><p>invokevirtual:运行时按照对象的类来调用实例方法</p><p>return：从方法中返回</p><hr><p>再看下这样的写法 javap出来的结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        i = ++i;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行效果：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2Jsb2cvNTE4NjE4LzIwMTQxMS8yMTEwNTg1ODM0MzkyMzEucG5n?x-oss-process=image/format,png" alt="img"></p><p>对比两个的运行效果就可以分析出来为什么一个执行为0 一个执行为1了。这也就是java的运算符的优先级问题，在jvm中按照这个优先级，进行对应的压栈和出栈操作。</p><p>这里附带：栈和局部变量操作供参考</p><p>将常量压入栈的指令</p><p>aconst_null         将null对象引用压入栈</p><p>iconst_m1         将int类型常量-1压入栈</p><p>iconst_0         将int类型常量0压入栈</p><p>iconst_1         将int类型常量1压入栈</p><p>iconst_2         将int类型常量2压入栈</p><p>iconst_3         将int类型常量3压入栈</p><p>iconst_4         将int类型常量4压入栈</p><p>iconst_5         将int类型常量5压入栈</p><p>lconst_0         将long类型常量0压入栈</p><p>lconst_1         将long类型常量1压入栈</p><p>fconst_0         将float类型常量0压入栈</p><p>fconst_1         将float类型常量1压入栈</p><p>dconst_0         将double类型常量0压入栈</p><p>dconst_1         将double类型常量1压入栈</p><p>bipush             将一个8位带符号整数压入栈</p><p>sipush             将16位带符号整数压入栈</p><p>ldc             把常量池中的项压入栈</p><p>ldc_w             把常量池中的项压入栈（使用宽索引）</p><p>ldc2_w             把常量池中long类型或者double类型的项压入栈（使用宽索引）</p><p>从栈中的局部变量中装载值的指令</p><p>iload             从局部变量中装载int类型值</p><p>lload             从局部变量中装载long类型值</p><p>fload             从局部变量中装载float类型值</p><p>dload             从局部变量中装载double类型值</p><p>aload             从局部变量中装载引用类型值（refernce）</p><p>iload_0             从局部变量0中装载int类型值</p><p>iload_1             从局部变量1中装载int类型值</p><p>iload_2             从局部变量2中装载int类型值</p><p>iload_3             从局部变量3中装载int类型值</p><p>lload_0             从局部变量0中装载long类型值</p><p>lload_1             从局部变量1中装载long类型值</p><p>lload_2             从局部变量2中装载long类型值</p><p>lload_3             从局部变量3中装载long类型值</p><p>fload_0             从局部变量0中装载float类型值</p><p>fload_1             从局部变量1中装载float类型值</p><p>fload_2             从局部变量2中装载float类型值</p><p>fload_3             从局部变量3中装载float类型值</p><p>dload_0             从局部变量0中装载double类型值</p><p>dload_1             从局部变量1中装载double类型值</p><p>dload_2             从局部变量2中装载double类型值</p><p>dload_3             从局部变量3中装载double类型值</p><p>aload_0             从局部变量0中装载引用类型值</p><p>aload_1             从局部变量1中装载引用类型值</p><p>aload_2             从局部变量2中装载引用类型值</p><p>aload_3             从局部变量3中装载引用类型值</p><p>iaload             从数组中装载int类型值</p><p>laload             从数组中装载long类型值</p><p>faload             从数组中装载float类型值</p><p>daload             从数组中装载double类型值</p><p>aaload             从数组中装载引用类型值</p><p>baload             从数组中装载byte类型或boolean类型值</p><p>caload             从数组中装载char类型值</p><p>saload             从数组中装载short类型值</p><p>将栈中的值存入局部变量的指令</p><p>istore             将int类型值存入局部变量</p><p>lstore             将long类型值存入局部变量</p><p>fstore             将float类型值存入局部变量</p><p>dstore             将double类型值存入局部变量</p><p>astore             将将引用类型或returnAddress类型值存入局部变量</p><p>istore_0         将int类型值存入局部变量0</p><p>istore_1         将int类型值存入局部变量1</p><p>istore_2         将int类型值存入局部变量2</p><p>istore_3         将int类型值存入局部变量3</p><p>lstore_0         将long类型值存入局部变量0</p><p>lstore_1         将long类型值存入局部变量1</p><p>lstore_2         将long类型值存入局部变量2</p><p>lstore_3         将long类型值存入局部变量3</p><p>fstore_0         将float类型值存入局部变量0</p><p>fstore_1         将float类型值存入局部变量1</p><p>fstore_2         将float类型值存入局部变量2</p><p>fstore_3         将float类型值存入局部变量3</p><p>dstore_0         将double类型值存入局部变量0</p><p>dstore_1         将double类型值存入局部变量1</p><p>dstore_2         将double类型值存入局部变量2</p><p>dstore_3         将double类型值存入局部变量3</p><p>astore_0         将引用类型或returnAddress类型值存入局部变量0</p><p>astore_1         将引用类型或returnAddress类型值存入局部变量1</p><p>astore_2         将引用类型或returnAddress类型值存入局部变量2</p><p>astore_3         将引用类型或returnAddress类型值存入局部变量3</p><p>iastore             将int类型值存入数组中</p><p>lastore             将long类型值存入数组中</p><p>fastore             将float类型值存入数组中</p><p>dastore             将double类型值存入数组中</p><p>aastore             将引用类型值存入数组中</p><p>bastore             将byte类型或者boolean类型值存入数组中</p><p>castore             将char类型值存入数组中</p><p>sastore             将short类型值存入数组中</p><p>wide指令</p><p>wide             使用附加字节扩展局部变量索引</p><p>通用(无类型）栈操作</p><p>nop             不做任何操作</p><p>pop             弹出栈顶端一个字长的内容</p><p>pop2             弹出栈顶端两个字长的内容</p><p>dup             复制栈顶部一个字长内容</p><p>dup_x1             复制栈顶部一个字长的内容，然后将复制内容及原来弹出的两个字长的内容压入栈</p><p>dup_x2             复制栈顶部一个字长的内容，然后将复制内容及原来弹出的三个字长的内容压入栈</p><p>dup2             复制栈顶部两个字长内容</p><p>dup2_x1             复制栈顶部两个字长的内容，然后将复制内容及原来弹出的三个字长的内容压入栈</p><p>dup2_x2             复制栈顶部两个字长的内容，然后将复制内容及原来弹出的四个字长的内容压入栈</p><p>swap             交换栈顶部两个字长内容</p><p>类型转换</p><p>i2l             把int类型的数据转化为long类型</p><p>i2f             把int类型的数据转化为float类型</p><p>i2d             把int类型的数据转化为double类型</p><p>l2i             把long类型的数据转化为int类型</p><p>l2f             把long类型的数据转化为float类型</p><p>l2d             把long类型的数据转化为double类型</p><p>f2i             把float类型的数据转化为int类型</p><p>f2l             把float类型的数据转化为long类型</p><p>f2d             把float类型的数据转化为double类型</p><p>d2i             把double类型的数据转化为int类型</p><p>d2l             把double类型的数据转化为long类型</p><p>d2f             把double类型的数据转化为float类型</p><p>i2b             把int类型的数据转化为byte类型</p><p>i2c             把int类型的数据转化为char类型</p><p>i2s             把int类型的数据转化为short类型</p><p>整数运算</p><p>iadd             执行int类型的加法</p><p>ladd             执行long类型的加法</p><p>isub             执行int类型的减法</p><p>lsub             执行long类型的减法</p><p>imul             执行int类型的乘法</p><p>lmul             执行long类型的乘法</p><p>idiv             执行int类型的除法</p><p>ldiv             执行long类型的除法</p><p>irem             计算int类型除法的余数</p><p>lrem             计算long类型除法的余数</p><p>ineg             对一个int类型值进行取反操作</p><p>lneg             对一个long类型值进行取反操作</p><p>iinc             把一个常量值加到一个int类型的局部变量上</p><p>逻辑运算</p><p>移位操作</p><p>ishl             执行int类型的向左移位操作</p><p>lshl             执行long类型的向左移位操作</p><p>ishr             执行int类型的向右移位操作</p><p>lshr             执行long类型的向右移位操作</p><p>iushr             执行int类型的向右逻辑移位操作</p><p>lushr             执行long类型的向右逻辑移位操作</p><p>按位布尔运算</p><p>iand             对int类型值进行“逻辑与”操作</p><p>land             对long类型值进行“逻辑与”操作</p><p>ior             对int类型值进行“逻辑或”操作</p><p>lor             对long类型值进行“逻辑或”操作</p><p>ixor             对int类型值进行“逻辑异或”操作</p><p>lxor             对long类型值进行“逻辑异或”操作</p><p>浮点运算</p><p>fadd             执行float类型的加法</p><p>dadd             执行double类型的加法</p><p>fsub             执行float类型的减法</p><p>dsub             执行double类型的减法</p><p>fmul             执行float类型的乘法</p><p>dmul             执行double类型的乘法</p><p>fdiv             执行float类型的除法</p><p>ddiv             执行double类型的除法</p><p>frem             计算float类型除法的余数</p><p>drem             计算double类型除法的余数</p><p>fneg             将一个float类型的数值取反</p><p>dneg             将一个double类型的数值取反</p><p>对象和数组</p><p>对象操作指令</p><p>new             创建一个新对象</p><p>checkcast         确定对象为所给定的类型</p><p>getfield         从对象中获取字段</p><p>putfield         设置对象中字段的值</p><p>getstatic         从类中获取静态字段</p><p>putstatic         设置类中静态字段的值</p><p>instanceof         判断对象是否为给定的类型</p><p>数组操作指令</p><p>newarray         分配数据成员类型为基本上数据类型的新数组</p><p>anewarray         分配数据成员类型为引用类型的新数组</p><p>arraylength         获取数组长度</p><p>multianewarray         分配新的多维数组</p><p>控制流</p><p>条件分支指令</p><p>ifeq             如果等于0，则跳转</p><p>ifne             如果不等于0，则跳转</p><p>iflt             如果小于0，则跳转</p><p>ifge             如果大于等于0，则跳转</p><p>ifgt             如果大于0，则跳转</p><p>ifle             如果小于等于0，则跳转</p><p>if_icmpcq         如果两个int值相等，则跳转</p><p>if_icmpne         如果两个int类型值不相等，则跳转</p><p>if_icmplt         如果一个int类型值小于另外一个int类型值，则跳转</p><p>if_icmpge         如果一个int类型值大于或者等于另外一个int类型值，则跳转</p><p>if_icmpgt         如果一个int类型值大于另外一个int类型值，则跳转</p><p>if_icmple         如果一个int类型值小于或者等于另外一个int类型值，则跳转</p><p>ifnull             如果等于null，则跳转</p><p>ifnonnull         如果不等于null，则跳转</p><p>if_acmpeq         如果两个对象引用相等，则跳转</p><p>if_acmpnc         如果两个对象引用不相等，则跳转</p><p>比较指令</p><p>lcmp             比较long类型值</p><p>fcmpl             比较float类型值（当遇到NaN时，返回-1）</p><p>fcmpg             比较float类型值（当遇到NaN时，返回1）</p><p>dcmpl             比较double类型值（当遇到NaN时，返回-1）</p><p>dcmpg             比较double类型值（当遇到NaN时，返回1）</p><p>无条件转移指令</p><p>goto             无条件跳转</p><p>goto_w             无条件跳转（宽索引）</p><p>表跳转指令</p><p>tableswitch         通过索引访问跳转表，并跳转</p><p>lookupswitch         通过键值匹配访问跳转表，并执行跳转操作</p><p>异常</p><p>athrow             抛出异常或错误</p><p>finally子句</p><p>jsr             跳转到子例程</p><p>jsr_w             跳转到子例程（宽索引）</p><p>rct             从子例程返回</p><p>方法调用与返回</p><p>方法调用指令</p><p>invokcvirtual         运行时按照对象的类来调用实例方法</p><p>invokespecial         根据编译时类型来调用实例方法</p><p>invokestatic         调用类（静态）方法</p><p>invokcinterface         调用接口方法</p><p>方法返回指令</p><p>ireturn             从方法中返回int类型的数据</p><p>lreturn             从方法中返回long类型的数据</p><p>freturn             从方法中返回float类型的数据</p><p>dreturn             从方法中返回double类型的数据</p><p>areturn             从方法中返回引用类型的数据</p><p>return             从方法中返回，返回值为void</p><p>线程同步</p><p>montiorenter         进入并获取对象监视器</p><p>monitorexit         释放并退出对象监视器</p><hr><p>JVM指令助记符</p><p>变量到操作数栈：iload,iload_,lload,lload_,fload,fload_,dload,dload_,aload,aload_</p><p>操作数栈到变量：istore,istore_,lstore,lstore_,fstore,fstore_,dstore,dstor_,astore,astore_</p><p>常数到操作数栈：bipush,sipush,ldc,ldc_w,ldc2_w,aconst_null,iconst_ml,iconst_<em>,lconst_,fconst_,dconst_加：iadd,ladd,fadd,dadd减：isub,lsub,fsub,dsub乘：imul,lmul,fmul,dmul除：idiv,ldiv,fdiv,ddiv余数：irem,lrem,frem,drem取负：ineg,lneg,fneg,dneg移位：ishl,lshr,iushr,lshl,lshr,lushr按位或：ior,lor按位与：iand,land按位异或：ixor,lxor类型转换：i2l,i2f,i2d,l2f,l2d,f2d(放宽数值转换)           i2b,i2c,i2s,l2i,f2i,f2l,d2i,d2l,d2f(缩窄数值转换)</em></p><p>创建类实例：new</p><p>创建新数组：newarray,anewarray,multianwarray</p><p>访问类的域和类实例域：getfield,putfield,getstatic,putstatic</p><p>把数据装载到操作数栈：baload,caload,saload,iaload,laload,faload,daload,aaload</p><p>从操作数栈存存储到数组：bastore,castore,sastore,iastore,lastore,fastore,dastore,aastore</p><p>获取数组长度：arraylength</p><p>检测相类实例或数组属性：instanceof,checkcast</p><p>操作数栈管理：pop,pop2,dup,dup2,dup_xl,dup2_xl,dup_x2,dup2_x2,swap</p><p>有条件转移：ifeq,iflt,ifle,ifne,ifgt,ifge,ifnull,ifnonnull,if_icmpeq,if_icmpene,</p><p>​             if_icmplt,if_icmpgt,if_icmple,if_icmpge,if_acmpeq,if_acmpne,lcmp,fcmpl</p><p>​     fcmpg,dcmpl,dcmpg</p><p>复合条件转移：tableswitch,lookupswitch</p><p>无条件转移：goto,goto_w,jsr,jsr_w,ret</p><p>调度对象的实例方法：invokevirtual</p><p>调用由接口实现的方法：invokeinterface</p><p>调用需要特殊处理的实例方法：invokespecial</p><p>调用命名类中的静态方法：invokestatic</p><p>方法返回：ireturn,lreturn,freturn,dreturn,areturn,return</p><p>异常：athrow</p><p>finally关键字的实现使用：jsr,jsr_w,ret</p><p>—</p><p>转自：<a href="https://www.cnblogs.com/txdcnblogs/p/4112312.html" target="_blank" rel="noopener">https://www.cnblogs.com/txdcnblogs/p/4112312.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WebStrom实时预览功能--Chrome</title>
      <link href="/article/de15dca.html"/>
      <url>/article/de15dca.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章介绍了如何使用WebStrom实时预览功能。</p><a id="more"></a><p>1.配置WebStrom</p><p><img src="https://img-blog.csdn.net/20171025134750246" alt="img"></p><p><img src="https://img-blog.csdn.net/20171025134801416" alt="img"></p><p><img src="https://img-blog.csdn.net/20171025134811326" alt="img"></p><p>2.chrome安装插件jetbrainside support</p><p>3.chrome插件jetbrains ide support配置</p><p><img src="https://img-blog.csdn.net/20171025134831447" alt="img"><img src="https://img-blog.csdn.net/20171025134837613" alt="img"></p><p>4.webstromdebug启动项目，这样修改webstrom的代码，不需要刷新就可以直接在浏览器查看了</p><p><img src="https://img-blog.csdn.net/20171025134854704" alt="img"></p><p>参考：<a href="https://blog.csdn.net/liumengwei1/article/details/78340518" target="_blank" rel="noopener">https://blog.csdn.net/liumengwei1/article/details/78340518</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> WebStrom </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WebStrom大杂烩</title>
      <link href="/article/65d16cc0.html"/>
      <url>/article/65d16cc0.html</url>
      
        <content type="html"><![CDATA[<p>webstorm合集</p><h2 id="设置背景-字体大小">设置背景、字体大小</h2><p><img src="https://img-blog.csdnimg.cn/20200918093147959.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> WebStrom </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>推荐几个SQL在线学习网站</title>
      <link href="/article/6971dab1.html"/>
      <url>/article/6971dab1.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>适合的群体：SQL初学者，想要复习一下SQL基础知识的朋友，能无障碍阅读基础英文的朋友。</p></blockquote><p>SQL算是声明式的数据操纵语言，基本上感觉是对着数据库管理系统在喊：给我什么样的数据！似乎大部分人都不认为SQL十分困难。的确，入门十分简单。</p><p>这里整理推荐几个我自己学习时用过的在线学习网站，可以帮助初学者快速入门SQL，在交互式的环境里学习，不用自己劳神搭建一个数据库，也不用担心损坏别人的数据库，就可以达到完成基本的数据提取工作的水平。</p><a id="more"></a><h1>1. <a href="http://www.w3school.com.cn/sql/" target="_blank" rel="noopener">http://www.w3school.com.cn/sql/</a></h1><p>速查基础SQL命令，快速理解SQL命令的含义和使用方法。最后做一下SQL测试，看看是否建立了基本的SQL概念。<br>无需注册。</p><h1>2. CodeCademy</h1><p><a href="https://www.codecademy.com/learn/learn-sql" target="_blank" rel="noopener">https://www.codecademy.com/learn/learn-sql</a></p><p><a href="https://www.codecademy.com/learn/sql-table-transformation" target="_blank" rel="noopener">https://www.codecademy.com/learn/sql-table-transformation</a></p><p>交互式地学习并在类似真实数据库下使用SQL。对SQL语言常用的指令有个简单的流程化的影响和蜻蜓点水的了解。免费功能也足够学习了。<br>需要注册，解锁高级功能需要付费。</p><h1>3. <a href="https://sqlbolt.com/" target="_blank" rel="noopener">https://sqlbolt.com/</a></h1><p>友好的界面，详细解释SQL语句的功能，并提供了可交互的在线编程环境，体会SQL的用法。<br>无需注册。</p><h1>4. <a href="http://www.w3resource.com/sql-exercises/" target="_blank" rel="noopener">http://www.w3resource.com/sql-exercises/</a></h1><p>题量丰富但基础，提供可交互的编程窗口，但界面不够友好。适合已经大体掌握SQL后巩固之用。<br>无需注册。</p><h1>5. <a href="http://www.sql-ex.ru/" target="_blank" rel="noopener">http://www.sql-ex.ru/</a></h1><p>题量丰富且困难，出题的人考虑到了实际使用时的一些坑爹场景。适合刷题解闷，理解SQL运行的深层逻辑。网站风格古老。标准答案有时候都不能通过答题系统。<br>需要注册。</p><hr><p>增加一个在线学习 HiveQL 的网址 <a href="https://www.tutorialspoint.com/hive/" target="_blank" rel="noopener">https://www.tutorialspoint.com/hive/</a></p><p>参考：<a href="https://blog.csdn.net/huaxiawudi/article/details/82288216" target="_blank" rel="noopener">https://blog.csdn.net/huaxiawudi/article/details/82288216</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot单元测试编译报错 No runnable methods</title>
      <link href="/article/a6a12be4.html"/>
      <url>/article/a6a12be4.html</url>
      
        <content type="html"><![CDATA[<p>我看到好多情况都是这样的：</p><blockquote><p>参考：<a href="https://blog.csdn.net/u010429286/article/details/53520810" target="_blank" rel="noopener">https://blog.csdn.net/u010429286/article/details/53520810</a></p><p>遇到这种情况表示单元测试中没有可以运行的方法，有可能是以下的原因：</p><p>1.第一种情况，有的测试类为空，只定义了一个类名，也就是类里面没有能运行的方法</p><p>2.第二种情况，测试类方法有错，或者没有添加@Test注解。</p></blockquote><p>然而这些方法好像都没有解决我的问题，自行测试时，测试如下修改，有效，好像是junit版本问题。</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"># 将上面这行改成下面的即可。</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br></pre></td></tr></table></figure><h2 id="spring-boot-2-2-之前使用的是-junit4-而后续的使用的是junit5">spring boot 2.2 之前使用的是 Junit4 而后续的使用的是Junit5</h2><p>注解说明：<br>org.junit.jupiter.api.Test</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Test is used to signal that the annotated method is a <span class="built_in">test</span> method. </span><br><span class="line"></span><br><span class="line">@Test methods must not be private or staticand must not <span class="built_in">return</span> a value. </span><br><span class="line"></span><br><span class="line">@Test methods may optionally <span class="built_in">declare</span> parameters to beresolved by ParameterResolvers. </span><br><span class="line"></span><br><span class="line">@Test may also be used as a meta-annotation <span class="keyword">in</span> order to createa custom composed annotation that inherits the semantics of @Test.</span><br></pre></td></tr></table></figure><p>org.junit.Test</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The Test annotation tells JUnit that the public void methodto <span class="built_in">which</span> it is attached can be run as a <span class="built_in">test</span> <span class="keyword">case</span>. To run the method,JUnit first constructs a fresh instance of the class <span class="keyword">then</span> invokes theannotated method. Any exceptions thrown by the <span class="built_in">test</span> will be reportedby JUnit as a failure. If no exceptions are thrown, the <span class="built_in">test</span> is assumedto have succeeded.</span><br></pre></td></tr></table></figure><p>我没看出啥区别。有位博客讲得听清楚的，但是我的运行不了……<br><a href="https://www.cnblogs.com/felixzh/p/12554701.html" target="_blank" rel="noopener">Spring Boot 2.2.x Junit4 升级为Junit5 后的变化、对比 找不到 org.junit.jupiter.api.Test</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LGTM : code review 行话</title>
      <link href="/article/65fb9e3b.html"/>
      <url>/article/65fb9e3b.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>程序员这个行业，不管你是大佬还是小弟，代码code review是必不可少的。那么在github上，大家日常交流的缩写语，往往一下就能看出你道行的深浅，至少是入行时间，哈哈，不要露怯，勇敢的跟大佬过招拆招。</p></blockquote><p>收集了一些实用的缩写，方便大家日常交流(ZB)</p><a id="more"></a><table><thead><tr><th style="text-align:center">简写</th><th style="text-align:left">全称（解释）</th></tr></thead><tbody><tr><td style="text-align:center">LGTM</td><td style="text-align:left">Looks Good To Me「对我来说，还不错」表示认可这次PR，同意merge合并代码到远程仓库</td></tr><tr><td style="text-align:center">ASAP</td><td style="text-align:left">As Soon As Possible「尽快」</td></tr><tr><td style="text-align:center">ACK</td><td style="text-align:left">Acknowledgement「承认，确认，同意」i.e. agreed/accepted change</td></tr><tr><td style="text-align:center">NACK/NAK</td><td style="text-align:left">Negative acknowledgement「不同意」 i.e. disagree with change and/or concept</td></tr><tr><td style="text-align:center">RFC</td><td style="text-align:left">Request For Comments「请求进行讨论」 i.e. I think this is a good idea, lets discuss</td></tr><tr><td style="text-align:center">WIP</td><td style="text-align:left">Work In Progress 「进展中」常见词汇，这里作为 Best Practice 单独提出来，主要针对改动较多的 PR，可以先提交部分，标题或 Tag 加上 WIP，表示尚未完成，这样别人可以先 review 已提交的部分</td></tr><tr><td style="text-align:center">AFAIK/AFAICT</td><td style="text-align:left">As Far As I Know / Can Tell 「据我所知；就我所知」</td></tr><tr><td style="text-align:center">IIRC</td><td style="text-align:left">If I Recall Correctly「如果我没有记错的话」</td></tr><tr><td style="text-align:center">IANAL</td><td style="text-align:left">I am not a lawyer , but I smell licensing issues「-」</td></tr><tr><td style="text-align:center">IMO</td><td style="text-align:left">In My Opinion 「在我看来」</td></tr><tr><td style="text-align:center">TL;DR</td><td style="text-align:left">Too Long; Didn’t Read 「太长懒得看」README 文档常见。</td></tr><tr><td style="text-align:center">PR</td><td style="text-align:left">Pull Request「合并请求」</td></tr><tr><td style="text-align:center">CR</td><td style="text-align:left">Code Review 「代码审查」</td></tr><tr><td style="text-align:center">PTAL</td><td style="text-align:left">Please Take A Look.「你来瞅瞅？」用来提示别人来看一下</td></tr><tr><td style="text-align:center">TBR</td><td style="text-align:left">To Be Reviewed「提示维护者进行 review」</td></tr><tr><td style="text-align:center">TBD</td><td style="text-align:left">To Be Done(or Defined/Discussed/Decided/Determined). 「未完成，将被做」根据语境不同意义有所区别，但一般都是还没搞定的意思。</td></tr><tr><td style="text-align:center">TBH</td><td style="text-align:left">To Be Honest 「老实说」</td></tr><tr><td style="text-align:center">atm</td><td style="text-align:left">at the moment 「现阶段」</td></tr></tbody></table><hr><p>参考：<a href="https://www.jianshu.com/p/238a1e1f4037" target="_blank" rel="noopener">https://www.jianshu.com/p/238a1e1f4037</a></p><p>内容和排版略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> IT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HashMap的hash()和tableSizeFor()方法探索</title>
      <link href="/article/50ee072f.html"/>
      <url>/article/50ee072f.html</url>
      
        <content type="html"><![CDATA[<p>转自：<a href="https://www.cnblogs.com/liujinhong/p/6576543.html" target="_blank" rel="noopener">https://www.cnblogs.com/liujinhong/p/6576543.html</a></p><hr><p>为什么要有HashMap的hash()方法，难道不能直接使用KV中K原有的hash值吗？在HashMap的put、get操作时为什么不能直接使用K中原有的hash值。</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Computes key.hashCode() and spreads (XORs) higher bits of hash</span></span><br><span class="line"><span class="comment"> * to lower.  Because the table uses power-of-two masking, sets of</span></span><br><span class="line"><span class="comment"> * hashes that vary only in bits above the current mask will</span></span><br><span class="line"><span class="comment"> * always collide. (Among known examples are sets of Float keys</span></span><br><span class="line"><span class="comment"> * holding consecutive whole numbers in small tables.)  So we</span></span><br><span class="line"><span class="comment"> * apply a transform that spreads the impact of higher bits</span></span><br><span class="line"><span class="comment"> * downward. There is a tradeoff between speed, utility, and</span></span><br><span class="line"><span class="comment"> * quality of bit-spreading. Because many common sets of hashes</span></span><br><span class="line"><span class="comment"> * are already reasonably distributed (so don't benefit from</span></span><br><span class="line"><span class="comment"> * spreading), and because we use trees to handle large sets of</span></span><br><span class="line"><span class="comment"> * collisions in bins, we just XOR some shifted bits in the</span></span><br><span class="line"><span class="comment"> * cheapest possible way to reduce systematic lossage, as well as</span></span><br><span class="line"><span class="comment"> * to incorporate impact of the highest bits that would otherwise</span></span><br><span class="line"><span class="comment"> * never be used in index calculations because of table bounds.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从上面的代码可以看到key的hash值的计算方法。key的hash值高16位不变，低16位与高16位异或作为key的最终hash值。（h &gt;&gt;&gt; 16，表示无符号右移16位，高位补0，任何数跟0异或都是其本身，因此key的hash值高16位不变。）<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNDA4MTU1MDQ1MzQx?x-oss-process=image/format,png" alt="这里写图片描述"><br>为什么要这么干呢？<br>这个与HashMap中table下标的计算有关。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n = table.length;</span><br><span class="line">index = （n-<span class="number">1</span>） &amp; hash;</span><br></pre></td></tr></table></figure><p>因为，table的长度都是2的幂，因此index仅与hash值的低n位有关，hash值的高位都被与操作置为0了。<br>假设table.length=2^4=16。<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNDA4MTU1MTAyNzM0?x-oss-process=image/format,png" alt="这里写图片描述"><br>由上图可以看到，只有hash值的低4位参与了运算。<br>这样做很容易产生碰撞。设计者权衡了speed, utility, and quality，将高16位与低16位异或来减少这种影响。设计者考虑到现在的hashCode分布的已经很不错了，而且当发生较大碰撞时也用树形存储降低了冲突。仅仅异或一下，既减少了系统的开销，也不会造成的因为高位没有参与下标的计算(table长度比较小时)，从而引起的碰撞。</p><h2 id="hashmap-tablesizefor">HashMap#tableSizeFor()</h2><p>源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXIMUM_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a power of two size for the given target capacity.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">tableSizeFor</span><span class="params">(<span class="keyword">int</span> cap)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = cap - <span class="number">1</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">2</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">4</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">8</span>;</span><br><span class="line">    n |= n &gt;&gt;&gt; <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">return</span> (n &lt; <span class="number">0</span>) ? <span class="number">1</span> : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个方法被调用的地方：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**省略此处代码**/</span></span><br><span class="line">    <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">    <span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由此可以看到，当在实例化HashMap实例时，如果给定了initialCapacity，由于HashMap的capacity都是2的幂，因此这个方法用于找到大于等于initialCapacity的最小的2的幂（initialCapacity如果就是2的幂，则返回的还是这个数）。<br>下面分析这个<a href="http://lib.csdn.net/base/datastructure" target="_blank" rel="noopener">算法</a>：<br>首先，为什么要对cap做减1操作。<code>int n = cap - 1;</code><br>这是为了防止，cap已经是2的幂。如果cap已经是2的幂， 又没有执行这个减1操作，则执行完后面的几条无符号右移操作之后，返回的capacity将是这个cap的2倍。如果不懂，要看完后面的几个无符号右移之后再回来看看。<br>下面看看这几个无符号右移操作：<br>如果n这时为0了（经过了cap-1之后），则经过后面的几次无符号右移依然是0，最后返回的capacity是1（最后有个n+1的操作）。<br>这里只讨论n不等于0的情况。<br><strong>第一次右移</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n |= n &gt;&gt;&gt; <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>由于n不等于0，则n的二进制表示中总会有一bit为1，这时考虑最高位的1。通过无符号右移1位，则将最高位的1右移了1位，再做或操作，使得n的二进制表示中与最高位的1紧邻的右边一位也为1，如000011xxxxxx。<br><strong>第二次右移</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n |= n &gt;&gt;&gt; <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>注意，这个n已经经过了<code>n |= n &gt;&gt;&gt; 1;</code> 操作。假设此时n为000011xxxxxx ，则n无符号右移两位，会将最高位两个连续的1右移两位，然后再与原来的n做或操作，这样n的二进制表示的高位中会有4个连续的1。如00001111xxxxxx 。<br><strong>第三次右移</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n |= n &gt;&gt;&gt; <span class="number">4</span>;</span><br></pre></td></tr></table></figure><p>这次把已经有的高位中的连续的4个1，右移4位，再做或操作，这样n的二进制表示的高位中会有8个连续的1。如00001111 1111xxxxxx 。<br><strong>以此类推</strong><br>注意，容量最大也就是32bit的正数，因此最后<code>n |= n &gt;&gt;&gt; 16;</code> ，最多也就32个1，但是这时已经大于了<code>MAXIMUM_CAPACITY</code> ，所以取值到<code>MAXIMUM_CAPACITY</code> 。<br>举一个例子说明下吧。<br><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwNDA4MTgzNjUxMTEx?x-oss-process=image/format,png" alt="这里写图片描述"></p><p>这个算法着实牛逼啊！</p><p>注意，得到的这个capacity却被赋值给了threshold。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity);</span><br></pre></td></tr></table></figure><p>开始以为这个是个Bug，感觉应该这么写：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.threshold = tableSizeFor(initialCapacity) * <span class="keyword">this</span>.loadFactor;</span><br></pre></td></tr></table></figure><p>这样才符合threshold的意思（当HashMap的size到达threshold这个阈值时会扩容）。<br>但是，请注意，在构造方法中，并没有对table这个成员变量进行初始化，table的初始化被推迟到了put方法中，在put方法中会对threshold重新计算，put方法的具体实现请看这篇博文。</p><h2 id="参考资料">参考资料</h2><p>1.<a href="http://yikun.github.io/2015/04/01/Java-HashMap%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0/" target="_blank" rel="noopener">Java HashMap工作原理及实现</a><br>2.<a href="http://blog.csdn.net/shierjun/article/details/45368369" target="_blank" rel="noopener">Java7的HashMap初始化变化</a><br>3.<a href="http://www.cnblogs.com/zyx1314/p/5359434.html" target="_blank" rel="noopener">java HashMap</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDK8默认垃圾回收器探索</title>
      <link href="/article/f5ca5d2f.html"/>
      <url>/article/f5ca5d2f.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/huanxianglove/article/details/90247994" target="_blank" rel="noopener">https://blog.csdn.net/huanxianglove/article/details/90247994</a><br><a href="https://blog.csdn.net/youanyyou/article/details/106464291" target="_blank" rel="noopener">https://blog.csdn.net/youanyyou/article/details/106464291</a><br>参考上面两篇文章，研究一下jdk8的默认垃圾回收器是哪种。</p><p>Windows和Linux好像有点不一样，亦或是它会根据CPU的核心数自动选择合适的垃圾回收器，暂时先放着，如果有研究的，麻烦留言告知，谢谢。</p><a id="more"></a><p>选择器的选择可以参考：<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/collectors.html#sthref28" target="_blank" rel="noopener">https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/collectors.html#sthref28</a></p><blockquote><h2 id="selecting-a-collector">Selecting a Collector</h2><p>Unless your application has rather strict pause time requirements, first run your application and allow the VM to select a collector. If necessary, adjust the heap size to improve performance. If the performance still does not meet your goals, then use the following guidelines as a starting point for selecting a collector.</p><ul><li>If the application has a small data set (up to approximately 100 MB), then</li></ul><p>select the serial collector with the option <code>-XX:+UseSerialGC</code>.</p><ul><li><p>If the application will be run on a single processor and there are no pause time requirements, then let the VM select the collector, or select the serial collector with the option <code>-XX:+UseSerialGC</code>.</p></li><li><p>If (a) peak application performance is the first priority and (b) there are no pause time requirements or pauses of 1 second or longer are acceptable, then let the VM select the collector, or select the parallel collector with <code>-XX:+UseParallelGC</code>.</p></li><li><p>If response time is more important than overall throughput and garbage collection pauses must be kept shorter than approximately 1 second, then select the concurrent collector with <code>-XX:+UseConcMarkSweepGC</code> or <code>-XX:+UseG1GC</code>.</p></li></ul><p>These guidelines provide only a starting point for selecting a collector because performance is dependent on the size of the heap, the amount of live data maintained by the application, and the number and speed of available processors. Pause times are particularly sensitive to these factors, so the threshold of 1 second mentioned previously is only approximate: the parallel collector will experience pause times longer than 1 second on many data size and hardware combinations; conversely, the concurrent collector may not be able to keep pauses shorter than 1 second on some combinations.</p><p>If the recommended collector does not achieve the desired performance, first attempt to adjust the heap and generation sizes to meet the desired goals. If performance is still inadequate, then try a different collector: use the concurrent collector to reduce pause times and use the parallel collector to increase overall throughput on multiprocessor hardware.</p></blockquote><p>翻译为：</p><blockquote><h2 id="选择收集器">选择收集器</h2><p>除非您的应用程序有非常严格的暂停时间要求，否则请先运行您的应用程序并允许VM选择收集器。如有必要，请调整堆大小以提高性能。如果性能仍然不能达到您的目标，请使用以下准则作为选择收集器的起点。</p><ul><li>如果应用程序的数据集较小（最大约100 MB），则</li></ul><p>使用选项选择串行收集器<code>-XX:+UseSerialGC</code>。</p><ul><li><p>如果应用程序将在单个处理器上运行，并且没有暂停时间要求，则让VM选择收集器，或使用选项选择串行收集器<code>-XX:+UseSerialGC</code>。</p></li><li><p>如果（a）峰值应用程序性能是第一要务，并且（b）没有暂停时间要求或不超过1秒的暂停时间是可接受的，则让VM选择收集器，或使用选择并行收集器<code>-XX:+UseParallelGC</code>。</p></li><li><p>如果响应时间比整体吞吐量更重要，并且垃圾收集暂停时间必须保持小于1秒，那么请使用<code>-XX:+UseConcMarkSweepGC</code>或选择并发收集器<code>-XX:+UseG1GC</code>。</p></li></ul><p>这些准则仅提供选择收集器的起点，因为性能取决于堆的大小，应用程序维护的实时数据量以及可用处理器的数量和速度。暂停时间对这些因素特别敏感，因此前面提到的1秒阈值仅是近似值：在许多数据大小和硬件组合上，并行收集器的暂停时间将超过1秒。相反，在某些组合上，并发收集器可能无法将暂停时间保持在1秒以内。</p><p>如果推荐的收集器未达到所需的性能，请首先尝试调整堆和生成大小以达到所需的目标。如果性能仍然不足，请尝试使用其他收集器：使用并发收集器减少暂停时间，并使用并行收集器增加多处理器硬件的总体吞吐量。</p></blockquote><h2 id="windows下多cpu">Windows下多CPU</h2><h2 id="查看默认配置">查看默认配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java -XX:+PrintCommandLineFlags -version</span><br><span class="line">-XX:InitialHeapSize=267026304 -XX:MaxHeapSize=4272420864 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC</span><br><span class="line">java version <span class="string">"1.8.0_144"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_144-b01)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)</span><br></pre></td></tr></table></figure><p>为了方便观察，我们整理下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-XX:InitialHeapSize=267026304 </span><br><span class="line">-XX:MaxHeapSize=4272420864 </span><br><span class="line">-XX:+PrintCommandLineFlags </span><br><span class="line">-XX:+UseCompressedClassPointers </span><br><span class="line">-XX:+UseCompressedOops </span><br><span class="line">-XX:-UseLargePagesIndividualAllocation </span><br><span class="line">-XX:+UseParallelGC</span><br></pre></td></tr></table></figure><p>从最后一项我们可以发现，使用的是ParallelGC。</p><h2 id="printgcdetails">PrintGCDetails</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;java -XX:+PrintGCDetails -version</span><br><span class="line">java version <span class="string">"1.8.0_144"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_144-b01)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)</span><br><span class="line">Heap</span><br><span class="line"> PSYoungGen      total 76288K, used 3932K [0x000000076b180000, 0x0000000770680000, 0x00000007c0000000)</span><br><span class="line">  eden space 65536K, 6% used [0x000000076b180000,0x000000076b557240,0x000000076f180000)</span><br><span class="line">  from space 10752K, 0% used [0x000000076fc00000,0x000000076fc00000,0x0000000770680000)</span><br><span class="line">  to   space 10752K, 0% used [0x000000076f180000,0x000000076f180000,0x000000076fc00000)</span><br><span class="line"> ParOldGen       total 175104K, used 0K [0x00000006c1400000, 0x00000006cbf00000, 0x000000076b180000)</span><br><span class="line">  object space 175104K, 0% used [0x00000006c1400000,0x00000006c1400000,0x00000006cbf00000)</span><br><span class="line"> Metaspace       used 2394K, capacity 4480K, committed 4480K, reserved 1056768K</span><br><span class="line">  class space    used 261K, capacity 384K, committed 384K, reserved 1048576K</span><br></pre></td></tr></table></figure><h2 id="直接使用-java-xx-printflagsfinal-是能看到启用状态的">直接使用 java -XX:+PrintFlagsFinal 是能看到启用状态的</h2><p>因为这个命令会打印太多启动信息，我们直接查看GC相关的内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;java -XX:+PrintFlagsFinal | find <span class="string">"GC"</span></span><br><span class="line">    uintx AdaptiveSizeMajorGCDecayTimeScale         = 10                                  &#123;product&#125;</span><br><span class="line">    uintx AutoGCSelectPauseMillis                   = 5000                                &#123;product&#125;</span><br><span class="line">     bool BindGCTaskThreadsToCPUs                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx CMSFullGCsBeforeCompaction                = 0                                   &#123;product&#125;</span><br><span class="line">    uintx ConcGCThreads                             = 0                                   &#123;product&#125;</span><br><span class="line">     bool DisableExplicitGC                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrent               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrentAndUnloadsClasses  = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx G1MixedGCCountTarget                      = 8                                   &#123;product&#125;</span><br><span class="line">    uintx GCDrainStackTargetSize                    = 64                                  &#123;product&#125;</span><br><span class="line">    uintx GCHeapFreeLimit                           = 2                                   &#123;product&#125;</span><br><span class="line">    uintx GCLockerEdenExpansionPercent              = 5                                   &#123;product&#125;</span><br><span class="line">     bool GCLockerInvokesConcurrent                 = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx GCLogFileSize                             = 8192                                &#123;product&#125;</span><br><span class="line">    uintx GCPauseIntervalMillis                     = 0                                   &#123;product&#125;</span><br><span class="line">    uintx GCTaskTimeStampEntries                    = 200                                 &#123;product&#125;</span><br><span class="line">    uintx GCTimeLimit                               = 98                                  &#123;product&#125;</span><br><span class="line">    uintx GCTimeRatio                               = 99                                  &#123;product&#125;</span><br><span class="line">     bool HeapDumpAfterFullGC                       = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool HeapDumpBeforeFullGC                      = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">    uintx HeapSizePerGCThread                       = 87241520                            &#123;product&#125;</span><br><span class="line">    uintx MaxGCMinorPauseMillis                     = 4294967295                          &#123;product&#125;</span><br><span class="line">    uintx MaxGCPauseMillis                          = 4294967295                          &#123;product&#125;</span><br><span class="line">    uintx NumberOfGCLogFiles                        = 0                                   &#123;product&#125;</span><br><span class="line">     intx ParGCArrayScanChunk                       = 50                                  &#123;product&#125;</span><br><span class="line">    uintx ParGCDesiredObjsFromOverflowList          = 20                                  &#123;product&#125;</span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ParGCUseLocalOverflow                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx ParallelGCBufferWastePct                  = 10                                  &#123;product&#125;</span><br><span class="line">    uintx ParallelGCThreads                         = 8                                   &#123;product&#125;</span><br><span class="line">     bool ParallelGCVerbose                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintClassHistogramAfterFullGC            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintClassHistogramBeforeFullGC           = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGC                                   = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCApplicationConcurrentTime          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCApplicationStoppedTime             = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCDateStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCDetails                            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCID                                 = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCTaskTimeStamps                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCTimeStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintHeapAtGC                             = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintHeapAtGCExtended                     = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintJNIGCStalls                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintParallelOldGCPhaseTimes              = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintReferenceGC                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool TraceDynamicGCThreads                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool TraceParallelOldGCTasks                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveGCBoundary                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizePolicyWithSystemGC         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAutoGCSelectPolicy                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseConcMarkSweepGC                        = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseDynamicNumberOfGCThreads               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseG1GC                                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCLogFileRotation                      = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCTaskAffinity                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParNewGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseParallelGC                            := <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParallelOldGC                          = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseSerialGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br></pre></td></tr></table></figure><p>再筛选出为true的值：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;java -XX:+PrintFlagsFinal | find <span class="string">"GC"</span> | find <span class="string">"true"</span></span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParallelGC                            := <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParallelOldGC                          = <span class="literal">true</span>                                &#123;product&#125;</span><br></pre></td></tr></table></figure><h2 id="windows下测试">Windows下测试</h2><h3 id="运行一个简单的javaweb程序">运行一个简单的Javaweb程序</h3><p>运行一个简单的Javaweb程序，让它挂着。我这里使用的是springboot-web的hello程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar spring-boot-hello-1.0.jar</span><br><span class="line"></span><br><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___<span class="string">'_ __ _ _(_)_ __  __ _ \ \ \ \</span></span><br><span class="line"><span class="string">( ( )\___ | '</span>_ | <span class="string">'_| | '</span>_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  <span class="string">'  |____| .__|_| |_|_| |_\__, | / / / /</span></span><br><span class="line"><span class="string"> =========|_|==============|___/=/_/_/_/</span></span><br><span class="line"><span class="string"> :: Spring Boot ::        (v2.2.2.RELEASE)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2020-08-28 22:20:18.638  INFO 13020 --- [           main] com.neo.HelloApplication                 : Starting HelloApplication v1.0 on MECHREV with PID 13020 </span></span><br><span class="line"><span class="string">(H:\spring-boot-hello\target\spring-boot-hello-1.0.jar started by Administrator in H:\spring-boot-hello\target)</span></span><br><span class="line"><span class="string">2020-08-28 22:20:18.641  INFO 13020 --- [           main] com.neo.HelloApplication                 : No active profile set, falling back to default profiles: default</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.096  INFO 13020 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.108  INFO 13020 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.108  INFO 13020 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.183  INFO 13020 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.183  INFO 13020 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1487 ms</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.347  INFO 13020 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService '</span>applicationTaskExecutor<span class="string">'</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.541  INFO 13020 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '</span><span class="string">'</span></span><br><span class="line"><span class="string">2020-08-28 22:20:20.544  INFO 13020 --- [           main] com.neo.HelloApplication                 : Started HelloApplication in 2.266 seconds (JVM running for 2.703)</span></span><br></pre></td></tr></table></figure><h3 id="查看该程序的线程号">查看该程序的线程号</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;netstat -ano | find <span class="string">"8080"</span></span><br><span class="line">  TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       8592</span><br><span class="line">  TCP    [::]:8080              [::]:0                 LISTENING       8592</span><br></pre></td></tr></table></figure><h3 id="查看该线程对应的堆空间">查看该线程对应的堆空间</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;jmap -heap 8592</span><br><span class="line">Attaching to process ID 8592, please <span class="built_in">wait</span>...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.144-b01</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Parallel GC with 8 thread(s)</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 0</span><br><span class="line">   MaxHeapFreeRatio         = 100</span><br><span class="line">   MaxHeapSize              = 4273995776 (4076.0MB)</span><br><span class="line">   NewSize                  = 89128960 (85.0MB)</span><br><span class="line">   MaxNewSize               = 1424490496 (1358.5MB)</span><br><span class="line">   OldSize                  = 179306496 (171.0MB)</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">PS Young Generation</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 240648192 (229.5MB)</span><br><span class="line">   used     = 100345168 (95.69660949707031MB)</span><br><span class="line">   free     = 140303024 (133.8033905029297MB)</span><br><span class="line">   41.69786906190428% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 3670016 (3.5MB)</span><br><span class="line">   used     = 3625024 (3.45709228515625MB)</span><br><span class="line">   free     = 44992 (0.04290771484375MB)</span><br><span class="line">   98.77406529017857% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 6815744 (6.5MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 6815744 (6.5MB)</span><br><span class="line">   0.0% used</span><br><span class="line">PS Old Generation</span><br><span class="line">   capacity = 84410368 (80.5MB)</span><br><span class="line">   used     = 5499480 (5.244712829589844MB)</span><br><span class="line">   free     = 78910888 (75.25528717041016MB)</span><br><span class="line">   6.515171216881794% used</span><br><span class="line"></span><br><span class="line">12469 interned Strings occupying 1113616 bytes.</span><br></pre></td></tr></table></figure><p>可以看出这里使用的是Parallel GC。</p><h2 id="linux的单cpu情况下">Linux的单CPU情况下</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintCommandLineFlags -version</span></span><br><span class="line">-XX:InitialHeapSize=32768000 -XX:MaxHeapSize=524288000 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops </span><br><span class="line">java version <span class="string">"1.8.0_131"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintGCDetails -version</span></span><br><span class="line">java version <span class="string">"1.8.0_131"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</span><br><span class="line">Heap</span><br><span class="line"> def new generation   total 9792K, used 522K [0x00000000e0c00000, 0x00000000e16a0000, 0x00000000eb2a0000)</span><br><span class="line">  eden space 8704K,   6% used [0x00000000e0c00000, 0x00000000e0c82ae0, 0x00000000e1480000)</span><br><span class="line">  from space 1088K,   0% used [0x00000000e1480000, 0x00000000e1480000, 0x00000000e1590000)</span><br><span class="line">  to   space 1088K,   0% used [0x00000000e1590000, 0x00000000e1590000, 0x00000000e16a0000)</span><br><span class="line"> tenured generation   total 21888K, used 0K [0x00000000eb2a0000, 0x00000000ec800000, 0x0000000100000000)</span><br><span class="line">   the space 21888K,   0% used [0x00000000eb2a0000, 0x00000000eb2a0000, 0x00000000eb2a0200, 0x00000000ec800000)</span><br><span class="line"> Metaspace       used 2225K, capacity 4480K, committed 4480K, reserved 1056768K</span><br><span class="line">  class space    used 243K, capacity 384K, committed 384K, reserved 1048576K</span><br></pre></td></tr></table></figure><p>打印日志：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintFlagsFinal | grep GC</span></span><br><span class="line">    uintx AdaptiveSizeMajorGCDecayTimeScale         = 10                                  &#123;product&#125;</span><br><span class="line">    uintx AutoGCSelectPauseMillis                   = 5000                                &#123;product&#125;</span><br><span class="line">     bool BindGCTaskThreadsToCPUs                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx CMSFullGCsBeforeCompaction                = 0                                   &#123;product&#125;</span><br><span class="line">    uintx ConcGCThreads                             = 0                                   &#123;product&#125;</span><br><span class="line">     bool DisableExplicitGC                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrent               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ExplicitGCInvokesConcurrentAndUnloadsClasses  = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx G1MixedGCCountTarget                      = 8                                   &#123;product&#125;</span><br><span class="line">    uintx GCDrainStackTargetSize                    = 64                                  &#123;product&#125;</span><br><span class="line">    uintx GCHeapFreeLimit                           = 2                                   &#123;product&#125;</span><br><span class="line">    uintx GCLockerEdenExpansionPercent              = 5                                   &#123;product&#125;</span><br><span class="line">     bool GCLockerInvokesConcurrent                 = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx GCLogFileSize                             = 8192                                &#123;product&#125;</span><br><span class="line">    uintx GCPauseIntervalMillis                     = 0                                   &#123;product&#125;</span><br><span class="line">    uintx GCTaskTimeStampEntries                    = 200                                 &#123;product&#125;</span><br><span class="line">    uintx GCTimeLimit                               = 98                                  &#123;product&#125;</span><br><span class="line">    uintx GCTimeRatio                               = 99                                  &#123;product&#125;</span><br><span class="line">     bool HeapDumpAfterFullGC                       = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool HeapDumpBeforeFullGC                      = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">    uintx HeapSizePerGCThread                       = 87241520                            &#123;product&#125;</span><br><span class="line">    uintx MaxGCMinorPauseMillis                     = 18446744073709551615                    &#123;product&#125;</span><br><span class="line">    uintx MaxGCPauseMillis                          = 18446744073709551615                    &#123;product&#125;</span><br><span class="line">    uintx NumberOfGCLogFiles                        = 0                                   &#123;product&#125;</span><br><span class="line">     intx ParGCArrayScanChunk                       = 50                                  &#123;product&#125;</span><br><span class="line">    uintx ParGCDesiredObjsFromOverflowList          = 20                                  &#123;product&#125;</span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ParGCUseLocalOverflow                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">    uintx ParallelGCBufferWastePct                  = 10                                  &#123;product&#125;</span><br><span class="line">    uintx ParallelGCThreads                         = 0                                   &#123;product&#125;</span><br><span class="line">     bool ParallelGCVerbose                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintClassHistogramAfterFullGC            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintClassHistogramBeforeFullGC           = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGC                                   = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCApplicationConcurrentTime          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCApplicationStoppedTime             = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCDateStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCDetails                            = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCID                                 = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintGCTaskTimeStamps                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintGCTimeStamps                         = <span class="literal">false</span>                               &#123;manageable&#125;</span><br><span class="line">     bool PrintHeapAtGC                             = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintHeapAtGCExtended                     = <span class="literal">false</span>                               &#123;product rw&#125;</span><br><span class="line">     bool PrintJNIGCStalls                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintParallelOldGCPhaseTimes              = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool PrintReferenceGC                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool TraceDynamicGCThreads                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool TraceParallelOldGCTasks                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveGCBoundary                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizePolicyWithSystemGC         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseAutoGCSelectPolicy                     = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseConcMarkSweepGC                        = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseDynamicNumberOfGCThreads               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseG1GC                                   = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCLogFileRotation                      = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCTaskAffinity                         = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseParNewGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseParallelGC                             = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseParallelOldGC                          = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line">     bool UseSerialGC                               = <span class="literal">false</span>                               &#123;product&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@iZbp1bwfwyz4twpsnqia:~<span class="comment"># java -XX:+PrintFlagsFinal | grep GC | grep true</span></span><br><span class="line">     bool ParGCTrimOverflow                         = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool PrintGCCause                              = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool ScavengeBeforeFullGC                      = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseAdaptiveSizeDecayMajorGCCost           = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseGCOverheadLimit                        = <span class="literal">true</span>                                &#123;product&#125;</span><br><span class="line">     bool UseMaximumCompactionOnSystemGC            = <span class="literal">true</span>                                &#123;product&#125;</span><br></pre></td></tr></table></figure><p>查看某个线上数目的堆情况：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">root@iZbp1bwfwyz4twpsnqia:/www/wwwlogs<span class="comment"># jmap -heap 13467</span></span><br><span class="line">Attaching to process ID 13467, please <span class="built_in">wait</span>...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.131-b11</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Mark Sweep Compact GC</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 40</span><br><span class="line">   MaxHeapFreeRatio         = 70</span><br><span class="line">   MaxHeapSize              = 524288000 (500.0MB)</span><br><span class="line">   NewSize                  = 11141120 (10.625MB)</span><br><span class="line">   MaxNewSize               = 174718976 (166.625MB)</span><br><span class="line">   OldSize                  = 22413312 (21.375MB)</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">New Generation (Eden + 1 Survivor Space):</span><br><span class="line">   capacity = 55050240 (52.5MB)</span><br><span class="line">   used     = 3517400 (3.3544540405273438MB)</span><br><span class="line">   free     = 51532840 (49.145545959472656MB)</span><br><span class="line">   6.389436267671131% used</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 48955392 (46.6875MB)</span><br><span class="line">   used     = 2933888 (2.7979736328125MB)</span><br><span class="line">   free     = 46021504 (43.8895263671875MB)</span><br><span class="line">   5.99298234605087% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 6094848 (5.8125MB)</span><br><span class="line">   used     = 583512 (0.5564804077148438MB)</span><br><span class="line">   free     = 5511336 (5.256019592285156MB)</span><br><span class="line">   9.573856476814516% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 6094848 (5.8125MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 6094848 (5.8125MB)</span><br><span class="line">   0.0% used</span><br><span class="line">tenured generation:</span><br><span class="line">   capacity = 122265600 (116.6015625MB)</span><br><span class="line">   used     = 106832296 (101.88321685791016MB)</span><br><span class="line">   free     = 15433304 (14.718345642089844MB)</span><br><span class="line">   87.37723120812396% used</span><br><span class="line"></span><br><span class="line">23444 interned Strings occupying 2894352 bytes.</span><br></pre></td></tr></table></figure><p>我们可以看到这里使用的是<strong>Mark Sweep Compact GC</strong>，即标记清除压缩。</p><p>标记-清除-压缩（Mark-Sweep-Compat）：多次GC后才压缩（是标记清除和标记整理算法的结合。但不算在GC四大算法（标记清除算法、标记整理（压缩）算法、复制算法、分代回收算法）中）。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git push 出现 Fatal: TaskCanceledException encountered问题</title>
      <link href="/article/9325564.html"/>
      <url>/article/9325564.html</url>
      
        <content type="html"><![CDATA[<p>git push推送代码到github上的时候出现了<code>Fatal: TaskCanceledException encountered.</code>的错误。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br><span class="line">fatal: TaskCanceledException encountered.</span><br><span class="line">   ……</span><br><span class="line">fatal: TaskCanceledException encountered.</span><br><span class="line">   ……</span><br><span class="line">Username <span class="keyword">for</span> <span class="string">'https://github.com'</span>:</span><br></pre></td></tr></table></figure><p>解决方法如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper manager</span><br></pre></td></tr></table></figure><p>之后再push应该就可以正常推送了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IntelliJ IDEA 配置Tomcat 运行Web项目</title>
      <link href="/article/64de9dda.html"/>
      <url>/article/64de9dda.html</url>
      
        <content type="html"><![CDATA[<p>以前都用MyEclipse写程序的 突然用了IDEA各种不习惯的说</p><p>借鉴了很多网上好的配置办法，感谢各位大神~</p><a id="more"></a><h2 id="前期准备">前期准备</h2><p>IDEA、JDK、Tomcat请先在自己电脑上装好 好么~<br>博客图片为主 请多看红框框</p><h2 id="开始">开始</h2><h3 id="1-创建-配置项目">1.创建、配置项目</h3><p>1.1创建项目<br>New Project - 【next】</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145056.png" alt></p><p>1.2 给你的项目起名字，选地方 - 【finish】</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145352.png" alt></p><p>1.3开始配置项目<br>配置 project structure<br>【F4】 或 项目右键 【Open Module Settings】或 右上角有个黑蓝色的框框 或 菜单栏【view】-【Open Module Settings】进入<br><img src="https://oss.yansheng.xyz/picgo/20210227145428.png" alt></p><p>1.3.1 配置Source<br>在 项目-web-WEB INF 下创建两个文件夹 classes 和 lib<br><img src="https://oss.yansheng.xyz/picgo/20210227145500.png" alt></p><p>1.3.2 配置Paths<br>将两个output path 修改为 刚才创建的classes的地址<br><img src="https://oss.yansheng.xyz/picgo/20210227145526.png" alt></p><p>1.3.3 配置 Denpendencies<br>右面有个绿色小加号 - JARs or directories…</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145551.png" alt></p><p>选刚才创建的lib地址</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145608.png" alt></p><p>选Jar Directory</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145629.png" alt></p><p>后面就 ok -ok<br>项目就配置好了~</p><h3 id="2-配置tomcat">2.配置Tomcat</h3><p>配置Configurations<br>菜单栏【run】-【Edit Configurations】或 右上角有个向下的小箭头</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145648.png" alt></p><p>2.1 新建Tomcat Server<br>提醒：有人说这里 可能没有 Tomcat Server 选项<br>IntelliJ 2016 社区版(也就是免费版) 没有Tomcat Server这个选项，收费版有<br>如果是收费版也没有Tomcat Server选项。。。</p><p>可能是在安装的时候没有勾选（猜测）</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145712.png" alt></p><p>2.2给server起个名字</p><p>在第二个选项卡Deployment中<br>右边有个绿色+ 加一个Artifact</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145742.png" alt></p><p>2.3项目已经自动添加进来</p><p>记得在右边Application context 中输入项目的启动地址 记得加“/”</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145801.png" alt></p><p>然后点ok<br>配好之后 面板会有些变化 证明tomcat 已经配好了</p><p><img src="https://oss.yansheng.xyz/picgo/20210227145823.png" alt></p><h3 id="3-运行">3.运行</h3><p>在index.jsp中写点字 以便测试</p><p>点右上角的 绿色运行按钮就ok啦~</p><p><img src="https://oss.yansheng.xyz/picgo/20210227152605.png" alt></p><p>output里会输出日志<br>然后就可以从浏览器中输入项目的启动地址（就是2.3中的地址）查看了</p><p><img src="https://oss.yansheng.xyz/picgo/20210227152627.png" alt></p><hr><p>转自：<a href="https://blog.csdn.net/qq_38801550/article/details/78187803" target="_blank" rel="noopener">https://blog.csdn.net/qq_38801550/article/details/78187803</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> IDEA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEA大杂烩</title>
      <link href="/article/b1163b20.html"/>
      <url>/article/b1163b20.html</url>
      
        <content type="html"><![CDATA[<p>收集了在使用IDEA过程中的一些小技巧，让它更加<strong>得心应手</strong>，让你更加<strong>爱不释手</strong>。</p><a id="more"></a><h2 id="ctrl-提示显示内容-显示实体类的属性注释">ctrl 提示显示内容 显示实体类的属性注释</h2><p>转自：<a href="https://blog.csdn.net/weixin_40295575/article/details/91492392" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40295575/article/details/91492392</a></p><p>查看了很多资料，大多数都没有提示到要怎么操作，只是知道了通过快捷键Ctrl+Q可以看到你的注释。</p><p>换一种方法，悬停在属性或方法上看到对应的注释等等。</p><p>将标红的地方勾上就行了，英文的意思就是悬停多久可以看到内容<br><img src="https://img-blog.csdnimg.cn/20190612112600563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDI5NTU3NQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="idea-代码换行后格式化代码不回到一行">idea 代码换行后格式化代码不回到一行</h2><p><a href="https://blog.csdn.net/qq1032355091/article/details/92657593" target="_blank" rel="noopener">https://blog.csdn.net/qq1032355091/article/details/92657593</a></p><p><img src="https://img-blog.csdnimg.cn/20200811230659856.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="idea换成2019-2版本后-出现中文字体大小不一的情况">idea换成2019.2版本后，出现中文字体大小不一的情况</h2><p><img src="https://img-blog.csdnimg.cn/20200812171918483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>解决方案<br>File–&gt;Settings–&gt;Editor–&gt;Color Scheme–&gt;Color Scheme Font–&gt;Fallback font:SimSun</p><p><img src="https://img-blog.csdnimg.cn/20200812172048380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea还原主题">idea还原主题</h2><p>Settings -&gt; Editor -&gt; Color Scheme -&gt; Scheme 中可以找到下载的主题，在这里也可以删除不想要的主题。<br><img src="https://img-blog.csdnimg.cn/20200812172833286.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea-设置鼠标滑轮修改字体大小">idea 设置鼠标滑轮修改字体大小</h2><p>file–&gt;setting --&gt;Editor–&gt;General–&gt;Mouse<br><img src="https://img-blog.csdnimg.cn/2020081219405171.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea报错-error-java-程序包org-springframework-boot不存在">IDEA报错 Error:java: 程序包org.springframework.boot不存在</h2><p><a href="https://www.jianshu.com/p/1f9284bd9b7e" target="_blank" rel="noopener">https://www.jianshu.com/p/1f9284bd9b7e</a><br><a href="https://www.pianshen.com/article/27191072952/" target="_blank" rel="noopener">https://www.pianshen.com/article/27191072952/</a><br><a href="https://www.cnblogs.com/kylinyang/p/13121779.html" target="_blank" rel="noopener">https://www.cnblogs.com/kylinyang/p/13121779.html</a></p><h2 id="intellij-idea-环境设置-侧栏显示类中所有方法">IntelliJ IDEA 环境设置——侧栏显示类中所有方法</h2><p>myeclipse默认会在右侧栏显示类的所有方法框，但是IDEA里并没有这样的初始化设置</p><p>那么怎样显示这个功能？</p><p>1.点击工具栏View–&gt;Tool Windows–&gt;Structure</p><p>之后会在左下角显示structure栏，显示所有方法的’栏目</p><p><img src="https://img-blog.csdnimg.cn/20200819170656197.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>2.如果不喜欢左下角，可以右键点击structure栏目，点击Move to,将栏目移动到想要显示的地方<br><img src="https://img-blog.csdnimg.cn/2020081917070873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea中的安装lombok">IDEA中的安装lombok</h2><p>打开IDEA的Setting –&gt; 选择Plugins选项 –&gt; 选择Browse repositories –&gt; 搜索lombok –&gt; 点击安装 –&gt; 安装完成重启IDEA –&gt; 安装成功<br><img src="https://img-blog.csdnimg.cn/20191011223201835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RQzhyLFU-1570803965625)(https://leanote.com/api/file/getImage?fileId=5a54370fab644126e2000c44)]"></p><h2 id="idea常用插件">idea常用插件</h2><p><a href="https://blog.csdn.net/lilizhou2008/article/details/100869558" target="_blank" rel="noopener">https://blog.csdn.net/lilizhou2008/article/details/100869558</a></p><p><a href="https://blog.csdn.net/jing_xifeng/article/details/82665175" target="_blank" rel="noopener">https://blog.csdn.net/jing_xifeng/article/details/82665175</a></p><p><a href="https://blog.csdn.net/win7system/article/details/83508313" target="_blank" rel="noopener">https://blog.csdn.net/win7system/article/details/83508313</a></p><p><a href="https://blog.csdn.net/sujun10/article/details/72852939" target="_blank" rel="noopener">https://blog.csdn.net/sujun10/article/details/72852939</a></p><h2 id="idea设置全局jdk">IDEA设置全局JDK</h2><p><img src="https://img-blog.csdnimg.cn/20200824170611408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea配置全局maven">idea配置全局maven</h2><p><img src="https://img-blog.csdnimg.cn/20200824172225412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200824172259731.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="分享一个idea翻译插件translation的安装及使用">分享一个idea翻译插件Translation的安装及使用</h2><p><a href="https://blog.csdn.net/uziuzi669/article/details/104039716" target="_blank" rel="noopener">https://blog.csdn.net/uziuzi669/article/details/104039716</a></p><h2 id="idea导入外部code-style">IDEA导入外部code style</h2><p><a href="https://www.cnblogs.com/jpfss/p/11643215.html" target="_blank" rel="noopener">https://www.cnblogs.com/jpfss/p/11643215.html</a></p><h2 id="idea中查看一个类的调用用和被调用用关系">idea中查看一个类的调用用和被调用用关系</h2><p><img src="https://img-blog.csdnimg.cn/2020082515040284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea自动导包设置">idea自动导包设置</h2><p><a href="https://www.cnblogs.com/kiko2014551511/p/11525637.html" target="_blank" rel="noopener">https://www.cnblogs.com/kiko2014551511/p/11525637.html</a></p><h2 id="idea设置字体大小">Idea设置字体大小</h2><p>描述：Idea刚开始字体很好且不是自己喜欢的字体，所以需要设置成自己喜欢的样式</p><p>步骤：<br>1.File -&gt; Settings进入设置(快捷键Ctrl + Alt + S)<br>2.在左上角搜索框中输入font<br>3.在搜索过滤之后在右边栏的标号3处选择自己喜欢的字体（注意，字只有软件自带的几个，如果需要使用系统字体则需要将标号3下的Show only这个框给取消勾），标号4处设置大小，设置完成确认即可：<br><img src="https://img-blog.csdnimg.cn/20200828094906983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea忽略某些文件">IDEA忽略某些文件</h2><p>Settings→Editor→File Types<br>在下方的忽略文件和目录（Ignore files and folders）中添加自己需要过滤的内容</p><p>下图为我自己添加过滤的内容，例如：<code>*.iml;*.idea;*.gitignore;*.sh;*.classpath;*.project;*.settings;target;</code></p><p><img src="https://img-blog.csdnimg.cn/20200830212732739.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="idea禁止编译整个项目-程序部分执行">IDEA禁止编译整个项目，程序部分执行</h2><p><a href="https://blog.csdn.net/qq_29303759/article/details/88904772" target="_blank" rel="noopener">https://blog.csdn.net/qq_29303759/article/details/88904772</a></p><h2 id="查找与替换">查找与替换</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查找当前文件内容：ctrl+F  如上图片</span><br><span class="line">查找全局文件：ctrl+<span class="built_in">shift</span>+F  或double <span class="built_in">shift</span>（按两下）或ctrl+<span class="built_in">shift</span>+N</span><br><span class="line"></span><br><span class="line">替换当前文件内容 ：ctrl+R  如上图片</span><br><span class="line">你想通过编辑器快速的将所有的’29’，变为29，你可以 ctrl + R, 搜索： \<span class="string">'(\d*)\'</span>, 替换为：<span class="variable">$1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> IDEA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia集成本地搜索</title>
      <link href="/article/915f21c1.html"/>
      <url>/article/915f21c1.html</url>
      
        <content type="html"><![CDATA[<p>yilia主题也有集成搜索功能，不过它使用的搜索是基于标题和标签的，有一定的局限性，没有提供全文检索功能。这篇文章介绍的就是集成全文检索和今日诗词。</p><h3 id="效果图">效果图</h3><p><img src="https://oss.yansheng.xyz/picgo/20200411232312.png" alt></p><p>动图<br><img src="https://oss.yansheng.xyz/picgo/hexo-yilia-local-search2.gif" alt></p><a id="more"></a><h2 id="1-集成本地搜索">1.集成本地搜索</h2><p>参考：为 Hexo 博客增加一个站内搜索：<a href="https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/" target="_blank" rel="noopener">https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/</a></p><p><img src="https://oss.yansheng.xyz/picgo/20200411214252.png" alt></p><h3 id="原理说明">原理说明</h3><p>使用<code>hexo-generator-search</code>插件为文章生成一个全局的<code>search.xml</code>，里面包含所有文章的内容（可配置）。然后再去这个文件中搜索关键字，以此来找到需要的文章。</p><h3 id="1-1安装插件">1.1安装插件</h3><p><a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">https://github.com/wzpan/hexo-generator-search</a></p><p>安装分为两步，首先通过 npm 将插件安装到本地：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>然后在全局（<code>_config.yml</code>）配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">all</span></span><br></pre></td></tr></table></figure><ul><li><code>path</code>，生成的路径，上述配置后可以通过 <code>/search.xml</code> 访问到文。</li><li><code>field</code>，用来配置全局检索的区间，可以是 <code>post/page/all</code>。</li></ul><p>重新clean、测试，就可以访问：<a href="http://localhost:4000/search.xml" target="_blank" rel="noopener">http://localhost:4000/search.xml</a> 了。</p><h3 id="1-2为网页添加搜索栏">1.2为网页添加搜索栏</h3><p>参考了博主的代码：<a href="https://github.com/barretlee/hexo-search-plugin-snippets" target="_blank" rel="noopener">https://github.com/barretlee/hexo-search-plugin-snippets</a></p><h4 id="1-2-1添加搜索框">1.2.1添加搜索框</h4><p>在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;div id=&quot;wrapper&quot; class=&quot;body-wrap&quot;&gt;'</code>后面添加如下代码（同时添加了‘今日诗词’）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.search</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page-header"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 今日诗词网址： <span class="attr">https:</span>//<span class="attr">www.jinrishici.com</span>/ %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>🍻  </span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"jinrishici-sentence"</span> <span class="attr">title</span>=<span class="string">"今日诗词"</span>&gt;</span>正在加载今日诗词....<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://sdk.jinrishici.com/v2/browser/jinrishici.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 《集成本地搜索 %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/search.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"local-search"</span> <span class="attr">class</span>=<span class="string">"local-search local-search-plugin"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"search"</span> <span class="attr">placeholder</span>=<span class="string">"站内搜索"</span> <span class="attr">id</span>=<span class="string">"local-search-input"</span> <span class="attr">class</span>=<span class="string">"local-search-input-cls"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span>=<span class="string">"local-search-icon-search"</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span> <span class="attr">title</span>=<span class="string">"站内搜索"</span>&gt;</span>🔍<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-search-result"</span> <span class="attr">class</span>=<span class="string">"local-search-result-cls"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size()) &#123;</span></span><br><span class="line"><span class="javascript">          $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%#</span> 集成本地搜索》 %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span> <span class="attr">class</span>=<span class="string">"body-wrap"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-2-2添加js脚本">1.2.2添加js脚本</h4><p>新建文件：<code>H:\Hexo\themes\yilia\source\js\search.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of hexo-generator-search</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="keyword">var</span> BTN = <span class="string">"&lt;i id='local-search-close'&gt;x&lt;/i&gt;"</span>;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: <span class="string">"xml"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">xmlResponse</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $(<span class="string">"entry"</span>, xmlResponse).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    title: $(<span class="string">"title"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    content: $(<span class="string">"content"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    url: $(<span class="string">"url"</span>, <span class="keyword">this</span>).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">            $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="string">'&lt;ul class=\"search-result-list\"&gt;'</span>;</span><br><span class="line">                <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">                $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// perform local searching</span></span><br><span class="line">                datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];</span><br><span class="line">                    <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">                        data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">                    <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">                        keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        isMatch = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">"&lt;li&gt;&lt;a href='"</span> + data_url +</span><br><span class="line">                            <span class="string">"' class='search-result-title'&gt;"</span> + data_title + <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">var</span> match_content = content.substr(start, end);</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                                match_content = match_content.replace(regS,</span><br><span class="line">                                    <span class="string">"&lt;em class=\"search-keyword\"&gt;"</span> +</span><br><span class="line">                                    keyword + <span class="string">"&lt;/em&gt;"</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line"></span><br><span class="line">                            str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content +</span><br><span class="line">                                <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">                <span class="keyword">if</span> (str.indexOf(<span class="string">'&lt;li&gt;'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> $resultContent.innerHTML = BTN +</span><br><span class="line">                        <span class="string">"&lt;ul&gt;&lt;span class='local-search-empty'&gt;没有找到内容，更换下搜索词试试吧~&lt;span&gt;&lt;/ul&gt;"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                $resultContent.innerHTML = BTN + str;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'focus'</span>, <span class="string">'#local-search'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).html(<span class="string">'❌'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-close'</span>);</span><br><span class="line">        <span class="comment">//console.log("66666");</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-icon-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).html(<span class="string">'🔍'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-search'</span>);</span><br><span class="line">        <span class="comment">//console.log("1111");</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-3添加样式文件">1.2.3添加样式文件</h4><p>1.新建：<code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">10%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="comment">/* margin: 10px 0; */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#5ad1ed</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-moz-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">'x'</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: consolas;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(180deg);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="comment">/* top: 50px; */</span></span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-class">.local-search-empty</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#bdb7b7</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>:underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">124px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">em</span><span class="selector-class">.search-keyword</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e58c7c</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.将上面的样式引入页面中，修改<code>themes/yilia/layout/_partial/css.ejs</code>，再后面添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"&lt;%=config.root%&gt;./search.css"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.修改<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 页面头部：包含‘今日诗词’，站内搜索 */</span></span><br><span class="line"><span class="selector-class">.page-header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">30px</span> <span class="number">4px</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'微软雅黑'</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 今日诗词 */</span></span><br><span class="line"><span class="selector-id">#jinrishici-sentence</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#27d7a1</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">45px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果图2">效果图2</h3><p>详见文章<a href="#">开头</a></p><h3 id="参考">参考</h3><ul><li>今日诗词安装：<a href="https://www.jinrishici.com/doc/#json-fast-easy" target="_blank" rel="noopener">https://www.jinrishici.com/doc/#json-fast-easy</a></li><li>为 Hexo 博客增加一个站内搜索：<a href="https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/" target="_blank" rel="noopener">https://www.barretlee.com/blog/2017/06/04/hexo-search-insite/</a></li><li>搜索栏样式参考：<a href="http://liangtao.site/" target="_blank" rel="noopener">http://liangtao.site/</a></li><li>search.js部分参考：<a href="https://github.com/Kiritor/hexo-theme-yilia-l/blob/8f42e032e14a9746682dc91a0382a0576687a1f0/layout/_partial/post/search.ejs" target="_blank" rel="noopener">https://github.com/Kiritor/hexo-theme-yilia-l/blob/8f42e032e14a9746682dc91a0382a0576687a1f0/layout/_partial/post/search.ejs</a></li><li>另一种配置方式：<a href="https://github.com/Kiritor/hexo-theme-yilia-l/search?q=wrapStyle&amp;unscoped_q=wrapStyle" target="_blank" rel="noopener">https://github.com/Kiritor/hexo-theme-yilia-l/search?q=wrapStyle&amp;unscoped_q=wrapStyle</a></li><li>可复制的表情包：<a href="http://www.fhdq.net/emoji/emojifuhao.html" target="_blank" rel="noopener">http://www.fhdq.net/emoji/emojifuhao.html</a></li></ul><h2 id="2-更近一步">2.更近一步</h2><h3 id="适配手机端">适配手机端</h3><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line"><span class="selector-class">.page-header</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="comment">/* margin: 5px 30px 4px 30px; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'微软雅黑'</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 手机端 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">5%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="手机端取消本地搜索功能">手机端取消本地搜索功能</h3><p>因为考虑到手机端界面比较小，这里取消搜索功能。</p><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 移动设备侦测</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> isMobile = &#123;</span></span><br><span class="line"><span class="actionscript">      Android: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Android/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      BlackBerry: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/BlackBerry/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      iOS: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/iPhone|iPad|iPod/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      Opera: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Opera Mini/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      Windows: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/IEMobile/i</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      any: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span>(isMobile.any())&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//手机端取消搜索功能</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.local-search'</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size() &amp;&amp; !isMobile.any()) &#123;</span></span><br><span class="line"><span class="javascript">      $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者直接用css隐藏搜索框<code>H:\Hexo\themes\yilia\source\search.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 手机端 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.local-search</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>:none;</span><br><span class="line">        <span class="comment">/* right: -5%; */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="bug">bug</h2><p>测试时，修改文件名后，可能不能立即将文章加入索引，即不能进行搜索。</p><p>停止测试，重新hexo s即可。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Consider defining a bean named ‘entityManagerFactory‘ in your configuration出现的解决方法</title>
      <link href="/article/f0f8e61.html"/>
      <url>/article/f0f8e61.html</url>
      
        <content type="html"><![CDATA[<p>开始学习spring boot的时候，出现了 <code>Consider defining a bean named ‘entityManagerFactory’ in your configuration</code> 这个问题，于是上网查了好多，发现网上大多说是版本的问题，在pom.xml中把版本去掉就行了，但问题我压根没写版本。。。<br><img src="https://img-blog.csdnimg.cn/20200801225354315.png" alt="这里写图片描述"></p><p>于是我又百度这有百度那的终于解决了这个问题，其实相当的简单，只要删除 <code>C:\Users\hanfuqingshi.m2\repository\org\hibernate\hibernate-core</code>目录，然后再updata project就行了！</p><p>希望能帮助到跟我遇到同样问题的人！</p>]]></content>
      
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis启动出错Creating Server TCP listening socket *:6379: bind: No such file or directory</title>
      <link href="/article/60bb9cec.html"/>
      <url>/article/60bb9cec.html</url>
      
        <content type="html"><![CDATA[<h2 id="问题">问题</h2><p>Windows启动redis时，出现如下错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">λ redis-server.exe redis.windows.conf</span><br><span class="line">[12844] 26 Jul 22:07:35.233 <span class="comment"># Creating Server TCP listening socket *:6379: bind: No such file or directory</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="解决方法">解决方法</h2><p>在命令行中运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt;shutdown</span><br><span class="line"></span><br><span class="line">not connected&gt;<span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>然后重新运行<code>redis-server.exe redis.windows.conf</code>，启动成功！</p><hr><p>参考：<a href="https://blog.csdn.net/shendixiaoxuan/article/details/78016203" target="_blank" rel="noopener">https://blog.csdn.net/shendixiaoxuan/article/details/78016203</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>毕业季-入海</title>
      <link href="/article/642e7615.html"/>
      <url>/article/642e7615.html</url>
      
        <content type="html"><![CDATA[<h2 id="跃入人海-各有风雨灿烂">跃入人海，各有风雨灿烂</h2><p><img src="https://oss.yansheng.xyz/picgo/20210227162039.png" alt></p><p>每年毕业季，校园里总会弥漫着离别、伤感的气息，我们怀揣着对未来的憧憬，还带着迷茫，与未知的不安，将要重新出发到人生另一段旅途，跃入「人海」。</p><p>当我们还沉浸在《后浪》中无法自拔的时候，B站和毛不易带着「 跃入人海，各有风雨灿烂 」的祝福，送给即将或已经毕业的人们，推出新歌《入海》。</p><p>“毕业”是一个符号，象征着一个人独立面对着社会、人生和未来。每个人都会经历这一刻，这是我们共通的部分。B站联合毛不易发布《入海》，献给即将或已经毕业的人们，跃入人海，各有风雨灿烂。</p><a id="more"></a><p>《入海》bilibili X 毛不易 | 跃入人海，各有风雨灿烂：<a href="https://www.bilibili.com/video/BV1tC4y1H7yz" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1tC4y1H7yz</a></p><iframe height="600" width="960" src="https://www.bilibili.com/video/BV1tC4y1H7yz" frameborder="0" 'allowfullscreen'></iframe><hr><h2 id="百家评论">百家评论</h2><p>B站《后浪》后再次致敬青春，听毛不易唱《入海》，暗自感慨我似乎已经退潮：<a href="https://kuaibao.qq.com/s/20200521A0O50Q00" target="_blank" rel="noopener">https://kuaibao.qq.com/s/20200521A0O50Q00</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
            <tag> 毕业季 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>毕业季-后浪</title>
      <link href="/article/e5787948.html"/>
      <url>/article/e5787948.html</url>
      
        <content type="html"><![CDATA[<h2 id="后浪">后浪</h2><p><img src="https://oss.yansheng.xyz/picgo/20210227160310.png" alt></p><p>请查收，B站献给新一代的青年宣言片。</p><p>国家一级演员何冰走上舞台，以青年宣言《后浪》为词，认可、赞美与寄语年轻一代。</p><p>在UP主们的青春混剪中，属于年轻人的光芒正在闪耀。</p><p><strong>“你们有幸，遇见这样的时代；但时代更有幸，遇见这样的你们”</strong>。</p><p><img src="https://cdn.jsdelivr.net/gh/yansheng836/photos/xuanwu/20210228132124.png" alt></p><a id="more"></a><p>bilibili献给新一代的演讲《后浪》：<a href="https://www.bilibili.com/video/BV1FV411d7u7?from=search&amp;seid=5166392828005905996" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1FV411d7u7?from=search&amp;seid=5166392828005905996</a></p><iframe height="600" width="960" src="https://www.bilibili.com/video/BV1FV411d7u7?from=search&seid=5166392828005905996" frameborder="0" 'allowfullscreen'></iframe><hr><h2 id="百家评论">百家评论</h2><p>知乎话题：怎么看待《后浪》？<a href="https://www.zhihu.com/question/392555046" target="_blank" rel="noopener">https://www.zhihu.com/question/392555046</a></p><p>中国财经报：《后浪》刷屏：心急的B站：<a href="https://baijiahao.baidu.com/s?id=1665856889754406565&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1665856889754406565&amp;wfr=spider&amp;for=pc</a></p><p>一代后浪，看B站《后浪》有感：<a href="https://www.sohu.com/a/393774389_120470162" target="_blank" rel="noopener">https://www.sohu.com/a/393774389_120470162</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
            <tag> 毕业季 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>王者荣耀每日壁纸</title>
      <link href="/article/19b653c7.html"/>
      <url>/article/19b653c7.html</url>
      
        <content type="html"><![CDATA[<p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><p>《王者荣耀每日壁纸》项目首页：<a href="http://wzry.yansheng.xyz" target="_blank" rel="noopener">http://wzry.yansheng.xyz</a> 。<br>API说明详见：<a href="http://wzry.yansheng.xyz/swagger-ui.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/swagger-ui.html</a> 。</p><a id="more"></a><h2 id="1-返回json">1.返回JSON</h2><h3 id="1-1大尺寸壁纸-1920x882">1.1大尺寸壁纸(1920x882)</h3><p><code>/json/wallpaper-bigskin.html</code></p><p>返回当天的壁纸的json信息，如（5月28日的数据）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="参数id说明">参数id说明</h4><table><thead><tr><th>参数值</th><th>说明</th></tr></thead><tbody><tr><td>id=today，不写</td><td>返回从1月1日到当日天数对应的数据</td></tr><tr><td>id=now</td><td>每次刷新随机获得数据</td></tr><tr><td>id=[数字]</td><td>返回对应的id的数据</td></tr></tbody></table><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/wallpaper-bigskin.html?id=1</a></p><h3 id="1-2较小尺寸壁纸-1200x530">1.2较小尺寸壁纸(1200x530)</h3><p><code>/json/phone-bigskin.html</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">149</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://game.gtimg.cn/images/yxzj/img201606/heroimg/168/168-bigskin-4.jpg"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/json/phone-bigskin.html?id=1</a></p><h2 id="2-返回图片">2.返回图片</h2><h3 id="2-1大尺寸壁纸-1920x882">2.1大尺寸壁纸(1920x882)</h3><p><code>/image/wallpaper-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html?id=1</a></p><h3 id="2-2较小尺寸壁纸-1200x530">2.2较小尺寸壁纸(1200x530)</h3><p><code>/image/phone-bigskin.html</code></p><p>参数id同1.1。</p><p>Example：</p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=today</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=now</a></p><p><a href="http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1" target="_blank" rel="noopener">http://wzry.yansheng.xyz/image/phone-bigskin.html?id=1</a></p><h2 id="3-图片使用说明">3.图片使用说明</h2><h3 id="html">HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">title</span>=<span class="string">"王者荣耀每日壁纸"</span> <span class="attr">src</span>=<span class="string">"http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"</span>/&gt;</span></span><br></pre></td></tr></table></figure><img alt="王者荣耀每日壁纸" title="王者荣耀每日壁纸" src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html"><h3 id="md">MD</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">王者荣耀每日壁纸</span>](<span class="link">http://wzry.yansheng.xyz/image/wallpaper-bigskin.html</span>)</span><br></pre></td></tr></table></figure><p><img src="http://wzry.yansheng.xyz/image/wallpaper-bigskin.html" alt="王者荣耀每日壁纸"></p><h2 id="license">License</h2><div style="text-align:left"><img src="https://img.shields.io/badge/license-MIT-green.svg" alter="MIT License" title="MIT License"></div><p>This software is licensed under the MIT License by <a href="https://github.com/yansheng836" target="_blank" rel="noopener">yansheng836</a>(Email:<a href="mailto:sheng.yan836@gmail.com" target="_blank" rel="noopener">sheng.yan836@gmail.com</a>).</p>]]></content>
      
      
      
        <tags>
            
            <tag> 每日壁纸 </tag>
            
            <tag> 王者荣耀 </tag>
            
            <tag> 壁纸 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加标签页标题切换功能</title>
      <link href="/article/1e69113d.html"/>
      <url>/article/1e69113d.html</url>
      
        <content type="html"><![CDATA[<p>从网站页面切换到另一个页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090653.png" alt></p><p>返回网站页面时：</p><p><img src="https://oss.yansheng.xyz/picgo/20200604090723.png" alt></p><a id="more"></a><h2 id="原理">原理</h2><p>使用JS修改标题内容，几秒后恢复。</p><p>详见：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e</a></p><h2 id="步骤">步骤</h2><h3 id="1-添加配置">1.添加配置</h3><p><code>themes/yilia/_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tab Title Change | 标签页标题切换</span></span><br><span class="line"><span class="attr">tab_title_change:</span> </span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  left_tab_title:</span> <span class="string">'(つェ⊂) 我藏好了哦~ '</span></span><br><span class="line"><span class="attr">  return_tab_title:</span> <span class="string">'(*´∇｀*) 被你发现啦~ '</span></span><br></pre></td></tr></table></figure><h3 id="2-新建脚本文件">2.新建脚本文件</h3><p><code>themes/yilia/layout/_partial/tab-title-change.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.tab_title_change</span> &amp;&amp; <span class="attr">theme.tab_title_change.enable</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> originTitle = <span class="built_in">document</span>.title;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> titleTime;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.left_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line">      clearTimeout(titleTime);</span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.title = <span class="string">"&lt;%- theme.tab_title_change.return_tab_title %&gt;"</span> + originTitle;</span></span><br><span class="line"><span class="actionscript">      titleTime = setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.title = originTitle;</span></span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-引入脚本文件">3.引入脚本文件</h3><p><code>themes/yilia/layout/_partial/after-footer.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 标签页标题切换 */</span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">tab-title-change</span>') %&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notepad++统计文本字数</title>
      <link href="/article/9bd056e7.html"/>
      <url>/article/9bd056e7.html</url>
      
        <content type="html"><![CDATA[<p>默认情况下，使用Notepad++编辑文件是不会显示字数的，但是我们可以通过触发来统计字数，这里介绍两种方法。</p><p><img src="https://oss.yansheng.xyz/picgo/20200701000411.png" alt></p><a id="more"></a><h3 id="notepad-简介">Notepad++简介</h3><p><a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">Notepad++</a> 是免费的、开源编辑器和支持多种语言。它运行在MS Windows环境中，其使用受GPL许可证约束。</p><p>基于强大的编辑组件Scintilla，Notepad ++是用C ++编写的，并使用纯Win32 API和STL来确保更高的执行速度和更小的程序尺寸。通过优化尽可能多的例程而不丢失用户友好性，Notepad ++试图减少世界二氧化碳的排放。当使用较少的CPU功率时，PC可以降低速度并降低功耗，从而实现绿色环境。</p><p>默认情况下，使用Notepad++编辑文件是不会显示字数的，但是我们可以通过触发来统计字数，有两种方法：</p><h3 id="1-依次点击菜单栏上的-视图-摘要">1.依次点击菜单栏上的“视图” - “摘要”</h3><p>如图：</p><p><img src="https://img-blog.csdnimg.cn/20200516211332212.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>显示如下：<br><img src="https://img-blog.csdnimg.cn/20200516211440345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="2-双击下边状态栏的length-lines部分">2.双击下边状态栏的length: lines部分</h3><p><img src="https://img-blog.csdnimg.cn/20200516211844792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>注意：这个文档长度指的是字节数，这个和文件编码有关系，在utf8编码下，一个英文占一个字节，一个中文占3个字节，故上图是13字节。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Notepad++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理解HTTP缓存和304状态码</title>
      <link href="/article/3619698.html"/>
      <url>/article/3619698.html</url>
      
        <content type="html"><![CDATA[<p>最近研究nginx日志的时候，对于304这个状态码产生了好奇。之前一直知道3XX系列的状态码表示重定向，但对于304的具体原理没有仔细研究过，该篇文章就该问题进行研究。</p><a id="more"></a><h2 id="理解">理解</h2><p>最近研究nginx日志的时候，对于304这个状态码产生了好奇。之前一直知道3XX系列的状态码表示重定向，但对于304的具体原理没有仔细研究过。</p><p>304 的标准解释是：客户端有缓冲的文档并发出了一个条件性的请求。服务器告诉客户端，原来缓冲的文档还可以继续使用。</p><p>完成这个几个动作包括服务器确认返回304给予客户端，主要包含几个http头信息，请求头If-None-Match、响应头ETag和响应头Cache-Control。</p><h2 id="测试">测试</h2><p>为了更好的理解304状态码以及缓存，直接实验一把:为了方便就使用express启动一个服务了(express几行代码就搞定了)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'hello world'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(<span class="string">'8080'</span>)</span><br></pre></td></tr></table></figure><p>启动之后，浏览器访问localhost:8080并观察请求，响应头。</p><p>第一次请求：<br><img src="https://img-blog.csdnimg.cn/20200510160837421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>第二次请求：<img src="https://img-blog.csdnimg.cn/20200510160850726.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>第二次请求服务器返回了一个304。</p><p>在第一次请求服务器的时候在获取资源之后是会先把该资源缓存在本地的，同时服务器response返回了一个响应头ETag，ETag全称Entity Tag，用来标识一个资源。在具体的实现中，ETag可以是资源的hash值，也可以是一个内部维护的版本号。但不管怎样，ETag应该能反映出资源内容的变化，这是Http缓存可以正常工作的基础。服务器对于hello world这个字符串使用上述返回的ETag来表示，只要hello world这个资源不变，这个Etag就不会变。</p><p>客户端第二次请求服务器的时候，利用请求头If-None-Match来告诉服务器自己已经有个ETag为xxx的资源。如果服务器上的资源没有变化，也就是说服务器上的资源的ETag也是xxx的话，服务器就不会再返回该资源的内容，而是返回一个304的响应，告诉浏览器该资源没有变化，缓存有效，浏览器将直接调用本地缓存。</p><h2 id="响应头cache-control">响应头Cache-Control</h2><p>每个资源都可以通过Http头Cache-Control来定义自己的缓存策略，Cache-Control控制谁在什么条件下可以缓存响应以及可以缓存多久。 最快的请求是不必与服务器进行通信的请求：通过响应的本地副本，我们可以避免所有的网络延迟以及数据传输的数据成本。为此，HTTP 规范允许服务器返回一系列不同的 Cache-Control 指令，控制浏览器或者其他中继缓存如何缓存某个响应以及缓存多长时间。</p><p>Cache-Control 头在 HTTP/1.1 规范中定义，取代了之前用来定义响应缓存策略的头(例如 Expires)。当前的所有浏览器都支持 Cache-Control，因此，使用它就够了。</p><p>以下我来介绍可以在Cache-Control中设置的常用指令。</p><h3 id="max-age">max-age</h3><p>该指令指定从当前请求开始，允许获取的响应被重用的最长时间(单位为秒。例如：Cache-Control:max-age=60表示响应可以再缓存和重用 60 秒。需要注意的是，在max-age指定的时间之内，浏览器不会向服务器发送任何请求，包括验证缓存是否有效的请求，也就是说，如果在这段时间之内，服务器上的资源发生了变化，那么浏览器将不能得到通知，而使用老版本的资源。所以在设置缓存时间的长度时，需要慎重。</p><h3 id="public和private">public和private</h3><p>如果设置了public，表示该响应可以再浏览器或者任何中继的Web代理中缓存，public是默认值，即Cache-Control:max-age=60等同于Cache-Control:public, max-age=60。</p><p>在服务器设置了private比如Cache-Control:private, max-age=60的情况下，表示只有用户的浏览器可以缓存private响应，不允许任何中继Web代理对其进行缓存 - 例如，用户浏览器可以缓存包含用户私人信息的 HTML 网页，但是 CDN 不能缓存。</p><h3 id="no-cache">no-cache</h3><p>如果服务器在响应中设置了no-cache即Cache-Control:no-cache，那么浏览器在使用缓存的资源之前，必须先与服务器确认返回的响应是否被更改，如果资源未被更改，可以避免下载。这个验证之前的响应是否被修改，就是通过上面介绍的请求头If-None-match和响应头ETag来实现的。</p><p>需要注意的是，no-cache这个名字有一点误导。设置了no-cache之后，并不是说浏览器就不再缓存数据，只是浏览器在使用缓存数据时，需要先确认一下数据是否还跟服务器保持一致。如果设置了no-cache，而ETag的实现没有反应出资源的变化，那就会导致浏览器的缓存数据一直得不到更新的情况。</p><h3 id="no-store">no-store</h3><p>如果服务器在响应中设置了no-store即Cache-Control:no-store，那么浏览器和任何中继的Web代理，都不会存储这次相应的数据。当下次请求该资源时，浏览器只能重新请求服务器，重新从服务器读取资源。</p><p>部分内容参考自： &lt;<a href="http://www.cnblogs.com/xinzhao/p/5099807.html" target="_blank" rel="noopener">www.cnblogs.com/xinzhao/p/5099807.html</a>&gt;</p><p>————————————————<br>版权声明：本文为CSDN博主「不能说的秘密go」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/canot/article/details/76359917" target="_blank" rel="noopener">https://blog.csdn.net/canot/article/details/76359917</a><br>注：部分内容和排版有所修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> HTTP </tag>
            
            <tag> 304状态码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>错误. 读取xxx.jar时出错; invalid LOC header (bad signature)</title>
      <link href="/article/d35a2397.html"/>
      <url>/article/d35a2397.html</url>
      
        <content type="html"><![CDATA[<p>错误背景：maven项目进行maven install时报错。 解决方法： 找到对应的.jar文件进行删除，然后重新加载项目。</p><a id="more"></a><h2 id="错误背景">错误背景</h2><p>maven项目进行<code>maven install</code>时报错。</p><h3 id="错误详情">错误详情</h3><p><img src="https://img-blog.csdnimg.cn/20200509195118905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="解决方法">解决方法</h2><p>读取某jar有问题，我们可以根据提示的路径，找到对应的<code>.jar</code>文件并删除，然后重新加载项目（会重新下载该jar包）。</p><p>更多详情，可以看这篇文章： <a href="https://blog.csdn.net/weixin_33805992/article/details/86026182" target="_blank" rel="noopener">maven 错误：读取 xxx.jar 时出错；invalid LOC header (bad signature) 1 错误</a></p><p>————————————————<br>版权声明：本文为CSDN博主「余三二」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/weixin_40626699/article/details/89155442" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40626699/article/details/89155442</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加APlayer音乐播放器</title>
      <link href="/article/bf60dd05.html"/>
      <url>/article/bf60dd05.html</url>
      
        <content type="html"><![CDATA[<p>之前写过一篇文章，是将APlayer音乐播放器放到左侧的（详见：<a href="/article/5c52aefe.html">hexo+yilia添加背景音乐</a>），但是在手机端时，因为左侧边栏会被隐藏，因此也就会将播放器给隐藏掉。也就会是说手机端不能显示该播放器。</p><p>这里换一种方式，直接添加到整个页面中，使其在手机端也能使用。<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200406000912.jpg" alt></p><a id="more"></a><h2 id="说明">说明</h2><ol><li>如果你第一次安装APlayer音乐播放器，我建议你先看一下上面的那篇文章（如果你不介意手机端不能使用，按照那篇文章来也是OK的😬），这里不再详细介绍APlayer。</li><li>如果你之前有按照我上面的文章进行配置，建议先删除之前的配置，不然可能会有冲突。</li></ol><h2 id="安装步骤">安装步骤</h2><h3 id="1-添加插件">1.添加插件</h3><p>找到对应<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的文件，在<code>&lt;body&gt;</code>和 <code>&lt;div id=&quot;container&quot;</code>之间添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加--APlayer音乐播放器,详见: https://aplayer.js.org/#/zh-Hans/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"text-align:left;z-index: 10;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为方便修改，添加一个配置文件，修改时直接修改配置文件即可。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&lt;%- url_for('js/APlayer_config.js') %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 根据封面自适应主题色，主要是作用于进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="actionscript">              colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span><span class="params">(color)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;;</span><br><span class="line">          setTheme(ap.list.index);</span><br><span class="line"><span class="actionscript">          ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">            setTheme(data.index);</span><br><span class="line">          &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="注意">注意</h4><ol><li><code>js/APlayer_config.js</code>文件是APlayer的配置文件，需要自己新建，位置为：<code>themes\yilia\source\js\APlayer_config.js</code>，如果不懂参考之前的文章。</li><li>这里的<code>&lt;div id=&quot;aplayer&quot;</code><strong>id</strong>需要与<code>js/APlayer_config.js</code>中<code>container: document.getElementById('aplayer')</code>的id一致。</li></ol><h3 id="2-添加样式">2.添加样式</h3><p>在<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>任意位置添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>:<span class="number">0.8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="效果图">效果图</h2><p>PC端：<a href="#">见上</a></p><p>手机端<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/APlayer.gif" alt></p><hr><p>参考：<a href="https://qianlei6148.github.io/2018/10/13/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0aplayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">为hexo博客yilia模版添加aplayer音乐播放器</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> APlayer </tag>
            
            <tag> 音乐 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl (3) Illegal characters found in URL</title>
      <link href="/article/8e4f6844.html"/>
      <url>/article/8e4f6844.html</url>
      
        <content type="html"><![CDATA[<h2 id="摘要">摘要</h2><p>在windows 中编辑的文件上传到 Linux 后，使用 curl 等工具调用时会报一个<code>curl: (3) Illegal characters found in URL</code> 的错误，这是因为 Linux 与 Windows 在文本文件中添加的换行符不一样。Linux 在每行只会添加一个<code>\n</code>,Windows系统会在每行后加入<code>\r\n</code>, 所以在 Windows 下的文件放到 Linux上时就会出现这个问题，即多了一个<code>\r</code>。</p><a id="more"></a><h2 id="解决办法">解决办法</h2><p>转换文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除test.sh文件中的'\r'字符，并输出到testWithoutR.sh文件中。</span></span><br><span class="line">tr -d <span class="string">'\r'</span>  test.sh &gt; testWithoutR.sh</span><br></pre></td></tr></table></figure><h2 id="拓展：换行符crlf-carriage-return-line-feed-0d-0a">拓展：换行符CRLF (carriage return/line feed, 0d 0a)</h2><p>换行符可能用到的字符（基于十六进制而言）：</p><p><code>0x0d =&gt; \r, carrige return</code>：回车(CR)， 把光标移到同一行的顶头。<br><code>0x0a =&gt; \n, new line</code>：换行(LF)， 把光标移到下一行。</p><hr><p>在不同的操作系统这几个字符表现不同，比如在WIN系统下，这两个字符就是表现的本义，在UNIX类系统，换行<code>\n</code>就表现为光标下一行并回到行首，在MAC上，<code>\r</code>就表现为回到本行开头并往下一行，至于ENTER键的定义是与操作系统有关的。</p><table><thead><tr><th>系统</th><th>换行符</th></tr></thead><tbody><tr><td>Windows</td><td><code>\r\n</code></td></tr><tr><td>UNIX类</td><td><code>\n</code></td></tr><tr><td>MAC</td><td><code>\r</code></td></tr></tbody></table><h3 id="需要注意的是">需要注意的是</h3><p>虽然不同系统使用的换行符不同，但是因为这两个字符都是控制字符（不可打印），因此即使有时候弄混了，也可能显示不出来。<font color="red">但是出现🐛的可能性非常大！！！</font></p><p>换行符不同可能出现的情况(1，2在MINGW64 git bash中)：</p><ol><li><code>\ No newline at end of file</code>：文末没有换行。</li><li><code>^M</code>：Windows格式的换行符显示在git bash中，会出现这个字符。</li><li>Linux文本在Windows中打开，会变成只有一行。</li></ol><h2 id="注意">注意</h2><p>如果需要将文件上传到linux，建议使用一个可以设置使用何种换行符的编辑器，EditPlus就不行，它是以文中哪种换行符比较多为标准，自动探测使用何种换行符的；建议使用Notepad++！</p><hr><p>参考：</p><ul><li><a href="https://my.oschina.net/liufq/blog/2248883" target="_blank" rel="noopener">https://my.oschina.net/liufq/blog/2248883</a></li><li><a href="https://www.xuebuyuan.com/903493.html" target="_blank" rel="noopener">EditPlus 对于换行符的处理</a></li><li><a href="https://www.iteye.com/blog/xieye-654921" target="_blank" rel="noopener">eclipse 和editplus的换行符</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020年清明节</title>
      <link href="/article/b75f4e3a.html"/>
      <url>/article/b75f4e3a.html</url>
      
        <content type="html"><![CDATA[<p>2020年4月4日清明节</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E8%9C%A1%E7%83%9B.jpg" alt></p><a id="more"></a><h2 id="国务院发布公告：2020年4月4日举行全国性哀悼活动">国务院发布公告：2020年4月4日举行全国性哀悼活动</h2><p>为表达全国各族人民对抗击新冠肺炎疫情斗争牺牲烈士和逝世同胞的深切哀悼，国务院今天（4月3日）发布公告，决定2020年4月4日举行全国性哀悼活动。在此期间，全国和驻外使领馆下半旗志哀，全国停止公共娱乐活动。4月4日10时起，全国人民默哀3分钟，汽车、火车、舰船鸣笛，防空警报鸣响。</p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4.jpeg" width="100%"><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4-1.jpg" alt></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-4-4-2.jpg" alt></p><h2 id="只要平凡">《只要平凡》</h2><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=574919767&auto=0&height=66"></iframe><details><summary title="点击查看隐藏内容">歌词</summary><div class="container">    <p>只要平凡（电影《我不是药神》主题曲）</p><center class="poem song"><p style="padding-left:40%;text-align: left;font-size: 15px;">演唱：张杰，张碧晨<br></p><p>张杰：也许很远或是昨天     在这里或在对岸<br>长路辗转离合悲欢     人聚又人散<br>放过对错才知答案     活着的勇敢<br>没有神的光环     你我生而平凡</p><p>张碧晨：在心碎中认清遗憾     生命漫长也短暂<br>跳动心脏长出藤蔓     愿为险而战<br>跌入灰暗坠入深渊     沾满泥土的脸<br>没有神的光环     握紧手中的平凡<br>此心此生无憾     生命的火已点燃</p><p>张杰：有一天也许会走远     也许还能再相见<br>无论在人群在天边     让我再看清你的脸<br>任泪水铺满了双眼     虽无言泪满面<br>不要神的光环     只要你的平凡</p><p>张碧晨：在心碎中认清遗憾     生命漫长也短暂<br>跳动心脏长出藤蔓     愿为险而战<br>跌入灰暗坠入深渊     沾满泥土的脸<br>没有神的光环     握紧手中的平凡</p><p>张杰：有一天也许会走远     也许还能再相见</p><p>张碧晨：无论在人群在天边     让我再看清你的脸</p><p>张杰：任泪水铺满了双眼     虽无言泪满面</p><p>合：不要神的光环     只要你的平凡<br>此心此生无憾     生命的火已点燃</p></center></div></details><style>.container {    background:RGBA(255, 255, 255, 0.5);    padding-top:10px;    padding-bottom:10px;}.container p {    font-family:'Audiowide';    text-align: center;    color: #9E9E9E;    font-size: 30px;    line-height:40px;    -webkit-transition: all 1.5s ease;    transition: all 1.5s ease;}.container p:hover {    color: #383737;    -webkit-animation: Glow 1.5s ease infinite alternate;    animation: Glow 1.5s ease infinite alternate;}@media screen and (max-width: 800px) {    .container {        max-width:394.4px;    }    .container p {        font-size: 18px;        line-height: 28px;    }}</style><h2 id="多灾多难的一年">多灾多难的一年</h2><p>2019年非洲猪瘟肆意，猪价疯涨，至今仍未跌回原价。</p><p>2019年3月30日17时，四川省凉山州木里县境内发生森林火灾，27名森林消防支队战士牺牲。我们的伤痛还未抚平，2020年3月30日凌晨3点，四川省凉山州西昌市突发山火，19位救火英雄牺牲。哪有什么岁月静好，只不过有人在替你负重前行。</p><p>2019年年底至今，突如其来的新型冠状病毒肺炎让我们如临大敌，由武汉蔓延至全国，乃至全球。一场没有没有硝烟的战争悄然打响，武汉封城，一大批医护人员自愿请战，赶往第一线。全国人民众志成城，捐款捐物。<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200404110242.png" alt></p><p><strong>祝愿：明天会更好！</strong></p><blockquote><p>参考：</p><ul><li><a href="https://www.iyxwzx.com/qg/32513.html" target="_blank" rel="noopener">非洲猪瘟</a></li><li><a href="https://baijiahao.baidu.com/s?id=1629681413105575715&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">凉山木里县森林火灾</a></li><li><a href="https://henan.china.com/news/hot/2020/0404/253065725.html" target="_blank" rel="noopener">西昌山火</a></li><li><a href="http://news.sina.com.cn/c/2020-04-02/doc-iimxyqwa4554623.shtml" target="_blank" rel="noopener">为什么又是四川凉山？</a></li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
            <tag> 新冠肺炎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux查看文件夹大小和文件大小的几种方法</title>
      <link href="/article/eb3c1e22.html"/>
      <url>/article/eb3c1e22.html</url>
      
        <content type="html"><![CDATA[<p>Linux查看文件和文件夹大小的几种方法。</p><a id="more"></a><h2 id="查看文件夹大小">查看文件夹大小</h2><h3 id="du命令-推荐使用">du命令（推荐使用）</h3><p><code>Summarize disk usage of the set of FILEs, recursively for directories.</code></p><p>默认情况下查看当前目录的文件夹的大小，但是可以通过选项灵活使用。</p><p><code>du filepath</code>：查看指定文件夹的大小（不指定默认为当前文件夹，且不递归显示子目录）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认：显示单位为kb</span></span><br><span class="line">$ du</span><br><span class="line">204     ./CollectHomework</span><br><span class="line">252     ./hello-word</span><br><span class="line">1844    .</span><br><span class="line"></span><br><span class="line"><span class="comment"># -h, --human-readable  print sizes in human readable format (e.g., 1K 234M 2G)</span></span><br><span class="line"><span class="comment"># 形象的显示单位，使其更加易读。</span></span><br><span class="line">$ du -h</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M    .</span><br><span class="line"></span><br><span class="line"><span class="comment"># -a, --all             write counts for all files, not just directories</span></span><br><span class="line"><span class="comment"># 显示所有文件的大小，而不仅仅是文件夹</span></span><br><span class="line">$ du -ah</span><br><span class="line">1.4M    ./1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">76K     ./CollectHomework/CollectHomework-1.jpg</span><br><span class="line">128K    ./CollectHomework/CollectHomework-2.jpg</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">56K     ./hello-word/github-bootstrap语言识别情况.jpg</span><br><span class="line">20K     ./hello-word/github-hello-world1语言识别情况.jpg</span><br><span class="line">28K     ./hello-word/github-hello-world2语言识别情况.jpg</span><br><span class="line">12K     ./hello-word/github-hello-world语言识别情况.jpg</span><br><span class="line">64K     ./hello-word/github语言识别情况.jpg</span><br><span class="line">52K     ./hello-word/hello-world-github.png</span><br><span class="line">16K     ./hello-word/hello-world-github1.png</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M    .</span><br><span class="line"></span><br><span class="line"><span class="comment"># -d, --max-depth=N     print the total for a directory (or file, with --all) </span></span><br><span class="line"><span class="comment"># only if it is N or fewer levels below the command line argument;  </span></span><br><span class="line"><span class="comment"># --max-depth=0 is the same as --summarize</span></span><br><span class="line"><span class="comment"># 指定遍历深度，如果不指定表示遍历到底；如果是0，同-s / --summarize只显示总大小；如果是1，表示只遍历当前目录，不递归遍历子目录（如果有的话）。</span></span><br><span class="line">$ du -h --max-depth=1</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M    .</span><br></pre></td></tr></table></figure><h3 id="ls命令">ls命令</h3><p><code>List information about the FILEs (the current directory by default).</code><br><br>使用<code>-l</code> 选项，显示文件的长格式的信息（包含了文件的大小）。<br><br><code>ls -l filepath</code>：如果filepath是文件夹，第一行显示的即为指定文件夹的大小（不指定默认为当前文件夹，且不递归显示子目录）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l</span><br><span class="line">total 1392</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1420182 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">drwxr-xr-x 1 yansheng 197121       0 9月  23  2019 CollectHomework/</span><br><span class="line">drwxr-xr-x 1 yansheng 197121       0 9月  23  2019 hello-word/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 人性化</span></span><br><span class="line">$ ls -lh</span><br><span class="line">total 1.4M</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1.4M 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 CollectHomework/</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 hello-word/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归显示目录和文件</span></span><br><span class="line">$ ls -Rlh</span><br><span class="line">.:</span><br><span class="line">total 1.4M</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1.4M 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 CollectHomework/</span><br><span class="line">drwxr-xr-x 1 yansheng 197121    0 9月  23  2019 hello-word/</span><br><span class="line"></span><br><span class="line">./CollectHomework:</span><br><span class="line">total 204K</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  73K 9月  20  2019 CollectHomework-1.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 128K 9月  20  2019 CollectHomework-2.jpg</span><br><span class="line"></span><br><span class="line">./hello-word:</span><br><span class="line">total 248K</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  54K 9月   6  2019 github-bootstrap语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  18K 9月   6  2019 github-hello-world1语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  27K 9月   6  2019 github-hello-world2语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121 9.5K 9月   6  2019 github-hello-world语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  61K 9月   6  2019 github语言识别情况.jpg</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  51K 9月   2  2019 hello-world-github.png</span><br><span class="line">-rw-r--r-- 1 yansheng 197121  13K 9月   2  2019 hello-world-github1.png</span><br></pre></td></tr></table></figure><h2 id="查看文件大小">查看文件大小</h2><h3 id="du命令-推荐使用-v2">du命令（推荐使用）</h3><p>指定文件名即可：<code>du -h filepath</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ du -h <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">1.4M    1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br></pre></td></tr></table></figure><h3 id="ls命令-v2">ls命令</h3><p><code>ls -l filepath</code>：如果filepath是文件，显示的即为指定文件的大小。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -lh <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">-rw-r--r-- 1 yansheng 197121 1.4M 7月   4  2019 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br></pre></td></tr></table></figure><h3 id="stat命令">stat命令</h3><p><code>Display file or file system status.</code><br><br>显示文件或者文件系统的状态。（<code>stat filepath</code>：对文件夹无效）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认：显示单位为b</span></span><br><span class="line">$ <span class="built_in">stat</span> <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">  File: 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">  Size: 1420182         Blocks: 1388       IO Block: 65536  regular file</span><br><span class="line">Device: 401a47b0h/1075464112d   Inode: 2814749767110487  Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (197609/yansheng)   Gid: (197121/ UNKNOWN)</span><br><span class="line">Access: 2020-04-02 22:58:23.764561800 +0800</span><br><span class="line">Modify: 2019-07-04 16:34:18.386372100 +0800</span><br><span class="line">Change: 2019-10-31 00:10:47.515478600 +0800</span><br><span class="line"> Birth: 2020-04-02 22:58:23.730710200 +0800</span><br></pre></td></tr></table></figure><h3 id="wc命令">wc命令</h3><p><code>Print newline, word, and byte counts for each FILE, and a total line if more than one FILE is specified. A word is a non-zero-length sequence of characters delimited by white space.</code><br><br>显示文件的行、字、字节的数量。<br><br><code>-c, --bytes print the byte counts</code>，<code>wc -c filename</code>：统计文件的字节数量。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wc -c <span class="string">'1.5.0-阿里巴巴Java开发手册（华山版）.pdf'</span></span><br><span class="line">1420182 1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br></pre></td></tr></table></figure><h2 id="总结">总结</h2><p>推荐使用<code>du</code>命令，因为显示的容量可以很直观，方便。</p><hr><p>参考：<a href="https://blog.csdn.net/xiongyangg/article/details/54809810" target="_blank" rel="noopener">https://blog.csdn.net/xiongyangg/article/details/54809810</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>冠状病毒2019-nCoV实时统计</title>
      <link href="/article/ef6b6c25.html"/>
      <url>/article/ef6b6c25.html</url>
      
        <content type="html"><![CDATA[<p>介绍两个两个有实时数据的网站，方便我们关注新冠肺炎的情况。</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325234333.png" alt></p><a id="more"></a><h2 id="中文网站-数据以国内为主">中文网站（数据以国内为主）</h2><h3 id="全球新冠病毒最新实时疫情地图-丁香园">全球新冠病毒最新实时疫情地图_丁香园</h3><p>丁香园、丁香医生整合各权威渠道发布的官方数据，通过疫情地图直观展示，持续更新最新的新型冠状病毒肺炎的实时疫情动态。<br>网址：<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia</a></p><p><a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener"><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325232922.png" alt="全球新冠病毒最新实时疫情地图_丁香园"></a></p><h2 id="英文网站-数据以国外为主">英文网站（数据以国外为主）</h2><h3 id="coronavirus-map">Coronavirus Map</h3><p>See the Coronavirus (COVID-19) cases on the map. Latest stats, information on new cases.<br>网址：<a href="https://clustrmaps.com/coronavirus/" target="_blank" rel="noopener">https://clustrmaps.com/coronavirus/</a></p><p><a href="https://clustrmaps.com/coronavirus" target="_blank" rel="noopener"><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200325232007.png" alt="Coronavirus Map"></a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
            <tag> 新冠肺炎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决git clone一直需要输入密码的问题</title>
      <link href="/article/ff219d6a.html"/>
      <url>/article/ff219d6a.html</url>
      
        <content type="html"><![CDATA[<p>之前配置SSH，需要使用ssh形式的URL（即<code>git@github.com:*</code>开头的）进行clone。</p><a id="more"></a><h2 id="问题">问题</h2><p>虽然在GitHub添加了SSH keys，但是在执行<code>git clone https://*</code>命令时，仍然会提示需要输入密码，如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/yansheng8*</span><br><span class="line">Cloning into <span class="string">'*'</span>...</span><br><span class="line">Username <span class="keyword">for</span> <span class="string">'https://github.com'</span>:</span><br></pre></td></tr></table></figure><h2 id="处理方法">处理方法</h2><p>之前配置SSH，需要使用ssh形式的URL（即<code>git@github.com:*</code>开头的）进行clone。<br><img src="https://img-blog.csdnimg.cn/20200324230244304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置SSH</span></span><br><span class="line"><span class="comment">#1）本地生成key</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"email@qq.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2）查看生成的key </span></span><br><span class="line">cat cat  ~/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line"><span class="comment">#3）在github个人账户配置key</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo文章保存为草稿</title>
      <link href="/article/ab5d2a72.html"/>
      <url>/article/ab5d2a72.html</url>
      
        <content type="html"><![CDATA[<img src="https://api.uixsj.cn/bing/bing.php" width="auto" height="auto" alt="bing每日壁纸" title="bing每日壁纸"><a id="more"></a><h2 id="version">Version</h2><p><strong>Hexo 3.3.8</strong></p><h2 id="传统建立文章方式">传统建立文章方式</h2><p>一般我们都会使用 <code>hexo new &lt;title&gt;</code> 来建立文章（该命令其实是<code>hexo new post &lt;title&gt;</code>命令的简写形式），这种建立方法会将新文章建立在 <code>source/_posts</code> 目录下，当使用 <code>hexo generate</code> 编译 markdown 文件时，会将其 HTML 结果编译在 <code>public</code> 目录下，之后 <code>hexo deploy</code> 将会把 <code>public</code> 目录下所有文章部署到 GitHub，这是我们熟悉的 Hexo 流程。</p><p>这种建立文章方式的缺点是：若我们同时编辑多篇文章，只要其中一篇文章尚未编辑完成，也会随着 <code>hexo deploy</code> 一起部署到 GitHub，也就是 GitHub 可能会看到我们尚未完成的文章。</p><h2 id="建立文章草稿">建立文章草稿</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new draft &lt;title&gt;</span><br></pre></td></tr></table></figure><p>Hexo 另外提供 <code>draft</code> 机制，它的原理是新文章将建立在 <code>source/_drafts</code> 目录下，因此 <code>hexo generate</code> 并不会将其编译到 <code>public</code> 目录下，所以 <code>hexo deploy</code> 也不会将其部署到 GitHub。</p><h2 id="本机预览草稿">本机预览草稿</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s --draft</span><br></pre></td></tr></table></figure><p>虽然 <code>hexo generate</code> 不会编译 <code>source/_drafts</code> 目录下的文章，但 Hexo 的 <code>Hexo server</code> 另外提供 <code>--draft</code> 参数，这让我们只要搭配 <code>hexo-browsersync</code> plugins，就可以达到一边编辑 <code>markdown</code> 文章，一边使用浏览器预览的目的。</p><h2 id="将草稿发布为正式文章">将草稿发布为正式文章</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo p &lt;filename&gt;</span><br></pre></td></tr></table></figure><p>其中 <code>&lt;filename&gt;</code> 为不包含 <code>md</code> 后缀的文章名称。它的原理只是将文章从 <code>source/_drafts</code> 移动到 <code>source/_posts</code> 而已。</p><p>之后的 <code>hexo generate</code> 与 <code>hexo deploy</code> 的用法就完全一样了。</p><p>若日后想将正式文章转为为草稿，只需手动将文章从 <code>source/_posts</code> 目录移动到 <code>source/_drafts</code> 目录即可。</p><blockquote><ul><li><strong>本文作者：</strong> novnan</li><li><strong>本文链接：</strong> <a href="https://novnan.github.io/Hexo/hexo-draft/" target="_blank" rel="noopener">https://novnan.github.io/Hexo/hexo-draft/</a></li><li><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中国加油，武汉加油！</title>
      <link href="/article/a07aa35d.html"/>
      <url>/article/a07aa35d.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://oss.yansheng.xyz/img/%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9-%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9.jpg" alt="1月31日，武汉市江汉区西北湖附近高层建筑外墙打出“武汉加油”等字样（无人机照片）。 新华社记者 肖艺九 摄"></p><a id="more"></a><h2 id="愿-黎明的编钟声-响起-一切疾病都已远去">愿《黎明的编钟声》响起，一切疾病都已远去！</h2><blockquote><p>以下内容转自：<a href="https://baijiahao.baidu.com/s?id=1658231454062945935&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1658231454062945935&amp;wfr=spider&amp;for=pc</a></p></blockquote><p><strong>夜走了</strong></p><p><strong>天亮了</strong></p><p><strong>天空和钟声一同醒来了</strong></p><p><strong>樱花在温暖的春风中飞扬</strong></p><p><strong>武汉，我们在等你</strong></p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200319165539.png" width="100%" title="黎明的编钟声"><p>近日，享誉世界盛名的国际流行钢琴家尚·马龙（Jean -Franois Maljean），在他的家乡比利时，特别为中国、为武汉创作的一首“战疫防疫”国际公益曲《CHIME OF THE DAWN BELLS》（中文名：《黎明的编钟声》）。他通过这首歌从地球的另一端为武汉送来遥远的祝福，致敬那些勇敢抗疫的前线人员，为中国人民、中国医护工作者加油鼓气。这也是新冠肺炎疫情爆发以来，首位外国艺术家创作的公益歌曲。</p><p>尚·马龙是比利时知名的乐坛诗人，与雅尼、班得瑞、理查德·克莱德曼、喜多郎齐名，并称为新世纪十大音乐大师。他对中国的感情很深远，对中国的文化情有独钟，2010年与中国知名歌手共同演唱上海世博会比利时馆主题歌《我们的歌》 ，2018年创作的侗族大歌《尽情欢歌》曾登上央视春节联欢晚会。</p><p>此次创作的《CHIME OF THE DAWN BELLS》（黎明的编钟声），尚·马龙特别加入了湖北编钟的元素，结合他本人的钢琴演奏，东西方乐器交融回旋，谱写了一曲“中国与世界命运与共”的华章。歌曲饱含深情，处处流露着中国传统文化和武汉城市元素。尚·马龙特别加了一段自己的中文独白：“夜走了，天亮了，天空和钟声一同醒来了，樱花在温暖的春风中飞扬，武汉，我们在等你。”以此来表达他对武汉，对中国深切的关怀与期待。</p><p>尚·马龙在采访中表示：“我想告诉西方人民，他们不必害怕，应与目前陷入困境的中国人民友好相处。在我职业生涯的最近二十年里，中国给了我很大帮助，我真诚的愿意为中国的朋友们做些事来帮助他们。”（译）没有一个冬天不可逾越，没有一个春天不会来临，武汉和整个中国一定会战胜疫情，全世界人民都在期盼这一刻的到来。</p><p>歌曲MV的制作也得到了全球各地人们以及武汉大学中南医院、世界银行华人职工协会、湖北省外商投资企业协会等众多机构的帮助，同时也邀请到了世界音乐大师Silvano Macaluso一起参与创作，这是他们的再次合作，Silvano Macaluso和尚·马龙曾经共同担任尚雯婕专辑《Nightmare》制作人。</p><div id="dplayer6" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer6"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/%E9%BB%8E%E6%98%8E%E7%9A%84%E7%BC%96%E9%92%9F%E5%A3%B0.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><style>.container {    background:RGBA(255, 255, 255, 0.5);    padding-top:10px;    padding-bottom:10px;    /*width:900px;height:800px;position: relative;margin-bottom:-120px;*/    /*background-image:url(https://myblog12.qiniu.yansheng.xyz/南台山.jpg);background:url(https://myblog12.qiniu.yansheng.xyz/南台山.jpg) no-repeat cover;*/}.container p {    font-family:'Audiowide';    text-align: center;    color: #00a67c;    font-size: 30px;    line-height:40px;    -webkit-transition: all 1.5s ease;    transition: all 1.5s ease;}.container p:hover {    /*color: #fff;*/    color: #f34949;    -webkit-animation: Glow 1.5s ease infinite alternate;    animation: Glow 1.5s ease infinite alternate;}@media screen and (max-width: 800px) {    .container {        max-width:394.4px;    }    .container p {        font-size: 18px;        line-height: 28px;    }}@-webkit-keyframes Glow {    from {        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #00a67c, 0 0 70px #00a67c, 0 0 80px #00a67c, 0 0 100px #00a67c, 0 0 150px #00a67c;    }    to {        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #00a67c, 0 0 35px #00a67c, 0 0 40px #00a67c, 0 0 50px #00a67c, 0 0 75px #00a67c;    }}@keyframes Glow {    from {        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #00a67c, 0 0 70px #00a67c, 0 0 80px #00a67c, 0 0 100px #00a67c, 0 0 150px #00a67c;    }    to {        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #00a67c, 0 0 35px #00a67c, 0 0 40px #00a67c, 0 0 50px #00a67c, 0 0 75px #00a67c;    }}</style><div class="container">    <p>《CHIME OF THE DAWN BELLS》（黎明的编钟声）</p><center class="poem song"><p style="padding-left:20%;text-align: left;font-size: 15px;">曲名：《CHIME BELLS OF DAWN》黎明的编钟声<br>作词：Kelvin Ho（何浏）、Jean-Franois Maljean（尚·马龙）、ROBERT MURRAY<br>作曲：Jean-Franois Maljean（尚·马龙）<br>主唱：Noémie Maljean<br></p><p>SUFFERING,SUFFERING<br>疾病，苦难</p><p>IS LIKE A DARK CLOUD.<br>有如乌云</p><p>LOOKING, LOOKING FAR AWAY<br>远远望去</p><p>YOU WILL SEE A DARK SKY<br>你会看到天空墨黑一片</p><p>BUT WHEN YOU’RE UNDER IT<br>但是身临其下</p><p>YOU ARE, YOU ARE ONLY GREY<br>不过是灰色而已</p><p>DON’T GIVE UP<br>永不言弃</p><p>WHEN YOU HEAR THE MUSIC OF CHIME BELLS<br>听到编钟声响起</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p><p>YOU MAY FEEL ALONE NOW<br>此时你可能会感到孤单</p><p>BUT THE WORLD STANDS WITH YOU<br>但要相信世界人民与你们同在</p><p>UNITED, UNITED PROUD AND BRAVE<br>齐心协力、自强不息、勇往直前</p><p>YOU WILL HEAR THE CHIME BELLS<br>编钟响起时</p><p>MUSIC LIFTS THE DARKNESS<br>音乐终将会驱散黑暗</p><p>SHINING, SHINING ON THE WAVES<br>阳光照耀在江面上</p><p>DON’T GIVE UP<br>永不言弃</p><p>WHEN YOU HEAR THE MUSIC OF CHIME BELLS<br>听到编钟声响起</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p><p><font color="red">独白：夜走了<br>天亮了<br>天空和钟声一同醒来了<br>樱花在温暖的春风中飞扬<br>武汉，我们在等你</font></p><p>THE DAWN WILL BREAK<br>黎明总会到来</p><p>TO END YOUR DARKEST HOUR<br>黑夜终将过去</p><p>STANDING ON THE YELLOW CRANE TOWER.<br>站在黄鹤楼上</p><p>THE DAWN WILL BREAK<br>黎明总会到来</p><p>TO END YOUR DARKEST HOUR<br>黑夜终将过去</p><p>STANDING ON THE YELLOW CRANE TOWER<br>站在黄鹤楼上</p></center></div><h2 id="相关链接">相关链接</h2><ul><li>爱奇艺相关视频：<a href="https://www.iqiyi.com/v_19rvsx9r78.html" target="_blank" rel="noopener">https://www.iqiyi.com/v_19rvsx9r78.html</a></li><li>GitHub相关项目：<a href="https://github.com/BlankerL/DXY-COVID-19-Crawler" target="_blank" rel="noopener">https://github.com/BlankerL/DXY-COVID-19-Crawler</a></li><li>全球新冠病毒最新实时疫情地图_丁香园：<a href="https://ncov.dxy.cn/ncovh5/view/pneumonia" target="_blank" rel="noopener">https://ncov.dxy.cn/ncovh5/view/pneumonia</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
            <tag> 新冠肺炎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加分类页面</title>
      <link href="/article/521a17ae.html"/>
      <url>/article/521a17ae.html</url>
      
        <content type="html"><![CDATA[<h2 id="效果图">效果图</h2><p>PC端：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224830.png" alt></p><p>手机端：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221225116.png" alt></p><a id="more"></a><h2 id="一般情况下">一般情况下</h2><p>只需要新建一个页面，并且指定页面的类型即可生成对应的分类和归档页面，因为很多hexo的主题都集成了分类和标签的功能。</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221232218.png" alt></p><p>具体可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/97758641" target="_blank" rel="noopener">Hexo新建标签、分类、归档等页面</a></p><h2 id="针对yilia主题">针对yilia主题</h2><p>虽然这个主题好像有集成，但是好像不管用！！！</p><p>主要参考：<a href="https://github.com/litten/hexo-theme-yilia/issues/835" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/issues/835</a></p><h3 id="步骤">步骤</h3><h4 id="1-新建页面">1.新建页面</h4><p>在hexo根目录运行命令<code>hexo new page categories</code>，新建一个分类页面。会在生成<code>\source\categories\index.md</code>文件，编辑的内容为：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2019-08-19 11:48:35</span><br><span class="line">toc: false</span><br><span class="line">comments: false</span><br><span class="line">layout: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h4 id="2-新建一个布局文件">2.新建一个布局文件</h4><p>在你的博客路径下（如<code>\themes\yilia\layout\</code>目录)新建一个categories.ejs文件(用原来的category.ejs生成静态文件时会报错)，内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"article"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"category-count"</span>&gt;</span>共计 <span class="tag">&lt;<span class="name">%=</span> <span class="attr">site.categories.length</span> %&gt;</span> 个分类, <span class="tag">&lt;<span class="name">%=</span> <span class="attr">site.tags.length</span> %&gt;</span> 个标签<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">site.categories.length</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"category-list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">site.categories.sort</span>('<span class="attr">name</span>')<span class="attr">.each</span>(<span class="attr">function</span>(<span class="attr">item</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">item.posts.length</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"category-list-item"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;"</span> <span class="attr">class</span>=<span class="string">"category-list-link"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.name %&gt;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.name</span> %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"category-list-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.posts.length</span> %&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tag-cloud"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">tagcloud</span>(&#123;</span></span><br><span class="line"><span class="tag">      <span class="attr">min_font:</span> <span class="attr">20</span>, </span></span><br><span class="line"><span class="tag">      <span class="attr">max_font:</span> <span class="attr">35</span>, </span></span><br><span class="line"><span class="tag">      <span class="attr">amount:</span> <span class="attr">999</span></span></span><br><span class="line"><span class="tag">    &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><p>部署即可。</p><h4 id="3-添加样式">3.添加样式</h4><p>你可以根据需要更改它的样式。可以参考这个，在<code>\themes\yilia\source\main.0cf68a.css</code>中添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.category-count</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:inline-block;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">4px</span>;</span><br><span class="line"><span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#aaaaaa</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">1.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="built_in">rgba</span>(204,204,204,0.3)</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> &#123;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">word-break</span>:keep-all;</span><br><span class="line"><span class="attribute">position</span>:relative</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">2px</span>;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#08c</span>;</span><br><span class="line"><span class="attribute">-webkit-transition</span>:width .<span class="number">3s</span> ease;</span><br><span class="line"><span class="attribute">transition</span>:width .<span class="number">3s</span> ease</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-效果">4.效果</h4><p>默认样式的效果：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224558.png" alt></p><p>手机端<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221224659.png" alt></p><h3 id="修改样式">修改样式</h3><p>这主要是修改标题和超链接的样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*《分类页面，标签页面样式*/</span></span><br><span class="line"><span class="comment">/*标题*/</span></span><br><span class="line"><span class="selector-class">.category-count</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-family</span>: STCaiyun, STXingkai;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="comment">/*渐变背景*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(left, #3498db, #f47920 10%, #d71345 20%, #f7acbc 30%, #ffd400 40%, #3498db 50%, #f47920 60%, #d71345 70%, #f7acbc 80%, #ffd400 90%, #3498db);</span><br><span class="line">    <span class="attribute">color</span>: transparent;</span><br><span class="line">    <span class="comment">/*文字填充色为透明*/</span></span><br><span class="line">    <span class="attribute">-webkit-text-fill-color</span>: transparent;</span><br><span class="line">    <span class="attribute">-webkit-background-clip</span>: text;</span><br><span class="line">    <span class="comment">/*背景剪裁为文字，只将文字显示为背景*/</span></span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span> <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/*背景图片向水平方向扩大一倍，这样background-position才有移动与变化的空间*/</span></span><br><span class="line">    <span class="comment">/* 动画 */</span></span><br><span class="line">    <span class="attribute">animation</span>: masked-animation <span class="number">4s</span> infinite linear;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> masked-animation &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">/*background-position 属性设置背景图像的起始位置。*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: -<span class="number">100%</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 手机端CSS代码 */</span></span><br><span class="line"> @<span class="keyword">media</span> screen and (max-width: <span class="number">960px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.category-count</span> &#123;</span><br><span class="line">        <span class="attribute">text-align</span>:center;</span><br><span class="line">        <span class="attribute">line-height</span>:<span class="number">3</span>;</span><br><span class="line">        <span class="attribute">font-size</span>:<span class="number">27px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 分类 */</span></span><br><span class="line"><span class="selector-class">.category-list</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">4px</span>;</span><br><span class="line">    <span class="comment">/* border:1px solid #aaaaaa; */</span></span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">1.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list</span> <span class="selector-tag">li</span><span class="selector-class">.category-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* .category-list li.category-list-item:hover &#123;</span></span><br><span class="line"><span class="comment">    background:rgba(204, 204, 204, 0.3)</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* https://github.com/IanLunn/Hover,</span></span><br><span class="line"><span class="comment">https://ianlunn.github.io/Hover/ */</span></span><br><span class="line"><span class="comment">/* Rectangle In */</span></span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5em</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2098D1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition-property</span>: color;</span><br><span class="line">  <span class="attribute">transition-property</span>: color;</span><br><span class="line">  <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e1e1e1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">  <span class="attribute">-webkit-transition-property</span>: transform;</span><br><span class="line">  <span class="attribute">transition-property</span>: transform;</span><br><span class="line">  <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition-timing-function</span>: ease-out;</span><br><span class="line">  <span class="attribute">transition-timing-function</span>: ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:focus</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-rectangle-in</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 分类和标签的分界面 */</span></span><br><span class="line"><span class="selector-class">.category-hr-tag</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 标签 */</span></span><br><span class="line"><span class="selector-class">.tag-cloud</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">word-break</span>:keep-all;</span><br><span class="line">    <span class="attribute">position</span>:relative</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#08c</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>:width .<span class="number">3s</span> ease;</span><br><span class="line">    <span class="attribute">transition</span>:width .<span class="number">3s</span> ease</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*分类页面，标签页面样式》*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*《版权声明的样式*/</span></span><br><span class="line"> <span class="selector-class">.declare</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">3px</span> solid <span class="number">#ff1700</span>;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*版权声明的样式》*/</span></span><br></pre></td></tr></table></figure><p>新增分界线</p><p>修改<code>H:\Hexo\themes\yilia\layout\categories.ejs</code>，在<code>&lt;div class=&quot;tag-cloud&quot;&gt;</code>前面新增：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"category-hr-tag"</span> <span class="attr">width</span>=<span class="string">"90%"</span> <span class="attr">color</span>=<span class="string">"#987cb9"</span> <span class="attr">size</span>=<span class="string">"3"</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="效果图-v2">效果图</h4><p><a href="#%E6%95%88%E6%9E%9C%E5%9B%BE">见上</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git remote.Coding提示.Authentication failed.</title>
      <link href="/article/c3c8050e.html"/>
      <url>/article/c3c8050e.html</url>
      
        <content type="html"><![CDATA[<p>最近coding升级引起的问题，解决：打开控制面板&gt;&gt; 用户账户 &gt;&gt; 凭据管理器 &gt;&gt; 修改对应的git凭据（这里是git:<a href="https://e.coding.net" target="_blank" rel="noopener">https://e.coding.net</a>） &gt;&gt;编辑（添加新的用户名和密码）</p><a id="more"></a><p>最近coding升级了，（详见 <a href="https://coding.net/products/upgrade" target="_blank" rel="noopener">致 CODING 个人版-腾讯云开发者平台用户的一封信</a>），然后发现不知道怎么登录了🤔……</p><p>研究了好一会，登上去了，发现账户用户名好像被改了……，克隆原仓库的新地址，却发生了如下错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://e.coding.net/yansheng836-01/yansheng836.coding.me.git</span><br><span class="line">Cloning into <span class="string">'yansheng836.coding.me'</span>...</span><br><span class="line">remote: Coding 提示: Authentication failed.</span><br><span class="line">remote: 认证失败，请确认您输入了正确的账号密码。</span><br><span class="line">fatal: Authentication failed <span class="keyword">for</span> <span class="string">'https://e.coding.net/yansheng836-01/yansheng836.coding.me.git/'</span></span><br></pre></td></tr></table></figure><p>百度了下，找了两篇文章，解决了该问题。</p><ul><li><a href="https://blog.csdn.net/Rachel_wang0123/article/details/86245423" target="_blank" rel="noopener">TortoiseGit:拉代码密码错误remote: Coding 提示: Authentication failed! 认证失败，请确认您输入了正确的账号密码</a></li><li><a href="https://blog.csdn.net/lianghzongtan/article/details/84706541" target="_blank" rel="noopener">git remote: Coding 提示: Authentication failed!</a></li></ul><h3 id="解决方法">解决方法</h3><p>打开控制面板&gt;&gt; 用户账户 &gt;&gt; 凭据管理器 &gt;&gt; 修改对应的git凭据（这里是git:<a href="https://e.coding.net" target="_blank" rel="noopener">https://e.coding.net</a>） &gt;&gt;编辑（添加新的用户名和密码）</p><p><img src="https://img-blog.csdnimg.cn/20200215234348846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>修改完后，就可以正常操作了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Chrome浏览器上调试特定机型的屏幕效果</title>
      <link href="/article/3785dfb3.html"/>
      <url>/article/3785dfb3.html</url>
      
        <content type="html"><![CDATA[<p>我们现在开发网页基本上都是会开发成“响应式”的，而为了减少麻烦我们经常会在PC端直接进行测试手机端效果。这篇文章介绍的是如何在Chrome中添加指定机型的模拟机。</p><a id="more"></a><h2 id="前言">前言</h2><p>我们现在开发网页基本上都是会开发成“响应式”的，而为了减少麻烦我们经常会在PC端直接进行测试手机端效果。（注，虽然前期会在PC端测试手机端样式，但是后期还是会在真机上进行测试的，比较模拟环境和真实环境还是有一定偏差的。）</p><h2 id="在chrome浏览器上添加特定机型">在Chrome浏览器上添加特定机型</h2><p>现在调试前端比较流行的浏览器是Chrome和火狐，如何适配多种机型是个麻烦事，主要是屏幕的适配问题。在Chrome中默认有这些机型（见下图），但是为了更加准确一点，需要添加具体的机型，但是没有具体的选项，只能自己配置。<br><br><img src="https://img-blog.csdnimg.cn/20200214190835542.png" alt="在这里插入图片描述"><br><br>备选机型还有以下几种（可以直接勾选的，不需要自行配置）：<br><br><img src="https://img-blog.csdnimg.cn/20200214193728993.png" alt="在这里插入图片描述"><br><br><img src="https://img-blog.csdnimg.cn/20200214193754469.png" alt="在这里插入图片描述"></p><h2 id="步骤">步骤</h2><ol><li>F12打开调试模式–&gt;选择手机端–&gt;左边机型–&gt;Edit(见上图)</li><li>添加模拟器（Add custom devices）<br><br><img src="https://img-blog.csdnimg.cn/20200214193345410.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>模拟机配置参数，这个配置主要是中间那行的数据。</li></ol><p>参数：</p><ul><li>设备名：随意（我写的是手机型号）</li><li>中间那行：需要计算“设备独立像素”和“Device pixel ratio（设备像素比）”，详见下面说明。</li><li>用户代理（User agent string），简单的方法是打开手机某浏览器，在地址栏输入javascript:alert(navigator.userAgent)，弹出user agent string，再手敲到模拟器user agent string 输入框中。（也可以不填）</li><li>最后面的一般默认Mobile。</li></ul><p><img src="https://img-blog.csdnimg.cn/20200214193644151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="device-pixel-ratio-设备像素比">Device pixel ratio（设备像素比）</h3><blockquote><p>它是设备上物理像素和设备独立像素( device-independent pixels (dips) )的比例，即<br>devicePixelRatio = 屏幕物理像素/设备独立像素</p><p>例如iPhone4S，分辨率为：960×640，取屏幕宽度计算，物理像素640px，设备独立像素320px，那么，devicePixelRatio<br>值为 640px / 320px = 2，</p><p>又如iPhone3，计算出来的 devicePixelRatio 值为 320px / 320px = 1</p><p>我们也可以这样理解，由于160ppi（ppi：平面位置指示 (plain position indication)）是一个标准像素，那么283ppi约为1.77，即设备像素比约为1.77.</p><p>这里还有几个数据，可供参考:</p><ul><li>ipone5s,1136*640像素分辨率，326ppi:设备像素比= 326/160 约等于 2.03</li><li>ipone6,1334*750像素分辨率，326ppi:设备像素比= 326/160 约等于 2.03</li><li>ipone5 Plus，1920*1080像素分辨率，401ppi：:设备像素比= 326/160 约等于 2.51</li></ul><p>这就是设备像素比一般是1,1.5,2,2.5,3的由来。</p><p>————————————————<br>版权声明：本文为CSDN博主「蜗牛ha」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/tan9374/article/details/101352416" target="_blank" rel="noopener">https://blog.csdn.net/tan9374/article/details/101352416</a></p></blockquote><p>我看了这个解释就测试计算了下：小米6的值：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">## 以下两个值可以查到（手机官方介绍，或者百度）：</span><br><span class="line">分辨率：1920x1080</span><br><span class="line">像素密度：428PPI</span><br><span class="line"></span><br><span class="line">## 以下的值需要计算：</span><br><span class="line">设备像素比= 428PPI/160PPI 约等于 2.675‬</span><br><span class="line"></span><br><span class="line">屏幕物理像素/设备独立像素 = 设备像素比</span><br><span class="line">设备独立像素-长= 屏幕物理像素/设备像素比 = 1920/2.675 = 717</span><br><span class="line">设备独立像素-宽= 屏幕物理像素/设备像素比 = 1080/2.675 = 403</span><br></pre></td></tr></table></figure><p>配置如下：<br><br><img src="https://img-blog.csdnimg.cn/20200214200535262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><br>OK，完事，Start Debugging……🐛🐛🐛</p><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/tan9374/article/details/101352416" target="_blank" rel="noopener">如何在chrome浏览器上调试特定机型的屏幕效果</a></li><li><a href="https://blog.csdn.net/bing_gan/article/details/52809013" target="_blank" rel="noopener">在chrome模拟器中添加手机型号</a></li><li><a href="https://blog.csdn.net/gl0ry/article/details/53915199" target="_blank" rel="noopener">前端chrome浏览器调试总结</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 测试 </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> Chrome </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-yilia添加DPlayer视频播放插件</title>
      <link href="/article/252051e3.html"/>
      <url>/article/252051e3.html</url>
      
        <content type="html"><![CDATA[<h2 id="引言">引言</h2><p>如何在博客中插入视频是件麻烦事，视频来源多种多样，优酷、爱奇艺、云空间；视频的相关控件也需要考虑。如果有插件就很方便了。Dplayer就是为这种需求而产生的！</p><h2 id="使用dplayer插件">使用Dplayer插件</h2><p>github: <a href="https://github.com/MoePlayer/hexo-tag-dplayer" target="_blank" rel="noopener">https://github.com/MoePlayer/hexo-tag-dplayer</a></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1580801312951.png" alt="file"></p><a id="more"></a><blockquote><p>引用</p></blockquote><h2 id="npm-install">npm install</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-dplayer --save</span><br></pre></td></tr></table></figure><h2 id="usage">Usage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer key=value ... %&#125;</span><br></pre></td></tr></table></figure><p>key can be</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dplayer options:</span><br><span class="line">    &apos;autoplay&apos;, &apos;loop&apos;, &apos;screenshot&apos;, &apos;hotkey&apos;, &apos;mutex&apos;, &apos;dmunlimited&apos; : bool options, use &quot;yes&quot; &quot;y&quot; &quot;true&quot; &quot;1&quot; &quot;on&quot; or just without value to enable</span><br><span class="line">    &apos;preload&apos;, &apos;theme&apos;, &apos;lang&apos;, &apos;logo&apos;, &apos;url&apos;, &apos;pic&apos;, &apos;thumbnails&apos;, &apos;vidtype&apos;, &apos;suburl&apos;, &apos;subtype&apos;, &apos;subbottom&apos;, &apos;subcolor&apos;, &apos;subcolor&apos;, &apos;id&apos;, &apos;api&apos;, &apos;token&apos;, &apos;addition&apos;, &apos;dmuser&apos; : string arguments</span><br><span class="line">    &apos;volume&apos;, &apos;maximum&apos; : number arguments</span><br><span class="line">container options:</span><br><span class="line">    &apos;width&apos;, &apos;height&apos; : string, used in container element style</span><br><span class="line">other:</span><br><span class="line">    &apos;code&apos; : value of this key will be append to script tag</span><br></pre></td></tr></table></figure><p>arguments to DPlayer options mapping:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    container: &quot;you needn&apos;t set this&quot;,</span><br><span class="line">    autoplay: &apos;autoplay&apos;,</span><br><span class="line">    theme: &apos;theme&apos;,</span><br><span class="line">    loop: &apos;loop&apos;,</span><br><span class="line">    lang: &apos;lang&apos;,</span><br><span class="line">    screenshot: &apos;screenshot&apos;,</span><br><span class="line">    hotkey: &apos;hotkey&apos;,</span><br><span class="line">    preload: &apos;preload&apos;,</span><br><span class="line">    logo: &apos;logo&apos;,</span><br><span class="line">    volume: &apos;volume&apos;,</span><br><span class="line">    mutex: &apos;mutex&apos;,</span><br><span class="line">    video: &#123;</span><br><span class="line">        url: &apos;url&apos;,</span><br><span class="line">        pic: &apos;pic&apos;,</span><br><span class="line">        thumbnails: &apos;thumbnails&apos;,</span><br><span class="line">        type: &apos;vidtype&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    subtitle: &#123;</span><br><span class="line">        url: &apos;suburl&apos;,</span><br><span class="line">        type: &apos;subtype&apos;,</span><br><span class="line">        fontSize: &apos;subsize&apos;,</span><br><span class="line">        bottom: &apos;subbottom&apos;,</span><br><span class="line">        color: &apos;subcolor&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    danmaku: &#123;</span><br><span class="line">        id: &apos;id&apos;,</span><br><span class="line">        api: &apos;api&apos;,</span><br><span class="line">        token: &apos;token&apos;,</span><br><span class="line">        maximum: &apos;maximum&apos;,</span><br><span class="line">        addition: [&apos;addition&apos;],</span><br><span class="line">        user: &apos;dmuser&apos;,</span><br><span class="line">        unlimited: &apos;dmunlimited&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    icons: &apos;icons&apos;,</span><br><span class="line">    contextmenu: &apos;menu&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>see dplayer documents for more infomation.</p><p>for example:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.mp4&quot; &quot;addition=https://dplayer.daoapp.io/bilibili?aid=4157142&quot; &quot;api=https://api.prprpr.me/dplayer/&quot; &quot;pic=https://moeplayer.b0.upaiyun.com/dplayer/hikarunara.jpg&quot; &quot;id=9E2E3368B56CDBB4&quot; &quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;token=tokendemo&quot; %&#125;</span><br><span class="line">&#123;% dplayer &apos;url=some.mp4&apos; &quot;id=someid&quot; &quot;api=https://api.prprpr.me/dplayer/&quot; &quot;addition=/some.json&quot; &apos;code=player.on(&quot;loadstart&quot;,function()&#123;console.log(&quot;loadstart&quot;)&#125;)&apos; &quot;autoplay&quot; %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>引用结束</p></blockquote><h2 id="测试">测试</h2><p>注：以下可能有部分视频链接已失效，详见<a href="#2.%E8%A7%86%E9%A2%91%E9%93%BE%E6%8E%A5%E4%BC%9A%E5%A4%B1%E6%95%88">bug:2.视频链接会失效</a>。</p><h3 id="1-简单模式">1.简单模式</h3><p>【J.Fla】J.Fla最新翻唱《Let Her Go》（中英字幕）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot;%&#125;</span><br></pre></td></tr></table></figure><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><h3 id="2-设置大小">2.设置大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/Let%20Her%20Go-J.Fla.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><h3 id="3-各视频网站测试">3.各视频网站测试</h3><p>注：获取网站视频链接的方法</p><ol><li>直接F12审查网页元素可以获取大部分视频链接。</li><li><code>blob:http</code>开头的链接，在调试模式下，切换成手机端，一般都可以获取视频链接。当然也可以尝试使用下面的几种方法（不敢保证肯定可以）。</li></ol><p>相关链接：</p><ul><li><a href="https://blog.csdn.net/superit401/article/details/102698335" target="_blank" rel="noopener">https://blog.csdn.net/superit401/article/details/102698335</a></li><li><a href="https://blog.csdn.net/keerod/article/details/84191076" target="_blank" rel="noopener">https://blog.csdn.net/keerod/article/details/84191076</a></li><li><a href="https://blog.csdn.net/weixin_38258050/article/details/86527471" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38258050/article/details/86527471</a></li></ul><h4 id="优酷-blob-http">优酷-blob:http</h4><p>测试地址：播放量破60亿的神曲就是不一样，Jfla翻唱播放量都能破亿：<a href="https://v.youku.com/v_show/id_XNDEzMTQ2Mzc2OA==.html?spm=a2h0k.11417342.soresults.dtitle" target="_blank" rel="noopener">https://v.youku.com/v_show/id_XNDEzMTQ2Mzc2OA==.html?spm=a2h0k.11417342.soresults.dtitle</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://ip3909677239.mobgslb.tbcache.com/697527F075E4271B3854E35FD/03000801005D16BE6A7657C5ACCC9273FC634F-4FE4-42BD-9058-BDD737033AD6.mp4?ccode=0501&amp;duration=209&amp;expire=18000&amp;psid=d4651e02fe8648bae7ba5eb90e634aee&amp;ups_client_netip=78efecb2&amp;ups_ts=1580803578&amp;ups_userid=&amp;utid=5dEkFu7TTAoCAaOOg8%2Fdh%2Bzg&amp;vid=XNDEzMTQ2Mzc2OA&amp;vkey=Ae25465c34a3e1d5a0008c52dbd954ac2&amp;bc=2&amp;dre=u21&amp;si=42&amp;ali_redirect_domain=ykugc.cp31.ott.cibntv.net&amp;ali_redirect_ex_ftag=6bb8c51a31829f123b81d2f8f31d62ad1de1e72da5be49b4&amp;ali_redirect_ex_tmining_ts=1580803613&amp;ali_redirect_ex_tmining_expire=3600&amp;ali_redirect_ex_hot=100&quot;</span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"theme":"#FADFA3","loop":true,"video":{"url":"https://ip3909677239.mobgslb.tbcache.com/697527F075E4271B3854E35FD/03000801005D16BE6A7657C5ACCC9273FC634F-4FE4-42BD-9058-BDD737033AD6.mp4?ccode=0501&duration=209&expire=18000&psid=d4651e02fe8648bae7ba5eb90e634aee&ups_client_netip=78efecb2&ups_ts=1580803578&ups_userid=&utid=5dEkFu7TTAoCAaOOg8%2Fdh%2Bzg&vid=XNDEzMTQ2Mzc2OA&vkey=Ae25465c34a3e1d5a0008c52dbd954ac2&bc=2&dre=u21&si=42&ali_redirect_domain=ykugc.cp31.ott.cibntv.net&ali_redirect_ex_ftag=6bb8c51a31829f123b81d2f8f31d62ad1de1e72da5be49b4&ali_redirect_ex_tmining_ts=1580803613&ali_redirect_ex_tmining_expire=3600&ali_redirect_ex_hot=100"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h4 id="爱奇艺-blob-http">爱奇艺-blob:http</h4><p>好像找不到链接！！</p><p>测试地址：JFla最新翻唱视频 《Havana》中英文字幕版：<a href="http://www.iqiyi.com/w_19rye3lv79.html" target="_blank" rel="noopener">http://www.iqiyi.com/w_19rye3lv79.html</a></p><h4 id="腾讯视频">腾讯视频</h4><p>测试地址：开口跪！JFla小姐姐逆天翻唱《英雄联盟》主题曲《Legends Never die》(传奇永不熄)，也就听了100遍：<a href="https://v.qq.com/x/page/r07217dqdps.html" target="_blank" rel="noopener">https://v.qq.com/x/page/r07217dqdps.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://apd-269733cd84807e39d1c4e3453c172928.v.smtcdns.com/om.tc.qq.com/AUBPmiNNTAT3He9k_05J1HRAM1yZVGlQ-hDZtg0epZFQ/uwMROfz2r57IIaQXGdGnC2ddDmZUA-P9pUvDyp7Vcj06VB05/shg_57576174_50001_208137e9f2843cf7850adcc2052bdd4a.f622.mp4?sdtfrom=v1010&amp;guid=7ae1df42357b9bcea3195ca549ce5531&amp;vkey=4B6DB7E072CA38A41C053A938FA7D1B91D1783ACF46A1356E88C71B8160881DEC88D761C281209C12C1DAB9772F55FB572EA0D675ACA209A621B3BC4789A2D91FEA05680B9EA477C282FC1B4A32BCB1E5EEF5DFCC65AA2A4B2BCB2AB51E54FABD0E1122171184A171FFE7C84CFB1295C720E320BFCE4648EF92358A0BFDAC7FB&quot;</span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer3"),"theme":"#FADFA3","loop":true,"video":{"url":"https://apd-269733cd84807e39d1c4e3453c172928.v.smtcdns.com/om.tc.qq.com/AUBPmiNNTAT3He9k_05J1HRAM1yZVGlQ-hDZtg0epZFQ/uwMROfz2r57IIaQXGdGnC2ddDmZUA-P9pUvDyp7Vcj06VB05/shg_57576174_50001_208137e9f2843cf7850adcc2052bdd4a.f622.mp4?sdtfrom=v1010&guid=7ae1df42357b9bcea3195ca549ce5531&vkey=4B6DB7E072CA38A41C053A938FA7D1B91D1783ACF46A1356E88C71B8160881DEC88D761C281209C12C1DAB9772F55FB572EA0D675ACA209A621B3BC4789A2D91FEA05680B9EA477C282FC1B4A32BCB1E5EEF5DFCC65AA2A4B2BCB2AB51E54FABD0E1122171184A171FFE7C84CFB1295C720E320BFCE4648EF92358A0BFDAC7FB"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h4 id="b站-blob-http">B站-blob:http</h4><p>测试地址：【J.Fla】J.Fla最新翻唱《Let Her Go》（中英字幕）:<a href="https://www.bilibili.com/medialist/play/ml445525356/" target="_blank" rel="noopener">https://www.bilibili.com/medialist/play/ml445525356/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=https://cn-jxnc-cmcc-bcache-07.bilivideo.com/upgcxcode/97/06/37010697/37010697-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&amp;uipk=5&amp;nbs=1&amp;deadline=1580811360&amp;gen=playurl&amp;os=bcache&amp;oi=2028989618&amp;trid=49761c7626084b8b8b97074e119e8a41h&amp;platform=html5&amp;upsig=d5272df25514a59fbdb296cefefcb96c&amp;uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&amp;mid=91203456&amp;origin_cdn=ks3&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer4" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer4"),"theme":"#FADFA3","loop":true,"video":{"url":"https://cn-jxnc-cmcc-bcache-07.bilivideo.com/upgcxcode/97/06/37010697/37010697-1-6.mp4?e=ig8euxZM2rNcNbdlhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&uipk=5&nbs=1&deadline=1580811360&gen=playurl&os=bcache&oi=2028989618&trid=49761c7626084b8b8b97074e119e8a41h&platform=html5&upsig=d5272df25514a59fbdb296cefefcb96c&uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&mid=91203456&origin_cdn=ks3"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h4 id="酷狗音乐mv">酷狗音乐MV</h4><p>好像找不到</p><p>测试地址：<a href="https://www.kugou.com/mvweb/html/mv_1298B160E162FD8DD62176860AC07B0B.html" target="_blank" rel="noopener">https://www.kugou.com/mvweb/html/mv_1298B160E162FD8DD62176860AC07B0B.html</a></p><h4 id="网易云音乐mv-blob-http">网易云音乐MV-blob:http</h4><p>测试地址：J.Fla不插电演唱原创新单《Good Vibe》:<a href="https://music.163.com/#/mv?id=10893889" target="_blank" rel="noopener">https://music.163.com/#/mv?id=10893889</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=http://vodkgeyttp8.vod.126.net/cloudmusic/1182/core/91d9/071e7736fb284fe4d7d020a3cf693362.mp4?wsSecret=ff87443a41aebf38eaafd4385b736940&amp;wsTime=1580818343&quot; </span><br><span class="line">&quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;width=854px&quot; &quot;height=480px&quot; %&#125;</span><br></pre></td></tr></table></figure><center>    <div class="video-container"><div id="dplayer5" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer5"),"theme":"#FADFA3","loop":true,"video":{"url":"http://vodkgeyttp8.vod.126.net/cloudmusic/1182/core/91d9/071e7736fb284fe4d7d020a3cf693362.mp4?wsSecret=ff87443a41aebf38eaafd4385b736940&wsTime=1580818343"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><h2 id="bug🐛">bug🐛</h2><h3 id="1-设置宽高参数后-手机端不能自适应">1.设置宽高参数后，手机端不能自适应</h3><p>额外添加样式控制手机端样式<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">   <span class="selector-class">.dplayer</span> &#123;</span><br><span class="line"><span class="attribute">max-width</span>:<span class="number">394.4px</span>;</span><br><span class="line"><span class="attribute">max-height</span>:<span class="number">221.6px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-视频链接会失效">2.视频链接会失效</h3><p>虽然上面提到的方式大部分可以获取视频链接，但是可以发现，这个链接都很长，是“防盗链”（<code>?</code>后面的是查询串，包含各种参数。比如设置时间参数，超时就失效。这是为了防止被频繁访问，造成服务器负担而考虑的）。那怎么解决呢？推荐下面几种方法：</p><ol><li>研究防盗链，看能不能让他不失效。好像有点复杂……</li><li>自建云空间：根据视频链接下载该视频，然后上传到自己的云空间☁️（<a href="https://www.qiniu.com/" target="_blank" rel="noopener">七牛云</a>、<a href="https://www.aliyun.com/ss/?spm=5176.13910061.1kquk9v2l.2.34ad36707nJPoz&amp;k=%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8OSS&amp;aly_as=Ohhc5GnR" target="_blank" rel="noopener">阿里云</a>等的OSS空间），然后使用自己的链接。（推荐，第一个视频就是我下载后，上传到阿里云OSS的。）</li><li>使用视频网站自己的分享渠道：<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200330223102.png" alt></li></ol><p>如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">'https://player.youku.com/embed/XNDEzMTQ2Mzc2OA=='</span> <span class="attr">frameborder</span>=<span class="string">0</span> '<span class="attr">allowfullscreen</span>'&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果：</p><iframe height="498" width="510" src="https://player.youku.com/embed/XNDEzMTQ2Mzc2OA==" frameborder="0" 'allowfullscreen'></iframe>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> DPlayer </tag>
            
            <tag> 视频 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx. [warn] conflicting server name ’yansheng.xyz’ on 0.0.0.0.80, ignored</title>
      <link href="/article/3c19da43.html"/>
      <url>/article/3c19da43.html</url>
      
        <content type="html"><![CDATA[<h2 id="缘由">缘由</h2><p>修改了nginx配置，重新发布后出现这个问题：<strong>nginx: [warn] conflicting server name “yansheng.xyz” on 0.0.0.0:80, ignored</strong>，意思是重复绑定了server name，但这个警告不会影响到服务器运行。而且，这个重复绑定的意思是现在运行的nginx服务和将要加载的新配置中的重复，所以，这个警告其实是不必的。</p><a id="more"></a><p>如果没有设置顺序，默认从配置文件的头部开始读取，如果server name重复，则会报类似警告（因为我的前面的server有配置yansheng.xyz这个域名）。原配置：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> www.yansheng.xyz yansheng.xyz;</span><br><span class="line">.......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="修改">修改</h2><p>根据提示我们可以按照监听的端口找到对应的server，删除重复的即可。</p><p>修改后：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> www.yansheng.xyz;</span><br><span class="line">        ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>参考：</p><p><a href="https://blog.csdn.net/weixin_41585557/article/details/83413610" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41585557/article/details/83413610</a><br><a href="https://www.cnblogs.com/wangkongming/p/4450038.html" target="_blank" rel="noopener">https://www.cnblogs.com/wangkongming/p/4450038.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019再见，2020你好</title>
      <link href="/article/94a46e7b.html"/>
      <url>/article/94a46e7b.html</url>
      
        <content type="html"><![CDATA[<p><strong>Happy New Year！</strong></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/wallhaven-83jmq2.png" alt></p><a id="more"></a><h2 id="习近平主席2020新年贺词">习近平主席2020新年贺词</h2><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E4%B9%A0%E8%BF%91%E5%B9%B3%E4%B8%BB%E5%B8%AD.jpeg" alt></p><p>2019年12月31日晚7时，国家主席习近平通过中央广播电视总台和互联网，发表二〇二〇年新年贺词。全文如下：(转自：<a href="http://news.ifeng.com/c/7srLqMlTqMR" target="_blank" rel="noopener">http://news.ifeng.com/c/7srLqMlTqMR</a>)</p><blockquote><p>​    2020年就要到了，我在首都北京向大家送上新年的美好祝福！</p><p>​2019年，我们用汗水浇灌收获，以实干笃定前行。高质量发展平稳推进，我国国内生产总值预计将接近100万亿元人民币、人均将迈上1万美元的台阶。三大攻坚战取得关键进展。京津冀协同发展、长江经济带发展、粤港澳大湾区建设、长三角一体化发展按下快进键，黄河流域生态保护和高质量发展成为国家战略。全国将有340个左右贫困县摘帽、1000多万人实现脱贫。嫦娥四号在人类历史上第一次登陆月球背面，长征五号遥三运载火箭成功发射，雪龙2号首航南极，北斗导航全球组网进入冲刺期，5G商用加速推出，北京大兴国际机场“凤凰展翅”……这些成就凝结着新时代奋斗者的心血和汗水，彰显了不同凡响的中国风采、中国力量。</p><p>​一年来，改革开放不断催生发展活力。党和国家机构改革圆满完成。增设一批自由贸易试验区和上海自由贸易试验区新片区。科创板顺利启动推进。减税降费总额超过2万亿元。个人所得税起征点提高了，老百姓常用的许多药品降价了，网络提速降费使刷屏更快了，垃圾分类引领着低碳生活新时尚。“基层减负年”让基层干部轻装上阵。放眼神州大地，处处都有新变化新气象。</p><p>​一年来，国防和军队改革扎实推进，人民军队展现出新时代强军风貌。我们进行国庆大阅兵，举行海军、空军成立70周年庆祝活动，举办第七届世界军人运动会。首艘国产航母正式列装。人民子弟兵永远是保卫祖国的钢铁长城，让我们向守护家园的忠诚卫士们致敬！</p><p>​2019年，最难忘的是隆重庆祝新中国成立70周年。我们为共和国70年的辉煌成就喝彩，被爱国主义的硬核力量震撼。阅兵方阵威武雄壮，群众游行激情飞扬，天安门广场成了欢乐的海洋。大江南北披上红色盛装，人们脸上洋溢着自豪的笑容，《我和我的祖国》在大街小巷传唱。爱国主义情感让我们热泪盈眶，爱国主义精神构筑起民族的脊梁。这一切，汇聚成礼赞新中国、奋斗新时代的前进洪流，给我们增添了无穷力量。</p><p>​一年来，我去了不少地方。雄安新区画卷徐徐铺展，天津港蓬勃兴盛，北京城市副中心生机勃发，内蒙古大草原壮美亮丽，河西走廊穿越千年、历久弥新，九曲黄河天高水阔、雄浑安澜，黄浦江两岸物阜民丰、流光溢彩……祖国各地一派欣欣向荣的景象。我沿着中国革命的征程砥砺初心。从江西于都红军长征集结出发地到河南新县鄂豫皖苏区首府革命博物馆，从甘肃高台西路军纪念碑到北京香山革命纪念地，每个地方都让我思绪万千，初心和使命是我们走好新时代长征路的不竭动力。</p><p>​同往常一样，我无论多忙，都要抽时间到乡亲们中走一走看一看。大家跟我说了很多心里话，我一直记在心上。云南贡山独龙族群众、福建寿宁县下党乡的乡亲、“王杰班”全体战士、北京体育大学研究生冠军班同学、澳门小朋友和义工老人，给我写了信。我在回信中肯定了大家取得的成绩，也表达了良好祝愿。</p><p>​一年来，许多人和事感动着我们。一辈子深藏功名、初心不改的张富清，把青春和生命献给脱贫事业的黄文秀，为救火而捐躯的四川木里31名勇士，用自己身体保护战友的杜富国，以十一连胜夺取世界杯冠军的中国女排……许许多多无怨无悔、倾情奉献的无名英雄，他们以普通人的平凡书写了不平凡的人生。</p><p>​2019年，中国继续张开双臂拥抱世界。我们主办了第二届“一带一路”国际合作高峰论坛、北京世界园艺博览会、亚洲文明对话大会、第二届中国国际进口博览会，向世界展示了一个文明、开放、包容的中国。我同很多国家元首和政府首脑会晤，分享了中国主张，增进了友谊，深化了共识。世界上又有一些国家同我国建交，我国建交国达到180个。我们的朋友遍天下！</p><p>​2020年是具有里程碑意义的一年。我们将全面建成小康社会，实现第一个百年奋斗目标。2020年也是脱贫攻坚决战决胜之年。冲锋号已经吹响。我们要万众一心加油干，越是艰险越向前，把短板补得再扎实一些，把基础打得再牢靠一些，坚决打赢脱贫攻坚战，如期实现现行标准下农村贫困人口全部脱贫、贫困县全部摘帽。</p><p>​前几天，我出席了澳门回归祖国20周年庆祝活动，我为澳门繁荣稳定感到欣慰。澳门的成功实践表明，“一国两制”完全行得通、办得到、得人心。近几个月来，香港局势牵动着大家的心。没有和谐稳定的环境，怎会有安居乐业的家园！真诚希望香港好、香港同胞好。香港繁荣稳定是香港同胞的心愿，也是祖国人民的期盼。</p><p>​历史长河奔腾不息，有风平浪静，也有波涛汹涌。我们不惧风雨，也不畏险阻。中国将坚定不移走和平发展道路，坚定不移维护世界和平、促进共同发展。我们愿同世界各国人民携起手来，积极共建“一带一路”，推动构建人类命运共同体，为创造人类美好未来而不懈努力。</p><p>​此时此刻，还有许多人在坚守岗位，许多人在守护平安，许多人在辛勤劳作。大家辛苦了！</p><p>​让我们只争朝夕，不负韶华，共同迎接2020年的到来。</p><p>​祝大家新年快乐！</p></blockquote><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020-2.jpg" alt></p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/2020.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在阿里云购买SSL证书，让网站支持HTTPS</title>
      <link href="/article/d61cfa37.html"/>
      <url>/article/d61cfa37.html</url>
      
        <content type="html"><![CDATA[<p>SSL(Secure Sockets Layer 安全套接层),及其继任者传输层安全（Transport Layer Security，TLS）是为网络通信提供安全及数据完整性的一种安全协议。TLS与SSL在传输层与应用层之间对网络连接进行加密。</p><a id="more"></a><h2 id="ssl简介">SSL简介</h2><p>以下内容引用自：<a href="https://baike.baidu.com/item/ssl/320778?fr=aladdin" target="_blank" rel="noopener">百度百科：SSL</a></p><blockquote><h3 id="ssl">SSL</h3><p>SSL(Secure Sockets Layer 安全套接层),及其继任者传输层安全（Transport Layer Security，TLS）是为网络通信提供安全及数据完整性的一种安全协议。TLS与SSL在传输层与应用层之间对网络连接进行加密。</p><h3 id="提供服务">提供服务</h3><ol><li>认证用户和服务器，确保数据发送到正确的客户机和服务器；</li><li>加密数据以防止数据中途被窃取；</li><li>维护数据的完整性，确保数据在传输过程中不被改变。</li></ol><h3 id="服务器类型">服务器类型</h3><ol><li>Tomcat 5.x</li><li>Nginx</li><li>IIS</li><li>Apache 2.x</li><li>IBM HTTP SERVER 6.0 [1]</li></ol><h3 id="工作流程">工作流程</h3><p>服务器认证阶段：1）客户端向服务器发送一个开始信息“Hello”以便开始一个新的会话连接；2）服务器根据客户的信息确定是否需要生成新的主密钥，如需要则服务器在响应客户的“Hello”信息时将包含生成主密钥所需的信息；3）客户根据收到的服务器响应信息，产生一个主密钥，并用服务器的公开密钥加密后传给服务器；4）服务器回复该主密钥，并返回给客户一个用主密钥认证的信息，以此让客户认证服务器。</p><p>用户认证阶段：在此之前，服务器已经通过了客户认证，这一阶段主要完成对客户的认证。经认证的服务器发送一个提问给客户，客户则返回（数字）签名后的提问和其公开密钥，从而向服务器提供认证。</p><p>SSL协议提供的安全通道有以下三个特性：</p><ul><li>机密性：SSL协议使用密钥加密通信数据。</li><li>可靠性：服务器和客户都会被认证，客户的认证是可选的。</li><li>完整性：SSL协议会对传送的数据进行完整性检查。</li></ul><p>从SSL 协议所提供的服务及其工作流程可以看出，SSL协议运行的基础是商家对消费者信息保密的承诺，这就有利于商家而不利于消费者。在电子商务初级阶段，由于运作电子商务的企业大多是信誉较高的大公司，因此这问题还没有充分暴露出来。但随着电子商务的发展，各中小型公司也参与进来，这样在电子支付过程中的单一认证问题就越来越突出。虽然在SSL3.0中通过数字签名和数字证书可实现浏览器和Web服务器双方的身份验证，但是SSL协议仍存在一些问题，比如，只能提供交易中客户与服务器间的双方认证，在涉及多方的电子交易中，SSL协议并不能协调各方间的安全传输和信任关系。在这种情况下，Visa和 MasterCard两大信用卡公组织制定了SET协议，为网上信用卡支付提供了全球性的标准。</p></blockquote><h2 id="购买ssl证书">购买SSL证书</h2><p>一般到购买域名的地方去购买，我是阿里云买的，所以是在阿里云买的，个人版免费（其他腾讯等未知），有效期1年，过期后可继续申请。</p><h3 id="1-购买地址">1.购买地址</h3><p>阿里云证书购买地址：<a href="https://yundun.console.aliyun.com/?spm=a2c1d.8251892.aliyun_sidebar.10.97845b76PIxDqx&amp;p=cas#/overview/cn-hangzhou" target="_blank" rel="noopener">https://yundun.console.aliyun.com/?spm=a2c1d.8251892.aliyun_sidebar.10.97845b76PIxDqx&amp;p=cas#/overview/cn-hangzhou</a></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1576056800204.png" alt="file"></p><h3 id="2-购买">2.购买</h3><p>选择<strong>免费版(个人)DV</strong>证书，然后同意一个协议，就可以免费购买了。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1576056929708.png" alt="file"></p><h3 id="3-证书申请">3.证书申请</h3><p>购买成功后回到证书控制台，显示有一个未签发的证书，如下：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1576060268701.png" alt="file"></p><p>然后点击“证书申请”，即可显示如下界面，一般需要注意的是域名和域名验证方式，域名验证方式我一般选自动DNS，它会自动在阿里云域名控制台为域名添加验证解析信息，其他一般自动填充阿里云对应账号信息。然后验证信息，提交审核。快的话几分钟就申请成功了。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1577510904520.png" alt="file"></p><h3 id="4-下载证书">4.下载证书</h3><p>回到控制台会显示，已签发，然后就可以下载该证书了。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1576060955408.png" alt="file"></p><p>需要注意的是：SSL证书格式与常见服务器类型的对应关系</p><table><thead><tr><th style="text-align:center">服务器类型</th><th style="text-align:center">证书文件（后缀或文件类型）</th><th style="text-align:center">秘钥文件</th><th style="text-align:center">证书链文件</th></tr></thead><tbody><tr><td style="text-align:center">Tomcat</td><td style="text-align:center">.pfx</td><td style="text-align:center">.txt</td><td style="text-align:center">无</td></tr><tr><td style="text-align:center">IIS</td><td style="text-align:center">.pfx</td><td style="text-align:center">.txt</td><td style="text-align:center">无</td></tr><tr><td style="text-align:center">Nginx</td><td style="text-align:center">.pem</td><td style="text-align:center">.key</td><td style="text-align:center">无</td></tr><tr><td style="text-align:center">Apache</td><td style="text-align:center">.crt</td><td style="text-align:center">.key</td><td style="text-align:center">.crt</td></tr></tbody></table><h3 id="在https配置中上传证书">在https配置中上传证书</h3><p>如下面是七牛云的https配置：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1576063237596.png" alt="file"></p><p>pem格式说明服务器是Nginx：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1576062075471.png" alt="file"></p><p>上传后，一般需要认证，快的话几分钟就好，慢就说不好。</p><h2 id="相关链接">相关链接</h2><p>证书格式的相互转换：DER、CRT、CER、PEM：<a href="https://blog.csdn.net/haidao1101/article/details/99717437" target="_blank" rel="noopener">https://blog.csdn.net/haidao1101/article/details/99717437</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> SSL </tag>
            
            <tag> HTTPS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Commit message 和 Change log 编写指南</title>
      <link href="/article/ad81da89.html"/>
      <url>/article/ad81da89.html</url>
      
        <content type="html"><![CDATA[<p>如何写好Commit message 和 Change log</p><p><img src="https://oss.yansheng.xyz/image-1575910523037.png" alt="常规的changelog，conventional-changelog"></p><a id="more"></a><blockquote><p>以下内容转自：Commit message 和 Change log 编写指南</p><p>链接：<a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html</a></p><p>作者： <a href="http://www.ruanyifeng.com" target="_blank" rel="noopener">阮一峰</a></p><p>日期： <a href="http://www.ruanyifeng.com/blog/2016/01/" target="_blank" rel="noopener"><abbr class="published" title="2016-01-06T21:23:23+08:00">2016年1月 6日</abbr></a></p></blockquote><hr><h2 id="commit-message-和-change-log-编写指南">Commit message 和 Change log 编写指南</h2><p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">"hello world"</span></span><br></pre></td></tr></table></figure><p>上面代码的<code>-m</code>参数，就是用来指定 commit mesage 的。</p><p>如果一行不够，可以只执行<code>git commit</code>，就会跳出文本编辑器，让你写多行。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit</span><br></pre></td></tr></table></figure><p>基本上，你写什么都行（<a href="http://www.commitlogsfromlastnight.com/" target="_blank" rel="noopener">这里</a>，<a href="http://blog.no-panic.at/2014/10/20/funny-initial-git-commit-messages/" target="_blank" rel="noopener">这里</a>和<a href="http://whatthecommit.com/" target="_blank" rel="noopener">这里</a>）。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010601.png" alt></p><p>但是，一般来说，commit message 应该清晰明了，说明本次提交的目的。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010602.png" alt></p><p>目前，社区有多种 Commit message 的<a href="https://github.com/ajoslin/conventional-changelog/blob/master/conventions" target="_blank" rel="noopener">写法规范</a>。本文介绍<a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0" target="_blank" rel="noopener">Angular 规范</a>（见上图），这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。</p><h3 id="一-commit-message-的作用">一、Commit message 的作用</h3><p>格式化的Commit message，有几个好处。</p><p><strong>（1）提供更多的历史信息，方便快速浏览。</strong></p><p>比如，下面的命令显示上次发布后的变动，每个commit占据一行。你只看行首，就知道某次 commit 的目的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> &lt;last tag&gt; HEAD --pretty=format:%s</span><br></pre></td></tr></table></figure><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010604.png" alt></p><p><strong>（2）可以过滤某些commit（比如文档改动），便于快速查找信息。</strong></p><p>比如，下面的命令仅仅显示本次发布新增加的功能。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> &lt;last release&gt; HEAD --grep feature</span><br></pre></td></tr></table></figure><p><strong>（3）可以直接从commit生成Change log。</strong></p><p>Change Log 是发布新版本时，用来说明与上一个版本差异的文档，详见后文。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010603.png" alt></p><h3 id="二-commit-message-的格式">二、Commit message 的格式</h3><p>每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;body&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure><p>其中，Header 是必需的，Body 和 Footer 可以省略。</p><p>不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。</p><h4 id="2-1-header">2.1 Header</h4><p>Header部分只有一行，包括三个字段：<code>type</code>（必需）、<code>scope</code>（可选）和<code>subject</code>（必需）。</p><p><strong>（1）type</strong></p><p><code>type</code>用于说明 commit 的类别，只允许使用下面7个标识。</p><ul><li>feat：新功能（feature）</li><li>fix：修补bug</li><li>docs：文档（documentation）</li><li>style： 格式（不影响代码运行的变动）</li><li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）</li><li>test：增加测试</li><li>chore：构建过程或辅助工具的变动</li></ul><p>如果<code>type</code>为<code>feat</code>和<code>fix</code>，则该 commit 将肯定出现在 Change log 之中。其他情况（<code>docs</code>、<code>chore</code>、<code>style</code>、<code>refactor</code>、<code>test</code>）由你决定，要不要放入 Change log，建议是不要。</p><p><strong>（2）scope</strong></p><p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p><p><strong>（3）subject</strong></p><p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p><ul><li>以动词开头，使用第一人称现在时，比如<code>change</code>，而不是<code>changed</code>或<code>changes</code></li><li>第一个字母小写</li><li>结尾不加句号（<code>.</code>）</li></ul><h4 id="2-2-body">2.2 Body</h4><p>Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">More detailed explanatory text, if necessary.  Wrap it to </span><br><span class="line">about 72 characters or so. </span><br><span class="line"></span><br><span class="line">Further paragraphs come after blank lines.</span><br><span class="line"></span><br><span class="line">- Bullet points are okay, too</span><br><span class="line">- Use a hanging indent</span><br></pre></td></tr></table></figure><p>有两个注意点。</p><p>（1）使用第一人称现在时，比如使用<code>change</code>而不是<code>changed</code>或<code>changes</code>。</p><p>（2）应该说明代码变动的动机，以及与以前行为的对比。</p><h4 id="2-3-footer">2.3 Footer</h4><p>Footer 部分只用于两种情况。</p><p><strong>（1）不兼容变动</strong></p><p>如果当前代码与上一个版本不兼容，则 Footer 部分以<code>BREAKING CHANGE</code>开头，后面是对变动的描述、以及变动理由和迁移方法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">BREAKING CHANGE: isolate scope bindings definition has changed.</span><br><span class="line"></span><br><span class="line">    To migrate the code follow the example below:</span><br><span class="line"></span><br><span class="line">    Before:</span><br><span class="line"></span><br><span class="line">    scope: &#123;</span><br><span class="line">      myAttr: &apos;attribute&apos;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    After:</span><br><span class="line"></span><br><span class="line">    scope: &#123;</span><br><span class="line">      myAttr: &apos;@&apos;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    The removed `inject` wasn&apos;t generaly useful for directives so there should be no code using it.</span><br></pre></td></tr></table></figure><p><strong>（2）关闭 Issue</strong></p><p>如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closes #234</span><br></pre></td></tr></table></figure><p>也可以一次关闭多个 issue 。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Closes #123, #245, #992</span><br></pre></td></tr></table></figure><h4 id="2-4-revert">2.4 Revert</h4><p>还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以<code>revert:</code>开头，后面跟着被撤销 Commit 的 Header。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">revert: feat(pencil): add &apos;graphiteWidth&apos; option</span><br><span class="line"></span><br><span class="line">This reverts commit 667ecc1654a317a13331b17617d973392f415f02.</span><br></pre></td></tr></table></figure><p>Body部分的格式是固定的，必须写成<code>This reverts commit &amp;lt;hash&gt;.</code>，其中的<code>hash</code>是被撤销 commit 的 SHA 标识符。</p><p>如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的<code>Reverts</code>小标题下面。</p><h3 id="三-commitizen">三、Commitizen</h3><p><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener">Commitizen</a>是一个撰写合格 Commit message 的工具。</p><p>安装命令如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g commitizen</span><br></pre></td></tr></table></figure><p>然后，在项目目录里，运行下面的命令，使其支持 Angular 的 Commit message 格式。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ commitizen init cz-conventional-changelog --save --save-exact</span><br></pre></td></tr></table></figure><p>以后，凡是用到<code>git commit</code>命令，一律改为使用<code>git cz</code>。这时，就会出现选项，用来生成符合格式的 Commit message。</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016010605.png" alt></p><h3 id="四-validate-commit-msg">四、validate-commit-msg</h3><p><a href="https://github.com/kentcdodds/validate-commit-msg" target="_blank" rel="noopener">validate-commit-msg</a> 用于检查 Node 项目的 Commit message 是否符合格式。</p><p>它的安装是手动的。首先，拷贝下面这个<a href="https://github.com/kentcdodds/validate-commit-msg/blob/master/index.js" target="_blank" rel="noopener">JS文件</a>，放入你的代码库。文件名可以取为<code>validate-commit-msg.js</code>。</p><p>接着，把这个脚本加入 Git 的 hook。下面是在<code>package.json</code>里面使用 <a href="http://npm.im/ghooks" target="_blank" rel="noopener">ghooks</a>，把这个脚本加为<code>commit-msg</code>时运行。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"config": &#123;</span><br><span class="line">    "ghooks": &#123;</span><br><span class="line">      "commit-msg": "./validate-commit-msg.js"</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>然后，每次<code>git commit</code>的时候，这个脚本就会自动检查 Commit message 是否合格。如果不合格，就会报错。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add -A </span><br><span class="line">$ git commit -m <span class="string">"edit markdown"</span> </span><br><span class="line">INVALID COMMIT MSG: does not match <span class="string">"&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;"</span> ! was: edit markdown</span><br></pre></td></tr></table></figure><h3 id="五-生成-change-log">五、生成 Change log</h3><p>如果你的所有 Commit 都符合 Angular 格式，那么发布新版本时， Change log 就可以用脚本自动生成（<a href="https://github.com/ajoslin/conventional-changelog/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例1</a>，<a href="https://github.com/karma-runner/karma/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例2</a>，<a href="https://github.com/btford/grunt-conventional-changelog/blob/master/CHANGELOG.md" target="_blank" rel="noopener">例3</a>）。</p><p>生成的文档包括以下三个部分。</p><ul><li>New features</li><li>Bug fixes</li><li>Breaking changes.</li></ul><p>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</p><p><a href="https://github.com/ajoslin/conventional-changelog" target="_blank" rel="noopener">conventional-changelog</a> 就是生成 Change log 的工具，运行下面的命令即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog</span><br><span class="line">$ <span class="built_in">cd</span> my-project</span><br><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w</span><br></pre></td></tr></table></figure><p>上面命令不会覆盖以前的 Change log，只会在<code>CHANGELOG.md</code>的头部加上自从上次发布以来的变动。</p><p>如果你想生成所有发布的 Change log，要改为运行下面的命令。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0</span><br></pre></td></tr></table></figure><p>为了方便使用，可以将其写入<code>package.json</code>的<code>scripts</code>字段。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"changelog"</span>: <span class="string">"conventional-changelog -p angular -i CHANGELOG.md -w -r 0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以后，直接运行下面的命令即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run changelog</span><br></pre></td></tr></table></figure><p>（完）</p><h4 id="文档信息">文档信息</h4><ul><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" rel="noopener">创意共享3.0许可证</a>）</li><li>发表日期：<abbr class="published" title="2016-01-06T21:23:23+08:00">2016年1月 6日</abbr></li></ul><hr><blockquote><p>转载结束</p></blockquote><h3 id="相关链接">相关链接</h3><p><a href="https://github.com/conventional-changelog/conventional-changelog" target="_blank" rel="noopener">https://github.com/conventional-changelog/conventional-changelog</a></p><p>Git commit message和工作流规范]<a href="https://www.cnblogs.com/qcloud1001/p/6640787.html" target="_blank" rel="noopener">https://www.cnblogs.com/qcloud1001/p/6640787.html</a></p><p>［译］AngularJS Git提交信息规范:<a href="https://segmentfault.com/a/1190000004282514" target="_blank" rel="noopener">https://segmentfault.com/a/1190000004282514</a></p><p>Git-Commit-Log规范（Angular 规范）<a href="https://www.jianshu.com/p/c7e40dab5b05" target="_blank" rel="noopener">https://www.jianshu.com/p/c7e40dab5b05</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记一次Spring项目的MySQL乱码问题</title>
      <link href="/article/dbd84c59.html"/>
      <url>/article/dbd84c59.html</url>
      
        <content type="html"><![CDATA[<p>项目：Spring+Mybatis++SpringMVC+MySQL。</p><p>首先要明确发生乱码的原因是字符编码不一致，抓住这一个进行分析。出现问题的出处常常是中文、小表情（测试时要有针对性）。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912638971.png" alt="file"></p><a id="more"></a><p>排查过程可参考一下几点：</p><h2 id="1-硬要去-统一文件的编码">1.硬要去–统一文件的编码</h2><p>假设都一utf-8为编码。</p><ol><li>数据库统一设置为utf8编码。数据库编码设置为utf8，表、字段如果不进行设置，默认继承上级设置。</li><li>项目编码设置为utf8，主要是java、html、jsp、css、js等文件的编码。</li></ol><h2 id="2-传输过程编码">2.传输过程编码</h2><h3 id="前台-后台">前台–&gt;后台</h3><h4 id="措施">措施</h4><p>在springMVC中设置编码过滤器，统一设置成utf8</p><h4 id="测试">测试</h4><p>后台控制台打印前台传输的数据，参看数据与输入数据是否一致。（如果设置到js，也可能前端控制台打印输入数据）。</p><h3 id="后台-数据库">后台–&gt;数据库</h3><h4 id="措施-v2">措施</h4><p>数据库连接的URL，添加字符集参数：</p><h4 id="1-字符集参数">1.字符集参数</h4><p>jdbc:mysql://192.168.0.105:3306/shgb_fz?useUnicode=true&amp;characterEncoding=UTF8&amp;autoReconnect=true&amp;zeroDateTimeBehavior=convertToNull</p><p>参数名称                    参数说明<br>user                      数据库用户名（用于连接数据库）<br>password                   用户密码（用于连接数据库）<br>useUnicode              是否使用Unicode字符集，如果参数characterEncoding设置为gb2312或gbk，本参数值必须设置为true<br>characterEncoding       当useUnicode设置为true时，指定字符编码。比如可设置为gb2312或gbk<br>autoReconnect                当数据库连接异常中断时，是否自动重新连接？<br>autoReconnectForPools     是否使用针对数据库连接池的重连策略<br>failOverReadOnly         自动重连成功后，连接是否设置为只读？<br>maxReconnects           autoReconnect设置为true时，重试连接的次数<br>initialTimeout        autoReconnect设置为true时，两次重连之间的时间间隔，单位：秒<br>connectTimeout       和数据库服务器建立socket连接时的超时，单位：毫秒。 0表示永不超时，适用于JDK 1.4及更高版本<br>socketTimeout          socket操作（读写）超时，单位：毫秒。 0表示永不超时</p><p>————————————————<br>版权声明：本文为CSDN博主「哈唬咯」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_36793179/article/details/78719592" target="_blank" rel="noopener">https://blog.csdn.net/qq_36793179/article/details/78719592</a></p><h4 id="jdbc-url中的各个参数详解">jdbc URL中的各个参数详解</h4><p><a href="https://blog.csdn.net/weixin_34220963/article/details/86463924" target="_blank" rel="noopener">https://blog.csdn.net/weixin_34220963/article/details/86463924</a></p><hr><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/DATABASES-NAME?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&amp;allowPublicKeyRetrieval=true"</span>;</span><br></pre></td></tr></table></figure><p><a href="https://dev.mysql.com/doc/connectors/en/connector-j-reference-configuration-properties.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/connectors/en/connector-j-reference-configuration-properties.html</a></p><h4 id="2-连接名">2.连接名</h4><p>云服务器：jdbc:mysql://192.168.0.105:3306/shgb_fz</p><p>本地：jdbc:mysql://localhost:3306/shgb_fz，简写形式：jdbc:mysql:///shgb_fz</p><h4 id="3-jdbc8">3.jdbc8</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/DATABASES-NAME?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&amp;allowPublicKeyRetrieval=true"</span>;</span><br><span class="line"></span><br><span class="line">————————————————</span><br><span class="line">版权声明：本文为CSDN博主「溜溜的小胖」的原创文章，遵循 CC <span class="number">4.0</span> BY-SA 版权协议，转载请附上原文出处链接及本声明。</span><br><span class="line">原文链接：https:<span class="comment">//blog.csdn.net/aliuxina/article/details/91358010</span></span><br></pre></td></tr></table></figure><h4 id="3-xml文件需要转义">3.xml文件需要转义</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;</span><br><span class="line">转义为</span><br><span class="line">&amp;amp;</span><br></pre></td></tr></table></figure><h4 id="测试-v2">测试</h4><p>利用junit进行测试，直接模拟数据，从控制台插入到数据库，查看是否乱码。</p><p>涉及到的问题</p><p>1.基于spring的句junit测试：junit测试Dao层：<a href="https://blog.csdn.net/lovelease/article/details/70155788" target="_blank" rel="noopener">https://blog.csdn.net/lovelease/article/details/70155788</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.project.dao;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Assert;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)<span class="comment">// 不能是PowerMock等别的class，否则无法识别spring的配置文件</span></span><br><span class="line"><span class="meta">@ContextConfiguration</span>(<span class="string">"file:conf/applicationContext.xml"</span>)<span class="comment">// 读取spring配置文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">userDAOTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span><span class="comment">//检索applicationContext.xml，自动注入指定的bean</span></span><br><span class="line">UserDAO userDAO;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> userId = <span class="number">1</span>;</span><br><span class="line">String nickname = <span class="string">"昵称1"</span>;</span><br><span class="line"></span><br><span class="line">Assert.assertEquals(userId, userDAO.getUser( userId ).getUserId());</span><br><span class="line">Assert.assertEquals(nickname, userDAO.getUser( userId ).getNickname());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-runwith和-contextconfiguration的作用解析">1.@RunWith和@ContextConfiguration的作用解析</h5><p><a href="https://blog.csdn.net/H838071332/article/details/89916490" target="_blank" rel="noopener">https://blog.csdn.net/H838071332/article/details/89916490</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration( locations = &#123;&quot;classpath:applicationContext.xml&quot;&#125; )</span><br></pre></td></tr></table></figure><p>@RunWith(SpringJUnit4ClassRunner.class)：<br>@Runwith的作用是让测试的实例在spring容器的环境下运行，那么什么是spring容器的环境，这个容器环境就是如:service, controller等包的使用就是spring容器。<br>@ContextConfiguration：<br>1、 他的作用是引入配置文件applicationContext.xml，如果没有写配置文件名的话则会根据测试的名字去匹配</p><pre><code>@ContextConfigurationpublic void test{}</code></pre><p>2、可以写多个配置文件<br>用，隔开如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ContextConfiguration( locations = &#123;&quot;classpath:applicationContext.xml&quot;,&quot;classpath:applicationContext2.xml&quot;&#125;</span><br></pre></td></tr></table></figure><h5 id="2-spring的-contextconfiguration注解">2.spring的@ContextConfiguration注解</h5><p><a href="https://blog.csdn.net/fanbaodan/article/details/100121551" target="_blank" rel="noopener">https://blog.csdn.net/fanbaodan/article/details/100121551</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ContextConfiguration(value=&quot;/applicationContext.xml&quot;)  //方法一</span><br><span class="line">@ContextConfiguration(locations=&quot;/applicationContext.xml&quot;)   //方法二</span><br><span class="line">@ContextConfiguration(&quot;classpath:/applicationContext.xml&quot;)   //方法三</span><br><span class="line">@ContextConfiguration(&quot;/applicationContext.xml&quot;)       //方法四</span><br></pre></td></tr></table></figure><p>切记前边要加一个 “/” 代表根目录（不带双引号）<br>这是我亲测的几种都可以正常运行junit。</p><p>其实也不用去死记， 这个分开也就是两块;</p><p>一个是属性名（value、locations）<br>一个是 属性值（双引号里边的，就是文件路径）<br>单个文件一般直接在双引号里边写路径或者用value属性（切记要加“ / ” ！！！）<br>如果有多个文件要加载可以使用多个文件时，可用{}括起来，并用逗号分隔，以下示例</p><p>@ContextConfiguration(locations = { “classpath*:/spring1.xml”, “classpath*:/spring2.xml” })</p><p>或者用value</p><p>@ContextConfiguration(value = { “/spring1.xml”, “/spring2.xml” })</p><p>或者不写属性名，（加不加&quot;classpath:&quot; 都可以）</p><p>@ContextConfiguration({ “classpath:/spring1.xml”, “classpath:/spring2.xml” })</p><p>当然单个文件也可以用locations 如上述方法二。</p><p>根据上述源码可以看到， 该属性可以使用 locations 、value 或者直接写值（不写属性名），重点是值（路径）一定要写对。<br>根据返回值可以得出以上三种方式都可以配置多个文件</p><h5 id="3-聊聊单元测试-三-spring-test-junit完美组合">3.聊聊单元测试（三）——Spring Test+JUnit完美组合</h5><p><a href="https://blog.csdn.net/shan9liang/article/details/40452469" target="_blank" rel="noopener">https://blog.csdn.net/shan9liang/article/details/40452469</a></p><h5 id="4-spring系列-contextconfiguration注解的使用">4.Spring系列——@ContextConfiguration注解的使用</h5><p><a href="https://blog.csdn.net/m0_37941483/article/details/90727830" target="_blank" rel="noopener">https://blog.csdn.net/m0_37941483/article/details/90727830</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(locations = &#123;&quot;classpath*:/*.xml&quot;&#125;)</span><br><span class="line">public class CDPlayerTest &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@ContextConfiguration括号里的locations = {“classpath*😕*.xml”}就表示将class路径里的所有.xml文件都包括进来，那么刚刚创建的那么XML文件就会包括进来，那么里面自动扫描的bean就都可以拿到了，此时就可以在测试类中使用@Autowired注解来获取之前自动扫描包下的所有bean</p><p>classpath和classpath*区别:</p><p>classpath：只会到你的class路径中查找找文件。</p><p>classpath*：不仅包含class路径，还包括jar文件中（class路径）进行查找。</p><h5 id="5-默认不写">5.默认不写</h5><p><a href="https://blog.csdn.net/u012260238/article/details/87462366" target="_blank" rel="noopener">https://blog.csdn.net/u012260238/article/details/87462366</a></p><p>可以根据测试的类名，去找到与之对应的配置文件。</p><h2 id="3-mybatis问题">3.mybatis问题</h2><p>Mybatis 开启控制台打印sql语句：<a href="https://blog.csdn.net/qq_37495786/article/details/82799910" target="_blank" rel="noopener">https://blog.csdn.net/qq_37495786/article/details/82799910</a></p><p>完整SQL是否会乱码。</p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>抑郁症</title>
      <link href="/article/57f89578.html"/>
      <url>/article/57f89578.html</url>
      
        <content type="html"><![CDATA[<p>抑郁症，一种心病。这是我的定义，但是有时候我甚至怀疑这能不能被称作一种病、怀疑它是否真的存在……然而，现实如此残酷，这种病真实存在，而且发病时间和后果可能让人无法预料。我们不时听到某某明星因为抑郁而自杀的新闻，在叹息的同时，却又不禁在想：又有多少普通人抑郁而终？</p><p>抑郁，亦有轻重，诱发因素或大或小。艾滋病患者多死于肿瘤，艾滋病毒破坏病人的免疫系统，也许一个小小的炎症，可能就会致命；在我看来，抑郁是类似的，它破坏病人的“心情系统”，也许一点点的不愉快可能就会变成诱因，让人走向极端。</p><p>​——记于2019年国考（2019年11月24日）的后一天</p><p><img src="https://oss.yansheng.xyz/picgo/%E6%80%9D%E8%80%83.jpeg" alt="思考"></p><a id="more"></a><blockquote><p>以下内容转自百度百科：<a href="https://baike.baidu.com/item/%E6%8A%91%E9%83%81%E7%97%87/90924?fr=aladdin" target="_blank" rel="noopener">抑郁症</a>.</p></blockquote><h2 id="抑郁症的定义">抑郁症的定义</h2><p>本词条由<a href="http://www.baikemy.com/" target="_blank" rel="noopener">国家卫健委权威医学科普项目传播网络平台/百科名医网</a> 提供内容 。</p><p>抑郁症又称抑郁障碍，以显著而持久的心境低落为主要临床特征，是<a href="https://baike.baidu.com/item/%E5%BF%83%E5%A2%83%E9%9A%9C%E7%A2%8D/534830" target="_blank" rel="noopener">心境障碍</a>的主要类型。临床可见心境低落与其处境不相称，情绪的消沉可以从闷闷不乐到悲痛欲绝，自卑抑郁，甚至悲观厌世，可有自杀企图或行为；甚至发生木僵；部分病例有明显的焦虑和运动性激越；严重者可出现幻觉、妄想等精神病性症状。每次发作持续至少2周以上、长者甚或数年，多数病例有反复发作的倾向，每次发作大多数可以缓解，部分可有残留症状或转为慢性。</p><p><a href="https://baike.baidu.com/vbaike/%E6%8A%91%E9%83%81%E7%97%87%E6%9C%89%E5%A4%9A%E5%8F%AF%E6%80%95/28741" target="_blank" rel="noopener"><img src="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/pic/item/8718367adab44aed69513104bd1c8701a18bfb37.jpg" alt="抑郁症有多可怕"></a></p><h2 id="基本信息">基本信息</h2><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575726889568.png" alt="file"></p><h2 id="发展概况">发展概况</h2><p>我国与世界的抑郁症患病率比较情况如下：</p><table><thead><tr><th style="text-align:left"></th><th style="text-align:left">世界</th><th style="text-align:left">我国</th></tr></thead><tbody><tr><td style="text-align:left">抑郁症患者人数</td><td style="text-align:left">3.22亿 [1]</td><td style="text-align:left">（无精确数据）</td></tr><tr><td style="text-align:left">患病率</td><td style="text-align:left">4.4% [1]</td><td style="text-align:left">(4.2±1.9)% [1-2]</td></tr></tbody></table><p>注：</p><p>1.大多数报道将我国抑郁症患病率确定在3%~5%的区间，但有报道称达到了6.1%。</p><p>2.我国抑郁症发病率地区差异较大。</p><p>3.30年间，报告的抑郁症发病率暴增10~20倍，现在仍然呈上升趋势；不排除有的以“世界卫生组织数据表明”的字眼作了错误（虚假）报道，故本数据可能不准确。</p><h2 id="病因">病因</h2><p>迄今，抑郁症的病因并不非常清楚，但可以肯定的是，生物、心理与社会环境诸多方面因素参与了抑郁症的发病过程。生物学因素主要涉及遗传、神经生化、神经内分泌、神经再生等方面；与抑郁症关系密切的心理学易患素质是病前性格特征，如抑郁气质。成年期遭遇应激性的生活事件，是导致出现具有临床意义的抑郁发作的重要触发条件。然而，以上这些因素并不是单独起作用的，强调遗传与环境或应激因素之间的交互作用、以及这种交互作用的出现时点在抑郁症发生过程中具有重要的影响。</p><h2 id="临床表现">临床表现</h2><p>抑郁症可以表现为单次或反复多次的抑郁发作，以下是抑郁发作的主要表现。</p><p><strong>1.心境低落</strong></p><p>主要表现为显著而持久的情感低落，抑郁悲观。轻者闷闷不乐、无愉快感、兴趣减退，重者痛不欲生、悲观绝望、度日如年、生不如死。典型患者的抑郁心境有晨重夜轻的节律变化。在心境低落的基础上，患者会出现自我评价降低，产生无用感、无望感、无助感和无价值感，常伴有自责自罪，严重者出现罪恶妄想和疑病妄想，部分患者可出现幻觉。</p><p><strong>2.思维迟缓</strong></p><p>患者思维联想速度缓慢，反应迟钝，思路闭塞，自觉“脑子好像是生了锈的机器”，“脑子像涂了一层糨糊一样”。临床上可见主动言语减少，语速明显减慢，声音低沉，对答困难，严重者交流无法顺利进行。</p><p><strong>3.意志活动减退</strong></p><p>患者意志活动呈显著持久的抑制。临床表现行为缓慢，生活被动、疏懒，不想做事，不愿和周围人接触交往，常独坐一旁，或整日卧床，闭门独居、疏远亲友、回避社交。严重时连吃、喝等生理需要和个人卫生都不顾，蓬头垢面、不修边幅，甚至发展为不语、不动、不食，称为“抑郁性木僵”，但仔细精神检查，患者仍流露痛苦抑郁情绪。伴有焦虑的患者，可有坐立不安、手指抓握、搓手顿足或踱来踱去等症状。严重的患者常伴有消极自杀的观念或行为。调查显示，我国每年有28.7万人死于自杀，其中63%有精神障碍，40%患有抑郁症。 [3]  因抑郁症而自杀的不乏名人，包括<a href="https://baike.baidu.com/item/%E6%A2%B5%E9%AB%98/143831" target="_blank" rel="noopener">梵高</a>、<a href="https://baike.baidu.com/item/%E6%B5%B7%E6%98%8E%E5%A8%81" target="_blank" rel="noopener">海明威</a>、<a href="https://baike.baidu.com/item/%E4%B8%89%E6%AF%9B/1364178" target="_blank" rel="noopener">三毛</a>、<a href="https://baike.baidu.com/item/%E5%BC%A0%E5%9B%BD%E8%8D%A3/6804" target="_blank" rel="noopener">张国荣</a>、 [3]  <a href="https://baike.baidu.com/item/%E5%BE%90%E8%A1%8C/13850780" target="_blank" rel="noopener">徐行</a>、<a href="https://baike.baidu.com/item/%E6%9D%8E%E6%99%93/4576729" target="_blank" rel="noopener">李晓</a>、<a href="https://baike.baidu.com/item/%E7%BD%97%E5%AE%BE%C2%B7%E5%A8%81%E5%BB%89%E5%A7%86%E6%96%AF/6530" target="_blank" rel="noopener">罗宾·威廉姆斯</a>、<a href="https://baike.baidu.com/item/%E4%B9%94%E4%BB%BB%E6%A2%81/4123762" target="_blank" rel="noopener">乔任梁</a>等 [4]  。消极悲观的思想及自责自罪、缺乏自信心可萌发绝望的念头，认为“结束自己的生命是一种解脱”，“自己活在世上是多余的人”，并会使自杀企图发展成自杀行为。这是抑郁症最危险的症状，应提高警惕。</p><p><strong>4.认知功能损害</strong></p><p>研究认为抑郁症患者存在认知功能损害。主要表现为近事记忆力下降、注意力障碍、反应时间延长、警觉性增高、抽象思维能力差、学习困难、语言流畅性差、空间知觉、眼手协调及思维灵活性等能力减退。认知功能损害导致患者社会功能障碍，而且影响患者远期预后。</p><p><strong>5.躯体症状</strong></p><p>主要有<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>、乏力、食欲减退、体重下降、<a href="https://baike.baidu.com/item/%E4%BE%BF%E7%A7%98/332148" target="_blank" rel="noopener">便秘</a>、身体任何部位的疼痛、性欲减退、<a href="https://baike.baidu.com/item/%E9%98%B3%E7%97%BF/411582" target="_blank" rel="noopener">阳痿</a>、<a href="https://baike.baidu.com/item/%E9%97%AD%E7%BB%8F/545691" target="_blank" rel="noopener">闭经</a>等。躯体不适的体诉可涉及各脏器，如恶心、呕吐、心慌、胸闷、出汗等。自主神经功能失调的症状也较常见。病前躯体疾病的主诉通常加重。<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>主要表现为早醒，一般比平时早醒2～3小时，醒后不能再入睡，这对抑郁发作具有特征性意义。有的表现为入睡困难，睡眠不深；少数患者表现为睡眠过多。体重减轻与食欲减退不一定成比例，少数患者可出现食欲增强、体重增加。</p><h2 id="检查">检查</h2><p>对疑为抑郁症的患者，除进行全面的躯体检查及神经系统检查外，还要注意辅助检查及实验室检查。迄今为止，尚无针对抑郁障碍的特异性检查项目。因此，目前的实验室检查主要是为了排除物质及躯体疾病所致的抑郁症。有2种实验室检查具有一定的意义，包括地塞米松抑制试验（DST）和促甲状腺素释放激素抑制试验（TRHST）。</p><h2 id="诊断">诊断</h2><p>抑郁症的诊断主要应根据病史、临床症状、病程及体格检查和实验室检查，典型病例诊断一般不困难。国际上通用的诊断标准一般有ICD-10和DSM-IV。国内主要采用ICD-10，是指首次发作的抑郁症和复发的抑郁症，不包括双相抑郁。患者通常具有心境低落、兴趣和愉快感丧失、精力不济或疲劳感等典型症状。其他常见的症状是①集中注意和注意的能力降低；②自我评价降低；③自罪观念和无价值感（即使在轻度发作中也有）；④认为前途暗淡悲观；⑤自伤或自杀的观念或行为；⑥<a href="https://baike.baidu.com/item/%E7%9D%A1%E7%9C%A0%E9%9A%9C%E7%A2%8D/767228" target="_blank" rel="noopener">睡眠障碍</a>；⑦食欲下降。病程持续至少2周。</p><h2 id="治疗">治疗</h2><p><strong>1.治疗目标</strong></p><p>抑郁发作的治疗要达到三个目标：①提高临床治愈率，最大限度减少病残率和自杀率，关键在于彻底消除临床症状；②提高生存质量，恢复社会功能；③预防复发。</p><p><strong>2.治疗原则</strong></p><p>①个体化治疗；②剂量逐步递增，尽可能采用最小有效量，使不良反应减至最少，以提高服药依从性；③足量足疗程治疗；④尽可能单一用药，如疗效不佳可考虑转换治疗、增效治疗或联合治疗，但需要注意药物相互作用；⑤治疗前知情告知；⑥治疗期间密切观察病情变化和不良反应并及时处理；⑦可联合<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>增加疗效；⑧积极治疗与抑郁共病的其他躯体疾病、物质依赖、焦虑障碍等。</p><p><strong>3.药物治疗</strong></p><p>药物治疗是中度以上抑郁发作的主要治疗措施。目前临床上一线的抗抑郁药主要包括选择性5-羟色胺再摄取抑制剂（SSRI，代表药物氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰和艾司西酞普兰）、5-羟色胺和去甲肾上腺素再摄取抑制剂（SNRI，代表药物文拉法辛和度洛西汀）、去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA，代表药物米氮平）等。传统的三环类、四环类抗抑郁药和单胺氧化酶抑制剂由于不良反应较大，应用明显减少。</p><p><strong>4.心理治疗</strong></p><p>对有明显心理社会因素作用的抑郁发作患者，在药物治疗的同时常需合并<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>。常用的<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>方法包括支持性<a href="https://baike.baidu.com/item/%E5%BF%83%E7%90%86%E6%B2%BB%E7%96%97/7862039" target="_blank" rel="noopener">心理治疗</a>、<a href="https://baike.baidu.com/item/%E8%AE%A4%E7%9F%A5%E8%A1%8C%E4%B8%BA%E6%B2%BB%E7%96%97/8296716" target="_blank" rel="noopener">认知行为治疗</a>、人际治疗、婚姻和<a href="https://baike.baidu.com/item/%E5%AE%B6%E5%BA%AD%E6%B2%BB%E7%96%97/1057345" target="_blank" rel="noopener">家庭治疗</a>、精神动力学治疗等，其中<a href="https://baike.baidu.com/item/%E8%AE%A4%E7%9F%A5%E8%A1%8C%E4%B8%BA%E6%B2%BB%E7%96%97/8296716" target="_blank" rel="noopener">认知行为治疗</a>对抑郁发作的疗效已经得到公认。</p><p><strong>5.物理治疗</strong></p><p>近年来出现了一种新的<a href="https://baike.baidu.com/item/%E7%89%A9%E7%90%86%E6%B2%BB%E7%96%97/8806355" target="_blank" rel="noopener">物理治疗</a>手段——重复经颅磁刺激（rTMS）治疗，主要适用于轻中度的抑郁发作。</p><h2 id="预防">预防</h2><p>有人对抑郁症患者追踪10年的研究发现，有75%～80%的患者多次复发，故抑郁症患者需要进行预防性治疗。发作3次以上应长期治疗，甚至终身服药。维持治疗药物的剂量多数学者认为应与治疗剂量相同，还应定期门诊随访观察。心理治疗和社会支持系统对预防本病复发也有非常重要的作用，应尽可能解除或减轻患者过重的心理负担和压力，帮助患者解决生活和工作中的实际困难及问题，提高患者应对能力，并积极为其创造良好的环境，以防复发。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu升级Ruby</title>
      <link href="/article/6bb10e64.html"/>
      <url>/article/6bb10e64.html</url>
      
        <content type="html"><![CDATA[<p>Ubuntu服务器最近扫描出很多漏洞，发现很多是Ruby的问题，而且有一些年代久远，想着应该是老版本的问题。于是去查了下更新问题，记录下更新过程。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1575912501635.png" alt="file"></p><a id="more"></a><p>当前的版本是 2.3，打算升级到最新的 2.6。可以使用下面的命令查看 Ruby 版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ruby -v</span><br><span class="line">ruby 2.3.1p112 (2016-04-26) [x86_64-linux-gnu]</span><br></pre></td></tr></table></figure><h3 id="添加-ppa-源：">添加 PPA 源：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:brightbox/ruby-ng</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><blockquote><p>Launchpad PPA Repositories是很有用的非ubuntu官方的第三方个人资源库，可以很方便地安装第三方软件。<br>但是在运行add-apt-repository命令时，有时会提示命令不存在，这个时候直接apt-get<br>add-apt-repository是不可以的！ 解决的方法是安装software-properties-common。<br>输入命令：<code>apt-get install software-properties-common</code></p></blockquote><h3 id="先删除旧版本：">先删除旧版本：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get purge --auto-remove ruby</span><br></pre></td></tr></table></figure><h3 id="然后安装新版本：">然后安装新版本：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install ruby2.6 ruby2.6-dev</span><br></pre></td></tr></table></figure><h3 id="安装后查看版本号：">安装后查看版本号：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ruby -v</span><br><span class="line">ruby 2.6.5p114 (2019-10-01 revision 67812) [x86_64-linux-gnu]</span><br></pre></td></tr></table></figure><p>更新成功后，重新扫描，漏洞少了20个……</p><hr><p>相关链接：</p><ul><li><a href="https://www.ruby-lang.org/zh_cn/downloads/" target="_blank" rel="noopener">下载 Ruby（中文网）</a></li><li><a href="https://blog.csdn.net/qq_31977367/article/details/78737646" target="_blank" rel="noopener">Ubuntu系统安装Ruby的三种方法</a></li><li><a href="https://blog.csdn.net/henryhu712/article/details/89224467" target="_blank" rel="noopener">https://blog.csdn.net/henryhu712/article/details/89224467</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Ruby </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo.[DEP0061] DeprecationWarning. fs.SyncWriteStream is deprecated</title>
      <link href="/article/472a762d.html"/>
      <url>/article/472a762d.html</url>
      
        <content type="html"><![CDATA[<p>出现问题的原因：Node.js 官方API：<code>fs.SyncWriteStream</code> 这个API在v8.0.0中已经废弃了，但是仍然可以使用，就是如果使用可能会出现类似警告。到v11.0.0版本才结束生命周期，也就是说如果再引用就会直接报错，而不仅仅是警告。</p><a id="more"></a><h2 id="这只是一个警告">这只是一个警告</h2><p>首先我们可以从字面上理解：废弃警告，<code>fs.SyncWriteStream</code> 已经被废弃了。注意是警告，而不是错误，不影响程序运行，因此其实我们可以不予理会。</p><p>如果你非要处理，参考下文。</p><h2 id="始末">始末</h2><h3 id="出现问题的原因">出现问题的原因</h3><p>Node.js官方API：<code>fs.SyncWriteStream类从来就不是一个公共可访问的API，现在已经被删除了。没有其他可用的API。请使用一个用户空间替代方案。</code> 这个API在v8.0.0中已经废弃了，但是仍然可以使用，就是如果使用可能会出现类似警告。到v11.0.0版本才结束生命周期，也就是说如果再引用就会直接报错，而不仅仅是警告。</p><p>详见：<a href="http://nodejs.cn/api/deprecations.html#deprecations_dep0061_fs_syncwritestream" target="_blank" rel="noopener">http://nodejs.cn/api/deprecations.html#deprecations_dep0061_fs_syncwritestream</a> ，或者下面的截图：</p><p><img src="https://img-blog.csdnimg.cn/20191112104002575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="处理这个问题">处理这个问题</h3><h4 id="hexo-deployer-git插件问题"><code>hexo-deployer-git</code>插件问题</h4><p>在hexo的github里面有谈到这个问题：<a href="https://github.com/hexojs/hexo/issues/2598" target="_blank" rel="noopener">https://github.com/hexojs/hexo/issues/2598</a> ，然而我发现这个issue的发布日期是2017，已经过去挺久的了。里面提到的主要是hexo核心插件：<code>hexo-deployer-git</code>的问题，这个插件还引用了这个废弃的API，详见<a href="https://github.com/hexojs/hexo/issues/2598#issuecomment-318248764" target="_blank" rel="noopener">https://github.com/hexojs/hexo/issues/2598#issuecomment-318248764</a> 。因此该插件进行了更新<a href="https://github.com/hexojs/hexo-deployer-git/releases" target="_blank" rel="noopener">https://github.com/hexojs/hexo-deployer-git/releases</a> ，v0.3.1这个版本就是更新这个问题的，更新日期也是2017年。</p><p><img src="https://img-blog.csdnimg.cn/20191112105333889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>因此如果你是这之后安装的，应该已经是这以后的版本了，这个插件已经不会出现该问题了。（注：你可以到<code>\Hexo\package.json</code>去看插件版本）</p><p>如果你是在这个时间之前安装的，可以使用下面命名更新插件：<code>npm install hexo-deployer-git@0.3.1 --save</code>，或者更新到现在的最新版<code>2.0.0</code>。</p><h4 id="其他插件问题-通用处理方法">其他插件问题–通用处理方法</h4><p>上面提到的这个插件，好像是谈到最多的插件。但是如果这个插件已经更新到了<code>0.3.1</code>版本之后，还会出现这个问题，那就说明是还有其他插件还引用了这个已经被废弃的API，我们可以通过debug模式查看是哪个插件的问题，比如我的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s --debug</span><br><span class="line">02:34:07.422 DEBUG Writing database to H:\Hexo/db.json</span><br><span class="line">02:34:07.494 DEBUG Hexo version: 3.9.0</span><br><span class="line">02:34:07.496 DEBUG Working directory: H:\Hexo\</span><br><span class="line">02:34:08.261 DEBUG Config loaded: H:\Hexo\_config.yml</span><br><span class="line">02:34:08.561 DEBUG Plugin loaded: hexo-baidu-url-submit</span><br><span class="line">02:34:08.596 DEBUG Plugin loaded: hexo-deployer-git</span><br><span class="line">02:34:08.971 DEBUG Plugin loaded: hexo-abbrlink</span><br><span class="line">02:34:08.988 DEBUG Plugin loaded: hexo-generator-archive</span><br><span class="line">02:34:09.017 DEBUG Plugin loaded: hexo-generator-baidu-sitemap</span><br><span class="line">02:34:09.028 DEBUG Plugin loaded: hexo-generator-category</span><br><span class="line">02:34:09.042 DEBUG Plugin loaded: hexo-generator-index</span><br><span class="line">02:34:09.062 DEBUG Plugin loaded: hexo-generator-feed</span><br><span class="line">02:34:09.474 DEBUG Plugin loaded: hexo-generator-json-content</span><br><span class="line">02:34:09.491 DEBUG Plugin loaded: hexo-generator-sitemap</span><br><span class="line">02:34:09.506 DEBUG Plugin loaded: hexo-generator-tag</span><br><span class="line">02:34:10.537 DEBUG Plugin loaded: hexo-neat</span><br><span class="line">02:34:10.540 DEBUG Plugin loaded: hexo-renderer-stylus</span><br><span class="line">02:34:10.556 DEBUG Plugin loaded: hexo-renderer-ejs</span><br><span class="line">02:34:10.940 DEBUG Plugin loaded: hexo-admin</span><br><span class="line">(node:9248) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</span><br><span class="line">02:34:10.945 DEBUG Plugin loaded: hexo-renderer-markdown-it</span><br></pre></td></tr></table></figure><p>我们可以看到是<code>hexo-admin</code>这个插件出现了问题，那么怎么处理呢？一般只需要将该插件更新到最新版就可以了，如果发现还没有处理问题，说明该插件没有处理这个警告，那么只能是到github仓库提issue或者pr了。</p><p>参考：</p><ul><li><a href="https://blog.csdn.net/liuyongshun2/article/details/79348016" target="_blank" rel="noopener">hexo（四）DeprecationWarning: fs.SyncWriteStream is deprecated</a></li><li><a href="https://blog.csdn.net/resilient/article/details/86430228" target="_blank" rel="noopener">https://blog.csdn.net/resilient/article/details/86430228</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Node.js </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加复制代码块的功能</title>
      <link href="/article/e9d1b881.html"/>
      <url>/article/e9d1b881.html</url>
      
        <content type="html"><![CDATA[<p>实现复制代码块的功能，效果：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png" alt="file"></p><a id="more"></a><h2 id="我的提问">我的提问</h2><p>我在hexo-theme-yilia-plus主题上的提问：<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/issues/29" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/issues/29</a></p><blockquote><h3 id="初级版">初级版</h3><p>支持复制代码块的功能，如下图（截自csdn）：<br><a href="https://user-images.githubusercontent.com/45334066/68071471-aaebd180-fdb5-11e9-9601-76c6e6dc664b.png" target="_blank" rel="noopener"><img src="https://user-images.githubusercontent.com/45334066/68071471-aaebd180-fdb5-11e9-9601-76c6e6dc664b.png" alt="image"></a></p><p>个人觉得这个功能还是挺重要的。</p><h3 id="加强版">加强版</h3><p>如果文章中有原创版权声明，复制时，会携带相关信息。</p><h3 id="🙋others">🙋Others</h3><p>我自己也去查了下，找到的好像都是next主题的，没有yilia主题的，但是不太会转化……</p><p>参考链接：</p><ul><li>工具：clipboard.js：<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">https://github.com/zenorocha/clipboard.js</a>，中文网：<a href="http://www.clipboardjs.cn/" target="_blank" rel="noopener">http://www.clipboardjs.cn/</a></li><li>Hexo NexT 代码块复制功能:<a href="https://www.jianshu.com/p/3e9d614c1e77" target="_blank" rel="noopener">https://www.jianshu.com/p/3e9d614c1e77</a></li><li>hexo-next 添加代码块复制功能：<a href="https://www.zhyong.cn/posts/ca02/" target="_blank" rel="noopener">https://www.zhyong.cn/posts/ca02/</a></li><li>Hexo–第二弹(包含复制代码块，和版权声明)：<a href="https://www.jianshu.com/p/4d0020bde612" target="_blank" rel="noopener">https://www.jianshu.com/p/4d0020bde612</a></li></ul></blockquote><hr><h2 id="自己动手">自己动手</h2><p>因为回复比较慢，就自己动手去尝试了。</p><p>参考：<a href="https://hexo-guide.readthedocs.io/zh_CN/latest/third-service/%5Bclipboard.js%5D%E4%BB%A3%E7%A0%81%E5%9D%97%E5%A4%8D%E5%88%B6.html" target="_blank" rel="noopener">[clipboard.js]代码块复制</a></p><p>该文章也是基于next主题，迁移过来有些问题：</p><ol><li>next主题可能自带jQuery，故没有引入，但是yilia没有，需要引入。</li><li>会报错<code>ClipboardJS is not defined</code>，我这里直接改成了<code>Clipboard</code>就可以了，后面找到原因了：是版本问题，<a href="https://github.com/zenorocha/clipboard.js/releases/v2.0.0" target="_blank" rel="noopener">https://github.com/zenorocha/clipboard.js/releases/v2.0.0</a>，v2.0.0的变化：Changes constructor from <code>new Clipboard()</code> to <code>new ClipboardJS()</code> <a href="https://github.com/zenorocha/clipboard.js/issues/468" target="_blank" rel="noopener">#468</a>。相关问题：<ul><li><a href="https://github.com/zenorocha/clipboard.js/issues/296" target="_blank" rel="noopener">Clipboard not defined</a></li><li><a href="https://www.bbsmax.com/A/gVdnNgPNdW/" target="_blank" rel="noopener">clipboard复制剪贴板功能，以及用requirejs时报错—Uncaught ReferenceError: Clipboard is not defined</a></li></ul></li></ol><h3 id="0-原理">0.原理</h3><p>在页面加载完毕后，使用js动态地为每一个代码块添加一个按钮，使用这个按钮复制代码块内容。</p><h3 id="1-新建实现复制功能的js">1.新建实现复制功能的js</h3><p><code>H:\Hexo\themes\yilia\source\js\clipboard_use.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123; </span><br><span class="line"><span class="comment">/* code */</span></span><br><span class="line"><span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'  &lt;i class="fa fa-globe"&gt;&lt;/i&gt;&lt;span&gt;copy&lt;/span&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">    $(<span class="string">".highlight .code"</span>).before(copyHtml);</span><br><span class="line">    <span class="keyword">new</span> Clipboard(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">        target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h3 id="2-引入js">2.引入js</h3><p>在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>文件的<code>&lt;/body&gt;</code>前引入：（作用：页面加载完再执行js）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 代码块复制功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script type="text/javascript" src="/js/clipboard.js"&gt;&lt;/script&gt;  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard_use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="需要注意的问题：">需要注意的问题：</h4><ul><li>前面提到：因为：<code>clipboard_use.js</code>中需要用到jQuery，而yilia没有引入jQuery，故需要引入。</li><li>对于<code>clipboard.js</code>的引入问题：根据github社区反馈，引入本地文件好像会出现问题（我本地测试就引入不了），故使用CDN引入。（有人反映CDN好像也会有问题，反正我没有遇到……）</li><li>注意引入顺序：<code>jquery</code>和<code>clipboard.js</code>需要在<code>clipboard_use.js</code>之前引入。</li><li><code>&lt;script&gt;</code>标签问题，虽然HTML5标准里面没有严格要求标签一定要关闭，但是建议要关闭，不然可能会出现问题。这里我一开始没有关闭标签，就出现问题了，后面研究了很久才发现原来是这个问题。</li></ul><h3 id="3-添加样式">3.添加样式</h3><p>修改：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，在末尾添加下面代码（最好是<code>pre .css~* .id, pre .id</code>下面，即代码块样式附近）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  这是原代码块 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.id</span>, <span class="selector-tag">pre</span> <span class="selector-class">.id</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fd971f</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 代码块复制按钮 */</span></span><br><span class="line"> <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="comment">/* 方便copy代码按钮（btn-copy）的定位 */</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc, #eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块复制按钮 */</span></span><br></pre></td></tr></table></figure><h3 id="成果">成果</h3><p>点击按钮后，会全选代码块，就复制成功了。<br>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012404242.png" alt="file"></p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012450293.png" alt="file"></p><p>动图：<br><img src="https://img-blog.csdnimg.cn/20191106120739510.gif" alt="file"></p><h3 id="问题讨论">问题讨论</h3><p>乍一看效果还不错，但是还是存在问题：</p><ol><li>如果代码块超出，会出现问题。虽然图标样式使用绝对定位，但是该按钮没有“固定”在代码块页面的右上角，仅仅是固定在当前页面的右上角，可能不好理解，截个图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573012602602.png" alt="file"><br>然后我去研究了下CSDN的样式，发现好像差不多，但是效果明显不一样啊。后面有空再研究吧。</li><li>虽然复制成功会全选代码块，但是不成功呢？不晓得？好像没反应。后期可能会添加对应设置（模仿CSDN）：默认时“复制”，复制成功显示“复制成功”，几秒后再次显示“复制”，失败给出对应提示。</li></ol><h3 id="依赖升级">依赖升级</h3><p>使用最新版本的clipboard.js–v2.0.4，CDN：<a href="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/" target="_blank" rel="noopener">https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/</a>，替换之前的，需要修改的地方：</p><h4 id="1-改变引入源">1.改变引入源</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-改变函数名">2.改变函数名</h4><p><code>Clipboard</code> to <code>ClipboardJS</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Clipboard(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>改为：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">    target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="bug修复">bug修复</h2><p>更新时间：2020-3-27 23:25:54</p><p>感谢：<a href="https://code-ape.gitee.io/" target="_blank" rel="noopener">辛猿毅码</a>的这篇文章<a href="https://code-ape.gitee.io/article/5bc9f198.html" target="_blank" rel="noopener">https://code-ape.gitee.io/article/5bc9f198.html</a>。</p><h3 id="1-修改js">1.修改js</h3><p>在<code>highlight</code>元素外围加一个父元素，方便定位复制按钮。<br><code>H:\Hexo\themes\yilia\source\js\clipboard_use2.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".highlight"</span>).wrap(<span class="string">"&lt;div class='code-wrapper' style='position:relative'&gt;&lt;/div&gt;"</span>);</span><br><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* code */</span></span><br><span class="line">    <span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">        copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">        copyHtml += <span class="string">'  &lt;i class="fa fa-clipboard"&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;'</span>;</span><br><span class="line">        copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">        $(<span class="string">".highlight .code"</span>).before(copyHtml);</span><br><span class="line">        <span class="keyword">var</span> clipboard = <span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">            target: <span class="function"><span class="keyword">function</span> (<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制成功&lt;/span&gt;"</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">            e.clearSelection();</span><br><span class="line">        &#125;);</span><br><span class="line">        clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制失败&lt;/span&gt;"</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">            e.clearSelection();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><h3 id="2-修改复制按钮样式">2.修改复制按钮样式</h3><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc, #eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    . -webkit-user-select: none;</span><br><span class="line">    <span class="selector-tag">-moz-user-select</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">-ms-user-select</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">user-select</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">-webkit-appearance</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 13<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">font-weight</span>: 700;</span><br><span class="line">    <span class="selector-tag">line-height</span>: 20<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span><br><span class="line">    <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">opacity</span> <span class="selector-class">.3s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">    <span class="selector-tag">-o-transition</span>: <span class="selector-tag">opacity</span> <span class="selector-class">.3s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">    <span class="selector-tag">transition</span>: <span class="selector-tag">opacity</span> <span class="selector-class">.3s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line">    <span class="selector-tag">padding</span>: 2<span class="selector-tag">px</span> 6<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line">    <span class="selector-tag">right</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">top</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">opacity</span>: 0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-添加复制按钮图标">3.添加复制按钮图标</h3><p>需要引入<strong>font-awesome</strong>，在<code>H:\Hexo\themes\yilia\layout\_partial\head.ejs</code>的<code>&lt;/head&gt;</code>前添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果图">效果图</h3><p>有滚动条时：<br><img src="https://oss.yansheng.xyz/picgo/20200410214256.png" alt></p><p>复制成功显示：<br><img src="https://oss.yansheng.xyz/picgo/20200410214508.png" alt></p><h3 id="微调图标样式">微调图标样式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-check' style='color:green'&gt;&lt;/i&gt;&lt;span style='color:green'&gt;复制成功&lt;/span&gt;"</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    e.clearSelection();</span><br><span class="line">&#125;);</span><br><span class="line">clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-exclamation' style='color:red'&gt;&lt;/i&gt;&lt;span style='color:red'&gt;复制失败&lt;/span&gt;"</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        e.trigger.innerHTML = <span class="string">"&lt;i class='fa fa-clipboard'&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;"</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    e.clearSelection();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>复制成功效果：<br><img src="https://oss.yansheng.xyz/picgo/20200410214621.png" alt></p><p>复制失败效果：<br><img src="https://oss.yansheng.xyz/picgo/20200410214948.png" alt></p><p>收工！</p><h2 id="修复前后对比">修复前后对比</h2><p>前<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/code-raw.gif" alt></p><p>后<br><img src="https://myblog12.qiniu.yansheng.xyz/picgo/code-after.gif" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 复制功能 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia测试代码块样式</title>
      <link href="/article/285260df.html"/>
      <url>/article/285260df.html</url>
      
        <content type="html"><![CDATA[<p>测试代码块、引用块、（文章内）超链接的样式以及高亮问题。</p><h2 id="高亮说明">高亮说明</h2><p>经测试，发现有以下几个问题：</p><ol><li>引用块里面的代码块样式有问题。</li><li>如果语言不支持高亮，默认使用plain（简单的，无格式的）。</li><li>MySQL等SQL需要统一设置为SQL，不然不高亮。</li><li>shell脚本使用bash，不然不高亮。</li><li>cmd命令/Linux命令使用bash，可以部分高亮。</li><li>markdown代码块不支持高亮。</li><li>ejs使用HTML进行高亮。</li></ol><a id="more"></a><h2 id="引用块">引用块</h2><blockquote><h3 id="引用的三级目录">引用的三级目录</h3><p>这是引用</p><p>下面是引用中的代码块：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="行内代码块">行内代码块</h2><p>这是行内代码块：<code>git clone url</code>。</p><h2 id="标题中的行内代码块git-clone-url">标题中的行内代码块<code>git clone url</code></h2><h2 id="超链接">超链接</h2><p>超链接样式：</p><ol><li><code>[文字](url)</code>:<a href="https://yansheng836.github.io/" target="_blank" rel="noopener">我的博客仓库</a>，如果url含有中文，建议加&lt;&gt;，不然可能会被截断，导致连接失效。</li><li><code>&lt;url&gt;</code>:<a href="https://yansheng836.github.io/" target="_blank" rel="noopener">https://yansheng836.github.io/</a>。</li><li><code>url</code>:<a href="https://yansheng836.github.io/%EF%BC%8C%E4%B8%8D%E6%8E%A8%E8%8D%90%E9%80%82%E7%94%A8%E8%BF%99%E7%A7%8D%EF%BC%8C%E4%B8%8D%E8%A7%84%E8%8C%83%E3%80%82" target="_blank" rel="noopener">https://yansheng836.github.io/，不推荐适用这种，不规范。</a></li></ol><h2 id="html">HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="xml">XML</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="css">CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">charset</span>"<span class="keyword">utf</span>-<span class="keyword">8</span>";</span><br><span class="line"><span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="javascript">JavaScript</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hide = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    x.classList.toggle(<span class="string">"change"</span>);</span><br><span class="line">    <span class="keyword">if</span> (hide == <span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hide == false"</span>);</span><br><span class="line">        hide = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>)</span><br><span class="line">        hide = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="json">Json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"sites"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"菜鸟教程"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.runoob.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"google"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.google.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"微博"</span>,</span><br><span class="line">            <span class="attr">"url"</span>: <span class="string">"www.weibo.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="java">Java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">         <span class="comment">// 单行注释</span></span><br><span class="line">        System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="python3">Python3</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    <span class="string">"""一个简单的类实例"""</span></span><br><span class="line">    i = <span class="number">12345</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'hello world'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 实例化类</span></span><br><span class="line">x = MyClass()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 访问类的属性和方法</span></span><br><span class="line">print(<span class="string">"MyClass 类的属性 i 为："</span>, x.i)</span><br><span class="line">print(<span class="string">"MyClass 类的方法 f 输出为："</span>, x.f())</span><br></pre></td></tr></table></figure><h2 id="sql">SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name</span><br><span class="line"><span class="keyword">VALUES</span> (value1,value2,value3,...);</span><br></pre></td></tr></table></figure><h2 id="mysql">MySQL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from runoob_tbl ORDER BY submission_date ASC;</span><br></pre></td></tr></table></figure><h2 id="mysql-sql">MySQL–&gt;SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> runoob_tbl <span class="keyword">ORDER</span> <span class="keyword">BY</span> submission_date <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><h2 id="shell">Shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo "The value is: $loop"</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h2 id="shell-bash">Shell–&gt;BASH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> loop <span class="keyword">in</span> 1 2 3 4 5</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"The value is: <span class="variable">$loop</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h2 id="bash-git">Bash/Git</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cmd</span></span><br><span class="line"><span class="built_in">cd</span> dir</span><br><span class="line">mkdir new_dir</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注释</span></span><br><span class="line">$ git add *.c</span><br><span class="line">$ git add README</span><br><span class="line">$ git commit -m <span class="string">'初始化项目版本'</span></span><br></pre></td></tr></table></figure><h2 id="c">C</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* 我的第一个 C 程序 */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello, World! \n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="c-v2">C++</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 注释</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="markdown">Markdown</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这是超链接：<span class="xml"><span class="tag">&lt;<span class="name">https:</span>//<span class="attr">github.com</span>/<span class="attr">yansheng836</span>/&gt;</span></span></span><br><span class="line">下面的是列表：</span><br><span class="line"><span class="bullet">- </span>列表</span><br><span class="line"><span class="bullet">- </span>列表</span><br></pre></td></tr></table></figure><h2 id="ejs">EJS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; %&gt;</span><br><span class="line">    &lt;section id=&quot;comments&quot; class=&quot;comments&quot;&gt;</span><br><span class="line">      &lt;style&gt;</span><br><span class="line">        .comments&#123;margin:30px;padding:10px;background:#fff&#125;</span><br><span class="line">        @media screen and (max-width:800px)&#123;.comments&#123;margin:auto;padding:10px;background:#fff&#125;&#125;</span><br><span class="line">      &lt;/style&gt;</span><br><span class="line">      &lt;%- partial(&apos;post/valine&apos;, &#123;</span><br><span class="line">        key: post.slug,</span><br><span class="line">        title: post.title,</span><br><span class="line">        url: config.url+url_for(post.path)</span><br><span class="line">        &#125;) %&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="ejs-html">EJS–&gt;HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">        <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">url:</span> <span class="attr">config.url</span>+<span class="attr">url_for</span>(<span class="attr">post.path</span>)</span></span><br><span class="line"><span class="tag">        &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h2 id="yml">YML</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hexo g 会默认将所有md文件转换成（渲染成）HTML文件放到public文件夹中；加上这句话的意思就是告诉hexo的解析器，跳过渲染(skip_render)README.md文件</span></span><br><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line"><span class="bullet"> -</span> <span class="string">'README.md'</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia修改代码块等样式</title>
      <link href="/article/c344994.html"/>
      <url>/article/c344994.html</url>
      
        <content type="html"><![CDATA[<p>代码块的样式真的很重要，毕竟咱好歹是一个技术博客，难免会贴一些代码的。因此参考<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">https://cqh-i.github.io</a>的样式进行了调整，下面是HTML的例子，更多具体效果可以参考这篇博客的样式：<a href="/article/285260df.html">test-codestyle</a>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>html代码块样本<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这个样式可还行？<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"p1"</span> <span class="attr">style</span>=<span class="string">"font-size:20px;"</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="说明">说明</h2><ol><li>由于每个人可能都修改过样式文件，所以每个人的样式可能都会有所不同。建议修改之前做好备份，防止出现错误难于恢复，可以使用git进行版本管理（<a href="https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md" target="_blank" rel="noopener">备份博客的源码和配置</a>）。</li><li>我的备份文件，详见<a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog/docs/%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F%E8%B0%83%E6%95%B4%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">代码块样式调整备份文件</a>，<code>cqh-i.github.io.css</code>为博客<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">https://cqh-i.github.io</a>的代码块样式。<code>main.0cf68a.css</code>为我之前的css文件的备份。</li></ol><h2 id="文中超链接样式">文中超链接样式</h2><p>默认：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改（添加内容）后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章中的超链接,鼠标悬浮特效 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">    <span class="comment">/* font-size:18px; */</span></span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">8s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再次修改：</p><p>参考：<a href="https://css.30secondsofcode.org/snippet/hover-underline-animation" target="_blank" rel="noopener">https://css.30secondsofcode.org/snippet/hover-underline-animation</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文章中的超链接,鼠标悬浮特效*/</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: lucida console;<span class="comment">/* 这种字体的英文比较好看（像代码样式） */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮时，变色 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d7191a</span>;</span><br><span class="line">    <span class="attribute">transition</span>:.<span class="number">8s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬浮时，下划线从中间向两边延伸 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">  <span class="comment">/* 旋转，与transform连用；这里作用：鼠标悬浮时，底部的下划线从中间扩散到两边。</span></span><br><span class="line"><span class="comment">   bottom right :左到右出现，左到右消失（需配合上面的::after）</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标移开后，下划线从两边向中间消失 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">a</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.5px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">  <span class="comment">/* 详见：https://www.w3school.com.cn/cssref/pr_transform-origin.asp,</span></span><br><span class="line"><span class="comment">  旋转，与transform连用；这里作用：鼠标移开后，底部的下划线从中间开始消失 */</span></span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom center;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.5s</span> ease-out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2019年11月8日调整将<code>article-entry</code>换成<code>mid-col</code>，原来只是文章中文的超链接，现在改为右边栏都进行设置。（可能会出现很多负面影响，请自行决定是否更改）。</p><h2 id="行内代码块样式">行内代码块样式</h2><p>默认：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>,<span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考csdn代码块样式：主要是调整颜色为红色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.markdown_views</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: -<span class="number">9px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 行内代码块``的样式，参考csdn的</span></span><br><span class="line"><span class="comment">    color: #c7254e;</span></span><br><span class="line"><span class="comment">    background-color: #f9f2f4;</span></span><br><span class="line"><span class="comment">    border-radius: 2px;</span></span><br><span class="line"><span class="comment">    padding: 2px 4px;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="comment">/* background:#ddd; */</span></span><br><span class="line">    <span class="comment">/* border:2px solid #ccc; */</span></span><br><span class="line">    <span class="attribute">font-family</span>:Menlo, Monaco, Andale Mono, lucida console, Courier New, monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="comment">/* font-size:14px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>补充：一开始没注意到原来该样式不包含标题中的代码块，添加:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 标题中的代码块样式 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="comment">/* background:#eee;</span></span><br><span class="line"><span class="comment">    padding:0 .3em;</span></span><br><span class="line"><span class="comment">    border:none */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(249,242,244,.7);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Menlo,Monaco,Andale Mono,lucida console,Courier New,monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码块主要样式文件">代码块主要样式文件</h2><h3 id="代码块简单设置">代码块简单设置</h3><p>参考：<a href="https://www.jianshu.com/p/adb7640c97c2" target="_blank" rel="noopener">Hexo 基于yilia主题及其它插件优化</a></p><h4 id="1-修改代码块的样式">1.修改代码块的样式</h4><p>直接修改编译好的文件。路径为： <code>theme/yilia/source/main.0cf68a.css</code>:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(1)修改代码背景色，</span><br><span class="line">搜索 <span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span>, 修改<span class="selector-tag">background</span>后面的颜色</span><br><span class="line">将 <span class="selector-tag">pre</span>&#123;<span class="attribute">background</span>:<span class="number">#272822</span>;</span><br><span class="line">改为 pre&#123;background:#1a0139;</span><br><span class="line"></span><br><span class="line">(2)修改行号颜色，</span><br><span class="line">搜索 <span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> <span class="selector-tag">pre</span> <span class="selector-class">.line</span></span><br><span class="line">将<span class="selector-class">.article-entry</span> <span class="selector-class">.highlight</span> <span class="selector-class">.gutter</span> <span class="selector-tag">pre</span> <span class="selector-class">.line</span>&#123;<span class="attribute">color</span>:<span class="number">#666</span></span><br><span class="line">改为.article-entry .highlight .gutter pre .line&#123;color:<span class="number">#fc0000</span></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)修改代码字体颜色 </span><br><span class="line">搜索 .article-entry .highlight .line</span><br><span class="line">将.article-entry .highlight .line&#123;color:<span class="number">#fff</span>;</span><br><span class="line">修改为.article-entry .highlight .line&#123;color:#00ff0d;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="https://user-images.githubusercontent.com/45334066/63212335-714fe680-c135-11e9-8474-7de47bd3f3e5.png" alt></p><p>个人感觉还不是很满意，有待优化。</p><h4 id="2-代码块行号显示错乱">2.代码块行号显示错乱</h4><p>修改<code>yilia/source/main.0cf68a.css</code>的内容：将<code>white-space:pre-wrap;</code> 删除，这个问题是自动换行造成的，使用不自动换行的<code>white-space:pre;</code>样式代码块部分会自动出现底部滚动条，行号错乱问题就没有了。</p><h4 id="3-重点调整">3.重点调整</h4><p>不知道是hexo还是yilia主题自带的是使用<code>highlight.js</code>进行代码高亮的，但是好像是内置的，因为我不会写源码，只能更改生成的文件：<code>yilia/source/main.0cf68a.css</code>，按照识别的关键字自定义颜色，这里是我的一些配置，你也可以自己使用F12进行调试。（当然网上也有许多替换自指定的<code>highlight.js</code>进行代码高亮的教程）。</p><p><strong>特别注意</strong>：高亮的前提是语言要写对，不然只能当做普通文本进行识别。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 代码块样式之评论：黄色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.comment</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffec8b</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之类的参数、函数的关键字、关键字：蓝色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.class</span> <span class="selector-class">.params</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.literal</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#66d9ef</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之css的属性值、函数名、参数、标签：白色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span> <span class="selector-class">.value</span>, <span class="selector-tag">pre</span> <span class="selector-class">.doctype</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span>, <span class="selector-tag">pre</span> <span class="selector-class">.params</span>, <span class="selector-tag">pre</span> <span class="selector-class">.tag</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span></span><br><span class="line"><span class="comment">/* color:#66d9ef; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之HTML或者xml的头部元素：红色(颜色较浅) */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.meta</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#f78da1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之HTML的标签：红色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.tag</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#dc3958; */</span></span><br><span class="line"> <span class="attribute">color</span>:<span class="number">#ff6481</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之：色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.at_rule</span>, <span class="selector-tag">pre</span> <span class="selector-class">.at_rule</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.tag</span>, <span class="selector-tag">pre</span> <span class="selector-class">.preprocessor</span>, <span class="selector-tag">pre</span> <span class="selector-class">.preprocessor</span> <span class="selector-class">.keyword</span>, <span class="selector-tag">pre</span> <span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fa9400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之属性、类、函数的title：绿色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.attr</span>,<span class="selector-tag">pre</span> <span class="selector-class">.attribute</span>, <span class="selector-tag">pre</span> <span class="selector-class">.built_in</span>, <span class="selector-tag">pre</span> <span class="selector-class">.class</span>, <span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.class</span>, <span class="selector-tag">pre</span> <span class="selector-class">.function</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#a6e22e</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之字符串、属性值：猪肝色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.string</span>, <span class="selector-tag">pre</span> <span class="selector-class">.value</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#e6db74</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块样式之数字：粉红色 */</span></span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.number</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#ffe4b5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">pre</span> <span class="selector-class">.css</span>~* <span class="selector-class">.id</span>, <span class="selector-tag">pre</span> <span class="selector-class">.id</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fd971f</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文章内的超链接和引用块超出页面的问题">文章内的超链接和引用块超出页面的问题</h2><p>参考：<a href="https://www.cnblogs.com/ytkah/p/5673122.html" target="_blank" rel="noopener">css自动换行如何设置?url太长会撑开页面</a></p><p>当页面进行缩放时，说明这两个区域可能会超出页面。</p><p>使用下面这两个属性进行截断：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line"><span class="selector-tag">word-wrap</span><span class="selector-pseudo">:break-word</span>;</span><br><span class="line"><span class="selector-tag">word-break</span><span class="selector-pseudo">:break-all</span>;</span><br></pre></td></tr></table></figure><p>具体如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:transparent;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#08c</span>;</span><br><span class="line"><span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#657b83</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#f6f6f6</span>;</span><br><span class="line">    <span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="左侧边栏的菜单">左侧边栏的菜单</h2><p>导航超链接样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 这个字体不错font-family: STCaiyun,STXingkai; */</span></span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-menu</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: STCaiyun,STXingkai;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">31px</span>;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">float</span>: none;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-pack</span>: center;</span><br><span class="line">    <span class="attribute">-webkit-box-align</span>: center;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="主页-展开全文-按钮样式">主页‘展开全文’按钮样式</h2><p>样式参考：<a href="http://ianlunn.github.io/Hover/" target="_blank" rel="noopener">http://ianlunn.github.io/Hover/</a>的<code>hvr-shutter-in-horizontal</code>按钮，示例：<a href="https://codepen.io/yansheng836/pen/QWWmEro" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/QWWmEro</a>。</p><h3 id="1-添加class">1.添加class</h3><p>修改<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，查找<code>index &amp;&amp; theme.show_all_link</code>，找到如下内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span> &amp;&amp; <span class="attr">theme.show_all_link</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"article-more-link"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"article-more-a"</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.show_all_link</span> %&gt;</span> &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>class=&quot;article-more-a</code>中添加<code>hvr-shutter-in-horizontal</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span> &amp;&amp; <span class="attr">theme.show_all_link</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"article-more-link"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"article-more-a  hvr-shutter-in-horizontal"</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.show_all_link</span> %&gt;</span> &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-修改样式">2.修改样式</h3><p>修改<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，查找<code>.article-more-link a</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">transition</span>:background .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#3c3c3c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 《展开全文按钮 */</span></span><br><span class="line"> <span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">2px</span>;</span><br><span class="line">    <span class="comment">/* Prevent highlight colour when element is tapped */</span></span><br><span class="line">    <span class="attribute">-webkit-tap-highlight-color</span>: <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">    <span class="comment">/* Smooth fonts */</span></span><br><span class="line">    <span class="attribute">-webkit-font-smoothing</span>: antialiased;</span><br><span class="line">    <span class="attribute">-moz-osx-font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Shutter In Horizontal ,from : http://ianlunn.github.io/Hover/ */</span></span><br><span class="line"> <span class="selector-class">.hvr-shutter-in-horizontal</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(1px) <span class="built_in">translateZ</span>(0);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0);</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line"><span class="comment">/* 在鼠标悬浮时为：蓝色 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2098D1</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-property</span>: color;</span><br><span class="line">    <span class="attribute">transition-property</span>: color;</span><br><span class="line">    <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line"><span class="comment">/* 在默认情况下为：灰褐色 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(1);</span><br><span class="line">    <span class="attribute">-webkit-transform-origin</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-property</span>: transform;</span><br><span class="line">    <span class="attribute">transition-property</span>: transform;</span><br><span class="line">    <span class="attribute">-webkit-transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition-timing-function</span>: ease-out;</span><br><span class="line">    <span class="attribute">transition-timing-function</span>: ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:hover</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:focus</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.hvr-shutter-in-horizontal</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 展开全文按钮》 */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加Live2D看板娘</title>
      <link href="/article/e239dc63.html"/>
      <url>/article/e239dc63.html</url>
      
        <content type="html"><![CDATA[<p>添加live2d看板娘，插件：hexo-helper-live2d，github仓库：<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">https://github.com/EYHN/hexo-helper-live2d</a></p><p>右下角：可爱小黑猫🐱</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481131575.png" alt="file"></p><a id="more"></a><h2 id="安装">安装</h2><h3 id="1-安装插件">1.安装插件</h3><p>运行命令<code>npm install --save hexo-helper-live2d</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-helper-live2d</span><br><span class="line"></span><br><span class="line">&gt; core-js@2.6.10 postinstall H:\Hexo\node_modules\babel-polyfill\node_modules\core-js</span><br><span class="line">&gt; node postinstall || <span class="built_in">echo</span> <span class="string">"ignore"</span></span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using core-js ( https://github.com/zloirock/core-js ) <span class="keyword">for</span> polyfilling JavaScript standard library!</span><br><span class="line"></span><br><span class="line">The project needs your <span class="built_in">help</span>! Please consider supporting of core-js on Open Collective or Patreon:</span><br><span class="line">&gt; https://opencollective.com/core-js</span><br><span class="line">&gt; https://www.patreon.com/zloirock</span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( https://github.com/zloirock ) is looking <span class="keyword">for</span> a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; core-js@2.6.10 postinstall H:\Hexo\node_modules\babel-runtime\node_modules\core-js</span><br><span class="line">&gt; node postinstall || <span class="built_in">echo</span> <span class="string">"ignore"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; live2d-widget@3.1.4 postinstall H:\Hexo\node_modules\live2d-widget</span><br><span class="line">&gt; opencollective-postinstall</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using live2d-widget!</span><br><span class="line">If you rely on this package, please consider supporting our open collective:</span><br><span class="line">&gt; https://opencollective.com/live2d-widgetjs/donate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; hexo-helper-live2d@3.1.1 postinstall H:\Hexo\node_modules\hexo-helper-live2d</span><br><span class="line">&gt; opencollective-postinstall</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using hexo-helper-live2d!</span><br><span class="line">If you rely on this package, please consider supporting our open collective:</span><br><span class="line">&gt; https://opencollective.com/hexo-helper-live2d/donate</span><br><span class="line"></span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ hexo-helper-live2d@3.1.1</span><br><span class="line">added 277 packages from 109 contributors and audited 25235 packages <span class="keyword">in</span> 255.268s</span><br><span class="line">found 20 vulnerabilities (7 low, 6 moderate, 6 high, 1 critical)</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure><h3 id="2-选择模型">2.选择模型</h3><p>可到<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">https://huaji8.top/post/live2d-plugin-2.0/</a>预览效果。</p><p>命令为:<code>npm install live2d-widget-model-模型名</code>，模型为可参考上面的预览内容。</p><p>安装模型:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install live2d-widget-model-hijiki</span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ live2d-widget-model-hijiki@1.0.5</span><br><span class="line">added 1 package <span class="keyword">in</span> 52.155s</span><br></pre></td></tr></table></figure><h3 id="3-配置">3.配置</h3><p>站点的配置文件<code>\_config.yml</code>或者是主题的配置文件中添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  scriptFrom:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">  pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line"><span class="attr">  pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line"><span class="attr">  pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line"><span class="attr">  tagMode:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  debug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  model:</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">live2d-widget-model-hijiki</span> <span class="comment"># 模型：https://huaji8.top/post/live2d-plugin-2.0/</span></span><br><span class="line"><span class="attr">  display:</span></span><br><span class="line"><span class="attr">    position:</span> <span class="string">right</span></span><br><span class="line"><span class="attr">    width:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">    height:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">  mobile:</span></span><br><span class="line"><span class="attr">    show:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>注意这里的<code>use</code>参数是上面安装的那个模型全名。</p><h3 id="4-效果图">4.效果图</h3><p>可爱的小黑猫已上线（见封面）。如果不起效，一般需要重新生成<code>hexo clean &amp; hexo g</code>。</p><h2 id="补充">补充</h2><ul><li>添加动画一般都会比较耗内存，请自行选择是否添加。</li><li>魔改版：<a href="https://zhangshuqiao.org/2018-07/%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%B7%BB%E5%8A%A0Live2D%E7%9C%8B%E6%9D%BF%E5%A8%98/" target="_blank" rel="noopener">在网页中添加Live2D看板娘</a>，基于next主题。github：<a href="https://github.com/stevenjoezhang/live2d-widget" target="_blank" rel="noopener">https://github.com/stevenjoezhang/live2d-widget</a></li><li>魔改2：<a href="https://www.fghrsh.net/post/123.html" target="_blank" rel="noopener">https://www.fghrsh.net/post/123.html</a></li></ul><h2 id="取消看板娘">取消看板娘</h2><h3 id="暂时不用">暂时不用</h3><p>将配置中的<code>enable</code>设置成false即可。</p><h3 id="卸载插件">卸载插件</h3><p>运行命令下载插件，删除配置信息：</p><ol><li>卸载模型：<code>npm install live2d-widget-model-模型名</code></li><li>卸载live2d插件：<code>npm uninstall hexo-helper-live2d</code></li><li>去掉站点<code>_config.yml</code>下的配置信息即可。</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> Live2D </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加背景特效</title>
      <link href="/article/cf9c6a5e.html"/>
      <url>/article/cf9c6a5e.html</url>
      
        <content type="html"><![CDATA[<p>添加多种页面背景特效，参考：<a href="https://blog.csdn.net/qq_36759224/article/details/85420403" target="_blank" rel="noopener">Hexo 博客优化之博客美化系列（持续更新）</a>，需要注意的是：添加背景特效是很消耗浏览器内存的，建议只选择其中的一两个。</p><h2 id="特效目录">特效目录</h2><ul><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E7%88%B1%E5%BF%83%E7%89%B9%E6%95%88">鼠标点击出现爱心特效</a></li><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97--%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5jquery">鼠标点击显示文字–需要引入jQuery</a></li><li><a href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%83%9F%E8%8A%B1%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C">鼠标点击烟花爆炸效果</a></li><li><a href="#%E5%8A%A8%E6%80%81%E7%BA%BF%E6%9D%A1%E8%83%8C%E6%99%AF">动态线条背景</a></li><li><a href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%882%E5%A4%A7%E9%9B%AA%E8%8A%B1%E6%9C%89%E9%BD%BF%E8%BD%AE">雪花特效2.大雪花(有齿轮)</a></li><li><a href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%883%E5%B0%8F%E9%9B%AA%E8%8A%B1%E6%97%A0%E9%BD%BF%E8%BD%AE">雪花特效3.小雪花(无齿轮)</a></li><li><a href="#%E5%BD%A9%E5%B8%A61%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E5%BD%A9%E5%B8%A6">彩带1.鼠标点击自动替换彩带</a></li><li><a href="#%E5%BD%A9%E5%B8%A62%E8%87%AA%E5%8A%A8%E9%A3%98%E5%8A%A8">彩带2.自动飘动</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E9%9B%A8">代码雨</a></li></ul><a id="more"></a><h2 id="套路说明">套路说明</h2><p>为防止后面的代码遗漏了什么东西，在这里统一说明：添加背景动画的套路（适用于各种hexo主题）：</p><ol><li>新建生成动画的JS文件，或者引入现成的JS文件的CDN文件（我这里为了备份，基本是新建文件；比较有名的特效一般都会上传到GitHub，而且有引入CDN的相关介绍）。我的文件放再<code>H:\Hexo\themes\yilia\source\js\</code>目录下。</li><li>因为背景特效属于陪衬类，也就是说不是很重要的，所以一般都是在加载完页面之后再引入的。因此我们在页面的<code>&lt;/body&gt;</code>标签前引入即可。yilia主题是在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>中，其他主题类似。</li><li>在2中引入需要设置成配置时，即当配置文件中开启设置时，才会开启这个特效。因此最后一步是在主题的配置文件中开启配置。yilia主题是在<code>H:\Hexo\themes\yilia\_config.yml</code>中，其他主题类似。</li></ol><h2 id="鼠标点击出现爱心特效">鼠标点击出现爱心特效</h2><p>新建<code>H:\Hexo\themes\yilia\source\js\love.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window, document, undefined</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hearts = [];</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.requestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.mozRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.oRequestAnimationFrame ||</span><br><span class="line">            <span class="built_in">window</span>.msRequestAnimationFrame ||</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">                setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">    init();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        css(</span><br><span class="line">            <span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span></span><br><span class="line">        );</span><br><span class="line">        attachEvent();</span><br><span class="line">        gameloop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">gameloop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hearts.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hearts[i].alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">document</span>.body.removeChild(hearts[i].el);</span><br><span class="line">                hearts.splice(i, <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            hearts[i].y--;</span><br><span class="line">            hearts[i].scale += <span class="number">0.004</span>;</span><br><span class="line">            hearts[i].alpha -= <span class="number">0.013</span>;</span><br><span class="line">            hearts[i].el.style.cssText = <span class="string">"left:"</span> + hearts[i].x + <span class="string">"px;top:"</span> + hearts[i].y + <span class="string">"px;opacity:"</span> + hearts[i]</span><br><span class="line">                .alpha + <span class="string">";transform:scale("</span> + hearts[i].scale + <span class="string">","</span> + hearts[i].scale +</span><br><span class="line">                <span class="string">") rotate(45deg);background:"</span> + hearts[i].color;</span><br><span class="line">        &#125;</span><br><span class="line">        requestAnimationFrame(gameloop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">attachEvent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> old = <span class="keyword">typeof</span> <span class="built_in">window</span>.onclick === <span class="string">"function"</span> &amp;&amp; <span class="built_in">window</span>.onclick;</span><br><span class="line">        <span class="built_in">window</span>.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            old &amp;&amp; old();</span><br><span class="line">            createHeart(event);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createHeart</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> d = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">        d.className = <span class="string">"heart"</span>;</span><br><span class="line">        hearts.push(&#123;</span><br><span class="line">            el: d,</span><br><span class="line">            x: event.clientX - <span class="number">5</span>,</span><br><span class="line">            y: event.clientY - <span class="number">5</span>,</span><br><span class="line">            scale: <span class="number">1</span>,</span><br><span class="line">            alpha: <span class="number">1</span>,</span><br><span class="line">            color: randomColor()</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(d);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">css</span>(<span class="params">css</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">"style"</span>);</span><br><span class="line">        style.type = <span class="string">"text/css"</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">            style.styleSheet.cssText = css;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(style);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="built_in">Math</span>.random() * <span class="number">255</span>)) +</span><br><span class="line">            <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><p>添加到<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;/body&gt;</code>前</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《页面点击小红心 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.love</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/love.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 页面点击小红心》 --&gt;</span></span><br></pre></td></tr></table></figure><p>开启配置<code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 页面点击小红心</span></span><br><span class="line"><span class="attr">love:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465397103.png" alt="file"></p><h2 id="鼠标点击显示文字-需要引入jquery">鼠标点击显示文字–需要引入jQuery</h2><p><code>H:\Hexo\themes\yilia\source\js\click_show_text.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line">jQuery(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"body"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span></span><br><span class="line">        (<span class="string">"富强"</span>, <span class="string">"民主"</span>, <span class="string">"文明"</span>, <span class="string">"和谐"</span>, <span class="string">"自由"</span>, <span class="string">"平等"</span>, <span class="string">"公正"</span>, <span class="string">"法治"</span>, <span class="string">"爱国"</span>, <span class="string">"敬业"</span>, <span class="string">"诚信"</span>, <span class="string">"友善"</span>);</span><br><span class="line">        <span class="keyword">var</span> $i = $(<span class="string">"&lt;span/&gt;"</span>).text(a[a_idx]);</span><br><span class="line">        a_idx = (a_idx + <span class="number">1</span>) % a.length;</span><br><span class="line">        <span class="keyword">var</span> x = e.pageX,</span><br><span class="line">        y = e.pageY;</span><br><span class="line">        $i.css(&#123;</span><br><span class="line">            <span class="string">"z-index"</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">20</span>,</span><br><span class="line">            <span class="string">"left"</span>: x,</span><br><span class="line">            <span class="string">"position"</span>: <span class="string">"absolute"</span>,</span><br><span class="line">            <span class="string">"font-weight"</span>: <span class="string">"bold"</span>,</span><br><span class="line">            <span class="string">"color"</span>: <span class="string">"#FF0000"</span></span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">"body"</span>).append($i);</span><br><span class="line">        $i.animate(&#123;</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">180</span>,</span><br><span class="line">            <span class="string">"opacity"</span>: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="number">3000</span>,</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $i.remove();</span><br><span class="line">&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    setTimeout(<span class="string">'delay()'</span>, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delay</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">".buryit"</span>).removeAttr(<span class="string">"onclick"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--单击显示文字--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.click_show_text</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/click_show_text.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击显示文字</span></span><br><span class="line"><span class="attr">click_show_text:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476469928.png" alt="file"></p><h2 id="鼠标点击烟花爆炸效果">鼠标点击烟花爆炸效果</h2><p><code>H:\Hexo\themes\yilia\source\js\fireworks.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    pointerX = (e.clientX || e.touches[<span class="number">0</span>].clientX) - canvasEl.getBoundingClientRect().left, pointerY = e.clientY || e.touches[</span><br><span class="line">        <span class="number">0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = anime.random(<span class="number">0</span>, <span class="number">360</span>) * <span class="built_in">Math</span>.PI / <span class="number">180</span>,</span><br><span class="line">        a = anime.random(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [<span class="number">-1</span>, <span class="number">1</span>][anime.random(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: e.x + n * <span class="built_in">Math</span>.cos(t),</span><br><span class="line">        y: e.y + n * <span class="built_in">Math</span>.sin(t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = colors[anime.random(<span class="number">0</span>, colors.length - <span class="number">1</span>)], a.radius = anime.random(<span class="number">16</span>, <span class="number">32</span>), a.endPos =</span><br><span class="line">        setParticuleDirection(a), a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.fillStyle = a.color, ctx.fill()</span><br><span class="line">        &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = <span class="string">"#F00"</span>, a.radius = <span class="number">0.1</span>, a.alpha = <span class="number">0.5</span>, a.lineWidth = <span class="number">6</span>, a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.globalAlpha = a.alpha, ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.lineWidth =</span><br><span class="line">            a.lineWidth, ctx.strokeStyle = a.color, ctx.stroke(), ctx.globalAlpha = <span class="number">1</span></span><br><span class="line">    &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class="line">        e.animatables[t].target.draw()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = createCircle(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class="line">        n.push(createParticule(e, t))</span><br><span class="line">    &#125;</span><br><span class="line">    anime.timeline().add(&#123;</span><br><span class="line">        targets: n,</span><br><span class="line">        x: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.x</span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.y</span><br><span class="line">        &#125;,</span><br><span class="line">        radius: <span class="number">0.1</span>,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule</span><br><span class="line">    &#125;).add(&#123;</span><br><span class="line">        targets: a,</span><br><span class="line">        radius: anime.random(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        lineWidth: <span class="number">0</span>,</span><br><span class="line">        alpha: &#123;</span><br><span class="line">            value: <span class="number">0</span>,</span><br><span class="line">            easing: <span class="string">"linear"</span>,</span><br><span class="line">            duration: anime.random(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule,</span><br><span class="line">        offset: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="keyword">this</span>,</span><br><span class="line">            i = <span class="built_in">arguments</span>;</span><br><span class="line">        clearTimeout(a), a = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            e.apply(n, i)</span><br><span class="line">        &#125;, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.getContext(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            canvasEl.width = <span class="number">2</span> * <span class="built_in">window</span>.innerWidth, canvasEl.height = <span class="number">2</span> * <span class="built_in">window</span>.innerHeight, canvasEl.style.width =</span><br><span class="line">                <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>, canvasEl.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>, canvasEl.getContext(</span><br><span class="line">                    <span class="string">"2d"</span>).scale(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>),</span><br><span class="line">        render = anime(&#123;</span><br><span class="line">            duration: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvasEl.width, canvasEl.height)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(tap, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"A"</span> !== e.target.nodeName &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class="line">    &#125;, !<span class="number">1</span>), setCanvasSize(), <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    pointerX = (e.clientX || e.touches[<span class="number">0</span>].clientX) - canvasEl.getBoundingClientRect().left, pointerY = e.clientY || e.touches[</span><br><span class="line">        <span class="number">0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t = anime.random(<span class="number">0</span>, <span class="number">360</span>) * <span class="built_in">Math</span>.PI / <span class="number">180</span>,</span><br><span class="line">        a = anime.random(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [<span class="number">-1</span>, <span class="number">1</span>][anime.random(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        x: e.x + n * <span class="built_in">Math</span>.cos(t),</span><br><span class="line">        y: e.y + n * <span class="built_in">Math</span>.sin(t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = colors[anime.random(<span class="number">0</span>, colors.length - <span class="number">1</span>)], a.radius = anime.random(<span class="number">16</span>, <span class="number">32</span>), a.endPos =</span><br><span class="line">        setParticuleDirection(a), a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.fillStyle = a.color, ctx.fill()</span><br><span class="line">        &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> a.x = e, a.y = t, a.color = <span class="string">"#F00"</span>, a.radius = <span class="number">0.1</span>, a.alpha = <span class="number">0.5</span>, a.lineWidth = <span class="number">6</span>, a.draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.globalAlpha = a.alpha, ctx.beginPath(), ctx.arc(a.x, a.y, a.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI, !<span class="number">0</span>), ctx.lineWidth =</span><br><span class="line">            a.lineWidth, ctx.strokeStyle = a.color, ctx.stroke(), ctx.globalAlpha = <span class="number">1</span></span><br><span class="line">    &#125;, a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class="line">        e.animatables[t].target.draw()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = createCircle(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class="line">        n.push(createParticule(e, t))</span><br><span class="line">    &#125;</span><br><span class="line">    anime.timeline().add(&#123;</span><br><span class="line">        targets: n,</span><br><span class="line">        x: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.x</span><br><span class="line">        &#125;,</span><br><span class="line">        y: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> e.endPos.y</span><br><span class="line">        &#125;,</span><br><span class="line">        radius: <span class="number">0.1</span>,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule</span><br><span class="line">    &#125;).add(&#123;</span><br><span class="line">        targets: a,</span><br><span class="line">        radius: anime.random(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        lineWidth: <span class="number">0</span>,</span><br><span class="line">        alpha: &#123;</span><br><span class="line">            value: <span class="number">0</span>,</span><br><span class="line">            easing: <span class="string">"linear"</span>,</span><br><span class="line">            duration: anime.random(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        duration: anime.random(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        easing: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        update: renderParticule,</span><br><span class="line">        offset: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="keyword">this</span>,</span><br><span class="line">            i = <span class="built_in">arguments</span>;</span><br><span class="line">        clearTimeout(a), a = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            e.apply(n, i)</span><br><span class="line">        &#125;, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="built_in">document</span>.querySelector(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) &#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.getContext(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            canvasEl.width = <span class="number">2</span> * <span class="built_in">window</span>.innerWidth, canvasEl.height = <span class="number">2</span> * <span class="built_in">window</span>.innerHeight, canvasEl.style.width =</span><br><span class="line">                <span class="built_in">window</span>.innerWidth + <span class="string">"px"</span>, canvasEl.style.height = <span class="built_in">window</span>.innerHeight + <span class="string">"px"</span>, canvasEl.getContext(</span><br><span class="line">                    <span class="string">"2d"</span>).scale(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>),</span><br><span class="line">        render = anime(&#123;</span><br><span class="line">            duration: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvasEl.width, canvasEl.height)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(tap, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class="string">"A"</span> !== e.target.nodeName &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class="line">    &#125;, !<span class="number">1</span>), setCanvasSize(), <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--鼠标点击烟花爆炸效果，需要引入jQuery--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.fireworks</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/fireworks.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击烟花爆炸效果</span></span><br><span class="line"><span class="attr">fireworks:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465524759.png" alt="file"></p><h2 id="动态线条背景">动态线条背景</h2><p><a href="https://github.com/hustcc/canvas-nest.js" target="_blank" rel="noopener">https://github.com/hustcc/canvas-nest.js</a></p><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><p>直接方法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span></span></span><br><span class="line"><span class="tag"><span class="attr">color</span>=<span class="string">"220,220,220"</span> <span class="attr">opacity</span>=<span class="string">'0.7'</span> <span class="attr">zIndex</span>=<span class="string">"-2"</span> <span class="attr">count</span>=<span class="string">"200"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.canvas_nest.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">color</span>=<span class="string">"&lt;%=theme.canvas_nest.color %&gt;"</span> <span class="attr">opacity</span>=<span class="string">"&lt;%=theme.canvas_nest.opacity %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">zIndex</span>=<span class="string">"&lt;%=theme.canvas_nest.zIndex %&gt;"</span> <span class="attr">count</span>=<span class="string">"&lt;%=theme.canvas_nest.count %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="comment"># 配置详见： https://github.com/hustcc/canvas-nest.js#configuration</span></span><br><span class="line"><span class="comment"># 动态线条效果，会向鼠标集中</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">'255, 235, 59'</span>        <span class="comment"># color of lines, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line"><span class="attr">  pointColor:</span> <span class="string">'156,39,176'</span>     <span class="comment"># color of points, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="string">'0.8'</span>               <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line"><span class="attr">  count:</span> <span class="string">'99'</span>                  <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="string">'-1'</span>                 <span class="comment"># z-index property of the background, default: -1.</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465565165.png" alt="file"></p><h2 id="雪花特效2-大雪花-有齿轮">雪花特效2.大雪花(有齿轮)</h2><p><code>H:\Hexo\themes\yilia\source\js\snow2.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式一*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $.fn.snow = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $flake = $(<span class="string">'&lt;div id="snowbox" /&gt;'</span>).css(&#123;</span><br><span class="line">                <span class="string">'position'</span>: <span class="string">'absolute'</span>,</span><br><span class="line">                <span class="string">'z-index'</span>: <span class="string">'9999'</span>,</span><br><span class="line">                <span class="string">'top'</span>: <span class="string">'-50px'</span></span><br><span class="line">            &#125;).html(<span class="string">'❄'</span>),</span><br><span class="line">            documentHeight = $(<span class="built_in">document</span>).height(),</span><br><span class="line">            documentWidth = $(<span class="built_in">document</span>).width(),</span><br><span class="line">            defaults = &#123;</span><br><span class="line">                minSize: <span class="number">10</span>,</span><br><span class="line">                maxSize: <span class="number">20</span>,</span><br><span class="line">                newOn: <span class="number">1000</span>,</span><br><span class="line">                flakeColor: <span class="string">"#AFDAEF"</span> <span class="comment">/* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF */</span></span><br><span class="line">            &#125;,</span><br><span class="line">            options = $.extend(&#123;&#125;, defaults, options);</span><br><span class="line">        <span class="keyword">var</span> interval = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> startPositionLeft = <span class="built_in">Math</span>.random() * documentWidth - <span class="number">100</span>,</span><br><span class="line">                startOpacity = <span class="number">0.5</span> + <span class="built_in">Math</span>.random(),</span><br><span class="line">                sizeFlake = options.minSize + <span class="built_in">Math</span>.random() * options.maxSize,</span><br><span class="line">                endPositionTop = documentHeight - <span class="number">200</span>,</span><br><span class="line">                endPositionLeft = startPositionLeft - <span class="number">500</span> + <span class="built_in">Math</span>.random() * <span class="number">500</span>,</span><br><span class="line">                durationFall = documentHeight * <span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">5000</span>;</span><br><span class="line">            $flake.clone().appendTo(<span class="string">'body'</span>).css(&#123;</span><br><span class="line">                left: startPositionLeft,</span><br><span class="line">                opacity: startOpacity,</span><br><span class="line">                <span class="string">'font-size'</span>: sizeFlake,</span><br><span class="line">                color: options.flakeColor</span><br><span class="line">            &#125;).animate(&#123;</span><br><span class="line">                top: endPositionTop,</span><br><span class="line">                left: endPositionLeft,</span><br><span class="line">                opacity: <span class="number">0.2</span></span><br><span class="line">            &#125;, durationFall, <span class="string">'linear'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                $(<span class="keyword">this</span>).remove()</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;, options.newOn);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.fn.snow(&#123;</span><br><span class="line">        minSize: <span class="number">5</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最小尺寸 */</span></span><br><span class="line">        maxSize: <span class="number">50</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最大尺寸 */</span></span><br><span class="line">        newOn: <span class="number">300</span> <span class="comment">/* 定义密集程度，数字越小越密集 */</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.snow2</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow2.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 雪花特效2</span></span><br><span class="line"><span class="attr">snow2:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476600371.png" alt="file"></p><h2 id="雪花特效3-小雪花-无齿轮">雪花特效3.小雪花(无齿轮)</h2><p><code>H:\Hexo\themes\yilia\source\js\snow3.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式二*/</span></span><br><span class="line"><span class="comment">/* 控制下雪 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">snowFall</span>(<span class="params">snow</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 可配置属性 */</span></span><br><span class="line">    snow = snow || &#123;&#125;;</span><br><span class="line">    <span class="keyword">this</span>.maxFlake = snow.maxFlake || <span class="number">200</span>; <span class="comment">/* 最多片数 */</span></span><br><span class="line">    <span class="keyword">this</span>.flakeSize = snow.flakeSize || <span class="number">10</span>; <span class="comment">/* 雪花形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.fallSpeed = snow.fallSpeed || <span class="number">1</span>; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 兼容写法 */</span></span><br><span class="line">requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.mozRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.msRequestAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.oRequestAnimationFrame ||</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        setTimeout(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">cancelAnimationFrame = <span class="built_in">window</span>.cancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.mozCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.webkitCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.msCancelAnimationFrame ||</span><br><span class="line">    <span class="built_in">window</span>.oCancelAnimationFrame;</span><br><span class="line"><span class="comment">/* 开始下雪 */</span></span><br><span class="line">snowFall.prototype.start = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 创建画布 */</span></span><br><span class="line">    snowCanvas.apply(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">/* 创建雪花形状 */</span></span><br><span class="line">    createFlakes.apply(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">/* 画雪 */</span></span><br><span class="line">    drawSnow.apply(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 创建画布 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">snowCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* 添加Dom结点 */</span></span><br><span class="line">    <span class="keyword">var</span> snowcanvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">    snowcanvas.id = <span class="string">"snowfall"</span>;</span><br><span class="line">    snowcanvas.width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">    snowcanvas.height = <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line">    snowcanvas.setAttribute(<span class="string">"style"</span>, <span class="string">"position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>].appendChild(snowcanvas);</span><br><span class="line">    <span class="keyword">this</span>.canvas = snowcanvas;</span><br><span class="line">    <span class="keyword">this</span>.ctx = snowcanvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="comment">/* 窗口大小改变的处理 */</span></span><br><span class="line">    <span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        snowcanvas.width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">        <span class="comment">/* snowcanvas.height = window.innerHeight */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 雪运动对象 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flakeMove</span>(<span class="params">canvasWidth, canvasHeight, flakeSize, fallSpeed</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * canvasWidth); <span class="comment">/* x坐标 */</span></span><br><span class="line">    <span class="keyword">this</span>.y = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * canvasHeight); <span class="comment">/* y坐标 */</span></span><br><span class="line">    <span class="keyword">this</span>.size = <span class="built_in">Math</span>.random() * flakeSize + <span class="number">2</span>; <span class="comment">/* 形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.maxSize = flakeSize; <span class="comment">/* 最大形状 */</span></span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="built_in">Math</span>.random() * <span class="number">1</span> + fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.fallSpeed = fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed; <span class="comment">/* Y方向速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.velX = <span class="number">0</span>; <span class="comment">/* X方向速度 */</span></span><br><span class="line">    <span class="keyword">this</span>.stepSize = <span class="built_in">Math</span>.random() / <span class="number">30</span>; <span class="comment">/* 步长 */</span></span><br><span class="line">    <span class="keyword">this</span>.step = <span class="number">0</span> <span class="comment">/* 步数 */</span></span><br><span class="line">&#125;</span><br><span class="line">flakeMove.prototype.update = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="keyword">this</span>.x,</span><br><span class="line">        y = <span class="keyword">this</span>.y;</span><br><span class="line">    <span class="comment">/* 左右摆动(余弦) */</span></span><br><span class="line">    <span class="keyword">this</span>.velX *= <span class="number">0.98</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.velY &lt;= <span class="keyword">this</span>.speed) &#123;</span><br><span class="line">        <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.velX += <span class="built_in">Math</span>.cos(<span class="keyword">this</span>.step += <span class="number">.05</span>) * <span class="keyword">this</span>.stepSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.y += <span class="keyword">this</span>.velY;</span><br><span class="line">    <span class="keyword">this</span>.x += <span class="keyword">this</span>.velX;</span><br><span class="line">    <span class="comment">/* 飞出边界的处理 */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.x &gt;= canvas.width || <span class="keyword">this</span>.x &lt;= <span class="number">0</span> || <span class="keyword">this</span>.y &gt;= canvas.height || <span class="keyword">this</span>.y &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.reset(canvas.width, canvas.height)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 飞出边界-放置最顶端继续坠落 */</span></span><br><span class="line">flakeMove.prototype.reset = <span class="function"><span class="keyword">function</span> (<span class="params">width, height</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * width);</span><br><span class="line">    <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.size = <span class="built_in">Math</span>.random() * <span class="keyword">this</span>.maxSize + <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="built_in">Math</span>.random() * <span class="number">1</span> + <span class="keyword">this</span>.fallSpeed;</span><br><span class="line">    <span class="keyword">this</span>.velY = <span class="keyword">this</span>.speed;</span><br><span class="line">    <span class="keyword">this</span>.velX = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 渲染雪花-随机形状（此处可修改雪花颜色！！！）</span></span><br><span class="line">flakeMove.prototype.render = <span class="function"><span class="keyword">function</span> (<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> snowFlake = ctx.createRadialGradient(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="number">0</span>, <span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size);</span><br><span class="line">    snowFlake.addColorStop(<span class="number">0</span>, <span class="string">"rgba(255, 255, 255, 0.9)"</span>); <span class="comment">/* 此处是雪花颜色，默认是白色 */</span></span><br><span class="line">    snowFlake.addColorStop(<span class="number">.5</span>, <span class="string">"rgba(255, 255, 255, 0.5)"</span>); <span class="comment">/* 若要改为其他颜色，请自行查 */</span></span><br><span class="line">    snowFlake.addColorStop(<span class="number">1</span>, <span class="string">"rgba(255, 255, 255, 0)"</span>); <span class="comment">/* 找16进制的RGB 颜色代码。 */</span></span><br><span class="line">    ctx.save();</span><br><span class="line">    ctx.fillStyle = snowFlake;</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">    ctx.fill();</span><br><span class="line">    ctx.restore();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 创建雪花-定义形状 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFlakes</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="keyword">this</span>.maxFlake,</span><br><span class="line">        flakes = <span class="keyword">this</span>.flakes = [],</span><br><span class="line">        canvas = <span class="keyword">this</span>.canvas;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxFlake; i++) &#123;</span><br><span class="line">        flakes.push(<span class="keyword">new</span> flakeMove(canvas.width, canvas.height, <span class="keyword">this</span>.flakeSize, <span class="keyword">this</span>.fallSpeed))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 画雪 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawSnow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="keyword">this</span>.maxFlake,</span><br><span class="line">        flakes = <span class="keyword">this</span>.flakes;</span><br><span class="line">    ctx = <span class="keyword">this</span>.ctx, canvas = <span class="keyword">this</span>.canvas, that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">/* 清空雪花 */</span></span><br><span class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = <span class="number">0</span>; e &lt; maxFlake; e++) &#123;</span><br><span class="line">        flakes[e].update();</span><br><span class="line">        flakes[e].render(ctx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*  一帧一帧的画 */</span></span><br><span class="line">    <span class="keyword">this</span>.loop = requestAnimationFrame(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        drawSnow.apply(that);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 调用及控制方法 */</span></span><br><span class="line"><span class="keyword">var</span> snow = <span class="keyword">new</span> snowFall(&#123;</span><br><span class="line">    maxFlake: <span class="number">60</span></span><br><span class="line">&#125;);</span><br><span class="line">snow.start();</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效3 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.snow3</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow3.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 雪花特效3</span></span><br><span class="line"><span class="attr">snow3:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476685309.png" alt="file"></p><h2 id="彩带1-鼠标点击自动替换彩带">彩带1.鼠标点击自动替换彩带</h2><p><code>H:\Hexo\themes\yilia\source\js\ribbon.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016 hustcc</span></span><br><span class="line"><span class="comment"> * License: MIT</span></span><br><span class="line"><span class="comment"> * Version: v1.0.1</span></span><br><span class="line"><span class="comment"> * GitHub: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="comment">/*jshint -W030 */</span></span><br><span class="line">! <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">attr</span>(<span class="params">node, attr, default_value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Number</span>(node.getAttribute(attr)) || default_value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get user config</span></span><br><span class="line">  <span class="keyword">var</span> scripts = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>),</span><br><span class="line">    script = scripts[scripts.length - <span class="number">1</span>]; <span class="comment">// 当前加载的script</span></span><br><span class="line">  config = &#123;</span><br><span class="line">    z: attr(script, <span class="string">"zIndex"</span>, <span class="number">-1</span>), <span class="comment">// z-index</span></span><br><span class="line">    a: attr(script, <span class="string">"alpha"</span>, <span class="number">0.6</span>), <span class="comment">// alpha</span></span><br><span class="line">    s: attr(script, <span class="string">"size"</span>, <span class="number">90</span>), <span class="comment">// size</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</span><br><span class="line">    g2d = canvas.getContext(<span class="string">'2d'</span>),</span><br><span class="line">    pr = <span class="built_in">window</span>.devicePixelRatio || <span class="number">1</span>,</span><br><span class="line">    width = <span class="built_in">window</span>.innerWidth,</span><br><span class="line">    height = <span class="built_in">window</span>.innerHeight,</span><br><span class="line">    f = config.s,</span><br><span class="line">    q, t,</span><br><span class="line">    m = <span class="built_in">Math</span>,</span><br><span class="line">    r = <span class="number">0</span>,</span><br><span class="line">    pi = m.PI*<span class="number">2</span>,</span><br><span class="line">    cos = m.cos,</span><br><span class="line">    random = m.random;</span><br><span class="line">  canvas.width = width * pr;</span><br><span class="line">  canvas.height = height * pr;</span><br><span class="line">  g2d.scale(pr, pr);</span><br><span class="line">  g2d.globalAlpha = config.a;</span><br><span class="line">  canvas.style.cssText = <span class="string">'opacity: '</span> + config.a + <span class="string">';position:fixed;top:0;left:0;z-index: '</span> + config.z + <span class="string">';width:100%;height:100%;pointer-events:none;'</span>;</span><br><span class="line">  <span class="comment">// create canvas</span></span><br><span class="line">  <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>].appendChild(canvas);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">redraw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    g2d.clearRect(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    q = [&#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> + f&#125;, &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> - f&#125;];</span><br><span class="line">    <span class="keyword">while</span>(q[<span class="number">1</span>].x &lt; width + f) draw(q[<span class="number">0</span>], q[<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">i, j</span>) </span>&#123;</span><br><span class="line">    g2d.beginPath();</span><br><span class="line">    g2d.moveTo(i.x, i.y);</span><br><span class="line">    g2d.lineTo(j.x, j.y);</span><br><span class="line">    <span class="keyword">var</span> k = j.x + (random()*<span class="number">2</span><span class="number">-0.25</span>)*f, n = line(j.y);</span><br><span class="line">    g2d.lineTo(k, n);</span><br><span class="line">    g2d.closePath();</span><br><span class="line">    r -= pi / <span class="number">-50</span>;</span><br><span class="line">    g2d.fillStyle = <span class="string">'#'</span>+(cos(r)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">16</span> | cos(r+pi/<span class="number">3</span>)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">8</span> | cos(r+pi/<span class="number">3</span>*<span class="number">2</span>)*<span class="number">127</span>+<span class="number">128</span>).toString(<span class="number">16</span>);</span><br><span class="line">    g2d.fill();</span><br><span class="line">    q[<span class="number">0</span>] = q[<span class="number">1</span>];</span><br><span class="line">    q[<span class="number">1</span>] = &#123;<span class="attr">x</span>: k, <span class="attr">y</span>: n&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">line</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    t = p + (random() * <span class="number">2</span> - <span class="number">1.1</span>) * f;</span><br><span class="line">    <span class="keyword">return</span> (t &gt; height || t &lt; <span class="number">0</span>) ? line(p) : t;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.onclick = redraw;</span><br><span class="line">  <span class="built_in">document</span>.ontouchstart = redraw;</span><br><span class="line">  redraw();</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带1.点击自动替换彩带--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.ribbon</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment"># 彩带1.点击自动替换彩带</span></span><br><span class="line"><span class="attr">ribbon:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478268322.png" alt="file"></p><h2 id="彩带2-自动飘动">彩带2.自动飘动</h2><p><code>H:\Hexo\themes\yilia\source\js\ribbon_flow.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">name, factory</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">"object"</span>) &#123;</span><br><span class="line">        <span class="built_in">window</span>[name] = factory()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="string">"Ribbons"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _w = <span class="built_in">window</span>,</span><br><span class="line">        _b = <span class="built_in">document</span>.body,</span><br><span class="line">        _d = <span class="built_in">document</span>.documentElement;</span><br><span class="line">    <span class="keyword">var</span> random = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(<span class="built_in">arguments</span>[<span class="number">0</span>])) &#123;</span><br><span class="line">                <span class="keyword">var</span> index = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="built_in">arguments</span>[<span class="number">0</span>].length - <span class="number">1</span>));</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">arguments</span>[<span class="number">0</span>][index]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> random(<span class="number">0</span>, <span class="built_in">arguments</span>[<span class="number">0</span>])</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Math</span>.random() * (<span class="built_in">arguments</span>[<span class="number">1</span>] - <span class="built_in">arguments</span>[<span class="number">0</span>]) + <span class="built_in">arguments</span>[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> screenInfo = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> width = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.innerWidth || _d.clientWidth || _b.clientWidth || <span class="number">0</span>),</span><br><span class="line">            height = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.innerHeight || _d.clientHeight || _b.clientHeight || <span class="number">0</span>),</span><br><span class="line">            scrollx = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.pageXOffset || _d.scrollLeft || _b.scrollLeft || <span class="number">0</span>) - (_d.clientLeft || <span class="number">0</span>),</span><br><span class="line">            scrolly = <span class="built_in">Math</span>.max(<span class="number">0</span>, _w.pageYOffset || _d.scrollTop || _b.scrollTop || <span class="number">0</span>) - (_d.clientTop || <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            width: width,</span><br><span class="line">            height: height,</span><br><span class="line">            ratio: width / height,</span><br><span class="line">            centerx: width / <span class="number">2</span>,</span><br><span class="line">            centery: height / <span class="number">2</span>,</span><br><span class="line">            scrollx: scrollx,</span><br><span class="line">            scrolly: scrolly</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> mouseInfo = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> screen = screenInfo(e),</span><br><span class="line">            mousex = e ? <span class="built_in">Math</span>.max(<span class="number">0</span>, e.pageX || e.clientX || <span class="number">0</span>) : <span class="number">0</span>,</span><br><span class="line">            mousey = e ? <span class="built_in">Math</span>.max(<span class="number">0</span>, e.pageY || e.clientY || <span class="number">0</span>) : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            mousex: mousex,</span><br><span class="line">            mousey: mousey,</span><br><span class="line">            centerx: mousex - screen.width / <span class="number">2</span>,</span><br><span class="line">            centery: mousey - screen.height / <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> Point = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.set(x, y)</span><br><span class="line">    &#125;;</span><br><span class="line">    Point.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Point,</span><br><span class="line">        <span class="keyword">set</span>: function (x, y) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y = y || <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        copy: <span class="function"><span class="keyword">function</span> (<span class="params">point</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = point.x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y = point.y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        multiply: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x *= x || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.y *= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        divide: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x /= x || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">this</span>.y /= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        add: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x += x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y += y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        subtract: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x -= x || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.y -= y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        clampX: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = <span class="built_in">Math</span>.max(min, <span class="built_in">Math</span>.min(<span class="keyword">this</span>.x, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        clampY: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.y = <span class="built_in">Math</span>.max(min, <span class="built_in">Math</span>.min(<span class="keyword">this</span>.y, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        flipX: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x *= <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;,</span><br><span class="line">        flipY: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.y *= <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> Factory = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._canvas = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._context = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._sto = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>._width = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._height = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._scroll = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>._ribbons = [];</span><br><span class="line">        <span class="keyword">this</span>._options = &#123;</span><br><span class="line">            colorSaturation: <span class="string">"80%"</span>,</span><br><span class="line">            colorBrightness: <span class="string">"60%"</span>,</span><br><span class="line">            colorAlpha: <span class="number">0.65</span>,</span><br><span class="line">            colorCycleSpeed: <span class="number">6</span>,</span><br><span class="line">            verticalPosition: <span class="string">"center"</span>,</span><br><span class="line">            horizontalSpeed: <span class="number">150</span>,</span><br><span class="line">            ribbonCount: <span class="number">5</span>,</span><br><span class="line">            strokeSize: <span class="number">5</span>,</span><br><span class="line">            parallaxAmount: <span class="number">-0.5</span>,</span><br><span class="line">            animateSections: <span class="literal">true</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">this</span>._onDraw = <span class="keyword">this</span>._onDraw.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>._onResize = <span class="keyword">this</span>._onResize.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>._onScroll = <span class="keyword">this</span>._onScroll.bind(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>.setOptions(options);</span><br><span class="line">        <span class="keyword">this</span>.init()</span><br><span class="line">    &#125;;</span><br><span class="line">    Factory.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Factory,</span><br><span class="line">        setOptions: function (options) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> options === <span class="string">"object"</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> options) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (options.hasOwnProperty(key)) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._options[key] = options[key]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>._canvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"display"</span>] = <span class="string">"block"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"position"</span>] = <span class="string">"fixed"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"margin"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"padding"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"border"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"outline"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"left"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"top"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"width"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"height"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="keyword">this</span>._canvas.style[<span class="string">"z-index"</span>] = <span class="string">"-1"</span>;</span><br><span class="line">                <span class="keyword">this</span>._onResize();</span><br><span class="line">                <span class="keyword">this</span>._context = <span class="keyword">this</span>._canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">                <span class="keyword">this</span>._context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>._width, <span class="keyword">this</span>._height);</span><br><span class="line">                <span class="keyword">this</span>._context.globalAlpha = <span class="keyword">this</span>._options.colorAlpha;</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, <span class="keyword">this</span>._onResize);</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, <span class="keyword">this</span>._onScroll);</span><br><span class="line">                <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>._canvas)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                <span class="built_in">console</span>.warn(<span class="string">"Canvas Context Error: "</span> + e.toString());</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._onDraw()</span><br><span class="line">        &#125;,</span><br><span class="line">        addRibbon: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> dir = <span class="built_in">Math</span>.round(random(<span class="number">1</span>, <span class="number">9</span>)) &gt; <span class="number">5</span> ? <span class="string">"right"</span> : <span class="string">"left"</span>,</span><br><span class="line">                stop = <span class="number">1000</span>,</span><br><span class="line">                hide = <span class="number">200</span>,</span><br><span class="line">                min = <span class="number">0</span> - hide,</span><br><span class="line">                max = <span class="keyword">this</span>._width + hide,</span><br><span class="line">                movex = <span class="number">0</span>,</span><br><span class="line">                movey = <span class="number">0</span>,</span><br><span class="line">                startx = dir === <span class="string">"right"</span> ? min : max,</span><br><span class="line">                starty = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="keyword">this</span>._height));</span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/^(top|min)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="number">0</span> + hide</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(middle|center)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="keyword">this</span>._height / <span class="number">2</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(bottom|max)$/i</span>.test(<span class="keyword">this</span>._options.verticalPosition)) &#123;</span><br><span class="line">                starty = <span class="keyword">this</span>._height - hide</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> ribbon = [],</span><br><span class="line">                point1 = <span class="keyword">new</span> Point(startx, starty),</span><br><span class="line">                point2 = <span class="keyword">new</span> Point(startx, starty),</span><br><span class="line">                point3 = <span class="literal">null</span>,</span><br><span class="line">                color = <span class="built_in">Math</span>.round(random(<span class="number">0</span>, <span class="number">360</span>)),</span><br><span class="line">                delay = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (stop &lt;= <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                stop--;</span><br><span class="line">                movex = <span class="built_in">Math</span>.round((<span class="built_in">Math</span>.random() * <span class="number">1</span> - <span class="number">0.2</span>) * <span class="keyword">this</span>._options.horizontalSpeed);</span><br><span class="line">                movey = <span class="built_in">Math</span>.round((<span class="built_in">Math</span>.random() * <span class="number">1</span> - <span class="number">0.5</span>) * (<span class="keyword">this</span>._height * <span class="number">0.25</span>));</span><br><span class="line">                point3 = <span class="keyword">new</span> Point();</span><br><span class="line">                point3.copy(point2);</span><br><span class="line">                <span class="keyword">if</span> (dir === <span class="string">"right"</span>) &#123;</span><br><span class="line">                    point3.add(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.x &gt;= max) <span class="keyword">break</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dir === <span class="string">"left"</span>) &#123;</span><br><span class="line">                    point3.subtract(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.x &lt;= min) <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">                ribbon.push(&#123;</span><br><span class="line">                    point1: <span class="keyword">new</span> Point(point1.x, point1.y),</span><br><span class="line">                    point2: <span class="keyword">new</span> Point(point2.x, point2.y),</span><br><span class="line">                    point3: point3,</span><br><span class="line">                    color: color,</span><br><span class="line">                    delay: delay,</span><br><span class="line">                    dir: dir,</span><br><span class="line">                    alpha: <span class="number">0</span>,</span><br><span class="line">                    phase: <span class="number">0</span></span><br><span class="line">                &#125;);</span><br><span class="line">                point1.copy(point2);</span><br><span class="line">                point2.copy(point3);</span><br><span class="line">                delay += <span class="number">4</span>;</span><br><span class="line">                color += <span class="keyword">this</span>._options.colorCycleSpeed</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._ribbons.push(ribbon)</span><br><span class="line">        &#125;,</span><br><span class="line">        _drawRibbonSection: <span class="function"><span class="keyword">function</span> (<span class="params">section</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (section) &#123;</span><br><span class="line">                <span class="keyword">if</span> (section.phase &gt;= <span class="number">1</span> &amp;&amp; section.alpha &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (section.delay &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    section.phase += <span class="number">0.02</span>;</span><br><span class="line">                    section.alpha = <span class="built_in">Math</span>.sin(section.phase) * <span class="number">1</span>;</span><br><span class="line">                    section.alpha = section.alpha &lt;= <span class="number">0</span> ? <span class="number">0</span> : section.alpha;</span><br><span class="line">                    section.alpha = section.alpha &gt;= <span class="number">1</span> ? <span class="number">1</span> : section.alpha;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._options.animateSections) &#123;</span><br><span class="line">                        <span class="keyword">var</span> mod = <span class="built_in">Math</span>.sin(<span class="number">1</span> + section.phase * <span class="built_in">Math</span>.PI / <span class="number">2</span>) * <span class="number">0.1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (section.dir === <span class="string">"right"</span>) &#123;</span><br><span class="line">                            section.point1.add(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point2.add(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point3.add(mod, <span class="number">0</span>)</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            section.point1.subtract(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point2.subtract(mod, <span class="number">0</span>);</span><br><span class="line">                            section.point3.subtract(mod, <span class="number">0</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                        section.point1.add(<span class="number">0</span>, mod);</span><br><span class="line">                        section.point2.add(<span class="number">0</span>, mod);</span><br><span class="line">                        section.point3.add(<span class="number">0</span>, mod)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    section.delay -= <span class="number">0.5</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">var</span> s = <span class="keyword">this</span>._options.colorSaturation,</span><br><span class="line">                    l = <span class="keyword">this</span>._options.colorBrightness,</span><br><span class="line">                    c = <span class="string">"hsla("</span> + section.color + <span class="string">", "</span> + s + <span class="string">", "</span> + l + <span class="string">", "</span> + section.alpha + <span class="string">" )"</span>;</span><br><span class="line">                <span class="keyword">this</span>._context.save();</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._options.parallaxAmount !== <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.translate(<span class="number">0</span>, <span class="keyword">this</span>._scroll * <span class="keyword">this</span>._options.parallaxAmount)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>._context.beginPath();</span><br><span class="line">                <span class="keyword">this</span>._context.moveTo(section.point1.x, section.point1.y);</span><br><span class="line">                <span class="keyword">this</span>._context.lineTo(section.point2.x, section.point2.y);</span><br><span class="line">                <span class="keyword">this</span>._context.lineTo(section.point3.x, section.point3.y);</span><br><span class="line">                <span class="keyword">this</span>._context.fillStyle = c;</span><br><span class="line">                <span class="keyword">this</span>._context.fill();</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._options.strokeSize &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.lineWidth = <span class="keyword">this</span>._options.strokeSize;</span><br><span class="line">                    <span class="keyword">this</span>._context.strokeStyle = c;</span><br><span class="line">                    <span class="keyword">this</span>._context.lineCap = <span class="string">"round"</span>;</span><br><span class="line">                    <span class="keyword">this</span>._context.stroke()</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>._context.restore()</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        _onDraw: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, t = <span class="keyword">this</span>._ribbons.length; i &lt; t; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!<span class="keyword">this</span>._ribbons[i]) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._ribbons.splice(i, <span class="number">1</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>._context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>._width, <span class="keyword">this</span>._height);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; <span class="keyword">this</span>._ribbons.length; ++a) &#123;</span><br><span class="line">                <span class="keyword">var</span> ribbon = <span class="keyword">this</span>._ribbons[a],</span><br><span class="line">                    numSections = ribbon.length,</span><br><span class="line">                    numDone = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> b = <span class="number">0</span>; b &lt; numSections; ++b) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._drawRibbonSection(ribbon[b])) &#123;</span><br><span class="line">                        numDone++</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (numDone &gt;= numSections) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._ribbons[a] = <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>._ribbons.length &lt; <span class="keyword">this</span>._options.ribbonCount) &#123;</span><br><span class="line">                <span class="keyword">this</span>.addRibbon()</span><br><span class="line">            &#125;</span><br><span class="line">            requestAnimationFrame(<span class="keyword">this</span>._onDraw)</span><br><span class="line">        &#125;,</span><br><span class="line">        _onResize: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> screen = screenInfo(e);</span><br><span class="line">            <span class="keyword">this</span>._width = screen.width;</span><br><span class="line">            <span class="keyword">this</span>._height = screen.height;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>._canvas) &#123;</span><br><span class="line">                <span class="keyword">this</span>._canvas.width = <span class="keyword">this</span>._width;</span><br><span class="line">                <span class="keyword">this</span>._canvas.height = <span class="keyword">this</span>._height;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>._context) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._context.globalAlpha = <span class="keyword">this</span>._options.colorAlpha</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        _onScroll: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> screen = screenInfo(e);</span><br><span class="line">            <span class="keyword">this</span>._scroll = screen.scrolly</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> Factory</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> Ribbons(&#123;</span><br><span class="line">    colorSaturation: <span class="string">"60%"</span>,</span><br><span class="line">    colorBrightness: <span class="string">"50%"</span>,</span><br><span class="line">    colorAlpha: <span class="number">0.5</span>,</span><br><span class="line">    colorCycleSpeed: <span class="number">5</span>,</span><br><span class="line">    verticalPosition: <span class="string">"random"</span>,</span><br><span class="line">    horizontalSpeed: <span class="number">200</span>,</span><br><span class="line">    ribbonCount: <span class="number">3</span>,</span><br><span class="line">    strokeSize: <span class="number">0</span>,</span><br><span class="line">    parallaxAmount: <span class="number">-0.2</span>,</span><br><span class="line">    animateSections: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带2.自动飘动--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.ribbon_flow</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon_flow.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 彩带2.自动飘动</span></span><br><span class="line"><span class="attr">ribbon_flow:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="代码雨">代码雨</h2><p><strong>存在问题：位置不对</strong></p><p><code>H:\Hexo\themes\yilia\source\js\code_rain.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//获取画布对象</span></span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"code_rain_canvas"</span>);</span><br><span class="line">    <span class="comment">//获取画布的上下文</span></span><br><span class="line">    <span class="keyword">var</span> context =canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="keyword">var</span> s = <span class="built_in">window</span>.screen;</span><br><span class="line">    <span class="keyword">var</span> W = canvas.width = s.width;</span><br><span class="line">    <span class="keyword">var</span> H = canvas.height;</span><br><span class="line">    <span class="comment">//获取浏览器屏幕的宽度和高度</span></span><br><span class="line">    <span class="comment">//var W = window.innerWidth;</span></span><br><span class="line">    <span class="comment">//var H = window.innerHeight;</span></span><br><span class="line">    <span class="comment">//设置canvas的宽度和高度</span></span><br><span class="line">    canvas.width = W;</span><br><span class="line">    canvas.height = H;</span><br><span class="line">    <span class="comment">//每个文字的字体大小</span></span><br><span class="line">    <span class="keyword">var</span> fontSize = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//计算列</span></span><br><span class="line">    <span class="keyword">var</span> colunms = <span class="built_in">Math</span>.floor(W /fontSize);</span><br><span class="line">    <span class="comment">//记录每列文字的y轴坐标</span></span><br><span class="line">    <span class="keyword">var</span> drops = [];</span><br><span class="line">    <span class="comment">//给每一个文字初始化一个起始点的位置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++)&#123;</span><br><span class="line">        drops.push(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//运动的文字</span></span><br><span class="line">    <span class="keyword">var</span> str =<span class="string">"WELCOME TO WWW.ITRHX.COM"</span>;</span><br><span class="line">    <span class="comment">//4:fillText(str,x,y);原理就是去更改y的坐标位置</span></span><br><span class="line">    <span class="comment">//绘画的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        context.fillStyle = <span class="string">"rgba(238,238,238,.08)"</span>;<span class="comment">//遮盖层</span></span><br><span class="line">        context.fillRect(<span class="number">0</span>,<span class="number">0</span>,W,H);</span><br><span class="line">        <span class="comment">//给字体设置样式</span></span><br><span class="line">        context.font = <span class="string">"600 "</span>+fontSize+<span class="string">"px  Georgia"</span>;</span><br><span class="line">        <span class="comment">//给字体添加颜色</span></span><br><span class="line">        context.fillStyle = [<span class="string">"#33B5E5"</span>, <span class="string">"#0099CC"</span>, <span class="string">"#AA66CC"</span>, <span class="string">"#9933CC"</span>, <span class="string">"#99CC00"</span>, <span class="string">"#669900"</span>, <span class="string">"#FFBB33"</span>, <span class="string">"#FF8800"</span>, <span class="string">"#FF4444"</span>, <span class="string">"#CC0000"</span>][<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * <span class="number">10</span>)];<span class="comment">//randColor();可以rgb,hsl, 标准色，十六进制颜色</span></span><br><span class="line">        <span class="comment">//写入画布中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++)&#123;</span><br><span class="line">            <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * str.length);</span><br><span class="line">            <span class="keyword">var</span> x = i*fontSize;</span><br><span class="line">            <span class="keyword">var</span> y = drops[i] *fontSize;</span><br><span class="line">            context.fillText(str[index],x,y);</span><br><span class="line">            <span class="comment">//如果要改变时间，肯定就是改变每次他的起点</span></span><br><span class="line">            <span class="keyword">if</span>(y &gt;= canvas.height &amp;&amp; <span class="built_in">Math</span>.random() &gt; <span class="number">0.99</span>)&#123;</span><br><span class="line">                drops[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            drops[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">randColor</span>(<span class="params"></span>)</span>&#123;<span class="comment">//随机颜色</span></span><br><span class="line">        <span class="keyword">var</span> r = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> g = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> b = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span>+r+<span class="string">","</span>+g+<span class="string">","</span>+b+<span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    draw();</span><br><span class="line">    setInterval(draw,<span class="number">35</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--代码雨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.code_rain</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 数字雨 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"code_rain_canvas"</span> <span class="attr">width</span>=<span class="string">"1440"</span> <span class="attr">height</span>=<span class="string">"900"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/code_rain.js"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span></span><br><span class="line">            #code_rain_canvas &#123;</span><br><span class="line">              position: fixed;</span><br><span class="line">              right: 0px;</span><br><span class="line">              bottom: 0px;</span><br><span class="line">              min-width: 100%;</span><br><span class="line">              min-height: 100%;</span><br><span class="line">              height: auto;</span><br><span class="line">              width: auto;</span><br><span class="line">              z-index: 4;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码雨</span></span><br><span class="line"><span class="attr">code_rain:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478303678.png" alt="file"></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 背景特效 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加背景图片</title>
      <link href="/article/72a91df5.html"/>
      <url>/article/72a91df5.html</url>
      
        <content type="html"><![CDATA[<p>添加背景图片，效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png" alt="file"></p><a id="more"></a><p>注：因为有博客不是修改时写的，部分代码没有进行备份，所以有些只能从git中获取代码，有些可能有点乱。</p><p>同时因为每个人选的背景图片可能有所不同，主体颜色可能差异很大，需要调整的颜色可能比较多，这篇博客仅供参考，请自行选择是否替换背景。</p><h3 id="1-左侧边栏">1.左侧边栏</h3><h4 id="取消上半部分的背景颜色">取消上半部分的背景颜色</h4><p>：<code>themes/yilia/layout/_partial/left-col.ejs</code>，如下：这是掉上面的一行代码，使用下面的</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;div class="overlay" style="background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏（上半部分）不设置背景颜色 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay"</span> &gt;</span></span><br></pre></td></tr></table></figure><h4 id="添加背景图片">添加背景图片</h4><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，注释掉原有的背景颜色，添加照片：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> &#123;</span><br><span class="line">    <span class="comment">/* background:#fff; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'http://bucket836.oss-cn-shenzhen.aliyuncs.com/wallpaper/381535373.jpeg'</span>) no-repeat <span class="number">0%</span> <span class="number">20%</span>/ cover;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>:fixed;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>:all .<span class="number">3s</span> ease-in;</span><br><span class="line">    <span class="attribute">-ms-transition</span>: all .<span class="number">3s</span> ease-in;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>:<span class="number">999</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>根据背景图片修改字体颜色（这步可以自定义），我是将<code>color:#696969</code>改成<code>color:#673ab7</code>:git</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">-    color:#696969</span><br><span class="line">+    <span class="selector-tag">color</span>:<span class="selector-id">#673ab7</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">-    color:#b0a0aa</span><br><span class="line">+    <span class="selector-tag">color</span>: <span class="selector-id">#03A9F4</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-subtitle</span> &#123;</span><br><span class="line">     <span class="attribute">text-align</span>:center;</span><br><span class="line">-    color:#999;</span><br><span class="line">+    <span class="selector-tag">color</span>:<span class="selector-id">#673ab7</span>;</span><br><span class="line">     <span class="selector-tag">font-size</span><span class="selector-pseudo">:18px</span>;</span><br></pre></td></tr></table></figure><h3 id="2-右边的文章">2.右边的文章</h3><h4 id="调整背景颜色为透明">调整背景颜色为透明</h4><p>主要是将白色背景变成透明的，<code>background:#fff;</code>–&gt;<code>background: rgba(255,255,255,.5);</code>调整后Git</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.article</span> &#123;</span><br><span class="line">-    margin:30px;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">position</span><span class="selector-pseudo">:relative</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border-top</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">border-bottom</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">background</span>:<span class="selector-id">#fff</span>;</span><br><span class="line"><span class="selector-tag">-</span>    <span class="comment">/* background: rgba(255,255,255,.5); */</span></span><br><span class="line"><span class="selector-tag">-</span>    <span class="selector-tag">transition</span><span class="selector-pseudo">:all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in</span></span><br><span class="line">+    <span class="selector-tag">margin</span>: 30<span class="selector-tag">px</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(255,255,255,<span class="selector-class">.5</span>);^<span class="selector-tag">M</span></span><br><span class="line">+    <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> <span class="selector-class">.2s</span> <span class="selector-tag">ease-in</span>^<span class="selector-tag">M</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>即：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-添加背景图片">3.添加背景图片</h3><p>将白色<code>background-color:#fff;</code>替换为照片：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* background-color:#fff; */</span></span><br><span class="line">    <span class="attribute">min-height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)), </span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'https://desk-fd.zol-img.com.cn/t_s960x600c5/g5/M00/02/00/ChMkJlbKw6KIXhXnAA4L-_oxRzUAALG6QBUSg8ADgwT181.jpg'</span>) no-repeat <span class="number">0%</span> <span class="number">0%</span>/ cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 手机端换用一张背景图片，可以不使用 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/your-name-phone2ys.jpg'</span>) no-repeat fixed top;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="效果：">效果：</h4><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573200205240.png" alt="file"></p><h3 id="4-微调">4.微调</h3><h4 id="4-1调整评论区背景">4.1调整评论区背景</h4><p>原来为白色，现在改为透明。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573203735399.png" alt="file"></p><p>先将之前定义在<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>的样式统一放到<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，如下git diff</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 《valine评论 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">-      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-</span>        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-</span>        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">-      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">+</span><br><span class="line">       <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">         <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">         <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br></pre></td></tr></table></figure><p>在最后面添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 《评论框 */</span></span><br><span class="line"><span class="selector-class">.comments</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.comments</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>:auto;</span><br><span class="line">        <span class="attribute">padding</span>:<span class="number">10px</span>;</span><br><span class="line">        <span class="comment">/* background:#fff */</span></span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* valine的背景颜色 */</span></span><br><span class="line"><span class="selector-id">#vcomment</span>&#123;</span><br><span class="line"><span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 设置valine占位符的颜色 */</span></span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-pseudo">:-moz-placeholder</span> &#123; <span class="comment">/* Mozilla Firefox 4 to 18 */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-pseudo">::-moz-placeholder</span> &#123; <span class="comment">/* Mozilla Firefox 19+ */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-tag">input</span><span class="selector-pseudo">:-ms-input-placeholder</span>, <span class="selector-id">#vcomment</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#vcomment</span> <span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span>,<span class="selector-id">#vcomment</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#979292</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 评论框》 */</span></span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573203593161.png" alt="file"></p><p>参考：<a href="https://www.cnblogs.com/yuner-angel/p/8478935.html" target="_blank" rel="noopener">html中怎么设定input的占位符字体颜色</a></p><h4 id="4-2调整归档背景">4.2调整归档背景</h4><p>之前调整的文章背景透明好像没有影响到这个：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573461660402.png" alt="file"></p><p>进行调整：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archives-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>:<span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>:<span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">    <span class="comment">/* background:#fff */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调整日期颜色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-meta</span> <span class="selector-tag">time</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#aaa */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2f2d2a</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>日期时间大小</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-article-inner</span> <span class="selector-class">.article-meta</span> <span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>:default;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:-<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>微调归档页面的标题样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 丢弃之前的 */</span></span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">transition</span>: color .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修改： */</span></span><br><span class="line"><span class="comment">/* 分类页面的标题 */</span></span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="comment">/* color:#333; */</span></span><br><span class="line">    <span class="attribute">transition</span>:color .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.archives</span> <span class="selector-class">.archive-article-title</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#657b83 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为将右边栏的超链接都统一进行了设置，如果不需要特效，可以通过下面的代码取消超链接的下划线样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">a</span><span class="selector-class">.share-outer</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-3主页的文章块的日期取消超链接样式">4.3主页的文章块的日期取消超链接样式</h4><p>日期和文章统计数样式</p><p>原：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">7.6923%</span>;</span><br><span class="line">    <span class="attribute">float</span>:right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 日期栏（如果是文章还包含卜算子的页面访问量） */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#0087ca; */</span></span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">7.6923%</span>;</span><br><span class="line">    <span class="attribute">float</span>:right</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 日期 */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span> <span class="selector-tag">time</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 日期同一行的文章阅读数量 */</span></span><br><span class="line"><span class="selector-class">.archive-article-date</span><span class="selector-attr">[id=busuanzi_container_page_pv]</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#4b4949</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主页的“展开全文”按钮样式：受全局超链接样式影响，悬浮后，会变成红色。处理：提前加一个悬浮，掩盖全局的：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 防止鼠标悬浮时，变色，因为会被全局的超链接样式影响 */</span></span><br><span class="line"> <span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>前一页后一页：去掉悬浮的样式，可以直接注释掉：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#article-nav</span> <span class="selector-class">.article-nav-link-wrap</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.article-nav-title</span>, <span class="selector-id">#article-nav</span> <span class="selector-class">.article-nav-link-wrap</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="comment">/* color:#4d4d4d */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>标签按钮：受全局超链接样式影响，悬浮后，会变成红色。处理：提前加一个悬浮，掩盖全局的：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.tagcloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">+    color:#fff;^M</span><br><span class="line">     <span class="selector-tag">opacity</span><span class="selector-pseudo">:.8</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="4-4手机端头部背景颜色">4.4手机端头部背景颜色</h4><p><code>H:\Hexo\themes\yilia\layout\_partial\mobile-nav.ejs</code>取消内嵌样式，在全局css中进行设置：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--&lt;div class="overlay js-overlay" style="background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay js-overlay"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>设置成渐变：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav</span> <span class="selector-class">.overlay</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>:<span class="number">2</span>;</span><br><span class="line">     <span class="comment">/* 渐变：浅绿色变淡蓝色 */</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#8fecc5,#0badf7);</span><br><span class="line">    <span class="comment">/* 浏览器不支持渐变时显示默认颜色 */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573461729612.png" alt="file"></p><h4 id="4-5鼠标图片">4.5鼠标图片</h4><p>去网上找一种鼠标指针的图片，用图片替换默认的鼠标样式：<code>cursor:url('url'), default;</code>，default表示：如果图片不起效，就是用默认的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* background-color:#fff; */</span></span><br><span class="line">    <span class="attribute">min-height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(rgba(255, 255, 255, 0.5), <span class="built_in">rgba</span>(255, 255, 255, 0.5)), </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/wallpaper/qinshimingyue.jpg'</span>) no-repeat <span class="number">0%</span> <span class="number">0%</span>/ cover;</span><br><span class="line">    <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/ico/favicon-2019110906554413.ico'</span>), default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 因为超链接默认情况下是：cursor: pointer; 显示为手，这里进行设置 */</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">'https://oss.yansheng.xyz/ico/favicon-2019110906554413.ico'</span>), default;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-6行内代码-引用块的背景颜色">4.6行内代码、引用块的背景颜色</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-class">.article-entry</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span>, <span class="selector-class">.article-entry</span> <span class="selector-tag">p</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#c7254e</span>;</span><br><span class="line">    <span class="comment">/* background-color: #f9f2f4; */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(249, 242, 244, .7);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="comment">/* background:#ddd; */</span></span><br><span class="line">    <span class="comment">/* border:2px solid #ccc; */</span></span><br><span class="line">    <span class="attribute">font-family</span>:Menlo, Monaco, Andale Mono, lucida console, Courier New, monospace;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="comment">/* font-size:14px */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">5px</span> solid <span class="number">#657b83</span>;</span><br><span class="line">    <span class="comment">/* background:#f6f6f6; */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(246, 246, 246, .7);</span><br><span class="line">    <span class="comment">/* 如果超长，自动截断 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 背景图片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加隐藏左边栏目按钮</title>
      <link href="/article/31bbdc67.html"/>
      <url>/article/31bbdc67.html</url>
      
        <content type="html"><![CDATA[<p>效果图：<br><img src="https://oss.yansheng.xyz/image-1573145229532.png" alt="file"></p><p>点击按钮时，缩进左侧边栏，再次点击再弹出来。</p><a id="more"></a><h2 id="添加隐藏左边栏目按钮">添加隐藏左边栏目按钮</h2><p>参考：<a href="https://cqh-i.github.io/2019/08/07/hexo-yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E9%9A%90%E8%97%8F%E5%B7%A6%E8%BE%B9%E6%A0%8F%E7%9B%AE%E6%8C%89%E9%92%AE/" target="_blank" rel="noopener">添加隐藏左边栏目按钮</a></p><blockquote><p>下面为引用内容：</p></blockquote><p>折腾了一个下午,终于把隐藏左边侧边栏目的效果实现了. 实现了点击按钮隐藏侧边栏, 查找和修改源码实在是太麻烦了.</p><h3 id="制作按钮样式">制作按钮样式</h3><p>先找一款你喜欢的CSS菜单按钮切换,或者自己实现一个,我在网上找到一款比较<a href="https://c.runoob.com/codedemo/3156" target="_blank" rel="noopener">简单的样式</a>,稍微做了下修改.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mymenucontainer</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">cursor</span>:pointer;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">z-index</span>:<span class="number">9999</span>;</span><br><span class="line"><span class="attribute">position</span>:fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar1</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px,8px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px,8px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar3</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">35px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line"><span class="attribute">margin</span>:<span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">transition</span>:<span class="number">0.4s</span>;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(45deg) <span class="built_in">translate</span>(-4px,-6px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(45deg) <span class="built_in">translate</span>(-4px,-6px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.change</span> <span class="selector-class">.bar1</span> &#123;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.change</span> <span class="selector-class">.bar2</span> &#123;</span><br><span class="line"><span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.change</span> <span class="selector-class">.bar3</span> &#123;</span><br><span class="line"><span class="attribute">-webkit-transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(0deg) <span class="built_in">translate</span>(0px,0px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>样式制作完成后,压缩,然后添加进<code>\themes\yilia\source\main.0cf68a.css</code>文件中,添加在最前面即可</p><h3 id="添加按钮到相应的位置">添加按钮到相应的位置</h3><p>打开<code>\themes\yilia\layout\layout.ejs</code>文件, 找到<code>&lt;div class=&quot;left-col&quot;</code>,在其上面添加如下代码:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"mymenucontainer"</span> <span class="attr">onclick</span>=<span class="string">"myFunction(this)"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>&lt;/body&gt;</code>之后, <code>&lt;/html&gt;</code>前添加如下Js代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> hide = <span class="literal">false</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        x.classList.toggle(<span class="string">"change"</span>);</span><br><span class="line">        <span class="keyword">if</span>(hide == <span class="literal">false</span>)&#123;</span><br><span class="line">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">6</span>);</span><br><span class="line">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span><br><span class="line">            hide = <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">300</span>);</span><br><span class="line">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span><br><span class="line">            hide = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>重新生成文件,部署即可看到效果, 可以看看<a href="https://cqh-i.github.io/" target="_blank" rel="noopener">我的博客</a>效果</p><p>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573143726040.png" alt="file"></p><blockquote><p>引用结束</p></blockquote><h2 id="结合我的配置进行修改">结合我的配置进行修改</h2><p>因为我的左侧边栏添加了<strong>心知天气</strong>（如下图），所以按钮不能放在一起，因此进行了修改：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573143700619.png" alt="file"></p><h3 id="修改位置">修改位置</h3><p>主要变化：修改按钮位置，移到右边：<code>left: 260px;</code>，修改bar1,bar2,bar3的颜色：<code>background-color: #0087ca;</code>：修改文件：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mymenucontainer</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">260px</span>;  <span class="comment">/*原来： left:0; */</span></span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9999</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bar1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0087ca</span>;  <span class="comment">/*原来： background-color:#333; */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">6px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px, 8px);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-45deg) <span class="built_in">translate</span>(-8px, 8px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="事件响应">事件响应</h3><p>因为修改了图标位置，事件响应时也要对应修改位置：缩小后设置为<code>$(&quot;.mymenucontainer&quot;).css('left', '0');</code>,展开：<code>$(&quot;.mymenucontainer&quot;).css('left', '260px');</code>。<br>修改文件：<code>H:\Hexo\themes\yilia\layout\layout.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 《添加折叠按钮脚本 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> hide = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span><span class="params">(x)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        x.classList.toggle(<span class="string">"change"</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span>(hide == <span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">6</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="actionscript">            hide = <span class="literal">true</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="string">".mymenucontainer"</span>).css(<span class="string">'left'</span>, <span class="string">'0'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".left-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".mid-col"</span>).css(<span class="string">"left"</span>, <span class="number">300</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tools-col.hide"</span>).css(<span class="string">'display'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="actionscript">            hide = <span class="literal">false</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="string">".mymenucontainer"</span>).css(<span class="string">'left'</span>, <span class="string">'260px'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加折叠按钮脚本》 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="响应式：手机端隐藏按钮">响应式：手机端隐藏按钮</h3><p>手机端(当页面变小时)隐藏按钮：修改文件：<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>，找到<code>@media screen and (max-width:800px)</code>下面的内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#container</span>, <span class="selector-tag">body</span>, <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>:auto;</span><br><span class="line">        <span class="attribute">overflow-x</span>:hidden;</span><br><span class="line">        <span class="attribute">overflow-y</span>:auto</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#mobile-nav</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>:block</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.body-wrap</span> &#123;</span><br><span class="line">        <span class="attribute">margin-bottom</span>:<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.left-col</span>&#123;</span><br><span class="line">        <span class="attribute">display</span>:none</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>.left-col</code>中添加一个按钮的标签：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span>,<span class="selector-class">.mymenucontainer</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573145229532.png" alt="file"></p><h2 id="🐛bug">🐛bug</h2><p>有个小问题：在PC端进行测试时，如果先尝试缩放，然后返回再展开，直接测试手机端，就会出现问题：按钮仍然撑开界面；但是如果进到页面直接测试手机端就不会这种问题（或者是在缩放后进行测试也不会影响）。</p><p>因为这个问题好像影响不是很大，就不深入了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> CSS </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加“心知天气”</title>
      <link href="/article/cd4e4c1.html"/>
      <url>/article/cd4e4c1.html</url>
      
        <content type="html"><![CDATA[<p>添加“心知天气”<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573378054017.png" alt="file"></p><a id="more"></a><p>參考：<a href="https://letmequadrakill.github.io/post/843b0170.html#more" target="_blank" rel="noopener">https://letmequadrakill.github.io/post/843b0170.html#more</a></p><h3 id="1-注册账号-设置天气样式：">1.注册账号，设置天气样式：</h3><p>官网：<a href="https://www.seniverse.com/widgetv3" target="_blank" rel="noopener">https://www.seniverse.com/widgetv3</a>，需要先注册账号，然后选择样式，如下：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573481774183.png" alt="file"></p><p>生成js代码，复制代码，如下（我的免费版的代码）:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tp-weather-widget"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    (<span class="function"><span class="keyword">function</span><span class="params">(a, h, g, f, e, d, c, b)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        b = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">            d = h.createElement(g);</span><br><span class="line">            c = h.getElementsByTagName(g)[0];</span><br><span class="line">            d.src = e;</span><br><span class="line"><span class="actionscript">            d.charset = <span class="string">"utf-8"</span>;</span></span><br><span class="line">            d.async = 1;</span><br><span class="line">            c.parentNode.insertBefore(d, c)</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        a[<span class="string">"SeniverseWeatherWidgetObject"</span>] = f;</span></span><br><span class="line"><span class="actionscript">        a[f] || (a[f] = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            (a[f].q = a[f].q || []).push(<span class="built_in">arguments</span>)</span></span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        a[f].l = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span> (a.attachEvent) &#123;</span></span><br><span class="line"><span class="actionscript">            a.attachEvent(<span class="string">"onload"</span>, b)</span></span><br><span class="line"><span class="actionscript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">            a.addEventListener(<span class="string">"load"</span>, b, <span class="literal">false</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">    &#125;(<span class="built_in">window</span>, <span class="built_in">document</span>, <span class="string">"script"</span>, <span class="string">"SeniverseWeatherWidget"</span>, <span class="string">"//cdn.sencdn.com/widget2/static/js/bundle.js"</span>));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.SeniverseWeatherWidget(<span class="string">'show'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">        flavor: <span class="string">"slim"</span>,</span></span><br><span class="line"><span class="actionscript">        location: <span class="string">"WS06YNEMPP18"</span>,</span></span><br><span class="line"><span class="actionscript">        geolocation: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">        language: <span class="string">"zh-Hans"</span>,</span></span><br><span class="line"><span class="actionscript">        unit: <span class="string">"c"</span>,</span></span><br><span class="line"><span class="actionscript">        theme: <span class="string">"auto"</span>,</span></span><br><span class="line"><span class="actionscript">        token: <span class="string">"a579c7ea-507d-41d7-b578-3537882d20c2"</span>,</span></span><br><span class="line"><span class="actionscript">        hover: <span class="string">"enabled"</span>,</span></span><br><span class="line"><span class="actionscript">        container: <span class="string">"tp-weather-widget"</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以下是复制的另一个人的代码，可能是升级版的(感觉效果很不错，就用了这个，可能会出现问题，因为应该是用他的秘钥，要是他修改你就会变)：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加“心知天气”--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tp-weather-widget"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        (<span class="function"><span class="keyword">function</span><span class="params">(T, h, i, n, k, P, a, g, e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            g = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line">                P = h.createElement(i);</span><br><span class="line">                a = h.getElementsByTagName(i)[0];</span><br><span class="line">                P.src = k;</span><br><span class="line"><span class="actionscript">                P.charset = <span class="string">"utf-8"</span>;</span></span><br><span class="line">                P.async = 1;</span><br><span class="line">                a.parentNode.insertBefore(P, a)</span><br><span class="line">            &#125;;</span><br><span class="line"><span class="actionscript">            T[<span class="string">"ThinkPageWeatherWidgetObject"</span>] = n;</span></span><br><span class="line"><span class="actionscript">            T[n] || (T[n] = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                (T[n].q = T[n].q || []).push(<span class="built_in">arguments</span>)</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            T[n].l = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (T.attachEvent) &#123;</span></span><br><span class="line"><span class="actionscript">                T.attachEvent(<span class="string">"onload"</span>, g)</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">                T.addEventListener(<span class="string">"load"</span>, g, <span class="literal">false</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">        &#125;(<span class="built_in">window</span>, <span class="built_in">document</span>, <span class="string">"script"</span>, <span class="string">"tpwidget"</span>, <span class="string">"//widget.thinkpage.cn/widget/chameleon.js"</span>))</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        tpwidget(<span class="string">"init"</span>, &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="string">"flavor"</span>: <span class="string">"slim"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"location"</span>: <span class="string">"WM6N2PM3WY2K"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"geolocation"</span>: <span class="string">"enabled"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"language"</span>: <span class="string">"zh-chs"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"unit"</span>: <span class="string">"c"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"theme"</span>: <span class="string">"chameleon"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"container"</span>: <span class="string">"tp-weather-widget"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"bubble"</span>: <span class="string">"enabled"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"alarmType"</span>: <span class="string">"badge"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"color"</span>: <span class="string">"#FFFFFF"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"uid"</span>: <span class="string">"U88B4B2797"</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"hash"</span>: <span class="string">"c9d7cb43b80ffece52c9a1ebbfbca65f"</span></span></span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        tpwidget(<span class="string">"show"</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加“心知天气”》--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-添加到左侧边栏">2.添加到左侧边栏</h3><p>修改<code>themes/yilia/layout/_partial/left-col.ejs</code>，将上面的js代码添加到指定位置，位置如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"overlay"</span> <span class="attr">style</span>=<span class="string">"background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 添加“心知天气”--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intrude-less"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-设置成方便开启和关闭的形式">3.设置成方便开启和关闭的形式</h3><p>如果主题中开启了这个设置，才开启这个功能：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加“心知天气”--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.xinzhi_weather</span>)&#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"tp-weather-widget"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">……</span><br><span class="line">        tpwidget("show");</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加“心知天气”》--&gt;</span></span><br></pre></td></tr></table></figure><p><code>themes/yilia/_config.yml</code>中添加如下配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 心知天气(如果不用为false):https://www.seniverse.com</span></span><br><span class="line"><span class="attr">xinzhi_weather:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 心知天气 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia测试新的渲染引擎和表情</title>
      <link href="/article/47e1ef2d.html"/>
      <url>/article/47e1ef2d.html</url>
      
        <content type="html"><![CDATA[<p>测试表情（emoji）🤔和hexo渲染器（hexo-renderer-markdown-it）。</p><a id="more"></a><h2 id="表情">表情</h2><h3 id="正常文本间的表情">正常文本间的表情</h3><p>看在文字间的情况🤔看在文字间的情况</p><p>看在文字间的情况🛩看在文字间的情况</p><h3 id="引用块中的表情">引用块中的表情</h3><blockquote><p>🤒</p><p>📑</p></blockquote><h3 id="标题中的表情📝">标题中的表情📝</h3><h3 id="常用表情网站汇总">常用表情网站汇总</h3><p>1.速度较快的：<a href="https://emoji.muan.co/" target="_blank" rel="noopener">https://emoji.muan.co/</a><br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573122719448.png" alt="file"></p><p>2.较慢的：<a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">https://www.webfx.com/tools/emoji-cheat-sheet/</a><br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573122656129.png" alt="file"></p><p>3.专门用于github的提交的：<a href="https://gitmoji.carloscuesta.me/" target="_blank" rel="noopener">https://gitmoji.carloscuesta.me/</a><br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573122807031.png" alt="file"></p><h2 id="hexo渲染器">hexo渲染器</h2><h3 id="测试html">测试HTML</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;这是div&lt;/div&gt;</span><br></pre></td></tr></table></figure><div>这是div</div><h3 id="测试换行">测试换行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">换行&lt;br&gt;</span><br><span class="line">换行</span><br></pre></td></tr></table></figure><p>换行<br><br>换行</p><h3 id="测试相同标题">测试相同标题</h3><h3 id="测试相同标题-v2">测试相同标题</h3><p>查看相同标题的id是否重复，理论上会添加’-v2’ '-v3’等后缀。</p><h3 id="测试有序列表">测试有序列表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 11111</span><br><span class="line">2. 22222</span><br><span class="line">3. 33333</span><br><span class="line">1. 11111 # 这个能够正确处理</span><br></pre></td></tr></table></figure><ol><li>11111</li><li>22222</li><li>33333</li><li>11111</li></ol><p>注意list后面不能有空行，不然会出现问题：序号占一行，然后内容从下一行开始</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 空行的情况</span><br><span class="line">1. 1111</span><br><span class="line"></span><br><span class="line">2. 2222</span><br><span class="line"></span><br><span class="line"># 处理后</span><br><span class="line">1.</span><br><span class="line">1111</span><br><span class="line"></span><br><span class="line">2.</span><br><span class="line">2222</span><br></pre></td></tr></table></figure><h3 id="测试无序列表">测试无序列表</h3><ul><li>无序列表</li><li>无序列表<ul><li>第二层</li><li>第二层<ul><li>第三层</li><li>第三层</li></ul></li><li>第二层</li></ul></li></ul><h3 id="测试选择框">测试选择框</h3><ul><li>[x] 选择框：好像有问题</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> emoji </tag>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia替换渲染引擎，支持emoji表情</title>
      <link href="/article/b902694c.html"/>
      <url>/article/b902694c.html</url>
      
        <content type="html"><![CDATA[<p>Hexo默认是采用<code>hexo-renderer-marked</code>渲染器将markdown渲染成HTML，这个渲染器不支持插件扩展，因此不能支持表情；还有一个支持插件扩展的是 <code>hexo-renderer-markdown-it</code>，所以我们可以使用这个渲染引擎来支持emoji表情。</p><p>就比如这样的表情：😁😂🤣🍱，更多可参考：<a href="/article/47e1ef2d.html">测试新的渲染引擎和表情</a></p><a id="more"></a><h3 id="替换渲染引擎-支持emoji表情">替换渲染引擎，支持emoji表情</h3><p>参考：<a href="https://segmentfault.com/a/1190000009478837#articleHeader5" target="_blank" rel="noopener">https://segmentfault.com/a/1190000009478837#articleHeader5</a></p><hr><p>如何让markdown可以解析emoji呢？实际上我们发现，在编辑器中输入 <code>:blush:</code> 并没有表情出现，是为什么呢？ 这是markdown渲染引擎的问题 。<br>Hexo默认是采用<code>hexo-renderer-marked</code>,这个渲染器不支持插件扩展，当然就不行了，还有一个支持插件扩展的是 <code>hexo-renderer-markdown-it</code>（github：<a href="https://github.com/hexojs/hexo-renderer-markdown-it" target="_blank" rel="noopener">https://github.com/hexojs/hexo-renderer-markdown-it</a>），所以我们可以使用这个渲染引擎来支持emoji表情，具体实现过程如下：</p><ul><li>更换渲染器<br>进入blog跟目录，执行如下命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure><ul><li>安装emoji插件，执行如下命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure><ul><li>编辑站点配置文件<br>就是编辑根目录的_config.yml文件，添加如下内容</li></ul><p>配置<code>H:\Hexo\_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Markdown-it config</span></span><br><span class="line"><span class="comment">## Docs: https://github.com/celsomiranda/hexo-renderer-markdown-it/wiki</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line"><span class="attr">  render:</span></span><br><span class="line"><span class="attr">    html:</span> <span class="literal">true</span>          <span class="comment"># 是否对HTML标签进行解析，false时HTML将按照原样输出</span></span><br><span class="line"><span class="attr">    xhtmlOut:</span> <span class="literal">false</span>     <span class="comment"># 是否需要满足严格的XHTML格式，换行为&lt;br /&gt;</span></span><br><span class="line"><span class="attr">    breaks:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    linkify:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    typographer:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    quotes:</span> <span class="string">'“”‘’'</span></span><br><span class="line"><span class="attr">  plugins:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-abbr</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-footnote</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-ins</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-sub</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-sup</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">markdown-it-emoji</span>  <span class="comment"># add emoji</span></span><br><span class="line"><span class="attr">  anchors:</span></span><br><span class="line">    <span class="comment"># Minimum level for ID creation. (Ex. h2 to h6)</span></span><br><span class="line"><span class="attr">    level:</span> <span class="number">2</span></span><br><span class="line">    <span class="comment"># A suffix that is prepended to the number given if the ID is repeated.</span></span><br><span class="line"><span class="attr">    collisionSuffix:</span> <span class="string">'v'</span></span><br><span class="line">    <span class="comment"># If `true`, creates an anchor tag with a permalink besides the heading.</span></span><br><span class="line"><span class="attr">    permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Class used for the permalink anchor tag.</span></span><br><span class="line"><span class="attr">    permalinkClass:</span> <span class="string">header-anchor</span></span><br><span class="line">    <span class="comment"># The symbol used to make the permalink</span></span><br><span class="line"><span class="attr">    permalinkSymbol:</span> <span class="string">¶</span></span><br></pre></td></tr></table></figure><h3 id="更近一步">更近一步</h3><ul><li>Hexo Markdown 拓展:<a href="https://maqingbo.github.io/2019/03/12/Hexo%20Markdown%20%E6%8B%93%E5%B1%95/" target="_blank" rel="noopener">https://maqingbo.github.io/2019/03/12/Hexo Markdown 拓展/</a></li><li>Hexo中添加emoji表情：<a href="https://blog.csdn.net/weixin_30745641/article/details/95686757" target="_blank" rel="noopener">https://blog.csdn.net/weixin_30745641/article/details/95686757</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> emoji </tag>
            
            <tag> hexo插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加添加robots配置</title>
      <link href="/article/ae673bea.html"/>
      <url>/article/ae673bea.html</url>
      
        <content type="html"><![CDATA[<h3 id="介绍">介绍</h3><p>robots是网站跟爬虫间的协议，用简单直接的txt格式文本方式告诉对应的爬虫被允许的权限，也就是说robots.txt是搜索引擎中访问网站的时候要查看的第一个文件。当一个搜索蜘蛛访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt，如果存在，搜索机器人就会按照该文件中的内容来确定访问的范围；如果该文件不存在，所有的搜索蜘蛛将能够访问网站上所有没有被口令保护的页面。</p><a id="more"></a><h3 id="配置">配置</h3><p>该配置可以管理我们想要搜索引擎爬取的内容，Allow表示允许被访问的，Disallow是不允许的意思。注意后面两个Sitemap就是网站地图了。而网站地图前面说了是给爬虫用的。这里配置在robots中。可参考如下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 允许所有用户代理的浏览器爬虫进行访问（爬起数据）</span><br><span class="line">User-agent: *</span><br><span class="line"></span><br><span class="line"># 允许访问的内容</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /2019/</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /2019/</span><br><span class="line">Allow: /page/</span><br><span class="line">Allow: /photos/</span><br><span class="line">Allow: /tags/</span><br><span class="line"></span><br><span class="line"># 不允许访问的内容</span><br><span class="line">Disallow: /assets/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line">Disallow: /img/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /music/</span><br><span class="line">Disallow: /css/</span><br><span class="line"></span><br><span class="line">Disallow: /*.js</span><br><span class="line">Disallow: /*.css</span><br><span class="line"></span><br><span class="line"># 网站地图Sitemap</span><br><span class="line">Sitemap: https://www.yansheng.xyz/sitemap.xml</span><br><span class="line">Sitemap: https://www.yansheng.xyz/baidusitemap.xml</span><br></pre></td></tr></table></figure><h3 id="进入搜索引擎管理平台更新robots">进入搜索引擎管理平台更新robots</h3><p>Google Search Console: <a href="https://www.google.com/webmasters/tools/home?hl=zh-CN" target="_blank" rel="noopener">https://www.google.com/webmasters/tools/home?hl=zh-CN</a><br>百度站长平台: <a href="http://zhanzhang.baidu.com/" target="_blank" rel="noopener">http://zhanzhang.baidu.com/</a></p><h3 id="robots-txt-生成器">robots.txt 生成器</h3><p>配置相关参数，自动生成robots内容的网站：</p><ul><li><a href="https://robots.51240.com/" target="_blank" rel="noopener">https://robots.51240.com/</a></li><li><a href="http://tool.chinaz.com/robots/" target="_blank" rel="noopener">http://tool.chinaz.com/robots/</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> robots </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加网站运行时间，ICP备案信息，设定站点建立时间</title>
      <link href="/article/50902a4.html"/>
      <url>/article/50902a4.html</url>
      
        <content type="html"><![CDATA[<p>hexo+yilia（在底部）添加</p><ul><li>网站运行时间：<code>本站已安全运行 101 天 12 小时 13 分 41 秒</code></li><li>ICP备案信息：<code>粤ICP备00000000号</code></li><li>设定站点建立时间（年份）：<code>@ 2018 - 2019</code></li><li></li></ul><a id="more"></a><h2 id="1-添加网站运行时间">1.添加网站运行时间</h2><p>添加位置建议：如果有统计量（如不蒜子统计量），放在不蒜子后面。没有就按照下面的建议。</p><h3 id="硬性配置">硬性配置</h3><p>参考：<a href="https://www.jianshu.com/p/c9de55660d1b" target="_blank" rel="noopener">Hexo主题更改以及小功能的添加–添加网站运行时间</a></p><p>修改<code>\themes\yilia\layout\_partial\footer.ejs</code>，在<code>&lt;/footer&gt;</code>上面添加如下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--《添加网站运行时间 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;br/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeDate"</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"times"</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">createtime</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"07/25/2019 12:00:00"</span>); <span class="comment">//此处修改你的建站时间或者网站上线时间 </span></span></span><br><span class="line">        now.setTime(now.getTime() + 250);</span><br><span class="line">        days = (now - grt) / 1000 / 60 / 60 / 24;</span><br><span class="line"><span class="javascript">        dnum = <span class="built_in">Math</span>.floor(days);</span></span><br><span class="line">        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);</span><br><span class="line"><span class="javascript">        hnum = <span class="built_in">Math</span>.floor(hours);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(hnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            hnum = <span class="string">"0"</span> + hnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line"><span class="javascript">        mnum = <span class="built_in">Math</span>.floor(minutes);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(mnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            mnum = <span class="string">"0"</span> + mnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line"><span class="javascript">        snum = <span class="built_in">Math</span>.round(seconds);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(snum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            snum = <span class="string">"0"</span> + snum;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"timeDate"</span>).innerHTML = <span class="string">" | 本站已安全运行 "</span> + dnum + <span class="string">" 天 "</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"times"</span>).innerHTML = hnum + <span class="string">" 小时 "</span> + mnum + <span class="string">" 分 "</span> + snum + <span class="string">" 秒"</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    setInterval(<span class="string">"createtime()"</span>, <span class="number">250</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加网站运行时间》 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="灵活配置-推荐">灵活配置（推荐）</h3><p>优化上面的内容，设置成可以直接在配置文件中进行开启和关闭的形式：</p><p>1.修改<code>\themes\yilia\_config.yml</code>，添加如下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 网站运行时间，格式形如：“本站已安全运行 101 天 12 小时 13 分 41 秒”</span></span><br><span class="line"><span class="comment"># Runing Time</span></span><br><span class="line"><span class="attr">running_time:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> create_time:</span> <span class="string">'07/25/2019 12:00:00'</span> <span class="comment">#此处修改你的建站时间或者网站上线时间</span></span><br></pre></td></tr></table></figure><p>2.修改<code>\themes\yilia\layout\_partial\footer.ejs</code>，在<code>&lt;/footer&gt;</code>上面添加如下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--《添加网站运行时间  &lt;br/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.running_time</span> &amp;&amp; <span class="attr">theme.running_time.enable</span> &amp;&amp; <span class="attr">theme.running_time.create_time</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeDate"</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"times"</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">createtime</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//此处修改你的建站时间或者网站上线时间</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> create_time = <span class="string">'&lt;%- theme.running_time.create_time %&gt;'</span>;</span></span><br><span class="line">        now.setTime(now.getTime() + 250);</span><br><span class="line">        days = (now - grt) / 1000 / 60 / 60 / 24;</span><br><span class="line"><span class="javascript">        dnum = <span class="built_in">Math</span>.floor(days);</span></span><br><span class="line">        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);</span><br><span class="line"><span class="javascript">        hnum = <span class="built_in">Math</span>.floor(hours);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(hnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            hnum = <span class="string">"0"</span> + hnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line"><span class="javascript">        mnum = <span class="built_in">Math</span>.floor(minutes);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(mnum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            mnum = <span class="string">"0"</span> + mnum;</span></span><br><span class="line">        &#125;</span><br><span class="line">        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line"><span class="javascript">        snum = <span class="built_in">Math</span>.round(seconds);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">String</span>(snum).length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="actionscript">            snum = <span class="string">"0"</span> + snum;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"timeDate"</span>).innerHTML = <span class="string">" | 本站已安全运行 "</span> + dnum + <span class="string">" 天 "</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"times"</span>).innerHTML = hnum + <span class="string">" 小时 "</span> + mnum + <span class="string">" 分 "</span> + snum + <span class="string">" 秒"</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    setInterval(<span class="string">"createtime()"</span>, <span class="number">250</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加网站运行时间》--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果">效果</h3><p><code>本站已安全运行 101 天 12 小时 13 分 41 秒</code></p><h2 id="2-添加icp备案信息">2.添加ICP备案信息</h2><p>添加位置建议：底部第首行。如果有统计量、运行时间前面。没有就按照下面的建议。</p><p>参考：<a href="https://blog.csdn.net/qq_37449342/article/details/95649140" target="_blank" rel="noopener">Hexo博客页脚添加ICP备案号</a></p><p>1.修改<code>\themes\yilia\_config.yml</code>，添加如下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ICP备案信息（英文全称：Internet Content Provider，中文全称：网络内容提供商。）</span></span><br><span class="line"><span class="comment"># 参考：https://blog.csdn.net/qq_37449342/article/details/95649140</span></span><br><span class="line"><span class="comment"># 粤ICP备00000000号</span></span><br><span class="line"><span class="attr">icp:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> id:</span> <span class="string">'粤ICP备00000000号'</span>  <span class="comment"># 备案号</span></span><br></pre></td></tr></table></figure><p>2.修改<code>\themes\yilia\layout\_partial\footer.ejs</code>，在<code>&lt;/footer&gt;</code>上面添加如下内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《网站备案号 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.icp</span> &amp;&amp; <span class="attr">theme.icp.enable</span> &amp;&amp; <span class="attr">theme.icp.id</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"BeiAn-info"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://static.dy208.cn/o_1dfilp8ruo521thr1hvf18ji17soa.png"</span> <span class="attr">title</span>=<span class="string">"备案管理系统"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.beian.miit.gov.cn/"</span> <span class="attr">style</span>=<span class="string">"color:#f72b07"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"备案号"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%-</span> <span class="attr">theme.icp.id</span> %&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 网站备案号》 --&gt;</span></span><br></pre></td></tr></table></figure><p>图标也可为：<a href="http://www.beian.miit.gov.cn/images/top/0.png" target="_blank" rel="noopener">http://www.beian.miit.gov.cn/images/top/0.png</a></p><h3 id="效果-v2">效果</h3><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573392403673.png" alt="file"></p><h3 id="注意">注意</h3><p>域名备案后，一般都需要将备案号添加到网站底部，不然会收到类似信息的！！！</p><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/20200221220239.png" alt></p><h2 id="3-设定站点建立时间">3.设定站点建立时间</h2><p>参考：</p><ul><li><a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4" target="_blank" rel="noopener">设定站点建立时间</a></li><li><a href="https://github.com/MOxFIVE/hexo-theme-yelee/commit/5b8b95628f71bf99b5cea20fa3aadd8ebd7ccc61" target="_blank" rel="noopener">https://github.com/MOxFIVE/hexo-theme-yelee/commit/5b8b95628f71bf99b5cea20fa3aadd8ebd7ccc61</a></li></ul><p>这个时间将在站点的底部显示，如果建站时间小于当前时间（年份），形式为：<code>@ 2018 - 2019</code>；否则默认为当前年份，如：<code>@2019</code>。<br>编辑主題的 <code>\themes\yilia\_config.yml</code>（在hexo根目录的配置文件中也可以），新增字段 <code>since</code>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Year of Site Creation | 网站成立年份</span></span><br><span class="line"><span class="comment"># 设定站点建立时间,这个时间将在站点的底部显示，如果是当年显示为 @ 2019，否则显示为时间段 © 2018 - 2019。</span></span><br><span class="line"><span class="attr">since:</span> <span class="number">2019</span></span><br></pre></td></tr></table></figure><p>对应的配置文件<code>H:\Hexo\themes\yilia\layout\_partial\footer.ejs</code>的原内容（部分内容，主要是<code>&lt;div class=&quot;footer-left&quot;&gt;</code>标签内容）：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer-info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-left"</span>&gt;</span></span><br><span class="line">    &amp;copy; <span class="tag">&lt;<span class="name">%=</span> <span class="attr">date</span>(<span class="attr">new</span> <span class="attr">Date</span>(), '<span class="attr">YYYY</span>') %&gt;</span> <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span> || <span class="attr">config.title</span> %&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-right"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://hexo.io/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Hexo<span class="tag">&lt;/<span class="name">a</span>&gt;</span>  Theme <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/litten/hexo-theme-yilia"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Yilia<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Litten</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>存在问题：小于时，不能正常显示（/按照需求显示）。修改后：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer-info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-left"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--如果有设置theme.since，并且时间小于当前时间（年份），形式为：@ 2018 - 2019(+作者/标题)；否则默认为当前年份(+作者/标题)。 --&gt;</span></span><br><span class="line">    &lt;% if (theme.since &amp;&amp; !isNaN(theme.since) &amp;&amp; theme.since &lt; date(new Date(), 'YYYY')) &#123; %&gt;</span><br><span class="line">                &amp;copy; <span class="tag">&lt;<span class="name">%-</span> <span class="attr">theme.since</span> %&gt;</span>-<span class="tag">&lt;<span class="name">%=</span> <span class="attr">date</span>(<span class="attr">new</span> <span class="attr">Date</span>(), '<span class="attr">YYYY</span>') %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></span><br><span class="line">                &amp;copy; <span class="tag">&lt;<span class="name">%=</span> <span class="attr">date</span>(<span class="attr">new</span> <span class="attr">Date</span>(), '<span class="attr">YYYY</span>') %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span> || <span class="attr">config.title</span> %&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果-v3">效果</h3><p>如：<code>since: 2018</code>显示为<code>@ 2018 - 2019</code>；否则默认为当前年份，如：<code>@2019</code>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> ICP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加RSS订阅功能</title>
      <link href="/article/91e4f23f.html"/>
      <url>/article/91e4f23f.html</url>
      
        <content type="html"><![CDATA[<p>使用<strong>hexo-generator-feed</strong>插件生成RSS文件<code>atom.xml</code>，实现RSS订阅功能。<br>插件github网址：<a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="noopener">https://github.com/hexojs/hexo-generator-feed</a>。<br>使用详见：<a href="https://www.jianshu.com/p/2aaac7a19736" target="_blank" rel="noopener">https://www.jianshu.com/p/2aaac7a19736</a>，<a href="https://wxnacy.com/2018/12/12/hexo-add-rss/" target="_blank" rel="noopener">https://wxnacy.com/2018/12/12/hexo-add-rss/</a>。</p><a id="more"></a><h3 id="1-先安装插件：">1.先安装插件：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed</span><br></pre></td></tr></table></figure><h3 id="2-在hexo根目录配置文件-config-yml中配置插件">2.在hexo根目录配置文件<code>_config.yml</code>中配置插件:</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">atom</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">atom.xml</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">20</span> <span class="comment"># 最新的20篇文章</span></span><br></pre></td></tr></table></figure><h3 id="3-开启主题的左侧边栏的rss功能">3.开启主题的左侧边栏的RSS功能</h3><p>在主题的配置文件<code>theme/yilia/_config.yml</code>中进行设置:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SubNav</span></span><br><span class="line"><span class="attr">subnav:</span></span><br><span class="line"><span class="attr">  rss:</span> <span class="string">"atom.xml"</span></span><br></pre></td></tr></table></figure><h3 id="4-重新生成文件">4.重新生成文件</h3><p><code>hexo clean, hexo g</code>后会在<code>public</code>目录下生成<code>auto.xml</code>订阅文件，到浏览器进行访问，点击图标会跳转到<code>*/auto.xml</code>界面，显示最近的几篇文章的更新。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> RSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加版权声明</title>
      <link href="/article/3d67529f.html"/>
      <url>/article/3d67529f.html</url>
      
        <content type="html"><![CDATA[<p>添加版权声明，效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110209160.png" alt="file"></p><a id="more"></a><p>参考：</p><ul><li><a href="https://www.v53922.com/posts/cc368447.html#%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E" target="_blank" rel="noopener">版权声明</a></li><li><a href="https://blog.zscself.com/posts/ee4d9ecb/" target="_blank" rel="noopener">在Hexo中自动为Yilia主题增加版权声明</a></li><li><a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3" target="_blank" rel="noopener">hexo-theme-yilia-plus主题的版权声明</a></li></ul><hr><h2 id="1-借鉴修改版">1.借鉴修改版</h2><h3 id="1-1在文末添加声明">1.1在文末添加声明</h3><p>在<code>themes/yilia/layout/_partial/article.ejs</code>文件的指定位置如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">post.content</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">--</span> 在此处添加代码<span class="attr">--</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> ((<span class="attr">theme.reward_type</span> === <span class="string">2</span> || (<span class="attr">theme.reward_type</span> === <span class="string">1</span> &amp;&amp; <span class="attr">post.reward</span>)) &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br></pre></td></tr></table></figure><p>添加如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 添加版权声明 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  <span class="attr">var</span> <span class="attr">sUrl</span> = <span class="string">url.replace(/index\.html$/,</span> '');</span></span><br><span class="line"><span class="tag">  <span class="attr">sUrl</span> = <span class="string">/^(http:|https:)\/\//.test(sUrl)</span> ? <span class="attr">sUrl</span> <span class="attr">:</span> '<span class="attr">https:</span>' + <span class="attr">sUrl</span>;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> ((<span class="attr">theme.declare_type</span> === <span class="string">2</span> || (<span class="attr">theme.declare_type</span> === <span class="string">1</span> &amp;&amp; <span class="attr">post.declare</span>)) &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>本文作者：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">config.author</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span>%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;<span class="attr">else</span>&#123;%&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"red"</span>&gt;</span>请在博客根目录“_config.yml”中填入正确的“author”<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%&#125;%</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>本文链接：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.url %&gt;/&lt;%= post.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= post.title %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.url</span> %&gt;</span>/<span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.path</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>版权声明：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    本作品采用</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.licensee_url%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.licensee_name</span>%&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    进行许可。转载请注明出处！</span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.licensee_img</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.licensee_url%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"知识共享许可协议"</span> <span class="attr">style</span>=<span class="string">"border-width:0"</span> <span class="attr">src</span>=<span class="string">"&lt;%= theme.licensee_img%&gt;"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123;%&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span> <span class="attr">hidden</span>=<span class="string">"hidden"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 添加版权声明 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-2添加样式">1.2添加样式</h3><p>在文件<code>yilia/source/main.0cf68a.css</code>中添加:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*版权声明的样式*/</span></span><br><span class="line"><span class="selector-class">.declare</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">3px</span> solid <span class="number">#ff1700</span>;</span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-3在主题中开启设置">1.3在主题中开启设置</h3><p>在文件<code>themes/yilia/_config.yml</code>中添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版权声明</span></span><br><span class="line"><span class="comment">#在需要进行版权声明的文章的md文件头部，设置属性declare: true。</span></span><br><span class="line"><span class="comment">#版权基础设定：0-关闭声明； 1-文章对应的md文件里有declare: true属性，才有版权声明； 2-所有文章均有版权声明</span></span><br><span class="line"><span class="attr">declare_type:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">licensee_url:</span> <span class="attr">https://creativecommons.org/licenses/by-nc-sa/4.0/</span>        <span class="comment">#当前应用的版权协议地址。</span></span><br><span class="line"><span class="attr">licensee_name:</span> <span class="string">'知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议'</span>        <span class="comment">#版权协议的名称</span></span><br><span class="line"><span class="attr">licensee_img:</span> <span class="attr">https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png</span>    <span class="comment">#版权协议的Logo</span></span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110587644.png" alt="file"></p><h2 id="2-升级版-配置版">2.升级版-配置版</h2><p>修改：<code>H:\Hexo\themes\yilia\_config.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 版权声明</span></span><br><span class="line"><span class="comment">#在需要进行版权声明的文章的md文件头部，设置属性declare: true。</span></span><br><span class="line"><span class="comment">#版权基础设定：0-关闭声明； 1-文章对应的md文件里有declare: true属性，才有版权声明； 2-所有文章均有版权声明</span></span><br><span class="line"><span class="attr">declare:</span></span><br><span class="line"><span class="attr">  declare_type:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">  licensee_url:</span> <span class="attr">https://creativecommons.org/licenses/by-nc-sa/4.0/</span>        <span class="comment">#当前应用的版权协议地址。</span></span><br><span class="line"><span class="attr">  licensee_name:</span> <span class="string">'CC BY-NC-SA 4.0'</span>                                        <span class="comment">#版权协议的名称</span></span><br><span class="line"><span class="attr">  licensee_alias:</span> <span class="string">'知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议'</span>       <span class="comment"># alias别名</span></span><br><span class="line"><span class="attr">  licensee_img:</span> <span class="attr">https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png</span>    <span class="comment">#版权协议的Logo</span></span><br></pre></td></tr></table></figure><p>新建<code>H:\Hexo\themes\yilia\layout\_partial\post\declare.ejs</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加版权声明 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--添加版权声明https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  <span class="attr">var</span> <span class="attr">sUrl</span> = <span class="string">url.replace(/index\.html$/,</span> '');</span></span><br><span class="line"><span class="tag">  <span class="attr">sUrl</span> = <span class="string">/^(http:|https:)\/\//.test(sUrl)</span> ? <span class="attr">sUrl</span> <span class="attr">:</span> '<span class="attr">https:</span>' + <span class="attr">sUrl</span>;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- #版权基础设定：0-关闭声明； 1-文章对应的md文件里有declare: true属性，才有版权声明； 2-所有文章均有版权声明 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> ((<span class="attr">theme.declare.declare_type</span> === <span class="string">2</span> || (<span class="attr">theme.declare.declare_type</span> === <span class="string">1</span> &amp;&amp; <span class="attr">post.declare</span>)) &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"author"</span>&gt;</span>本文作者：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">config.author</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.author</span>%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;<span class="attr">else</span>&#123;%&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"red"</span>&gt;</span>请在博客根目录“_config.yml”中填入正确的“author”<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%&#125;%</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"create-time"</span>&gt;</span>发布时间：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">date</span>(<span class="attr">post.date</span>, '<span class="attr">YYYY-MM-DD</span>') %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"update-time"</span>&gt;</span>最后更新：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">date</span>(<span class="attr">post.updated</span>, '<span class="attr">YYYY-MM-DD</span>') %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"article-titles"</span>&gt;</span>本文标题：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.url %&gt;/&lt;%= post.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= post.title %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"article-url"</span>&gt;</span>本文链接：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= config.url %&gt;/&lt;%= post.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= post.title %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">config.url</span> %&gt;</span>/<span class="tag">&lt;<span class="name">%=</span> <span class="attr">post.path</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">"copyright"</span>&gt;</span>版权声明：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    本作品采用</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.declare.licensee_url%&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= theme.declare.licensee_alias %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.declare.licensee_name</span>%&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    许可协议进行许可。转载请注明出处！</span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.declare.licensee_img</span> != <span class="string">undefined)&#123;</span> %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"&lt;%= theme.declare.licensee_url%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"知识共享许可协议"</span> <span class="attr">style</span>=<span class="string">"border-width:0"</span> <span class="attr">src</span>=<span class="string">"&lt;%= theme.declare.licensee_img%&gt;"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123;%&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"declare"</span> <span class="attr">hidden</span>=<span class="string">"hidden"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加版权声明》 --&gt;</span></span><br></pre></td></tr></table></figure><p>修改<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《添加版权声明 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.declare</span>)&#123;%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">declare</span>') %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加版权声明》 --&gt;</span></span><br></pre></td></tr></table></figure><p>效果图：<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573110209160.png" alt="file"></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 版权声明 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加背景音乐</title>
      <link href="/article/5c52aefe.html"/>
      <url>/article/5c52aefe.html</url>
      
        <content type="html"><![CDATA[<p>添加背景音乐（截图为APlayer播放器）<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573392916217.png" alt="file"></p><a id="more"></a><h3 id="简单版：网易云外链">简单版：网易云外链</h3><p>参考：</p><ul><li><a href="https://www.writebug.site/2018/04/21/hexo-yilia%E4%B8%AA%E6%80%A7%E5%8C%96%E4%B9%8B-%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90/" target="_blank" rel="noopener">hexo+yilia个性化之-添加背景音乐</a></li><li><a href="https://www.techgrow.cn/posts/cfdad023.html" target="_blank" rel="noopener">Hexo博客yilia主题添加背景音乐 （网易云音乐）</a></li></ul><p>步骤：<br>1.到<a href="https://music.163.com/" target="_blank" rel="noopener">网易云官网</a>获取音乐外链：搜索音乐–&gt;生成外链播放器（使用iframe插件形式）–&gt;复制代码</p><p>2.打开路径 <code>themes/yilia/layout/_partial/left-col.ejs</code>，在最后一个<code>&lt;/nav&gt;</code>上面添加代码，就像下面这样。注意是否需要自动播放，建议不要设置为自动播放（src中的<code>auto=0</code>表示不自动播放，如果是1就自动播放）。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">228</span> <span class="attr">height</span>=<span class="string">86</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1371939273&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.根据需要设置宽高属性，宽建议228。</p><p>4.为了方便起见，设置成能够在主题的配置文件中开启和关闭的形式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《左侧边栏添加--网易云音乐插件 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://www.writebug.site/2018/04/21/hexo-yilia个性化之-添加背景音乐/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.simple_163_music</span> &amp;&amp; <span class="attr">theme.simple_163_music.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">228</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1371939273&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 网易云音乐插件》--&gt;</span></span><br></pre></td></tr></table></figure><p>同时需要在主题的配置文件<code>themes/yilia/_config.yml</code>中开启：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 音乐</span></span><br><span class="line"><span class="comment"># 简单的网易云音乐</span></span><br><span class="line"><span class="attr">simple_163_music:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如需关闭设置为false。</p><h3 id="复杂版：aplayer音乐播放器">复杂版：APlayer音乐播放器</h3><p>参考：</p><ul><li><a href="https://www.techgrow.cn/posts/cfdad023.html" target="_blank" rel="noopener">Hexo全局添加APlayer音乐播放器</a></li><li>APlayer官网：<a href="https://aplayer.js.org" target="_blank" rel="noopener">https://aplayer.js.org</a></li><li>github仓库：<a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener">https://github.com/MoePlayer/APlayer</a></li><li>使用说明：<a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">https://aplayer.js.org/#/zh-Hans/</a></li></ul><h4 id="安装步骤">安装步骤</h4><p>1.打开路径 <code>themes/yilia/layout/_partial/left-col.ejs</code>，在最后一个<code>&lt;/nav&gt;</code>上面添加代码，就像下面这样。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《左侧边栏添加--APlayer音乐播放器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- // 这里div的样式是笔者自己修改过的，你可以直接使用APlayer官方的原配置：&lt;div id="aplayer"&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"position:absolute;left;0;bottom:0;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span></span><br><span class="line"><span class="javascript">        container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span></span><br><span class="line"><span class="actionscript">        autoplay: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">        listFolded: <span class="literal">true</span>,</span></span><br><span class="line">        listMaxHeight: 90,</span><br><span class="line"><span class="actionscript">        order: <span class="string">'list'</span>,</span></span><br><span class="line"><span class="actionscript">        loop: <span class="string">'all'</span>,</span></span><br><span class="line"><span class="actionscript">        theme: <span class="string">'#b7daff'</span>,</span></span><br><span class="line"><span class="actionscript">        preload: <span class="string">'none'</span>,</span></span><br><span class="line"><span class="actionscript">        mutex: <span class="literal">true</span>,</span></span><br><span class="line">        lrcType: 3,</span><br><span class="line">        volume: 0.7,</span><br><span class="line"><span class="actionscript">        fixed: <span class="literal">true</span>,</span></span><br><span class="line">        audio: [&#123;</span><br><span class="line"><span class="actionscript">                name: <span class="string">'亲爱的旅人啊（Cover：木村弓）'</span>,</span></span><br><span class="line"><span class="actionscript">                artist: <span class="string">'周深'</span>,</span></span><br><span class="line"><span class="actionscript">                lrc: <span class="string">'/music/lrc/亲爱的旅人啊（Cover：木村弓）-周深.lrc'</span>,</span></span><br><span class="line"><span class="actionscript">                cover: <span class="string">'http://p1.music.126.net/1YrCPOBV314i-mTtlDg8mQ==/109951164148664637.jpg?param=300x300'</span>,</span></span><br><span class="line"><span class="actionscript">                url: <span class="string">'http://m10.music.126.net/20191102134206/7c499bc0065a03c980aa04817b2b7b2b/ymusic/555f/525a/5258/b5f91cd86ce0046a6f70e249d0802a1e.mp3'</span></span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line"><span class="actionscript">                name: <span class="string">'陈情令：无羁'</span>,</span></span><br><span class="line"><span class="actionscript">                artist: <span class="string">'Silu Wang'</span>,</span></span><br><span class="line"><span class="actionscript">                lrc: <span class="string">''</span>,</span></span><br><span class="line"><span class="actionscript">                cover: <span class="string">'http://p2.music.126.net/8eL7nls1F8o48_umy0uqBQ==/109951164361652548.jpg?param=300x300'</span>,</span></span><br><span class="line"><span class="actionscript">                url: <span class="string">'http://m10.music.126.net/20191102144314/e85a4a99852144dced7bc7eace047ecc/ymusic/015d/550f/5152/67f6f0756ebe8bd362f5f85c507acf68.mp3'</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="comment">&lt;!-- 根据封面自适应主题色 --&gt;</span></span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="actionscript">            colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span><span class="params">(color)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    setTheme(ap.list.index);</span><br><span class="line"><span class="actionscript">    ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">        setTheme(data.index);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><p>2.同时需要在主题的配置文件<code>themes/yilia/_config.yml</code>中开启：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加APlayer音乐播放器，官网：https://aplayer.js.org</span></span><br><span class="line"><span class="comment"># github: https://github.com/MoePlayer/APlayer</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如需关闭设置为false。</p><h4 id="说明">说明</h4><p>1.存在问题：<code>fixed: true</code>模式下，歌曲列表高度<code>listMaxHeight</code>好像无效。</p><p>2.使用：音乐直链搜索：<a href="https://music.liuzhijin.cn/" target="_blank" rel="noopener">https://music.liuzhijin.cn/</a> 查找的歌曲好像有限制，就是如果使用太频繁，会被拒绝访问（响应码403，有点像禁爬虫）。可以使用七牛云存储对应MP3文件。（歌词好像是没有显示的）</p><p>3.对于有些歌曲没有歌词的情况（如上面的第二首歌），不建议直接置为空<code>lrc: '',</code>，这样会出现问题：一开始可能没有问题，如果设置循环，第二次时就会报错–找不到歌词。建议：添加同名歌词文件，如<code>/music/lrc/无羁 - Silu Wang-陈情令.lrc</code>，歌词内容置为空，如：<code>[00:00.00] 暂无歌词</code>，这样就不会出现类似问题。</p><h4 id="补充🐛">补充🐛</h4><p>上面说到的歌曲列表高度<code>listMaxHeight</code>问题，应该是一个bug，详见：<a href="https://github.com/MoePlayer/APlayer/issues/345" target="_blank" rel="noopener">listMaxHeight does not work and no scroll in Fixed mode</a>，但是可以不进行设置，因为它有一个默认值250px。</p><h4 id="更新">更新</h4><p>将配置分开，方便修改。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《左侧边栏添加--APlayer音乐播放器：详见：https://aplayer.js.org/#/zh-Hans/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.aplayer.enable</span>) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">style</span>=<span class="string">"text-align:left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为方便修改，添加一个配置文件，修改时直接修改配置文件即可。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&lt;%- url_for('js/APlayer_config.js') %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 根据封面自适应主题色，主要是作用于进度条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">const</span> colorThief = <span class="keyword">new</span> ColorThief();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> setTheme = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (!ap.list.audios[index].theme) &#123;</span></span><br><span class="line"><span class="actionscript">              colorThief.getColorAsync(ap.list.audios[index].cover, <span class="function"><span class="keyword">function</span><span class="params">(color)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                ap.theme(<span class="string">`rgb(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>)`</span>, index);</span></span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;;</span><br><span class="line">          setTheme(ap.list.index);</span><br><span class="line"><span class="actionscript">          ap.on(<span class="string">'listswitch'</span>, (data) =&gt; &#123;</span></span><br><span class="line">            setTheme(data.index);</span><br><span class="line">          &#125;);       </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 左侧边栏添加--APlayer音乐播放器》 --&gt;</span></span><br></pre></td></tr></table></figure><p>配置文件<code>H:\Hexo\themes\yilia\source\js\APlayer_config.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span><br><span class="line">    fixed: <span class="literal">true</span>,</span><br><span class="line">    autoplay: <span class="literal">false</span>,</span><br><span class="line">    theme: <span class="string">'#b7daff'</span>,</span><br><span class="line">    loop: <span class="string">'all'</span>,</span><br><span class="line">    order: <span class="string">'list'</span>,</span><br><span class="line">    preload: <span class="string">'auto'</span>,</span><br><span class="line">    volume: <span class="number">0.5</span>,</span><br><span class="line">    lrcType: <span class="number">3</span>,</span><br><span class="line">    mutex: <span class="literal">true</span>,</span><br><span class="line">    listFolded: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">    audio: [&#123;</span><br><span class="line">            name: <span class="string">'一直很安静'</span>,</span><br><span class="line">            artist: <span class="string">'阿桑'</span>,</span><br><span class="line">            lrc: <span class="string">'/music/lrc/一直很安静 - 阿桑.lrc'</span>,</span><br><span class="line">            cover: <span class="string">'https://p1.music.126.net/SpovasHBud2A1qXXADXsBg==/109951163167455610.jpg?param=300x300'</span>,</span><br><span class="line">            url: <span class="string">'http://q0fzyzixq.bkt.clouddn.com/audio/mp3/一直很安静 - 阿桑.mp3'</span></span><br><span class="line">                  &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'亲爱的旅人啊（Cover：木村弓）'</span>,</span><br><span class="line">            artist: <span class="string">'周深'</span>,</span><br><span class="line">            lrc: <span class="string">'/music/lrc/亲爱的旅人啊（Cover：木村弓）-周深.lrc'</span>,</span><br><span class="line">            cover: <span class="string">'https://p1.music.126.net/1YrCPOBV314i-mTtlDg8mQ==/109951164148664637.jpg?param=300x300'</span>,</span><br><span class="line">            url: <span class="string">'http://q0fzyzixq.bkt.clouddn.com/audio/mp3/亲爱的旅人啊（Cover：木村弓） - 周深.mp3'</span></span><br><span class="line">                  &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>分开后，如果需要更新歌曲，只需要更新音乐的配置文件<code>APlayer_config.js</code>就可以了，而不是修改主题的布局文件。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 音乐 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加相册视频功能</title>
      <link href="/article/d0ba4c3d.html"/>
      <url>/article/d0ba4c3d.html</url>
      
        <content type="html"><![CDATA[<p>主要是添加相册和视频功能，参考<a href="http://lawlite.me/2017/04/13/Hexo-Github%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">Hexo-Github实现相册功能</a> ，csdn博客：<a href="https://blog.csdn.net/u013082989/article/details/70162293" target="_blank" rel="noopener">Hexo+Github实现相册功能</a>，我看到网上好多人都是按照这个模板来实现的。</p><p>效果图：<br><img src="https://s2.ax1x.com/2019/08/15/mV0P56.jpg" alt="mV0P56.jpg"></p><a id="more"></a><p>注：这个视频加载不出来应该是因为和视频链接有关系.<br><img src="https://s2.ax1x.com/2019/08/15/mV0CUx.jpg" alt="mV0CUx.jpg"></p><h2 id="一-增加相册功能">一、增加相册功能</h2><h3 id="1-原理">1. 原理</h3><p>两个github仓库，一个存放图片，一个存放hexo博客（当然你一个仓库两个分支也可以，我就是这样）。<br><img src="https://s2.ax1x.com/2019/08/15/mV0Yrj.jpg" alt="mV0Yrj.jpg"></p><h3 id="2-修改代码">2.修改代码</h3><p>源代码到github去下：<a href="https://github.com/lawlite19/Blog-Back-Up" target="_blank" rel="noopener">https://github.com/lawlite19/Blog-Back-Up</a></p><h4 id="2-1-新建博客的photos页面">2.1 新建博客的photos页面</h4><ul><li><p>在<strong>博客</strong>的<code>source</code>文件夹下建立一个<code>photos</code>文件夹</p></li><li><p>将样式文件放到<code>photos</code>文件夹下，样式文件我都放到了<code>github</code>上：<a href="https://github.com/lawlite19/Blog-Back-Up/tree/master/blog_photos_copy" target="_blank" rel="noopener">https://github.com/lawlite19/Blog-Back-Up/tree/master/blog_photos_copy</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">├─blog_photos_copy</span><br><span class="line">│      data.json</span><br><span class="line">│      index.ejs</span><br><span class="line">│      ins.css</span><br><span class="line">│      ins.js</span><br><span class="line">│      lazyload.min.js</span><br></pre></td></tr></table></figure></li><li><p>修改<code>ins.js</code>文件，主要是里面的<code>render</code>函数</p></li><li><p>其中的<code>url</code>对应到你的<code>github</code>放图片的地址</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minSrc = <span class="string">'https://raw.githubusercontent.com/lawlite19/blog-back-up/master/min_photos/'</span> + data.link[i];</span><br><span class="line"><span class="keyword">var</span> src = <span class="string">'https://raw.githubusercontent.com/lawlite19/blog-back-up/master/photos/'</span> + data.link[i];</span><br></pre></td></tr></table></figure><h4 id="2-2-新建本地图片库">2.2 新建本地图片库</h4><p>新建一个文件夹存放图片，我的是<code>photos-source</code>，新建目录<code>photos</code>，<code>min_photos</code>，同时把<code>ImageProcess.py</code>,<code>ImageProcess.pyc</code>， <code>tool.py</code> 这三个文件放到该目录下。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">H:.photos-source</span><br><span class="line">│  ImageProcess.py</span><br><span class="line">│  ImageProcess.pyc</span><br><span class="line">│  tool.py</span><br><span class="line">│</span><br><span class="line">├─blog_photos_copy</span><br><span class="line">│      data.json</span><br><span class="line">│      index.ejs</span><br><span class="line">│      ins.css</span><br><span class="line">│      ins.js</span><br><span class="line">│      lazyload.min.js</span><br><span class="line">│</span><br><span class="line">├─min_photos</span><br><span class="line">│      2014-11-16_鞠婧祎1.jpg</span><br><span class="line">│</span><br><span class="line">├─photos</span><br><span class="line">│      2014-11-16_鞠婧祎1.jpg</span><br><span class="line">│      data.json</span><br><span class="line">│</span><br><span class="line">└─__pycache__</span><br><span class="line">        ImageProcess.cpython-37.pyc</span><br></pre></td></tr></table></figure><h4 id="2-3-修改tool-py中的路径">2.3 修改<code>tool.py</code>中的路径</h4><p>修改这里的下面代码块的路径：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#路径换成自己的博客的图片文件夹的路径:H:\Hexo\source\photos</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"H:\\Hexo\\source\\photos\\data.json"</span>,<span class="string">"w"</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        json.dump(final_dict, fp)</span><br></pre></td></tr></table></figure><p>注意：如果不是用两个仓库，可以注释git命令部分内容，然后需要自己先将图片上传到github上，要不然显示不了。</p><h4 id="2-4-每次上传照片都需要运行python脚本">2.4 每次上传照片都需要运行python脚本</h4><p>需要安装python环境，在命令行运行<code>py tool.py</code>命令。</p><h4 id="2-5-开启相册功能">2.5 开启相册功能</h4><p><code>H:\Hexo\themes\yilia\_config.yml</code>取消注册相册行。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">主页:</span> <span class="string">/</span></span><br><span class="line">  <span class="comment">#随笔: /tags/随笔/</span></span><br><span class="line">  <span class="comment">#分类: /categories</span></span><br><span class="line">  <span class="string">归档:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="string">相册:</span> <span class="string">/photos</span></span><br><span class="line">  <span class="comment">#标签: /tags</span></span><br></pre></td></tr></table></figure><h3 id="3-存在问题">3.存在问题</h3><p>众所周知，国内访问GitHub还有比较慢的，所以有时候图片会加载不出来。<br>替换方法：使用七牛云作为图库，存放图片，这种方式网上也很常见，可以自行修改。</p><h2 id="二-添加-相册页的-视频功能">二、添加（相册页的）视频功能</h2><p>视频功能基于相册功能，相当于在其旁边添加一个导航栏，导航到相册页。</p><h3 id="1-添加视频样式css">1、添加视频样式css</h3><ul><li>打开<strong>当前博客</strong><code>source\photos</code>文件夹下的<code>ins.css</code>文件</li><li>加入如下内容</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ====== video ===== */</span></span><br><span class="line"> <span class="selector-class">.video-container</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">56.25%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.video-container</span> <span class="selector-tag">iframe</span>, <span class="selector-class">.video-container</span> <span class="selector-tag">object</span>, <span class="selector-class">.video-container</span> <span class="selector-tag">embed</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">7%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">85%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">85%</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">20px</span> <span class="number">2px</span> <span class="number">#888888</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-添加视频">2、添加视频</h3><ul><li>我这里添加的是<strong>优酷</strong>上面的视频</li><li>在<strong>当前博客</strong><code>source\photos</code>文件夹下建立<code>videos.ejs</code>文件</li><li>内容如下：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">slug: "photos"</span><br><span class="line">title: "相册"</span><br><span class="line">noDate: "true"</span><br><span class="line">comments: "true"</span><br><span class="line">reward: "true"</span><br><span class="line">open_in_new: false</span><br><span class="line">---</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./ins.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"photos-btn-wrap"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn"</span> <span class="attr">href</span>=<span class="string">"/photos"</span>&gt;</span>Photos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn active"</span> <span class="attr">href</span>=<span class="string">"/photos/videos.html"</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指弹_女儿情<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"80%"</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMjUzMzY4OTM3Ng=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指弹_友谊地久天长<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"80%"</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMjQ5MDExOTY2MA=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指弹_Always with me<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"video-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"80%"</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMjQ4MDQyNTQ0MA=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-修改-hexo-source-photos-index-ejs的相册的超链接">3、修改<code>\Hexo\source\photos\index.ejs</code>的相册的超链接</h3><p>原来是<code>&lt;a class=&quot;photos-btn&quot; href=&quot;#&quot;&gt;Videos&lt;/a&gt;</code>，不修改是访问不了的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">slug: "photos"</span><br><span class="line">title: "相册"</span><br><span class="line">noDate: "true"</span><br><span class="line">comments: "false"</span><br><span class="line">---</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./ins.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"photos-btn-wrap"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn active"</span> <span class="attr">href</span>=<span class="string">"javascript:void(0)"</span>&gt;</span>Photos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"photos-btn"</span> <span class="attr">href</span>=<span class="string">"/photos/videos.html"</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 视频 </tag>
            
            <tag> 相册 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加百度统计和Google统计</title>
      <link href="/article/eda67a25.html"/>
      <url>/article/eda67a25.html</url>
      
        <content type="html"><![CDATA[<h3 id="简介">简介</h3><p>百度统计和Google统计主要用于分析网站数据：流量、访客量等。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478431897.png" alt="file"></p><p>需要注册账号，然后将代码（脚本）嵌入到网站中，然后在后台就会生成对应数据，然后进行分析。</p><ul><li>百度统计网址：<a href="https://tongji.baidu.com" target="_blank" rel="noopener">https://tongji.baidu.com</a></li><li>Google统计网址：<a href="https://analytics.google.com/analytics/web/" target="_blank" rel="noopener">https://analytics.google.com/analytics/web/</a></li></ul><a id="more"></a><h3 id="说明">说明</h3><p>yilia主题已集成，位置如下，我们只需要在主题的配置文件中进行配置即可。</p><ul><li><code>H:\Hexo\themes\yilia\layout\_partial\baidu-analytics.ejs</code></li><li><code>H:\Hexo\themes\yilia\layout\_partial\google-analytics.ejs</code></li></ul><h3 id="配置">配置</h3><p><code>H:\Hexo\themes\yilia\_config.yml</code>原内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Miscellaneous</span></span><br><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">google_analytics:</span> <span class="string">''</span></span><br></pre></td></tr></table></figure><p>主要是配置对应的id即可（google_analytics的代码好像更新了，建议新建，使用新的代码）。</p><h4 id="百度">百度</h4><p>网址生成的原代码（id是一串字符串，这里隐藏了）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> _hmt = _hmt || [];</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">  hm.src = <span class="string">"https://hm.baidu.com/hm.js?id"</span>;</span><br><span class="line">  <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>]; </span><br><span class="line">  s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573050740534.png" alt="file"></p><p>对应的配置文件<code>H:\Hexo\themes\yilia\layout\_partial\baidu-analytics.ejs</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.baidu_analytics</span>)&#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> _hmt = _hmt || [];</span></span><br><span class="line"><span class="actionscript">(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></span><br><span class="line"><span class="actionscript">hm.src = <span class="string">"https://hm.baidu.com/hm.js?&lt;%= theme.baidu_analytics %&gt;"</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>]; </span></span><br><span class="line">s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h4 id="google全局网站代码-gtag-js">Google全局网站代码 (gtag.js)</h4><p>我找了好久才找到代码，因此记录下：</p><p><strong>生成代码</strong>：控制台–&gt;（左下角）管理–&gt;管理–&gt;（中间）媒体资源–&gt;（中间）跟踪信息–&gt;跟踪代码</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573052579176.png" alt="file"></p><p>这是针对此媒体资源的全局网站代码 (gtag.js) 跟踪代码。请复制此代码，并将其作为第一个项目粘贴到您要跟踪的每个网页的<code>&lt;HEAD&gt;</code>  标记中。如果您的网页上已经有全局网站代码，则只需将以下代码段中的 <strong>config</strong> 行添加到现有的全局网站代码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span><br><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"https://www.googletagmanager.com/gtag/js?id=ID"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span><br><span class="line">  gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">  gtag(<span class="string">'config'</span>, <span class="string">'ID'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573050951989.png" alt="file"></p><p>对应的配置文件<code>H:\Hexo\themes\yilia\layout\_partial\google_analytics.ejs</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.google_analytics</span>)&#123; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">(<span class="function"><span class="keyword">function</span><span class="params">(i,s,o,g,r,a,m)</span></span>&#123;i[<span class="string">'GoogleAnalyticsObject'</span>]=r;i[r]=i[r]||<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">(i[r].q=i[r].q||[]).push(<span class="built_in">arguments</span>)&#125;,i[r].l=<span class="number">1</span>*<span class="keyword">new</span> <span class="built_in">Date</span>();a=s.createElement(o),</span></span><br><span class="line">m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)</span><br><span class="line"><span class="javascript">&#125;)(<span class="built_in">window</span>,<span class="built_in">document</span>,<span class="string">'script'</span>,<span class="string">'//www.google-analytics.com/analytics.js'</span>,<span class="string">'ga'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">ga(<span class="string">'create'</span>, <span class="string">'&lt;%= theme.google_analytics %&gt;'</span>, <span class="string">'auto'</span>);</span></span><br><span class="line"><span class="actionscript">ga(<span class="string">'send'</span>, <span class="string">'pageview'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- End Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>代码好像更新了，yilia主题自带的代码应该是旧的，更换为下面的：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.google_analytics</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://www.googletagmanager.com/gtag/js?id=&lt;%= theme.google_analytics %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span></span><br><span class="line"><span class="javascript">      gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"><span class="actionscript">      gtag(<span class="string">'config'</span>, <span class="string">'&lt;%= theme.google_analytics %&gt;'</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- End Google Analytics --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="配置id">配置id</h4><p><code>H:\Hexo\themes\yilia\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Miscellaneous(杂项):百度统计、Google统计</span></span><br><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">'百度统计id'</span></span><br><span class="line"><span class="attr">google_analytics:</span> <span class="string">'Google统计id'</span></span><br></pre></td></tr></table></figure><h4 id="成功效果">成功效果</h4><p>本地测试，F12打开控制台，没有报相关错误，而且在<code>Sources--&gt;Page</code>有显示下面两个网站，说明配置成功了。过一段之间再去数据分析控制台查看，应该就会有数据。百度介绍说好像是20分钟就有数据了，我试了下，真有了，很快。google也立刻就有数据了。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573051922653.png" alt="file"></p><h3 id="说明-v2">说明</h3><p>Google虽然好，但是因为墙的原因，所以有时候可能会出现问题。</p><blockquote><p>参考：</p><ul><li><a href="https://support.google.com/analytics/answer/1008080?hl=zh-Hans" target="_blank" rel="noopener">设置 Google Analytics（分析）代码</a></li><li><a href="https://blog.csdn.net/qq_39181100/article/details/86657766" target="_blank" rel="noopener">Hexo-blog-yilia主题迭代 – 增加RSS功能+百度统计/google统计</a></li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 百度统计 </tag>
            
            <tag> Google统计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia进行SEO优化</title>
      <link href="/article/c1217b1d.html"/>
      <url>/article/c1217b1d.html</url>
      
        <content type="html"><![CDATA[<h2 id="介绍">介绍</h2><h3 id="seo优化">SEO优化</h3><p>推广是一个烦人的事情，特别是对于我们搞技术的来说，可能就不擅长推广，那么怎么才能让别人知道我们呢，我们就要想办法让别人通过搜索就可以搜索到你博客的内容，给我们带来自然流量，这就需要seo优化,让我们的站点变得对搜索引擎友好。</p><blockquote><p>SEO是由英文Search Engine Optimization缩写而来， 中文意译为“搜索引擎优化”。SEO是指通过站内优化比如网站结构调整、网站内容建设、网站代码优化等以及站外优化。</p></blockquote><a id="more"></a><h2 id="百度收录">百度收录</h2><p>参考：<a href="https://blog.csdn.net/linzhiqiang0316/article/details/89344595" target="_blank" rel="noopener">https://blog.csdn.net/linzhiqiang0316/article/details/89344595</a><br>百度官方介绍：<a href="https://ziyuan.baidu.com/college/articleinfo?id=1504" target="_blank" rel="noopener">https://ziyuan.baidu.com/college/articleinfo?id=1504</a></p><p>bug:提交推送链接后，百度好像有延迟，你不能立即看到提交数据的变化，我的是过几天后才有数据的。</p><h3 id="如何选择链接提交方式-？">如何选择链接提交方式 ？</h3><ol><li>手动提交：一次性提交链接给百度，可以使用此种方式。</li><li>自动提交（虽然这种方式各有千秋，但是百度推荐全用上，全面一点！）：<br>2.1 主动推送（实时）：最为快速的提交方式，推荐您将站点当天新产出链接立即通过此方式推送给百度，以保证新链接可以及时被百度收录。<br>2.2 自动推送：最为便捷的提交方式，请将自动推送的JS代码部署在站点的每一个页面源代码中，部署代码的页面在每次被浏览时，链接会被自动推送给百度。可以与主动推送配合使用。<br>2.3 sitemap：您可以定期将网站链接放到sitemap中，然后将sitemap提交给百度。百度会周期性的抓取检查您提交的sitemap，对其中的链接进行处理，但收录速度慢于主动推送。</li></ol><h3 id="设置推送">设置推送</h3><p>站长平台：<a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener">https://ziyuan.baidu.com</a></p><p>前提：注册百度，添加站点、验证站点。</p><p><strong>注意</strong>：使用HTML进行验证的话，要保证该文件上传到网站后是一模一样的，即不然被渲染和压缩，跳过渲染可以再HTML文件前面加入下面的内容；跳过压缩因插件而异。跳过该HTML文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>验证成功就能在百度找到你的网站了,如<code>site:www.yansheng.xyz</code>，不过百度好像没有那么快，可能需要一两天。</p><h4 id="主动推送">主动推送</h4><p>参考：<a href="https://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/" target="_blank" rel="noopener">Hexo插件之百度主动提交链接</a></p><h5 id="前提：获得秘钥">前提：获得秘钥</h5><p>您得注册百度站长工具，然后在<strong>（标题栏）网站支持-&gt;数据引入-&gt;链接提交</strong>里找到你的密匙。<br>现在（2020-6-23）该网站好像改版了，你可以在<strong>资源提交-&gt;普通收录</strong>里找到你的密匙，如下图。</p><p><img src="https://oss.yansheng.xyz/picgo/20200623000004.png" alt></p><h5 id="添加插件hexo-baidu-url-submit">添加插件hexo-baidu-url-submit</h5><p>该插件github网址：<a href="https://github.com/huiwang/hexo-baidu-url-submit" target="_blank" rel="noopener">https://github.com/huiwang/hexo-baidu-url-submit</a></p><p>首先，在Hexo根目录下，安装本插件：<br><code>npm install hexo-baidu-url-submit --save</code></p><h5 id="配置-百度主动推送">配置“百度主动推送”</h5><p>然后，同样在根目录下，把以下内容配置到<code>_config.yml</code>文件中:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 百度主动推送</span></span><br><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line"><span class="attr">  count:</span> <span class="number">1</span> <span class="comment">## 提交最新的一个链接</span></span><br><span class="line"><span class="attr">  host:</span> <span class="string">www.hui-wang.info</span> <span class="comment">## 在百度站长平台中注册的域名</span></span><br><span class="line"><span class="attr">  token:</span> <span class="string">your_token</span> <span class="comment">## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidu_urls.txt</span> <span class="comment">## 文本文档的地址， 新链接会保存在此文本文档里</span></span><br></pre></td></tr></table></figure><p>其次，记得查看<code>_config.yml</code>文件中url的值， 必须包含是百度站长平台注册的域名（一般有www）， 比如:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">http://www.hui-wang.info</span></span><br></pre></td></tr></table></figure><p>最后，加入新的deployer:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">s3</span> <span class="comment">## 这是我原来的deployer</span></span><br><span class="line"><span class="attr">  bucket:</span> <span class="string">hui-wang.info</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">baidu_url_submitter</span> <span class="comment">## 这是新加的</span></span><br></pre></td></tr></table></figure><p>注意：上面是官方的文档，而实际上应该要这样，可参考我的：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> </span><br><span class="line"><span class="attr">     github:</span> <span class="attr">https://github.com/yansheng836/yansheng836.github.io.git</span></span><br><span class="line"><span class="attr">     coding:</span> <span class="attr">https://git.dev.tencent.com/yansheng836/yansheng836.coding.me.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="comment"># 发布时，同时进行百度推送</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">baidu_url_submitter</span></span><br></pre></td></tr></table></figure><p>因为不是有两个deploy，要放在一起。</p><h5 id="如何进行推送">如何进行推送</h5><p>执行<code>hexo deploy</code>的时候，新的连接就会被推送了。如下图</p><p><img src="https://s2.ax1x.com/2019/08/17/mnv2AU.jpg" alt="mnv2AU.jpg"></p><p>查看官网信息(如下所示)我们可以知道这是推送成功了。</p><p>补充：官网信息查看方式 <strong>(标题栏)网站支持-&gt;数据引入-&gt;链接提交-&gt;自动提交-&gt;主动推送</strong>，在下面就有推送成功的信息（如下）。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#成功返回示例：</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">"remain"</span>:<span class="number">4999998</span>,</span><br><span class="line">    <span class="attr">"success"</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="attr">"not_same_site"</span>:[],</span><br><span class="line">    <span class="attr">"not_valid"</span>:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重新生成后，我们可以发现在<code>public\</code>目录下生成有<code>baidu_urls.txt</code>里面的就是推送的链接。</p><h4 id="自动推送">自动推送</h4><p>参考：<a href="https://purewhite.io/2017/04/29/hexo-baidu-url-submit/" target="_blank" rel="noopener">https://purewhite.io/2017/04/29/hexo-baidu-url-submit/</a></p><p><a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/c1215e132f6d5621c5fea83d3c4f7ccbcca074a3</a></p><p>1.在配置<code>H:\Hexo\themes\yilia\_config.yml</code>中开启功能：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开启百度站长平台自动推送(https://ziyuan.baidu.com/linksubmit/index)</span></span><br><span class="line"><span class="comment"># 页面被访问了，就会被推送过去。</span></span><br><span class="line"><span class="attr">baidu_push:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>2.新建<code>H:\Hexo\themes\yilia\layout\_partial\baidu-push.ejs</code>：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.baidu_push</span>)&#123; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 开启百度站长平台自动推送https://ziyuan.baidu.com/linksubmit/index，</span></span><br><span class="line"><span class="comment">https://ziyuan.baidu.com/college/courseinfo?id=267&amp;page=2#h2_article_title19--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> bp = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> curProtocol = <span class="built_in">window</span>.location.protocol.split(<span class="string">':'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (curProtocol === <span class="string">'https'</span>) &#123;</span></span><br><span class="line"><span class="actionscript">      bp.src = <span class="string">'https://zz.bdstatic.com/linksubmit/push.js'</span>;</span></span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">      bp.src = <span class="string">'http://push.zhanzhang.baidu.com/push.js'</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>];</span></span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">  &#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>3.在<code>H:\Hexo\themes\yilia\layout\_partial\head.ejs</code>的<code>&lt;/head&gt;</code>前引入脚本：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--百度自动推送--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">baidu-push</span>') %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="sitemap">sitemap</h4><p>参考博客:<a href="https://purewhite.io/2017/04/29/hexo-baidu-url-submit/" target="_blank" rel="noopener">https://purewhite.io/2017/04/29/hexo-baidu-url-submit/</a></p><p>我们使用 <code>hexo generator-baidu-sitemap</code>这个插件，github：<a href="https://github.com/coneycode/hexo-generator-baidu-sitemap" target="_blank" rel="noopener">https://github.com/coneycode/hexo-generator-baidu-sitemap</a></p><p>或者使用这个插件：<a href="https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap" target="_blank" rel="noopener">https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap</a>:它将为页面，帖子，类别，标签和XSL样式表生成单独的站点地图文件。</p><h5 id="安装hexo-generator-baidu-sitemap插件">安装<code>hexo generator-baidu-sitemap</code>插件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#if your hexo version is 2.x.x, you should install as follow:</span></span><br><span class="line">$ npm install hexo-generator-baidu-sitemap@0.0.8 --save</span><br><span class="line"></span><br><span class="line"><span class="comment">#if version is 3.x.x, you should install as follow:</span></span><br><span class="line">$ npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><h5 id="然后在-config-yml-里面配置一下：">然后在<code>_config.yml</code> 里面配置一下：</h5><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p><code>hexo g</code>后，会在<code>public\</code>目录下生成站点文件<code>baidusitemap.xml</code>。</p><h5 id="百度站长平台设置">百度站长平台设置</h5><p>之后去百度站长平台提交一下 sitemap 的路径就好，一般都是 <code>www.example.com/baidusitemap.xml</code>，一段时间后，去百度搜索相关信息就会出现这些网页。</p><h3 id="效果">效果</h3><p>在站长平台可以看到链接提交数量，如：</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573539847586.png" alt="file"></p><h2 id="google收录">Google收录</h2><p>和百度类似。</p><h4 id="添加网站-验证">添加网站、验证</h4><p>登录Google账号，打开搜索控制台：<a href="https://search.google.com/search-console" target="_blank" rel="noopener">https://search.google.com/search-console</a>，添加你的网站，需要验证网站，它那里会提供几种验证方式，我是用HTML，下载它的HTML文件，将它添加到你的网站根目录下，然后点击验证。</p><p>**注意：**使用HTML进行验证的话，要保证该文件上传到网站后是一模一样的，即不然被渲染和压缩，跳过渲染可以再HTML文件前面加入下面的内容，跳过压缩因插件而异。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>验证成功很快就能再Google找到你的网站了,如<code>site:www.yansheng.xyz</code>。</p><h4 id="安装hexo-generator-sitemap插件">安装<code>hexo-generator-sitemap</code>插件</h4><p>提交sitemap，上面使用的是百度特有的sitemap，Google识别不了，所以使用通用sitemap生成器hexo-generator-sitemap：<a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="noopener">https://github.com/hexojs/hexo-generator-sitemap</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><h4 id="配置-config-yml">配置<code>_config.yml</code></h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line"><span class="attr">    path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure><p>重新生成，会在根目录下生成<code>sitemap.xml</code>文件，发布后，就可以在google控制台提交这个sitemap了。</p><h3 id="效果-v2">效果</h3><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573540242297.png" alt="file"></p><h2 id="补充">补充</h2><p>SEO只负责提交网站的索引量、访问量，具体数据可以通过添加百度分析和google分析来参看。可参考：<a href="/article/eda67a25.html">hexo+yilia添加百度统计和Google统计</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> SEO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加URL持久化</title>
      <link href="/article/faa5d14.html"/>
      <url>/article/faa5d14.html</url>
      
        <content type="html"><![CDATA[<h2 id="url持久化">URL持久化</h2><p>参考：<a href="http://www.apkbus.com/blog-889706-76401.html" target="_blank" rel="noopener">你的Hexo博客SEO优化了吗？</a></p><p>我们可以发现hexo默认生成的文章地址路径是 【网站名称／年／月／日／文章名称】。比如这篇博客原来的测试页面链接：<a href="http://localhost:4000/2019/11/10/hexo+yilia%E6%B7%BB%E5%8A%A0URL%E6%8C%81%E4%B9%85%E5%8C%96" target="_blank" rel="noopener">http://localhost:4000/2019/11/10/hexo+yilia添加URL持久化</a><br>这种链接对搜索爬虫是很不友好的，第一它的url结构超过了三层，太深了。第二使用了中文路径。这样会导致一个问题，在某些聊天工具或分享链接的时候会造成url转码变成很长一串难以读写的链接。而且如果你的页面之前被收录或被转载后，当你再次编辑过后可能会造成之前的url失效带来不必要的404, 比如下面这样：<br><a href="http://localhost:4000/article/faa5d14.html" target="_blank" rel="noopener">http://localhost:4000/article/faa5d14</a> 。别担心，我们有好办法来解决它。</p><a id="more"></a><h3 id="第一种方式：">第一种方式：</h3><p>打开hexo的配置文件：<code>H:\Hexo\_config.yml</code>，找到<code>permalink</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/ </span></span><br><span class="line"><span class="comment">#注释上行的原配置，改为下面这样</span></span><br><span class="line"><span class="attr">permalink:</span>   <span class="string">/article/:title.html</span></span><br></pre></td></tr></table></figure><p>上面这种方式是去掉了年月日，保持网站最多三层。</p><h3 id="第二种方式：-推荐">第二种方式：(推荐)</h3><p>安装 <code>hexo-abbrlink</code>插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>配置<code>H:\Hexo\_config.yml</code>，查找<code>permalink</code>，修改成这样：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># permalink: :title/  将之前的注释掉</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">article/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line"><span class="attr">  alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line"><span class="attr">  rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br></pre></td></tr></table></figure><p>安装后的网址形如：<a href="http://localhost:4000/article/c5f6d65b.html" target="_blank" rel="noopener">http://localhost:4000/article/c5f6d65b.html</a></p><p><strong>注意</strong>：配置成功需要重新生成文件<code>hexo clean,hexo g</code>，不然会出现<code>undefined</code>的问题，如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-abbrlink --save</span><br><span class="line">npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@1.2.9: wanted &#123;<span class="string">"os"</span>:<span class="string">"darwin"</span>,<span class="string">"arch"</span>:<span class="string">"any"</span>&#125; (current: &#123;<span class="string">"os"</span>:<span class="string">"win32"</span>,<span class="string">"arch"</span>:<span class="string">"x64"</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ hexo-abbrlink@2.0.5</span><br><span class="line">added 15 packages from 13 contributors and audited 26333 packages <span class="keyword">in</span> 27.509s</span><br><span class="line">found 21 vulnerabilities (8 low, 6 moderate, 6 high, 1 critical)</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` <span class="keyword">for</span> details</span><br><span class="line"></span><br><span class="line">yansheng@MECHREVO MINGW64 /h/Hexo (blog)</span><br><span class="line">$ hexo s</span><br><span class="line">(node:1612) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Generating Baidu urls <span class="keyword">for</span> last 100 posts</span><br><span class="line">INFO  Posts urls generated <span class="keyword">in</span> baidu_urls.txt</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line">https://yansheng836.github.io/archives/undefined.html</span><br><span class="line"></span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><h3 id="弊端">弊端</h3><p>其实使用这个也有弊端：</p><ul><li>按照原格式，发布后，在github仓库中你能很清楚地看到你写博客的日期，因为是按照网址分文件夹的。使用该插件后就看不到了。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573058824364.png" alt="file"></li></ul><h3 id="分类和标签路径名英文化">分类和标签路径名英文化</h3><p>上面我们已经实现将文章的URL简短化和英文化了，但是如果我们的标签和分类有中文，这个插件是控制不了的，</p><p>比如有个<strong>生活</strong>的标签，该标签下的所有文章汇总如下：<a href="http://localhost:4000/tags/%E7%94%9F%E6%B4%BB/" target="_blank" rel="noopener">http://localhost:4000/tags/生活/</a>，还是会出现中文，其实这个问题hexo官方自带解决方法，详见：<a href="https://hexo.io/zh-cn/docs/configuration.html#%E5%88%86%E7%B1%BB-amp-%E6%A0%87%E7%AD%BE" target="_blank" rel="noopener">hexo-configuration：分类-amp-标签</a></p><p>截个图：<br><img src="https://oss.yansheng.xyz/picgo/20200410213114.png" alt></p><p>站点的配置文件<code>H:\Hexo\_config.yml</code>有<code>category_map</code>和<code>tag_map</code>配置，即分类和标签的别名（映射），举个例子：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line">    <span class="string">编程:</span> <span class="string">programming</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line">    <span class="string">生活:</span> <span class="string">life</span></span><br></pre></td></tr></table></figure><p>这样标签<code>生活</code>的访问网址为：<a href="http://localhost:4000/tags/life/" target="_blank" rel="noopener">http://localhost:4000/tags/life/</a>，分类同理。</p><blockquote><p>参考：<a href="https://yq.aliyun.com/articles/8607?spm=0.0.0.0.TP5ICj" target="_blank" rel="noopener">https://yq.aliyun.com/articles/8607?spm=0.0.0.0.TP5ICj</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>建站日志</title>
      <link href="/article/e62c38c4.html"/>
      <url>/article/e62c38c4.html</url>
      
        <content type="html"><![CDATA[<p>记录hexo+yilia博客建立过程</p><p><img src="https://oss.yansheng.xyz/img/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E6%88%AA%E5%9B%BE-20191112160122.jpg" alt="博客截图"></p><a id="more"></a><h2 id="特别说明">特别说明</h2><p>该篇博客仅用于记录博客搭建过程。因为这篇文章是后面补的，不是同步进行的，所以有些内容可能有所修改，可能还会存在错误。如需借鉴，仅供参考，如果出现问题可以在文末提问，我知无不言。</p><p>前期添加的功能都使用git进行管理，在文中放了对应提交的链接，所以就没有怎么写博客；后面使用另一个私有仓库存放博客配置和源码，因此后期的功能没有在文章中放链接，但是有写博客，可以到博客中搜索。</p><p>统一说明：在配置文件中，开启配置一般设置为<code>true</code>,关闭为<code>false</code>，因为有些功能我可能暂时不需要可能设置为false了，因此也可能不能在我的博客中预览效果。</p><h2 id="2019年11月10日">2019年11月10日</h2><ul><li>添加<code>hexo-yilia</code>系列博客。</li></ul><h2 id="2019年11月9日">2019年11月9日</h2><ul><li>修复APlayer播放器的bug。更新音乐。</li><li>添加功能标签tag，更新<code>CHANGELOG.md</code>。</li><li>添加8个背景特效。</li><li>修改背景图片（压缩后生成至阿里云OSS）。</li></ul><h2 id="2019年11月8日">2019年11月8日</h2><ul><li>添加按钮，实现缩小左侧边栏的效果。</li><li>添加背景图片。（同时可能设置到需要修改很多样式问题）</li></ul><h2 id="2019年11月7日">2019年11月7日</h2><ul><li>URL持久化，使用简短的URL。</li><li>更新关键字和描述。</li><li>替换渲染引擎，支持表情。</li></ul><h2 id="2019年11月6日">2019年11月6日</h2><ul><li>修改’展开全文’的按钮的样式。</li><li>使用<code>clipboard.js</code>实现复制代码块的功能。</li><li>添加爬虫协议<code>robots.txt</code>。</li><li>添加百度分析和google分析。</li></ul><h2 id="2019年11月5日">2019年11月5日</h2><ul><li>修改部分样式。</li><li>替换APlayer音乐的音乐外链为自己七牛云的外链。</li><li>添加<code>utteranc</code>评论系统。</li></ul><h2 id="2019年11月4日">2019年11月4日</h2><ul><li>添加网站运行时间，如：<code>本站已安全运行 101 天 12 小时 13 分 41 秒</code>。</li><li>添加ICP备案号，如：<code>粤ICP备00000000号</code>。</li><li>修改一些超链接的样式。</li><li>添加看板娘：<code>Live2D</code>。</li></ul><p><img src="https://oss.yansheng.xyz/img/old-blog20191112160702.jpg" alt></p><h2 id="2019年11月3日">2019年11月3日</h2><ul><li>修复底部建站时间（配置关键字’since’）无效的问题：如配置<code>since: 2019</code>，应该显示<code>@2018-2019</code>。</li></ul><h2 id="2019年11月2日">2019年11月2日</h2><ul><li>添加 APlayer音乐播放器。</li><li>修改超链接和引用块的样式。</li></ul><h2 id="2019年10月30日">2019年10月30日</h2><ol><li>修改代码块的样式。</li><li>修改文章内的超链接的样式。</li><li>修改分类页面的标题的样式。</li></ol><p><a href="https://github.com/yansheng836/yansheng836.github.io/commit/ddbabc0689f66618810e17e8d0d3ac1a885cb815" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/ddbabc0689f66618810e17e8d0d3ac1a885cb815</a></p><h2 id="2019年10月18日">2019年10月18日</h2><ul><li>SEO优化：<br>1<a href="https://github.com/yansheng836/yansheng836.github.io/commit/7ae9ca6093febb5c4579e6fca988c1935bb30308" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/7ae9ca6093febb5c4579e6fca988c1935bb30308</a><br>2<a href="https://github.com/yansheng836/yansheng836.github.io/commit/786b3b22ebd8cbdf1fcde0af4216ff5776c13884" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/786b3b22ebd8cbdf1fcde0af4216ff5776c13884</a></li><li>添加’心知天气’。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/8c38bbd631c82c47feb5da37755cc8cd26a9c3f2" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/8c38bbd631c82c47feb5da37755cc8cd26a9c3f2</a></li></ul><h2 id="2019年10月17日">2019年10月17日</h2><ul><li>Backup a new iconfont from ‘JoeyBling/hexo-theme-yilia-plus’， github:<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus</a>，commit:<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/0006834b5bb480b83dfba028c0f0073aa0ff4e36#diff-37125011f1c485ef4209f31ba31134ba" target="_blank" rel="noopener">https://github.com/JoeyBling/hexo-theme-yilia-plus/commit/0006834b5bb480b83dfba028c0f0073aa0ff4e36#diff-37125011f1c485ef4209f31ba31134ba</a></li><li>改变文章字数统计的样式：只在文章里面显示，预览时不显示；添加图标。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/bd4ebc0be6740a5442ada6ce957464014597c4ce" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/bd4ebc0be6740a5442ada6ce957464014597c4ce</a></li><li>添加飘雪特效。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/517a842c154a6b36544b7091cdc416aa9bec05b4" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/517a842c154a6b36544b7091cdc416aa9bec05b4</a></li><li>改变版权声明的样式：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/406978545d896b219ef282a2619c7dc83af25cad" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/406978545d896b219ef282a2619c7dc83af25cad</a></li><li>添加鼠标悬浮标签页的特效。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/a6bc543a3ede337e091423eb9e8931f92485034e</a></li><li>添加RSS订阅。<a href="https://github.com/yansheng836/yansheng836.github.io/commit/00ba67aa0d09a865c331509e26fe44a9ebf1c83f" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/00ba67aa0d09a865c331509e26fe44a9ebf1c83f</a></li></ul><h2 id="2019年8月20日">2019年8月20日</h2><ul><li>添加(/修改)分类页面：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/3a244aa332e48d88acbff4c4b068ec8cdd1f1469" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/3a244aa332e48d88acbff4c4b068ec8cdd1f1469</a></li></ul><h2 id="2019年8月17日">2019年8月17日</h2><ul><li>添加hexo-neat插件–压缩页面静态资源。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.3" target="_blank" rel="noopener">v1.0.3</a>，文档可参考：<a href="https://github.com/yansheng836/yansheng836.github.io/commit/e304666226e6a326eb394c902d0236b6f5948c5d" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/commit/e304666226e6a326eb394c902d0236b6f5948c5d</a><br>注意：压缩资源可能会导致资源加载不了，如果本地测试有问题，可以跳过压缩某资源。</li><li>修复微信分享二维码失效的问题。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.4" target="_blank" rel="noopener">v1.0.4 </a></li><li>添加了百度SEO优化自动提交的三种方式。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.5" target="_blank" rel="noopener">v1.0.5</a></li><li>添加版权声明。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.6" target="_blank" rel="noopener">v1.0.6 </a></li><li>修改代码块的样式。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.7" target="_blank" rel="noopener">v1.0.7</a></li></ul><h2 id="2019年8月16日">2019年8月16日</h2><ul><li>为博客添加valine评论。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.2" target="_blank" rel="noopener">v1.0.2 </a></li></ul><h2 id="2019年8月15日">2019年8月15日</h2><ul><li>添加相册功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.0" target="_blank" rel="noopener">v1.0.0</a></li><li>添加相册页的视频功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v1.0.1" target="_blank" rel="noopener">v1.0.1</a></li><li>添加了相册和视频功能的文档和备份文件。<a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog/docs/%E7%9B%B8%E5%86%8C%E8%A7%86%E5%B1%8F%E5%8A%9F%E8%83%BD%E5%8E%9F%E6%96%87%E5%A4%87%E4%BB%BD" target="_blank" rel="noopener">相册视屏功能原文备份</a></li></ul><h2 id="2019年7月29日">2019年7月29日</h2><ul><li>为头像增加旋转效果：当鼠标悬浮到头像时，头像旋转一圈。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.8" target="_blank" rel="noopener">v0.1.8</a></li><li>安装<code>hexo-admin</code>插件：hexo-admin是一个hexo博客引擎的管理用户界面插件，左边编写博客、右边预览效果。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.9" target="_blank" rel="noopener">v0.1.9</a></li></ul><h2 id="2019年7月27日">2019年7月27日</h2><ul><li>添加背景音乐：侧边栏添加（网易云链接的）背景音乐。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.6" target="_blank" rel="noopener">v0.1.6</a></li><li>为博客设置404页面。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.7" target="_blank" rel="noopener">v0.1.7</a></li></ul><h2 id="2019年7月26日">2019年7月26日</h2><ul><li>添加“不蒜子”访问量统计功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.4" target="_blank" rel="noopener">v0.1.4</a></li><li>设置文章置顶功能：默认的设置是按照时间进行排序，时间越后面顺序越往前；修改后可通过在文章中设置top属性设置文章置顶顺序，top值越大顺序越往前。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.5" target="_blank" rel="noopener">v0.1.5</a></li></ul><h2 id="2019年7月25日">2019年7月25日</h2><ul><li>建站，配置yilia主题的基本信息。主要是用自己的个人信息替换主题模板的信息，如网站、网址、标签、菜单、子导航栏、网站图标、社交关系SubNav图标等。</li><li>处理“标签不能正常显示的问题”。</li><li>增加侧边导航栏的SubNav图标。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.1" target="_blank" rel="noopener">v0.1.1</a></li><li>新增侧边栏归档、分类、标签内容。存在bug（归档可以，但是分类和标签无效）。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.2" target="_blank" rel="noopener">v0.1.2</a></li><li>设置建站时间（有bug，无效）。</li><li>添加字数统计和阅读时长功能。<a href="https://github.com/yansheng836/yansheng836.github.io/releases/tag/v0.1.3" target="_blank" rel="noopener">v0.1.3</a></li></ul><h2 id="2019年7月22日">2019年7月22日</h2><p>初次建站，忘记有个什么东西弄错了，但是没有办法恢复，即使hexo是使用Git进行管理的，只能是重新开始。（不能恢复的原因详见下文的master分支的介绍。）</p><p>研究一番后，得出一个结论：<font color="red">备份，备份，备份！！！</font></p><h3 id="推荐两种备份方法：">推荐两种备份方法：</h3><ol><li>一个GitHub仓库，两个分支：一个分支存放hexo博客源码和配置，另一分支存放发布后的HTML网页。</li><li>两个GitHub仓库：一个仓库存放hexo博客源码和配置（如果需要(比如有私密信息)，可以将该仓库设置私有仓库），另一仓库存放发布后的HTML网页。</li></ol><h3 id="我采用第一种方式：">我采用第一种方式：</h3><ul><li>master分支：<a href="https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/blob/master/README.md</a></li><li>blog分支：<a href="https://github.com/yansheng836/yansheng836.github.io/blob/blog/README.md" target="_blank" rel="noopener">https://github.com/yansheng836/yansheng836.github.io/blob/blog/README.md</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia的标签和分类的区别</title>
      <link href="/article/5026011a.html"/>
      <url>/article/5026011a.html</url>
      
        <content type="html"><![CDATA[<p>测试标签和分类的区别</p><a id="more"></a><p><strong>重点</strong>：分类是有层级关系的，而标签没有。因此如何将分类显示出来也是比较麻烦的，暂时为实现。<br>下面主要看分类：</p><blockquote><p>引用自官方文档：<a href="https://hexo.io/zh-cn/docs/front-matter#JSON-Front-matter" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/front-matter#JSON-Front-matter</a></p></blockquote><p>分类方法的分歧</p><p>如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">  - Diary</span><br><span class="line">  - Life</span><br></pre></td></tr></table></figure><p>会使分类<code>Life</code>成为<code>Diary</code>的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。</p><p>如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">- [Diary, PlayStation]</span><br><span class="line">- [Diary, Games]</span><br><span class="line">- [Life]</span><br></pre></td></tr></table></figure><p>此时这篇文章同时包括三个分类： <code>PlayStation</code> 和 <code>Games</code> 分别都是父分类 <code>Diary</code> 的子分类，同时 <code>Life</code> 是一个没有子分类的分类。</p><blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> categorie1 </category>
          
          <category> categorie11 </category>
          
          <category> categorie21 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia集成utteranc评论系统</title>
      <link href="/article/c5f6d65b.html"/>
      <url>/article/c5f6d65b.html</url>
      
        <content type="html"><![CDATA[<h2 id="hexo-yilia集成utteranc评论系统">hexo+yilia集成utteranc评论系统</h2><p>utteranc评论系统是基于GitHub issues的，类似Gitment/Git talk。</p><p><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960972843.png" alt="file"></p><a id="more"></a><h2 id="前言">前言</h2><p>博客的评论系统还是挺多的，但是也死了挺多的，下面就简单介绍下。(注：以下数据多来自网络，可能存在错误。)</p><h3 id="第一类：已暂停服务的">第一类：已暂停服务的</h3><ul><li>多说：已于2017年6月1日正式关停服务。</li><li>网易云跟帖（网易第三方评论系统）：已于2017年8月1日停止服务。</li><li>友言：2018年4月30日停止了服务。</li></ul><hr><h3 id="第二类：第三方-还可以使用的">第二类：第三方，还可以使用的</h3><ul><li>畅言（搜狐）：畅言是需要备案的，不备案会有15天的试用期。</li><li>Disqus：听说广告有点多。</li><li><a href="https://www.livere.com/" target="_blank" rel="noopener">来比力</a>（韩国）：挺好的，就是国外的，有点慢，可能会加载不出来。</li><li>Valine ：国内后端云服务提供商 LeanCloud 提供的评论系统。Valine 的特点：<ul><li>无后端实现</li><li>高速，使用国内后端云服务提供商 LeanCloud 提供的存储服务</li><li>开源，自定义程度高</li><li>支持邮件通知</li><li>支持验证码</li><li>支持 Markdown</li><li>头像可选择</li></ul></li></ul><hr><h3 id="第三类：github相关的">第三类：GitHub相关的</h3><ul><li>giteement：基于码云的评论系统，详见：<a href="https://gitee.com/zhousiwei/giteement" target="_blank" rel="noopener">https://gitee.com/zhousiwei/giteement</a>。</li><li>Gitment/Git talk：基于GitHub issue的评论系统，使用Github Application，问题多，好像只能适配一个网站，不适合多网站发布。好像主要是这两个参数的设置：<code>Homepage URL</code>是你的仓库的名字;<code>Authorization callback URL</code>:网站地址，如果你指向了新的域名就填网站主页地址，如我的<a href="https://www.yansheng.xyz" target="_blank" rel="noopener">https://www.yansheng.xyz</a>；否则写仓库的名字应该也可以（不确定，没使用过）。</li><li>utteranc：基于GitHub issue的评论系统，官网：<a href="https://utteranc.es/" target="_blank" rel="noopener">https://utteranc.es/</a>，详见下文。</li></ul><p>如需了解更多，可参考下面链接：</p><ul><li><a href="http://www.chiefmore.com/pinglunchajian/733.jhtml" target="_blank" rel="noopener">第三方评论系统综评：畅言、友言、多说、网易云跟贴</a></li><li><a href="https://blog.csdn.net/xiangzhihong8/article/details/77703791" target="_blank" rel="noopener">个人博客网站接入来必力评论系统</a></li><li><a href="https://blog.csdn.net/weixin_39531549/article/details/86651038" target="_blank" rel="noopener">Valine – 一款极简的评论系统</a></li></ul><h2 id="utterances">utterances</h2><h3 id="介绍">介绍</h3><p>一个机器人<code>utterances bot</code>，好像是2017年开工的，2018开始火（769star）,2019大热了（截止发文，2878star）。</p><p>网址：<a href="https://utteranc.es/" target="_blank" rel="noopener">https://utteranc.es/</a>，下面是官网的介绍：</p><blockquote><p>A lightweight comments widget built on GitHub issues. Use GitHub issues for blog comments, wiki pages and more!</p><ul><li><a href="https://github.com/utterance" target="_blank" rel="noopener">Open source</a>. 🙌</li><li>No tracking, no ads, always free. 📡🚫</li><li>No lock-in. All data stored in GitHub issues. 🔓</li><li>Styled with <a href="http://primer.style/" target="_blank" rel="noopener">Primer</a>, the css toolkit that powers GitHub. 💅</li><li>Dark theme. 🌘</li><li>Lightweight. Vanilla TypeScript. No font downloads, JavaScript frameworks or polyfills for evergreen browsers. 🐦🌲</li></ul></blockquote><p>当有人评论时，自动在指定仓库创建一个issues，用于评论。（issues名可指定为多种形式）</p><h3 id="使用">使用</h3><p>网上找的好像都是使用next主题的，如</p><ul><li><a href="https://blog.csdn.net/zhang_zhenwei/article/details/102600387" target="_blank" rel="noopener">Hexo NexT主题集成utterance评论系统</a></li><li><a href="https://www.njphper.com/posts/a4cd94b2.html" target="_blank" rel="noopener">Hexo Next 主题增加新的第三方评论系统 utterance</a></li></ul><p>没有找到相同的，只能自己摸索了。</p><h4 id="1-安装应用">1.安装应用</h4><p>安装utterances应用，网址 <a href="https://github.com/apps/utterances" target="_blank" rel="noopener">https://github.com/apps/utterances</a> ，设置指定仓库即可。</p><h4 id="2-配置基本参数">2.配置基本参数</h4><p>官方（主页）其实自带教程，配置相关参数，生成脚本如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://utteranc.es/client.js"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">repo</span>=<span class="string">"username/username.github.io"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">issue-term</span>=<span class="string">"title"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">theme</span>=<span class="string">"github-light"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">async</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>解释一下主要参数：</p><ul><li>repo：存放评论的issues的仓库名（即步骤1指定访问的仓库），可以和博客相同，也可以不同。</li><li>issue-term：指定issues的标题，title表示使用文章的标题作为issues的标题。可选参数（只介绍部分）：<ul><li>URL：博客网址：网址全路径，如：<a href="http://localhost:4000/2019/11/05/hexo+yilia%E9%9B%86%E6%88%90utteranc%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/#more" target="_blank" rel="noopener">http://localhost:4000/2019/11/05/hexo+yilia集成utteranc评论系统/#more</a></li><li>pathname：网址域名之外的文件名：&lt;2019/11/05/hexo+yilia集成utteranc评论系统/#more&gt;</li><li>title：博客标题（推荐使用这个，因为上面两个涉及到网址，如果网址包含中文，会被转义，不方便看。）<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960901812.png" alt="file"></li></ul></li><li>theme：评论系统的主题，在Theme里面，选择主题，页面会变色：<a href="https://utteranc.es/#heading-theme" target="_blank" rel="noopener">https://utteranc.es/#heading-theme</a><br>github-light<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572960972843.png" alt="file"><br>github-dark<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1572959464163.png" alt="file"></li></ul><h4 id="3-hexo-yilia配置">3.hexo+yilia配置</h4><h5 id="直接嵌入">直接嵌入</h5><p>修改：<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，在博客评论系统代码附近，添加如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《utteranc评论：基于github issue的评论系统 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.utterances</span>&#123;<span class="attribute">max-width</span>: <span class="number">100%</span>;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://utteranc.es/client.js"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">repo</span>=<span class="string">"username/username.github.io"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">issue-term</span>=<span class="string">"title"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">theme</span>=<span class="string">"github-light"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">async</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- utteranc评论》 --&gt;</span></span><br></pre></td></tr></table></figure><p>在官网也有介绍到:<code>Customize the layout using the</code>.utterances<code>and</code>.utterances-frame<code>selectors.</code>，如果需要控制样式，可以通过这两个选择器。因为指定了<code>.utterances{max-width: 750px;}</code>，我试了下，在yilia主题下，宽度不能充满评论区域，所以进行了调整。</p><h5 id="灵活嵌入">灵活嵌入</h5><p>可主题的配置文件中进行配置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#7.utteranc评论： https://utteranc.es (参数配置详见主页)</span></span><br><span class="line"><span class="attr">utterance:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">'username/username.github.io'</span>     <span class="comment">#仓库名字,格式：你的用户ID/仓库名称，如：blog/utterance_repo</span></span><br><span class="line"><span class="attr">  issue_term:</span> <span class="string">'title'</span>            <span class="comment">#映射配置</span></span><br><span class="line"><span class="attr">  theme:</span> <span class="string">'github-light'</span>          <span class="comment">#主题</span></span><br></pre></td></tr></table></figure><p>修改：<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>，在博客评论系统代码附近，添加如下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《utteranc评论：基于github issue的评论系统 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.utterance</span> &amp;&amp; <span class="attr">theme.utterance.enable</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.utterances</span>&#123;<span class="attribute">max-width</span>: <span class="number">100%</span>;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://utteranc.es/client.js"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">repo</span>=<span class="string">"&lt;%= theme.utterance.repo %&gt;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">issue-term</span>=<span class="string">"&lt;%= theme.utterance.issue_term %&gt;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">theme</span>=<span class="string">"&lt;%= theme.utterance.theme %&gt;"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">async</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- utteranc评论》 --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="bug">bug</h2><h3 id="1-服务器问题">1.服务器问题</h3><p>因为服务器在国外，需要访问github等问题，该评论有可能会加载不出来（介意者慎用！）。</p><h3 id="2-401问题">2.401问题</h3><p>控制台报错，评论内容不能加载出来。如下图：</p><p><img src="https://oss.yansheng.xyz/picgo/20200812132022.png" alt></p><p>逛了下仓库issues，发现了类似问题：</p><p><a href="https://github.com/utterance/utterances/issues/123" target="_blank" rel="noopener">https://github.com/utterance/utterances/issues/123</a></p><p><a href="https://github.com/utterance/utterances/issues/148" target="_blank" rel="noopener">https://github.com/utterance/utterances/issues/148</a></p><h4 id="处理方法">处理方法</h4><p>清除cookies：点击地址栏左侧感叹号–&gt;Cookie–&gt;清除全部Cookie。</p><p><img src="https://oss.yansheng.xyz/picgo/20200812132800.png" alt></p><p>虽然这样可以可以让评论加载出来，但是好像401问题还存在，不过我觉得问题不大😜。</p><p>（ps:如果你有更好的解决方法，请留言告知，谢谢！）</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> 评论系统 </tag>
            
            <tag> utteranc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>迅捷PDF编辑器简介及破解版下载</title>
      <link href="/article/c5f6d65b.html"/>
      <url>/article/c5f6d65b.html</url>
      
        <content type="html"><![CDATA[<p>迅捷办公软件还是很不错的，官网：<a href="https://www.xunjiepdf.com/" target="_blank" rel="noopener">https://www.xunjiepdf.com/</a>，有需要可以去官网具体了解一下。</p><p><img src="https://img-blog.csdnimg.cn/20190713150348980.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><p>为表明态度：我不是来卖广告的，先说缺点：（一开始使用迅捷PDF编辑器的个人体会）额，有事没事就让你买会员，比如：安装成功后，浏览器跳转到买会员界面；每次打开也会跳；卸载的时候还跳（我重装过一次软件）。按照惯例：安装成功一般跳转到软件介绍和使用说明页面，卸载一般没有操作（也有跳转到用户反馈页面的）。有点烦，这方面的用户体验极差！注意：有强迫症的同学慎重考虑是否要使用免费版！</p><h3 id="迅捷pdf编辑器">迅捷PDF编辑器</h3><p>这里要介绍的是迅捷PDF编辑器，官网：<a href="https://www.xunjiepdf.com/editor" target="_blank" rel="noopener">https://www.xunjiepdf.com/editor</a>。</p><p>官网介绍： 一款简洁、易用的PDF编辑器软件。可对PDF页面、PDF文字、PDF背景、PDF水印、PDF页码、PDF标注、PDF表单等进行编辑修改，功能丰富、省时省力。</p><p>个人认为它最大的优点时：软件较小，功能强大。比如：编辑PDF，加水印，删除水印……</p><p><img src="https://img-blog.csdnimg.cn/20190713151727875.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><p>详情见官网吧，都很详细，还是中文版的。</p><blockquote><p>迅捷PDF编辑器操作手册：<a href="https://www.xunjiepdf.com/help/category-toturial/editor" target="_blank" rel="noopener">https://www.xunjiepdf.com/help/category-toturial/editor</a></p></blockquote><blockquote><h2 id="常见问题">常见问题</h2><p>\1. 为什么在使用完高亮、删除线、下划线等工具后，再次选中文字还是会继续上一项功能？</p><p>答：在对文字进行需要的编辑后，需要点击**「手形工具」<strong>或</strong>「内容编辑工具」**来结束上一功能。</p><p>\2. 为什么给PDF文件重新添加水印后，原水印还在？</p><p>答：想要重新给PDF文件添加水印，并不保留原水印的话，可在**「文档」-「水印」-「全部删除」**中，删除原水印，然后进行添加。</p><p>注：该软件不仅能够删除自身软件设置的水印，还能清除其他软件设置的水印，有些软件是不行的，不过不清楚是不是全部都可以？。</p><p>\3. 为什么左边的缩略图不见了？如何调出？</p><p>答：文件缩略图在打开文件后，会出现在软件左侧，如不小心关闭，可在**「视图」-「页面缩略图」**中调出。</p><p>\4. 为什么有的PDF文件打开后，无法编辑文字？</p><p>答：迅捷PDF编辑器，可对文本格式的PDF文件进行编辑，若PDF文件为扫描文件，可前往迅捷OCR文字识别软件，识别PDF文字后实现编辑。</p></blockquote><p>注：官网下载的软件虽然有免费版的，但是你编辑完后，保存时它会提醒你：如果不是会员，就要加水印，特别是水印大到让你怀疑人生，以至于影响阅读，影响心情……之前好像能通过设置透明来弄掉这个软件加的水印，但是后面好像不行了。之前这个软件好像是可以通过输入注册码来破解的，但是后面好像该了，只能通过账号密码来购买会员，压根就没有了输入注册码的界面。</p><p>划重点：下面是我网上找的破解版的软件，文件夹内容如下图，个人感觉0,1好像没什么区别，忽略2（因为上面说了，好像没用了）。免安装的，即开即用！</p><p><img src="https://img-blog.csdnimg.cn/20190713152736904.png" alt="img"></p><blockquote><p>迅捷PDF编辑器(V1.4.0官方离线（单文件+安装包+注册机)完美版</p><p><a href="https://shenzan.pipipan.com/fs/17051351-365366807" target="_blank" rel="noopener">下载地址</a>  <a href="https://shenzan.pipipan.com/fs/17051351-365366807" target="_blank" rel="noopener">https://shenzan.pipipan.com/fs/17051351-365366807</a></p><p><a href="https://shenzan.pipipan.com/fs/17051351-384077660" target="_blank" rel="noopener">蓝奏云网盘满速下载</a></p><p>转自：<a href="https://blog.csdn.net/sz1654355660/article/details/89287416" target="_blank" rel="noopener">https://blog.csdn.net/sz1654355660/article/details/89287416</a></p></blockquote><hr><h3 id="补充：迅捷pdf转换器网页版">补充：迅捷PDF转换器网页版</h3><p>迅捷PDF转换器不仅支持电脑版，还有网页版，注意部分功能有所限制！</p><p><a href="https://app.xunjiepdf.com/editor" target="_blank" rel="noopener">迅捷PDF转换器：https://app.xunjiepdf.com/editor</a></p><p><img src="https://img-blog.csdnimg.cn/20190713145928107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20190713145928107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p>]]></content>
      
      
      
        <tags>
            
            <tag> PDF </tag>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>清除某个特定网站的缓存---基于Chrome浏览器</title>
      <link href="/article/1f748a0d.html"/>
      <url>/article/1f748a0d.html</url>
      
        <content type="html"><![CDATA[<p>通过F12功能去清除特定网站的浏览器缓存。</p><a id="more"></a><h2 id="1-清除浏览器缓存">1、清除浏览器缓存</h2><p>直接在浏览器设置里面清除浏览器的缓存会清除所有网站的缓存信息(具体方法可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/102582315#tipChrome_9" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41287260/article/details/102582315#tipChrome_9</a>)，这在某些时候是非常不方便的，毕竟不只有测试网站，还会有一些我们不想清除的信息也会被清除掉。因此我们需要只是清除某一个特定网站的功能。</p><h2 id="2-通过f12功能去清除浏览器缓存">2、通过F12功能去清除浏览器缓存</h2><p>F12–&gt;Network–&gt;Disbale cache<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWcyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTM5MTczOS8yMDE5MDMvMTM5MTczOS0yMDE5MDMyNTExNDc1ODQ5NC00MTI3MDA1NTAucG5n?x-oss-process=image/format,png" alt></p><p>转自：<a href="https://www.cnblogs.com/bestwei/p/10592888.html" target="_blank" rel="noopener">https://www.cnblogs.com/bestwei/p/10592888.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx服务器重启命令，关闭</title>
      <link href="/article/f8e3193b.html"/>
      <url>/article/f8e3193b.html</url>
      
        <content type="html"><![CDATA[<p>一些Nginx相关的命令。</p><img src="https://oss.yansheng.xyz/picgo/20200701001043.png" width="100%" alt="nginx"><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload<span class="comment"># 修改配置后重新加载生效</span></span><br><span class="line">nginx -s reopen<span class="comment"># 重新打开日志文件</span></span><br><span class="line">nginx -t -c /path/to/nginx.conf<span class="comment">#  测试nginx配置文件是否正确</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭nginx：</span></span><br><span class="line">nginx -s stop<span class="comment"># 快速停止nginx</span></span><br><span class="line">         quit<span class="comment"># 完整有序的停止nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#其他的停止nginx 方式：</span></span><br><span class="line">ps -ef | grep nginx</span><br><span class="line"><span class="built_in">kill</span> -QUIT 主进程号<span class="comment"># 从容停止Nginx</span></span><br><span class="line"><span class="built_in">kill</span> -TERM 主进程号<span class="comment"># 快速停止Nginx</span></span><br><span class="line">pkill -9 nginx <span class="comment"># 强制停止Nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动nginx:</span></span><br><span class="line">nginx -c /path/to/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#平滑重启nginx：</span></span><br><span class="line"><span class="built_in">kill</span> -HUP 主进程号</span><br></pre></td></tr></table></figure><p>转自：<a href="https://www.cnblogs.com/apexchu/p/4119252.html" target="_blank" rel="noopener">https://www.cnblogs.com/apexchu/p/4119252.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> Nginx </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ERROR 2003 (HY000). Can&#39;t connect to MySQL server on &#39;X.X.X.X&#39; (10060)</title>
      <link href="/article/b2eccd55.html"/>
      <url>/article/b2eccd55.html</url>
      
        <content type="html"><![CDATA[<p>这里介绍了几种处理方案。</p><a id="more"></a><h2 id="问题详情">问题详情</h2><p>连接阿里云的远程服务器的MySQL时，发生该错误：<code>ERROR 2003 (HY000): Can't connect to MySQL server on 'X.X.X.X' (10060)</code>。</p><h2 id="探索">探索</h2><p>一开始以为是账号密码的问题，多次检查后发现不是。Linux主机可以访问MySQL，但是远程连接却不行。 网上对于这类问题的处理大多有如下几种角度：</p><h3 id="1-阿里云服务器的安全组配置没有开启3306这个端口-入方向">1. 阿里云服务器的安全组配置没有开启3306这个端口（入方向）</h3><p><img src="https://img-blog.csdnimg.cn/20191029163624994.png" alt="在这里插入图片描述"></p><h3 id="2-mysql的配置文件：my-cnf中-bindaddress-的参数配置问题">2. MySQL的配置文件：<code>my.cnf</code>中 bindaddress 的参数配置问题</h3><p>使用命令检测使用3306监听的ip都有那些：<code>netstat -anp | grep 3306</code>,如果出来的结果监听的ip只有127.0.0.1，说明设置的是只能本地访问，我们需要修改MySQL的配置文件：<code>my.cnf</code>中 bindaddress 的参数，成功后再执行该命令，输入应该和下图类似：<br><br><img src="https://img-blog.csdnimg.cn/20191029173036139.png" alt="在这里插入图片描述"></p><ul><li>这个参数是指定哪些ip地址被配置，使得mysql服务器只回应哪些ip地址的请求。</li><li>该参数在：<code>[mysqld]</code>配置里面。可能会没有该配置参数；也可能是<code>bind-address =127.0.0.1</code>，这个配置表明只允许本地访问。我们需要将该行注释掉（前面加<code>#</code>），或者是改成这样：<code>bind-address =0.0.0.0</code>，让所有ip都可以访问。</li><li>类似作用的参数：<code>skip-networking</code> ，这个参数导致所有TCP/IP端口没有被监听,也就是说出了本机，其他客户端都无法用网络连接到本mysql服务器，所以需要把这个参数注释掉。<br><br><img src="https://img-blog.csdnimg.cn/20191029171711753.png" alt="在这里插入图片描述"></li></ul><h4 id="注：">注：</h4><ul><li>重新配置后，需要重启MySQL，命令可参考下面的：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 service 启动停止重启 mysql</span></span><br><span class="line">service mysqld start</span><br><span class="line">service mysqld stop</span><br><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure><ul><li>关于配置文件<code>my.cnf</code>的位置问题：首先它会找<code>/etc/my.cnf</code>这个文件， 如果这个文件不存在，那么它接下来去找<code>/etc/mysql/my.cnf</code>这个文件，然后是mysql安装目录下的<code>my.cnf</code>。可参考：<a href="https://blog.51cto.com/moerjinrong/2092791" target="_blank" rel="noopener">MySQL 5.7 my.cnf配置文件说明</a> 。</li></ul><h3 id="3-将host设置为-表示任何ip都能连接mysql">3.将host设置为%表示任何ip都能连接mysql</h3><p>当然您也可以将host指定为某个ip:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update user <span class="built_in">set</span> host=<span class="string">'%'</span> <span class="built_in">where</span> user=<span class="string">'root'</span> and host=<span class="string">'localhost'</span>;</span><br><span class="line">flush privileges;        <span class="comment">#刷新权限表，使配置生效</span></span><br></pre></td></tr></table></figure><p>然后我们就能远程连接我们的mysql了。</p><p>详情可参考： <a href="https://blog.csdn.net/a19881029/article/details/50805562" target="_blank" rel="noopener">2003 - Can’t connect to MySQL server on ‘x.x.x.x’ (10038)</a></p><h3 id="4-防火墙问题">4.防火墙问题</h3><p>可能是防火墙禁止了外网访问，我就是因为这个原因无法访问。关掉防火墙后，立刻就可以连接了。（我看到有篇博客说新手可以直接删掉防火墙的……）相关命令可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/102801731" target="_blank" rel="noopener">Ubuntu防火墙相关操作</a></p><hr><p>参考：</p><ul><li><a href="https://blog.51cto.com/moerjinrong/2092791" target="_blank" rel="noopener">MySQL 5.7 my.cnf配置文件说明</a></li><li><a href="https://blog.csdn.net/a19881029/article/details/50805562" target="_blank" rel="noopener">2003 - Can’t connect to MySQL server on ‘x.x.x.x’ (10038)</a></li><li><a href="https://blog.csdn.net/myli_binbin/article/details/90642373" target="_blank" rel="noopener">阿里云服务器ubuntu16.04安装mysql步骤</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> Linux </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu防火墙相关操作</title>
      <link href="/article/69e0aa88.html"/>
      <url>/article/69e0aa88.html</url>
      
        <content type="html"><![CDATA[<p>介绍了Ubuntu防火墙的常用命令。</p><a id="more"></a><h2 id="ubuntu防火墙常用命令">Ubuntu防火墙常用命令</h2><p>1.查看防火墙当前状态:<code>sudo ufw status</code></p><p>2.开启防火墙:<code>sudo ufw enable</code></p><p>3.关闭防火墙:<code>sudo ufw disable</code></p><p>4.查看防火墙版本:<code>sudo ufw version</code></p><p>5.默认允许外部访问本机:<code>sudo ufw default allow</code></p><p>6.默认拒绝外部访问主机:<code>sudo ufw default deny</code></p><p>7.允许外部访问53端口:<code>sudo ufw allow 53</code></p><p>8.拒绝外部访问53端口:<code>sudo ufw deny 53</code></p><p>9.允许某个IP地址访问本机所有端口:<code>sudo ufw allow from 192.168.0.1</code></p><h2 id="补充：">补充：</h2><p>命令：<code>man ufw</code>:的详细介绍：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br></pre></td><td class="code"><pre><span class="line">UFW:(8)                                February 2016                                UFW:(8)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       ufw - program <span class="keyword">for</span> managing a netfilter firewall</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       This  program  is  <span class="keyword">for</span>  managing a Linux firewall and aims to provide an easy to use</span><br><span class="line">       interface <span class="keyword">for</span> the user.</span><br><span class="line"></span><br><span class="line">USAGE</span><br><span class="line">       ufw [--dry-run] <span class="built_in">enable</span>|<span class="built_in">disable</span>|reload</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] default allow|deny|reject [incoming|outgoing|routed]</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] logging on|off|LEVEL</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] reset</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] status [verbose|numbered]</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] show REPORT</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] [delete] [insert NUM] allow|deny|reject|<span class="built_in">limit</span> [<span class="keyword">in</span>|out] [<span class="built_in">log</span>|<span class="built_in">log</span>-all]</span><br><span class="line">       [ PORT[/PROTOCOL] | APPNAME ] [comment COMMENT]</span><br><span class="line"></span><br><span class="line">       ufw  [--dry-run]  [rule]  [delete]  [insert NUM] allow|deny|reject|<span class="built_in">limit</span> [<span class="keyword">in</span>|out [on</span><br><span class="line">       INTERFACE]] [<span class="built_in">log</span>|<span class="built_in">log</span>-all] [proto PROTOCOL] [from ADDRESS [port PORT | app APPNAME ]]</span><br><span class="line">       [to ADDRESS [port PORT | app APPNAME ]] [comment COMMENT]</span><br><span class="line"></span><br><span class="line">       ufw  [--dry-run]  route  [delete]  [insert  NUM]  allow|deny|reject|<span class="built_in">limit</span> [<span class="keyword">in</span>|out on</span><br><span class="line">       INTERFACE] [<span class="built_in">log</span>|<span class="built_in">log</span>-all] [proto PROTOCOL] [from ADDRESS [port PORT |  app  APPNAME]]</span><br><span class="line">       [to ADDRESS [port PORT | app APPNAME]] [comment COMMENT]</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] delete NUM</span><br><span class="line"></span><br><span class="line">       ufw [--dry-run] app list|info|default|update</span><br><span class="line"></span><br><span class="line">OPTIONS</span><br><span class="line">       --version</span><br><span class="line">              show program<span class="string">'s version number and exit</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       -h, --help</span></span><br><span class="line"><span class="string">              show help message and exit</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --dry-run</span></span><br><span class="line"><span class="string">              don'</span>t modify anything, just show the changes</span><br><span class="line"></span><br><span class="line">       <span class="built_in">enable</span> reloads firewall and enables firewall on boot.</span><br><span class="line"></span><br><span class="line">       <span class="built_in">disable</span></span><br><span class="line">              unloads firewall and disables firewall on boot</span><br><span class="line"></span><br><span class="line">       reload reloads firewall</span><br><span class="line"></span><br><span class="line">       default allow|deny|reject DIRECTION</span><br><span class="line">              change the default policy <span class="keyword">for</span> traffic going DIRECTION, <span class="built_in">where</span> DIRECTION is one</span><br><span class="line">              of incoming, outgoing or routed. Note that existing rules  will  have  to  be</span><br><span class="line">              migrated  manually when changing the default policy. See RULE SYNTAX <span class="keyword">for</span> more</span><br><span class="line">              on deny and reject.</span><br><span class="line"></span><br><span class="line">       logging on|off|LEVEL</span><br><span class="line">              toggle logging. Logged packets use the LOG_KERN syslog facility. Systems con‐</span><br><span class="line">              figured  <span class="keyword">for</span>  rsyslog  support may also <span class="built_in">log</span> to /var/<span class="built_in">log</span>/ufw.log. Specifying a</span><br><span class="line">              LEVEL turns logging on <span class="keyword">for</span> the specified LEVEL.  The  default  <span class="built_in">log</span>  level  is</span><br><span class="line">              <span class="string">'low'</span>.  See LOGGING <span class="keyword">for</span> details.</span><br><span class="line"></span><br><span class="line">       reset  Disables  and  resets  firewall  to  installation defaults. Can also give the</span><br><span class="line">              --force option to perform the reset without confirmation.</span><br><span class="line"></span><br><span class="line">       status show status of firewall and ufw managed rules. Use status verbose  <span class="keyword">for</span>  extra</span><br><span class="line">              information.  In  the  status output, <span class="string">'Anywhere'</span> is synonymous with <span class="string">'any'</span> and</span><br><span class="line">              <span class="string">'0.0.0.0/0'</span>. Note that when using status, there is a subtle  difference  when</span><br><span class="line">              reporting interfaces. For example, <span class="keyword">if</span> the following rules are added:</span><br><span class="line"></span><br><span class="line">                ufw allow <span class="keyword">in</span> on eth0 from 192.168.0.0/16</span><br><span class="line">                ufw allow out on eth1 to 10.0.0.0/8</span><br><span class="line">                ufw route allow <span class="keyword">in</span> on eth0 out on eth1 to 10.0.0.0/8 from 192.168.0.0/16</span><br><span class="line">                ufw <span class="built_in">limit</span> 2222/tcp comment <span class="string">'SSH port'</span></span><br><span class="line"></span><br><span class="line">              ufw status will output:</span><br><span class="line"></span><br><span class="line">                To                         Action      From</span><br><span class="line">                --                         ------      ----</span><br><span class="line">                Anywhere on eth0           ALLOW       192.168.0.0/16</span><br><span class="line">                10.0.0.0/8                 ALLOW OUT   Anywhere on eth1</span><br><span class="line">                10.0.0.0/8 on eth1         ALLOW FWD   192.168.0.0/16 on eth0</span><br><span class="line">                Anywhere                   LIMIT       Anywhere                 <span class="comment"># SSH port</span></span><br><span class="line"></span><br><span class="line">              For  the  input  and  output rules, the interface is reported relative to the</span><br><span class="line">              firewall system as an endpoint, whereas with route rules,  the  interface  is</span><br><span class="line">              reported relative to the direction packets flow through the firewall.</span><br><span class="line"></span><br><span class="line">       show REPORT</span><br><span class="line">              display information about the running firewall. See REPORTS</span><br><span class="line"></span><br><span class="line">       allow ARGS</span><br><span class="line">              add allow rule.  See RULE SYNTAX</span><br><span class="line"></span><br><span class="line">       deny ARGS</span><br><span class="line">              add deny rule.  See RULE SYNTAX</span><br><span class="line"></span><br><span class="line">       reject ARGS</span><br><span class="line">              add reject rule.  See RULE SYNTAX</span><br><span class="line"></span><br><span class="line">       <span class="built_in">limit</span> ARGS</span><br><span class="line">              add <span class="built_in">limit</span> rule.  Currently only IPv4 is supported.  See RULE SYNTAX</span><br><span class="line"></span><br><span class="line">       delete RULE|NUM</span><br><span class="line">              deletes the corresponding RULE</span><br><span class="line"></span><br><span class="line">       insert NUM RULE</span><br><span class="line">              insert the corresponding RULE as rule number NUM</span><br><span class="line"></span><br><span class="line">RULE SYNTAX</span><br><span class="line">       Users  can  specify  rules using either a simple syntax or a full syntax. The simple</span><br><span class="line">       syntax only specifies the port and optionally the protocol to be allowed  or  denied</span><br><span class="line">       on the host.</span><br><span class="line"></span><br><span class="line">       Both  syntaxes support specifying a comment <span class="keyword">for</span> the rule. For existing rules, speci‐</span><br><span class="line">       fying a different comment updates the comment and specifying <span class="string">''</span> removes the comment.</span><br><span class="line"></span><br><span class="line">       Example rules using the simple syntax:</span><br><span class="line"></span><br><span class="line">         ufw allow 53</span><br><span class="line"></span><br><span class="line">       This rule will allow tcp and udp port 53 to any address on this host. To  specify  a</span><br><span class="line">       protocol, append <span class="string">'/protocol'</span> to the port. For example:</span><br><span class="line"></span><br><span class="line">         ufw allow 25/tcp</span><br><span class="line"></span><br><span class="line">       This  will  allow  tcp  port  25  to  any  address on this host. ufw will also check</span><br><span class="line">       /etc/services <span class="keyword">for</span> the port and protocol <span class="keyword">if</span> specifying a service by name.  Eg:</span><br><span class="line"></span><br><span class="line">         ufw allow smtp</span><br><span class="line"></span><br><span class="line">       ufw supports both ingress and egress filtering and users may  optionally  specify  a</span><br><span class="line">       direction  of either <span class="keyword">in</span> or out <span class="keyword">for</span> either incoming or outgoing traffic. If no direc‐</span><br><span class="line">       tion is supplied, the rule applies to incoming traffic. Eg:</span><br><span class="line"></span><br><span class="line">         ufw allow <span class="keyword">in</span> http</span><br><span class="line">         ufw reject out smtp</span><br><span class="line">         ufw reject telnet comment <span class="string">'telnet is unencrypted'</span></span><br><span class="line"></span><br><span class="line">       Users can also use a fuller syntax, specifying the <span class="built_in">source</span> and destination  addresses</span><br><span class="line">       and ports. This syntax is loosely based on OpenBSD<span class="string">'s PF syntax. For example:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny proto tcp to any port 80</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This will deny all traffic to tcp port 80 on this host. Another example:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny proto tcp from 10.0.0.0/8 to 192.168.0.1 port 25</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This  will deny all traffic from the RFC1918 Class A network to tcp port 25 with the</span></span><br><span class="line"><span class="string">       address 192.168.0.1.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny proto tcp from 2001:db8::/32 to any port 25</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This will deny all traffic from the IPv6 2001:db8::/32 to tcp port 25 on this  host.</span></span><br><span class="line"><span class="string">       IPv6 must be enabled in /etc/default/ufw for IPv6 firewalling to work.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny in on eth0 to 224.0.0.1 proto igmp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This will deny all igmp traffic to 224.0.0.1 on the eth0 interface.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow in on eth0 to 192.168.0.1 proto gre</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This will allow all gre traffic to 192.168.0.1 on the eth0 interface.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow proto tcp from any to any port 80,443,8080:8090 comment '</span>web app<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       The  above  will  allow all traffic to tcp ports 80, 443 and 8080-8090 inclusive and</span></span><br><span class="line"><span class="string">       adds a comment for the rule. When specifying multiple ports, the ports list must  be</span></span><br><span class="line"><span class="string">       numeric,  cannot  contain  spaces  and must be modified as a whole. Eg, in the above</span></span><br><span class="line"><span class="string">       example you cannot later try to delete just the '</span>443<span class="string">' port. You cannot specify  more</span></span><br><span class="line"><span class="string">       than  15  ports  (ranges count as 2 ports, so the port count in the above example is</span></span><br><span class="line"><span class="string">       4).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       ufw supports several different protocols. The following are valid in  any  rule  and</span></span><br><span class="line"><span class="string">       enabled when the protocol is not specified:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         tcp</span></span><br><span class="line"><span class="string">         udp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       The following have certain restrictions and are not enabled when the protocol is not</span></span><br><span class="line"><span class="string">       specified:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ah      valid without port number</span></span><br><span class="line"><span class="string">         esp     valid without port number</span></span><br><span class="line"><span class="string">         gre     valid without port number</span></span><br><span class="line"><span class="string">         ipv6    valid for IPv4 addresses and without port number</span></span><br><span class="line"><span class="string">         igmp    valid for IPv4 addresses and without port number</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Rules for traffic not destined for the host itself  but  instead  for  traffic  that</span></span><br><span class="line"><span class="string">       should  be  routed/forwarded  through  the firewall should specify the route keyword</span></span><br><span class="line"><span class="string">       before the rule (routing rules differ significantly from PF syntax and instead  take</span></span><br><span class="line"><span class="string">       into account netfilter FORWARD chain conventions). For example:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw route allow in on eth1 out on eth2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This  will  allow  all  traffic routed to eth2 and coming in on eth1 to traverse the</span></span><br><span class="line"><span class="string">       firewall.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw route allow in on eth0 out on eth1 to 12.34.45.67 port 80 proto tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This rule allows any packets coming in on eth0 to traverse the firewall out on  eth1</span></span><br><span class="line"><span class="string">       to tcp port 80 on 12.34.45.67.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       In  addition  to  routing rules and policy, you must also setup IP forwarding.  This</span></span><br><span class="line"><span class="string">       may be done by setting the following in /etc/ufw/sysctl.conf:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         net/ipv4/ip_forward=1</span></span><br><span class="line"><span class="string">         net/ipv6/conf/default/forwarding=1</span></span><br><span class="line"><span class="string">         net/ipv6/conf/all/forwarding=1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       then restarting the firewall:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw disable</span></span><br><span class="line"><span class="string">         ufw enable</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Be aware that setting kernel tunables is operating system specific  and  ufw  sysctl</span></span><br><span class="line"><span class="string">       settings may be overridden. See the sysctl manual page for details.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       ufw  supports  connection  rate  limiting,  which  is  useful for protecting against</span></span><br><span class="line"><span class="string">       brute-force login attacks. When a limit rule is used, ufw will  normally  allow  the</span></span><br><span class="line"><span class="string">       connection but will deny connections if an IP address attempts to initiate 6 or more</span></span><br><span class="line"><span class="string">       connections within 30 seconds. See http://www.debian-administration.org/articles/187</span></span><br><span class="line"><span class="string">       for details. Typical usage is:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw limit ssh/tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Sometimes  it  is  desirable  to  let  the sender know when traffic is being denied,</span></span><br><span class="line"><span class="string">       rather than simply ignoring it. In these cases, use reject  instead  of  deny.   For</span></span><br><span class="line"><span class="string">       example:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw reject auth</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       By default, ufw will apply rules to all available interfaces. To limit this, specify</span></span><br><span class="line"><span class="string">       DIRECTION on INTERFACE, where DIRECTION is one of in or out (interface  aliases  are</span></span><br><span class="line"><span class="string">       not  supported).   For  example, to allow all new incoming http connections on eth0,</span></span><br><span class="line"><span class="string">       use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow in on eth0 to any port 80 proto tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       To delete a rule, simply prefix the original rule with delete with  or  without  the</span></span><br><span class="line"><span class="string">       rule comment. For example, if the original rule was:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny 80/tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Use this to delete it:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw delete deny 80/tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       You  may  also  specify  the rule by NUM, as seen in the status numbered output. For</span></span><br><span class="line"><span class="string">       example, if you want to delete rule number '</span>3<span class="string">', use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw delete 3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       If you have IPv6 enabled and are deleting a generic rule that applies to  both  IPv4</span></span><br><span class="line"><span class="string">       and IPv6 (eg '</span>ufw allow 22/tcp<span class="string">'), deleting by rule number will delete only the spec‐</span></span><br><span class="line"><span class="string">       ified rule. To delete both with one command, prefix the original rule with delete.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       To insert a rule, specify the new rule as normal, but prefix the rule with the  rule</span></span><br><span class="line"><span class="string">       number  to insert. For example, if you have four rules, and you want to insert a new</span></span><br><span class="line"><span class="string">       rule as rule number three, use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw insert 3 deny to any port 22 from 10.0.0.135 proto tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       To see a list of numbered rules, use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw status numbered</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       ufw supports per rule logging. By default, no logging is  performed  when  a  packet</span></span><br><span class="line"><span class="string">       matches  a  rule. Specifying log will log all new connections matching the rule, and</span></span><br><span class="line"><span class="string">       log-all will log all packets matching the rule.  For example, to allow and  log  all</span></span><br><span class="line"><span class="string">       new ssh connections, use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow log 22/tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       See LOGGING for more information on logging.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">EXAMPLES</span></span><br><span class="line"><span class="string">       Deny all access to port 53:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny 53</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Allow all access to tcp port 80:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow 80/tcp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Allow all access from RFC1918 networks to this host:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow from 10.0.0.0/8</span></span><br><span class="line"><span class="string">         ufw allow from 172.16.0.0/12</span></span><br><span class="line"><span class="string">         ufw allow from 192.168.0.0/16</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Deny access to udp port 514 from host 1.2.3.4:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw deny proto udp from 1.2.3.4 to any port 514</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Allow access to udp 1.2.3.4 port 5469 from 1.2.3.5 port 5469:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow proto udp from 1.2.3.5 port 5469 to 1.2.3.4 port 5469</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">REMOTE MANAGEMENT</span></span><br><span class="line"><span class="string">       When  running  ufw  enable  or  starting  ufw via its initscript, ufw will flush its</span></span><br><span class="line"><span class="string">       chains. This is required so ufw can maintain a consistent state,  but  it  may  drop</span></span><br><span class="line"><span class="string">       existing  connections  (eg  ssh).  ufw does support adding rules before enabling the</span></span><br><span class="line"><span class="string">       firewall, so administrators can do:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow proto tcp from any to any port 22</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       before running '</span>ufw <span class="built_in">enable</span><span class="string">'. The rules will still be flushed, but the ssh port  will</span></span><br><span class="line"><span class="string">       be  open  after  enabling  the firewall. Please note that once ufw is '</span>enabled<span class="string">', ufw</span></span><br><span class="line"><span class="string">       will not flush the chains when adding or removing rules (but will when  modifying  a</span></span><br><span class="line"><span class="string">       rule  or changing the default policy). By default, ufw will prompt when enabling the</span></span><br><span class="line"><span class="string">       firewall while running under ssh.  This  can  be  disabled  by  using  '</span>ufw  --force</span><br><span class="line">       <span class="built_in">enable</span><span class="string">'.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">APPLICATION INTEGRATION</span></span><br><span class="line"><span class="string">       ufw  supports application integration by reading profiles located in /etc/ufw/appli‐</span></span><br><span class="line"><span class="string">       cations.d. To list the names of application profiles known to ufw, use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw app list</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Users can specify an application name when adding a rule (quoting any profile  names</span></span><br><span class="line"><span class="string">       with spaces). For example, when using the simple syntax, users can use:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow &lt;name&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Or for the extended syntax:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw allow from 192.168.0.0/16 to any app &lt;name&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       You  should  not specify the protocol with either syntax, and with the extended syn‐</span></span><br><span class="line"><span class="string">       tax, use app in place of the port clause.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Details on the firewall profile for a given application can be seen with:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw app info &lt;name&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       where '</span>&lt;name&gt;<span class="string">' is one of the applications seen with the app  list  command.   User'</span>s</span><br><span class="line">       may also specify all to see the profiles <span class="keyword">for</span> all known applications.</span><br><span class="line"></span><br><span class="line">       Syntax <span class="keyword">for</span> the application profiles is a simple .INI format:</span><br><span class="line"></span><br><span class="line">         [&lt;name&gt;]</span><br><span class="line">         title=&lt;title&gt;</span><br><span class="line">         description=&lt;description&gt;</span><br><span class="line">         ports=&lt;ports&gt;</span><br><span class="line"></span><br><span class="line">       The <span class="string">'ports'</span> field may specify a <span class="string">'|'</span>-separated list of ports/protocols <span class="built_in">where</span> the pro‐</span><br><span class="line">       tocol is optional. A comma-separated list or a range  (specified  with  <span class="string">'start:end'</span>)</span><br><span class="line">       may  also be used to specify multiple ports, <span class="keyword">in</span> <span class="built_in">which</span> <span class="keyword">case</span> the protocol is required.</span><br><span class="line">       For example:</span><br><span class="line"></span><br><span class="line">         [SomeService]</span><br><span class="line">         title=Some title</span><br><span class="line">         desctiption=Some description</span><br><span class="line">         ports=12/udp|34|56,78:90/tcp</span><br><span class="line"></span><br><span class="line">       In the above example, <span class="string">'SomeService'</span> may be used <span class="keyword">in</span> app rules and  it  specifies  UDP</span><br><span class="line">       port 12, TCP and UDP on port 34 and TCP ports 56 and 78-90 inclusive.</span><br><span class="line"></span><br><span class="line">       After creating or editing an application profile, user<span class="string">'s can run:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         ufw app update &lt;name&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       This  command  will  automatically update the firewall with updated profile informa‐</span></span><br><span class="line"><span class="string">       tion. If specify '</span>all<span class="string">' for name, then all the profiles will be updated.  To update a</span></span><br><span class="line"><span class="string">       profile and add a new rule to the firewall automatically, user'</span>s can run:</span><br><span class="line"></span><br><span class="line">         ufw app update --add-new &lt;name&gt;</span><br><span class="line"></span><br><span class="line">       The behavior of the update --add-new <span class="built_in">command</span> can be configured using:</span><br><span class="line"></span><br><span class="line">         ufw app default &lt;policy&gt;</span><br><span class="line"></span><br><span class="line">       The  default  application policy is skip, <span class="built_in">which</span> means that the update --add-new com‐</span><br><span class="line">       mand will <span class="keyword">do</span> nothing. Users may also specify a policy of allow or deny so the update</span><br><span class="line">       --add-new <span class="built_in">command</span> may automatically update the firewall.  WARNING: it may be a secu‐</span><br><span class="line">       rity to risk to use a default allow policy <span class="keyword">for</span> application profiles. Carefully  con‐</span><br><span class="line">       sider the security ramifications before using a default allow policy.</span><br><span class="line"></span><br><span class="line">LOGGING</span><br><span class="line">       ufw  supports  multiple  logging  levels. ufw defaults to a loglevel of <span class="string">'low'</span> when a</span><br><span class="line">       loglevel is not specified. Users may specify a loglevel with:</span><br><span class="line"></span><br><span class="line">         ufw logging LEVEL</span><br><span class="line"></span><br><span class="line">       LEVEL may be <span class="string">'off'</span>, <span class="string">'low'</span>, <span class="string">'medium'</span>, <span class="string">'high'</span> and <span class="string">'full'</span>. Log levels are defined as:</span><br><span class="line"></span><br><span class="line">       off    disables ufw managed logging</span><br><span class="line"></span><br><span class="line">       low    logs all blocked packets not matching the defined policy  (with  rate  <span class="built_in">limit</span>‐</span><br><span class="line">              ing), as well as packets matching logged rules</span><br><span class="line"></span><br><span class="line">       medium <span class="built_in">log</span>  level low, plus all allowed packets not matching the defined policy, all</span><br><span class="line">              INVALID packets, and all new connections.  All logging is <span class="keyword">done</span> with rate lim‐</span><br><span class="line">              iting.</span><br><span class="line"></span><br><span class="line">       high   <span class="built_in">log</span> level medium (without rate limiting), plus all packets with rate limiting</span><br><span class="line"></span><br><span class="line">       full   <span class="built_in">log</span> level high without rate limiting</span><br><span class="line"></span><br><span class="line">       Loglevels  above  medium  generate  a lot of logging output, and may quickly fill up</span><br><span class="line">       your disk. Loglevel medium may generate a lot of logging output on a busy system.</span><br><span class="line"></span><br><span class="line">       Specifying <span class="string">'on'</span> simply enables logging at <span class="built_in">log</span> level <span class="string">'low'</span> <span class="keyword">if</span>  logging  is  currently</span><br><span class="line">       not enabled.</span><br><span class="line"></span><br><span class="line">REPORTS</span><br><span class="line">       The  following  reports are supported. Each is based on the live system and with the</span><br><span class="line">       exception of the listening report, is <span class="keyword">in</span> raw iptables format:</span><br><span class="line"></span><br><span class="line">         raw</span><br><span class="line">         builtins</span><br><span class="line">         before-rules</span><br><span class="line">         user-rules</span><br><span class="line">         after-rules</span><br><span class="line">         logging-rules</span><br><span class="line">         listening</span><br><span class="line">         added</span><br><span class="line"></span><br><span class="line">       The raw report shows the complete firewall, <span class="keyword">while</span> the others show a subset  of  what</span><br><span class="line">       is <span class="keyword">in</span> the raw report.</span><br><span class="line"></span><br><span class="line">       The  listening  report  will  display  the ports on the live system <span class="keyword">in</span> the listening</span><br><span class="line">       state <span class="keyword">for</span> tcp and the open state <span class="keyword">for</span> udp, along with the address  of  the  interface</span><br><span class="line">       and  the executable listening on the port. An <span class="string">'*'</span> is used <span class="keyword">in</span> place of the address of</span><br><span class="line">       the interface when the executable is bound to all interfaces on that port. Following</span><br><span class="line">       this  information  is a list of rules <span class="built_in">which</span> may affect connections on this port. The</span><br><span class="line">       rules are listed <span class="keyword">in</span> the order they are evaluated by the kernel, and the first  match</span><br><span class="line">       wins.  Please note that the default policy is not listed and tcp6 and udp6 are shown</span><br><span class="line">       only <span class="keyword">if</span> IPV6 is enabled.</span><br><span class="line"></span><br><span class="line">       The added report displays the list of rules as they were added on the  <span class="built_in">command</span>-line.</span><br><span class="line">       This  report  does  not  show  the  status of the running firewall (use <span class="string">'ufw status'</span></span><br><span class="line">       instead). Because rules are normalized by ufw, rules may  look  different  than  the</span><br><span class="line">       originally  added rule. Also, ufw does not record <span class="built_in">command</span> ordering, so an equivalent</span><br><span class="line">       ordering is used <span class="built_in">which</span> lists IPv6-only rules after other rules.</span><br><span class="line"></span><br><span class="line">NOTES</span><br><span class="line">       On installation, ufw is disabled with a default incoming policy of deny,  a  default</span><br><span class="line">       forward policy of deny, and a default outgoing policy of allow, with stateful track‐</span><br><span class="line">       ing <span class="keyword">for</span> NEW connections <span class="keyword">for</span> incoming and forwarded connections.  In addition to  the</span><br><span class="line">       above, a default ruleset is put <span class="keyword">in</span> place that does the following:</span><br><span class="line"></span><br><span class="line">       - DROP packets with RH0 headers</span><br><span class="line"></span><br><span class="line">       - DROP INVALID packets</span><br><span class="line"></span><br><span class="line">       -  ACCEPT certain icmp packets (INPUT and FORWARD): destination-unreachable, <span class="built_in">source</span>-</span><br><span class="line">       quench, time-exceeded, parameter-problem, and <span class="built_in">echo</span>-request  <span class="keyword">for</span>  IPv4.  destination-</span><br><span class="line">       unreachable,  packet-too-big, time-exceeded, parameter-problem, and <span class="built_in">echo</span>-request <span class="keyword">for</span></span><br><span class="line">       IPv6.</span><br><span class="line"></span><br><span class="line">       - ACCEPT icmpv6 packets <span class="keyword">for</span> stateless autoconfiguration (INPUT)</span><br><span class="line"></span><br><span class="line">       - ACCEPT ping replies from IPv6 link-local (ffe8::/10) addresses (INPUT)</span><br><span class="line"></span><br><span class="line">       - ACCEPT DHCP client traffic (INPUT)</span><br><span class="line"></span><br><span class="line">       - DROP non-local traffic (INPUT)</span><br><span class="line"></span><br><span class="line">       - ACCEPT mDNS (zeroconf/bonjour/avahi 224.0.0.251 <span class="keyword">for</span> IPv4 and  ff02::fb  <span class="keyword">for</span>  IPv6)</span><br><span class="line">       <span class="keyword">for</span> service discovery (INPUT)</span><br><span class="line"></span><br><span class="line">       -  ACCEPT UPnP (239.255.255.250 <span class="keyword">for</span> IPv4 and ff02::f <span class="keyword">for</span> IPv6) <span class="keyword">for</span> service discovery</span><br><span class="line">       (INPUT)</span><br><span class="line"></span><br><span class="line">       Rule ordering is important and the first match wins. Therefore  when  adding  rules,</span><br><span class="line">       add the more specific rules first with more general rules later.</span><br><span class="line"></span><br><span class="line">       ufw  is  not  intended  to  provide  complete firewall functionality via its <span class="built_in">command</span></span><br><span class="line">       interface, but instead provides an easy way to add or remove simple rules.</span><br><span class="line"></span><br><span class="line">       The status <span class="built_in">command</span> shows basic information about the state of the firewall, as  well</span><br><span class="line">       as rules managed via the ufw <span class="built_in">command</span>. It does not show rules from the rules files <span class="keyword">in</span></span><br><span class="line">       /etc/ufw. To see the complete state of the firewall, users can ufw show  raw.   This</span><br><span class="line">       displays the filter, nat, mangle and raw tables using:</span><br><span class="line"></span><br><span class="line">         iptables -n -L -v -x -t &lt;table&gt;</span><br><span class="line">         ip6tables -n -L -v -x -t &lt;table&gt;</span><br><span class="line"></span><br><span class="line">       See the iptables and ip6tables documentation <span class="keyword">for</span> more details.</span><br><span class="line"></span><br><span class="line">       If  the  default policy is <span class="built_in">set</span> to REJECT, ufw may interfere with rules added outside</span><br><span class="line">       of the ufw framework. See README <span class="keyword">for</span> details.</span><br><span class="line"></span><br><span class="line">       IPV6 is allowed by default. To change this behavior to only accept IPv6  traffic  on</span><br><span class="line">       the  loopback  interface,  <span class="built_in">set</span> IPV6 to <span class="string">'no'</span> <span class="keyword">in</span> /etc/default/ufw and reload ufw. When</span><br><span class="line">       IPv6 is enabled, you may specify rules <span class="keyword">in</span> the same way as <span class="keyword">for</span> IPv4 rules,  and  they</span><br><span class="line">       will  be  displayed  with  ufw status. Rules that match both IPv4 and IPv6 addresses</span><br><span class="line">       apply to both IP versions. For example, when IPv6 is  enabled,  the  following  rule</span><br><span class="line">       will allow access to port 22 <span class="keyword">for</span> both IPv4 and IPv6 traffic:</span><br><span class="line"></span><br><span class="line">         ufw allow 22</span><br><span class="line"></span><br><span class="line">       IPv6  over  IPv4 tunnels and 6to4 are supported by using the <span class="string">'ipv6'</span> protocol (<span class="string">'41'</span>).</span><br><span class="line">       This protocol can only be used with the full syntax. For example:</span><br><span class="line"></span><br><span class="line">         ufw allow to 10.0.0.1 proto ipv6</span><br><span class="line">         ufw allow to 10.0.0.1 from 10.4.0.0/16 proto ipv6</span><br><span class="line"></span><br><span class="line">       IPSec is supported by using the <span class="string">'esp'</span> (<span class="string">'50'</span>) and <span class="string">'ah'</span> (<span class="string">'51'</span>) protocols. These proto‐</span><br><span class="line">       cols can only be used with the full syntax. For example:</span><br><span class="line"></span><br><span class="line">         ufw allow to 10.0.0.1 proto esp</span><br><span class="line">         ufw allow to 10.0.0.1 from 10.4.0.0/16 proto esp</span><br><span class="line">         ufw allow to 10.0.0.1 proto ah</span><br><span class="line">         ufw allow to 10.0.0.1 from 10.4.0.0/16 proto ah</span><br><span class="line"></span><br><span class="line">       In  addition  to  the  <span class="built_in">command</span>-line  interface,  ufw also provides a framework <span class="built_in">which</span></span><br><span class="line">       allows administrators to modify default behavior as well as take full  advantage  of</span><br><span class="line">       netfilter. See the ufw-framework manual page <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line">SEE ALSO</span><br><span class="line">       ufw-framework(8),        iptables(8),       ip6tables(8),       iptables-restore(8),</span><br><span class="line">       ip6tables-restore(8), sysctl(8), sysctl.conf(5)</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line">       ufw is Copyright 2008-2014, Canonical Ltd.</span><br><span class="line"></span><br><span class="line">       ufw and this manual page was originally written by Jamie  Strandboge  &lt;jamie@canoni‐</span><br><span class="line">       cal.com&gt;</span><br><span class="line"></span><br><span class="line">February 2016                                                                       UFW:(8)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> 防火墙 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java计算程序执行时间的相关函数System.currentTimeMillis()和System.nanoTime()介绍</title>
      <link href="/article/55702ea6.html"/>
      <url>/article/55702ea6.html</url>
      
        <content type="html"><![CDATA[<p>计算程序执行时间的两个函数：<code>System.currentTimeMillis()</code>，<code>System.nanoTime()</code>精确度分别为毫秒和纳秒。</p><a id="more"></a><h3 id="需求">需求</h3><p>计算程序执行时间。</p><h3 id="实现1-system-currenttimemillis">实现1.System.currentTimeMillis()</h3><p>之前我一直用的是<code>System.currentTimeMillis()</code>，通过以下程序计算时间：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line"><span class="comment">// 程序执行</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 结束</span></span><br><span class="line"><span class="keyword">long</span> endTime = System.currentTimeMillis();</span><br><span class="line">System.out.println(<span class="string">"程序用时："</span> + (endTime - startTime));</span><br></pre></td></tr></table></figure><h4 id="存在问题分析">存在问题分析</h4><p>查看该函数的API，可以知道这个时间的单位是毫秒（相当于当时的时间戳，可以转换成对应的日期的）。而有些程序的执行时间很短，用这个函数计算时间的误差会很大。如就上面这段程序而言，循环次数为100000（10万）时，用时1毫秒，为10000（1万）时，用时0毫秒，更小的肯定也是0。对这类程序而言，这个精确度还远远不够！</p><p>API说明：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> java.lang.System.currentTimeMillis()</span><br><span class="line"></span><br><span class="line">Returns the current time in milliseconds. Note thatwhile the unit of time of the <span class="keyword">return</span> value is a millisecond,the granularity of the value depends on the </span><br><span class="line">underlyingoperating system and may be larger. For example, manyoperating systems measure time in units of tens of milliseconds. </span><br><span class="line"></span><br><span class="line">See the description of the class Date fora discussion of slight discrepancies that may arise between"computer time" and coordinated universal time (UTC).</span><br><span class="line"></span><br><span class="line">Returns:the difference, measured in milliseconds, betweenthe current time and midnight, January <span class="number">1</span>, <span class="number">1970</span> UTC.See Also:java.util.Date</span><br></pre></td></tr></table></figure><p>翻译：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">返回当前时间(以毫秒为单位)。注意，虽然返回值的时间单位是毫秒，但是值的粒度取决于底层操作系统，并且可能更大。例如，许多操作系统以几十毫秒为单位测量时间。</span><br><span class="line"></span><br><span class="line">请参阅日期类Date的说明，以讨论“计算机时间”与协调世界时(UTC)之间可能出现的细微差异。</span><br><span class="line"></span><br><span class="line">返回:当前时间与协调世界时<span class="number">1970</span>年<span class="number">1</span>月<span class="number">1</span>日午夜之间的差值，以毫秒为单位。</span><br></pre></td></tr></table></figure><h3 id="实现2-system-nanotime">实现2.System.nanoTime()</h3><p>为了能到找到更准确的计时函数，我就去看了下<code>System</code>，果然在<code>currentTimeMillis()</code>附近看到另一个方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">long</span> <span class="title">currentTimeMillis</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">long</span> <span class="title">nanoTime</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>这两个方法都是<code>native</code>方法，是基于底层实现的（如不了解，可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/100065385" target="_blank" rel="noopener">Java的native方法</a>）。我就没有去深入了解，直接看API：这种方法提供了纳秒精度，只有计算在Java虚拟机的相同实例中获得的两个值之间的差异时，此方法返回的值才有意义。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> java.lang.System.nanoTime()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Returns the current value of the running Java Virtual Machine<span class="string">'shigh-resolution time source, in nanoseconds. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">This method can only be used to measure elapsed time and isnot related to any other notion of system or wall-clock time.</span></span><br><span class="line"><span class="string">The value returned represents nanoseconds since some fixed butarbitrary origin time (perhaps in the future, so valuesmay be negative). </span></span><br><span class="line"><span class="string">The same origin is used by all invocations ofthis method in an instance of a Java virtual machine; othervirtual machine instances are likely to use a different origin. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">This method provides nanosecond precision, but not necessarilynanosecond resolution (that is, </span></span><br><span class="line"><span class="string">how frequently the value changes)- no guarantees are made except that the resolution is at least asgood as that of currentTimeMillis(). </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Differences in successive calls that span greater thanapproximately 292 years (263 nanoseconds) will notcorrectly compute elapsed time due to numerical overflow. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The values returned by this method become meaningful only whenthe difference between two such values, obtained within the sameinstance of a Java virtual machine, is computed. </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For example, to measure how long some code takes to execute: </span></span><br><span class="line"><span class="string"> long startTime = System.nanoTime();</span></span><br><span class="line"><span class="string"> // ... the code being measured ...</span></span><br><span class="line"><span class="string"> long estimatedTime = System.nanoTime() - startTime;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">To compare two nanoTime values </span></span><br><span class="line"><span class="string"> long t0 = System.nanoTime();</span></span><br><span class="line"><span class="string"> ...</span></span><br><span class="line"><span class="string"> long t1 = System.nanoTime();</span></span><br><span class="line"><span class="string">one should use t1 - t0 &lt; 0, not t1 &lt; t0,because of the possibility of numerical overflow.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Returns:the current value of the running Java Virtual Machine'</span>shigh-resolution time source, in nanoseconds Since:<span class="number">1.5</span></span><br></pre></td></tr></table></figure><p>翻译：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">返回正在运行的Java虚拟机的分辨率时间源的当前值，单位为纳秒。</span><br><span class="line"></span><br><span class="line">此方法只能用于测量运行时间，与系统或壁钟时间的任何其他概念无关。</span><br><span class="line">返回的值表示自某个固定的但很小的起始时间(可能在将来，所以值可能是负数)以来的纳秒。</span><br><span class="line">在Java虚拟机实例中，此方法的所有调用都使用相同的源;其他虚拟机实例可能使用不同的起源。</span><br><span class="line"></span><br><span class="line">这种方法提供了纳秒精度，但不一定有十亿分之一秒的分辨率(即，</span><br><span class="line">值变化的频率)——除了分辨率至少与currentTimeMillis()一样好之外，没有任何保证。</span><br><span class="line"></span><br><span class="line">由于数值溢出，连续调用中超过<span class="number">292</span>年(<span class="number">263</span>纳秒)的差异将无法正确计算运行时间。</span><br><span class="line"></span><br><span class="line">只有计算在Java虚拟机的相同实例中获得的两个值之间的差异时，此方法返回的值才有意义。</span><br><span class="line"></span><br><span class="line">例如，要测量一些代码执行需要多长时间:</span><br><span class="line"><span class="keyword">long</span> startTime = System.nanoTime();</span><br><span class="line">/ /……正在测量的代码…</span><br><span class="line"><span class="keyword">long</span> estimatedTime = System.nanoTime() - startTime ;</span><br><span class="line"></span><br><span class="line">比较两个纳时值</span><br><span class="line"><span class="keyword">long</span> t0 = System.nanoTime();</span><br><span class="line">…</span><br><span class="line"><span class="keyword">long</span> t1 = System.nanoTime();</span><br><span class="line">应该使用t1 - t0 &lt; <span class="number">0</span>，而不是t1 &lt; t0，因为可能会出现数值溢出。</span><br><span class="line"></span><br><span class="line">返回:正在运行的Java虚拟机的分辨率时间源的当前值，以纳秒为单位，从:<span class="number">1.5</span>开始。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL的左连接，右连接，内连接和全外连接的4者区别</title>
      <link href="/article/d3fa26d0.html"/>
      <url>/article/d3fa26d0.html</url>
      
        <content type="html"><![CDATA[<p>SQL的左连接 ，右连接，内连接和全外连接的4者区别</p><a id="more"></a><h2 id="基本定义">基本定义</h2><ul><li>left join （左连接）：返回包括左表中的所有记录和右表中连接字段相等的记录。</li><li>right join （右连接）：返回包括右表中的所有记录和左表中连接字段相等的记录。</li><li>inner join （等值连接或者叫内连接）：只返回两个表中连接字段相等的行。</li><li>full join （全外连接）：返回左右表中所有的记录和左右表中连接字段相等的记录。</li></ul><h2 id="举个例子">举个例子</h2><p>假设有表数据如下：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">　A表　　　　　　　　　　</span><br><span class="line">　　id　  name　　</span><br><span class="line">　　1　　小王</span><br><span class="line">　　2　　小李</span><br><span class="line">　　3　　小刘</span><br><span class="line"> </span><br><span class="line">　B表</span><br><span class="line">　　id　　A_id　　job</span><br><span class="line">　　1　　2　　　　老师</span><br><span class="line">　　2　　4　　　　程序员</span><br></pre></td></tr></table></figure><h3 id="内连接：-只有2张表匹配的行才能显示">内连接：（只有2张表匹配的行才能显示）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name,b.job <span class="keyword">from</span> A a  <span class="keyword">inner</span> <span class="keyword">join</span> B b <span class="keyword">on</span> a.id=b.A_id</span><br><span class="line"> </span><br><span class="line">　　只能得到一条记录</span><br><span class="line"> </span><br><span class="line">　　小李　　老师</span><br></pre></td></tr></table></figure><h3 id="左连接：-左边的表不加限制">左连接：（左边的表不加限制）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name,b.job <span class="keyword">from</span> A a  <span class="keyword">left</span> <span class="keyword">join</span> B b <span class="keyword">on</span> a.id=b.A_id</span><br><span class="line"> </span><br><span class="line">　　三条记录</span><br><span class="line"> </span><br><span class="line">　　小王　　<span class="literal">null</span></span><br><span class="line"> </span><br><span class="line">　　小李　　老师</span><br><span class="line"> </span><br><span class="line">　　小刘　　<span class="literal">null</span></span><br></pre></td></tr></table></figure><h3 id="右连接：-右边的表不加限制">右连接：（右边的表不加限制）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name,b.job <span class="keyword">from</span> A a  <span class="keyword">right</span> <span class="keyword">join</span> B b <span class="keyword">on</span> a.id=b.A_id</span><br><span class="line"> </span><br><span class="line">　　两条记录</span><br><span class="line"> </span><br><span class="line">　　小李　　老师</span><br><span class="line"> </span><br><span class="line">　　<span class="literal">null</span>　　程序员</span><br></pre></td></tr></table></figure><h3 id="全外连接：-左右2张表都不加限制">全外连接：(左右2张表都不加限制）</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name,b.job <span class="keyword">from</span> A a  <span class="keyword">full</span> <span class="keyword">join</span> B b <span class="keyword">on</span> a.id=b.A_id</span><br><span class="line"> </span><br><span class="line">　　四条数据</span><br><span class="line"> </span><br><span class="line">　　小王　　<span class="literal">null</span></span><br><span class="line"> </span><br><span class="line">　　小李　　老师</span><br><span class="line"> </span><br><span class="line">　　小刘　　<span class="literal">null</span></span><br><span class="line"> </span><br><span class="line">　　<span class="literal">null</span>　　程序员</span><br></pre></td></tr></table></figure><p><strong>注</strong>：在sql中外连接包括左连接（left join ）和右连接（right join），全外连接（full join）；等值连接（inner join）又叫内连接。</p><p>————————————————</p><p>版权声明：本文为CSDN博主「灰太狼_cxh」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。</p><p>原文链接：<a href="https://blog.csdn.net/weixin_39220472/article/details/81193617" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39220472/article/details/81193617</a></p><p>部分内容和排版有所修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven项目WebServlet cannot be resolved to a type报错解决</title>
      <link href="/article/9b87615a.html"/>
      <url>/article/9b87615a.html</url>
      
        <content type="html"><![CDATA[<p>导入对应的Tomcat的servlet的包，如tomcat-servlet-api。</p><a id="more"></a><p>没有使用Maven管理项目时，我们要编写servlet需要导入对应的jar包，一般都是导入自己配置的Tomcat的jar包（虽然MyEclipse一般也有一些Tomcat内置包），但是使用maven后，和servlet相关的jar好像很多，一开始都不知道导入哪个包，因此就使用了这个：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0-alpha-1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>但是在使用<code>@WebServlet</code>注解时，报错了，百度发现该注解是在<code>javax.servlet.annotation.WebServlet;</code>下的，而该jar里面压根就没有这个包（如下图），于是怀疑导错包了。</p><p><img src="https://img-blog.csdnimg.cn/20191024142555577.png" alt="在这里插入图片描述"></p><p>然后想到之前是使用Tomcat的内置包，就去找了下Tomcat相关的，果然是这个：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-servlet-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat-servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.53<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>该包部分截图如下：</p><p><img src="https://img-blog.csdnimg.cn/20191024142758143.png" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot项目启动.Failed to start component [Connector[HTTP/1.1-8080]]</title>
      <link href="/article/fd6dea12.html"/>
      <url>/article/fd6dea12.html</url>
      
        <content type="html"><![CDATA[<p>可能是上次运行SpringBoot项目没有正常停止，造成对应的（访问8080端口的）进程还没有结束，造成8080端口被占用。</p><a id="more"></a><h2 id="主要的-报错信息：">（主要的）报错信息：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/<span class="number">1.1</span>-<span class="number">8080</span>]]</span><br><span class="line">……</span><br><span class="line">……</span><br><span class="line">***************************</span><br><span class="line">APPLICATION FAILED TO START</span><br><span class="line">***************************</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line"></span><br><span class="line">The Tomcat connector configured to listen on port <span class="number">8080</span> failed to start. The port may already be in use or the connector may be misconfigured.</span><br><span class="line"></span><br><span class="line">Action:</span><br><span class="line"></span><br><span class="line">Verify the connector<span class="string">'s configuration, identify and stop any process that'</span>s listening on port <span class="number">8080</span>, or configure <span class="keyword">this</span> application to listen on another port.</span><br></pre></td></tr></table></figure><h2 id="原因：tomcat端口被占用">原因：Tomcat端口被占用</h2><p>可能是上次运行SpringBoot项目没有正常停止，造成对应的（访问8080端口的）进程还没有结束，造成8080端口被占用。</p><h2 id="解决方法">解决方法</h2><p>既然Tomcat的8080端口被占用，我们可以关闭这个被占用的端口，或者是指定一个新的端口。</p><h3 id="1-关闭占用8080端口的进程">1.关闭占用8080端口的进程</h3><p>打开cmd<br>1 .使用命令查看电脑端口的使用情况，找到使用8080端口的进程</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -aon | findstr 8080</span><br></pre></td></tr></table></figure><p>注： <code>netstat</code>命令参数解析： -a 显示所有连接和侦听端口。-o 显示拥有的与每个连接关联的进程 ID。-n 以数字形式显示地址和端口号。</p><p><img src="https://img-blog.csdnimg.cn/20191022215039251.png" alt="在这里插入图片描述"><br><br>这最后面的就是进程的id。</p><p>2 .关闭(杀死)该进程<br>2.1 使用命令行直接关闭，这里需要强制关闭，不然关闭不了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">taskkill /pid 2404 /f</span><br></pre></td></tr></table></figure><p>注： <code>taskkill</code>命令参数解析：/pid 指定要终止的进程的 PID。-f 强制关闭。</p><p>2.2 使用任务管理器关闭</p><p>根据进程id找到对应的进程，结束进程即可。</p><h3 id="2-指定一个新的端口">2.指定一个新的端口</h3><p>在spring boot的配置文件application.properties中重新指定一个端口号（在该配置文件中加入下面一段代码即可）</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">server.port</span>=<span class="string">8081</span></span><br></pre></td></tr></table></figure><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/love_from_the_heart/article/details/85775933" target="_blank" rel="noopener">https://blog.csdn.net/love_from_the_heart/article/details/85775933</a></li><li><a href="https://blog.csdn.net/cao126197103/article/details/62038132" target="_blank" rel="noopener">cmd 关闭某个占用的进程</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> CMD </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot项目的pom.xml报unknown error</title>
      <link href="/article/adc681cf.html"/>
      <url>/article/adc681cf.html</url>
      
        <content type="html"><![CDATA[<p>是<code>spring-boot-starter-parent</code>的版本问题引起的。改成2.0.3.RELEASE（对应的spring版本为5.0.7.RELEASE）然后更新项目（项目右键–&gt;Maven–&gt;Update project），重新下载jar，该报错就没了。</p><a id="more"></a><h2 id="报错详情">报错详情</h2><p>SpringBoot项目的<code>pom.xml</code>的部分内容：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">relativePath</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><p>报错信息如下：<br><img src="https://img-blog.csdnimg.cn/20191022190101175.png" alt="在这里插入图片描述"></p><p>直接提示<code>pom.xml</code>的第一行有问题，但是却没有具体的提示信息。</p><h2 id="分析">分析</h2><p>网上找了挺久的，说法不一，解决方法也各异，但是可以确定的是：</p><ol><li>该报错不影响运行！也就是说可以不去理会，除非你有点强迫症。</li><li>是<code>spring-boot-starter-parent</code>的版本问题引起的。</li></ol><h2 id="解决方法：降低版本">解决方法：降低版本</h2><p>我之前的版本是<code>2.2.0.RELEASE</code>（对应的spring版本为<code>5.2.0.RELEASE</code>），改成<code>2.0.3.RELEASE</code>（对应的spring版本为<code>5.0.7.RELEASE</code>）然后更新项目（项目右键–&gt;Maven–&gt;Update project），重新下载jar，该报错就没了。</p><p>好像降低为<code>2.0.1.RELEASE</code>也行。</p><h2 id="猜测">猜测</h2><p>去<a href="https://mvnrepository.com" target="_blank" rel="noopener">中央仓库</a>看了下对应的版本，发现spring-boot的<code>2.2.0.RELEASE</code>和spring的<code>5.2.0.RELEASE</code>都是目前（2019年10月22日）最新的版本，而一般最新版本都可能会存在这样或那样的问题。而换了旧版本之后，报错就消失了，于是我猜测是版本之间存在兼容性问题、或者是有冲突。具体原因未知。</p><h2 id="2020年4月9日更新">2020年4月9日更新</h2><p>后来我去了解，发现好多人都说是spring-boot版本升级后，有些IDE插件不兼容，故而报此错误。</p><p>解决办法：增加配置项，在pom.xml 文件中的 properties 加入maven jar 插件的版本号，如下所示：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maven-jar-plugin.version</span>&gt;</span>3.1.1<span class="tag">&lt;/<span class="name">maven-jar-plugin.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Spring </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自动生成CSDN的博客目录的工具</title>
      <link href="/article/15c1355d.html"/>
      <url>/article/15c1355d.html</url>
      
        <content type="html"><![CDATA[<p>开发了个小工具：可以自动生成CSDN的博客目录（按照分类专栏进行分类）。</p><p><img src="https://oss.yansheng.xyz/picgo/20200620000239.png" alt></p><a id="more"></a><h2 id="说明">说明</h2><p>博客目录导航参考了这篇博客：<a href="https://blog.csdn.net/SnailMann/article/details/88392514" target="_blank" rel="noopener">https://blog.csdn.net/SnailMann/article/details/88392514</a>，因为之前爬过CSDN，所以就索性开发了个工具：可以自动生成CSDN的博客目录，详情可见：<a href="https://github.com/yansheng836/GCCL" target="_blank" rel="noopener">GitHub仓库</a>。</p><p>为CSDN博客分类生成目录导航列表。虽然CSDN的分类专栏支持二级分类，但是到目前为止(2019-9-30)它的层级关系并不密切，或者说是没有关系，所以这里就没有进行分层，仅仅是针对分类进行索引。</p><p>分类设置为三级目录（如果需要二级目录，可以自行添加），分类里面的博客设置成无序列表：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">### &lt;font color =&quot;green&quot;&gt;Java基础&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">- [命令行运行javac，报错: 编码 GBK 的不可映射字符 (0x9C)](https://blog.csdn.net/weixin_41287260/article/details/100177044)</span><br></pre></td></tr></table></figure><p>该工具我已开源到GitHub，仓库地址为：<a href="https://github.com/yansheng836/GCCL" target="_blank" rel="noopener">https://github.com/yansheng836/GCCL</a>，有需要可以进行尝试。</p><h2 id="思路">思路</h2><ol><li>先爬取CSDN博主主页的（非空的）分类专栏的信息：分类专栏的名称、网址、数量。</li><li>到每个分类专栏爬取博客列表信息：博客的标题、网址。</li><li>将爬取到的博客信息按照特定的格式输出到文件中。</li></ol><h3 id="注：">注：</h3><ul><li><p>页面元素分析可见：<a href="https://github.com/yansheng836/GCCL/tree/master/%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0%E5%88%86%E6%9E%90" target="_blank" rel="noopener">页面元素分析</a>。</p></li><li><p>因为我将分类信息和博客信息都存放在<code>ArrayList</code>中，所以最后生成的目录是有序的，都是按照分类专栏和每个专栏的博客的顺序进行排列的。</p><ul><li>分类专栏的排列顺序：可到<a href="https://mp.csdn.net/classify_and_column/list" target="_blank" rel="noopener">分类专栏管理处</a>调整分类专栏的排列顺序。</li><li>分类专栏中的博客顺序：不得不吐槽的是：这个顺序默认是随机的，虽然很多人都想CSDN工作人员反映这个问题，但是不知道为啥就是不改了。修改：进到每个分类专栏，点击右上角的<code>管理博客</code>–&gt;<code>批量操作</code>–&gt;<code>排序</code>–&gt;顺序建议使用<code>按创建时间</code>的<code>降序</code>。</li></ul></li></ul><h2 id="效果">效果</h2><p>请看生成的文件 <a href="https://github.com/yansheng836/GCCL/blob/master/CSDN%E5%8D%9A%E5%AE%A2%E7%9B%AE%E5%BD%95-2019-10-13.14-15-36.md" target="_blank" rel="noopener">CSDN博客目录-2019-10-13.14-15-36.md</a>，或者参考我的CSDN博客目录：<a href="https://blog.csdn.net/weixin_41287260/article/details/101735143" target="_blank" rel="noopener">【目录】博客目录 | 先点这里</a>。</p><h2 id="测试">测试</h2><p>对多种情况进行了测试，得出了对应的程序运行时间，详见：<a href="https://github.com/yansheng836/GCCL/blob/master/%E7%A8%8B%E5%BA%8F%E6%B5%8B%E8%AF%95" target="_blank" rel="noopener">程序测试</a>。</p><h2 id="使用">使用</h2><h3 id="简单使用">简单使用</h3><p>下载：<a href="https://github.com/yansheng836/GCCL/releases" target="_blank" rel="noopener">最新的发布包</a>。</p><p>运行脚本:<code>运行GCCL工具的脚本.bat</code>，可直接运行该工具。详见：<a href="https://github.com/yansheng836/GCCL/tree/master/%E8%BF%90%E8%A1%8CGCCL%E5%B7%A5%E5%85%B7%E7%9A%84%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener">运行GCCL工具的脚本</a>.</p><p>然后输入用户名，稍等片刻，即可在当前目录生成<code>CSDN博客目录.md</code>文件，复制到CSDN的markdown编辑器即可，当然你也可以添加一些说明。</p><p><a href="https://blog.csdn.net/weixin_41287260" target="_blank" rel="noopener">我的博客</a>:(2019-10-14)有97篇原创，含转发共153篇博客，26个非空分类专栏，分类专栏下博客共251篇。相当于原创的当于3倍（因为每篇博客可以选三个分类专栏）。用时在20s~50s之间（与网络状况有关）。</p><p>示范如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">-----------------------欢迎使用CSDN博客目录生成工具(GCCL)----------------------</span><br><span class="line">                          _____   _____  _____  _</span><br><span class="line">                         / ____| / ____|/ ____|| |</span><br><span class="line">                        | |  __ | |    | |     | |</span><br><span class="line">                        | | |_ || |    | |     | |</span><br><span class="line">                        | |__| || |____| |____ | |____</span><br><span class="line">                         \_____| \_____|\_____||______|</span><br><span class="line">.</span><br><span class="line">该工具可为您生成“CSDN博客导航目录”,使用前请阅读README,然后按照提示进行操作。</span><br><span class="line">如果在使用过程中遇到问题，可到 https://github.com/yansheng836/GCCL/issues 提问。</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">！！！！！！！！！！！！！！！！！声明：！！！！！！！！！！！！！！！！！！！</span><br><span class="line">该工具仅供学习交流使用，请勿用于商业用途；该工具是完全免费的，不进行任何保证，</span><br><span class="line">版权归 sheng.yan836@gmail.com 所有。</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">.</span><br><span class="line">__          __  _                          _ </span><br><span class="line">\ \        / / | |                        | |</span><br><span class="line"> \ \  /\  / /__| | ___ ___  _ __ ___   ___| |</span><br><span class="line">  \ \/  \/ / _ \ |/ __/ _ \| &apos;_ ` _ \ / _ \ |</span><br><span class="line">   \  /\  /  __/ | (_| (_) | | | | | |  __/_|</span><br><span class="line">    \/  \/ \___|_|\___\___/|_| |_| |_|\___(_)</span><br><span class="line">                                             </span><br><span class="line">请输入用户名：weixin_41287260</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">weixin_41287260,即将为您生成CSDN博客目录。</span><br><span class="line"></span><br><span class="line">1.正在获取分类专栏的信息，请稍候……</span><br><span class="line">----所有分类专栏一共有:251篇博客(包含重复的)。</span><br><span class="line">----获取分类专栏信息成功，共有26个非空的分类专栏。</span><br><span class="line">2.正在获取每个分类专栏内的博客信息……</span><br><span class="line">----获取分类专栏内的博客信息成功！</span><br><span class="line">3.正在生成该用户的‘博客导航分类目录’文件……</span><br><span class="line">----生成‘博客导航分类目录’文件成功！！</span><br><span class="line">文件路径为：CSDN博客目录-2019-10-14.21-54-19.md</span><br><span class="line"></span><br><span class="line">**感谢您使用该工具,此次用时:41.143秒,期待下一次的重逢!**</span><br><span class="line">  _____                 _ _                _ </span><br><span class="line"> / ____|               | | |              | |</span><br><span class="line">| |  __  ___   ___   __| | |__  _   _  ___| |</span><br><span class="line">| | |_ |/ _ \ / _ \ / _` | &apos;_ \| | | |/ _ \ |</span><br><span class="line">| |__| | (_) | (_) | (_| | |_) | |_| |  __/_|</span><br><span class="line"> \_____|\___/ \___/ \__,_|_.__/ \__, |\___(_)</span><br><span class="line">                                 __/ |       </span><br><span class="line">                                |___/</span><br></pre></td></tr></table></figure><p>效果图：<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzEwLzE1L0s5Y0xleC5qcGc?x-oss-process=image/format,png" alt="效果图"></p><h3 id="开发">开发</h3><ol><li>git clone <a href="https://github.com/yansheng836/GCCL.git" target="_blank" rel="noopener">https://github.com/yansheng836/GCCL.git</a></li><li>以Maven形式导入IDE。</li><li>运行<code>/GCCL/src/main/java/xyz/yansheng/main</code>下面的<code>App</code>主程序。</li><li>或者按需开发自己的程序。</li></ol><h2 id="限制">限制</h2><ul><li>目前只能爬取没有自定义博客域名的博客，博客主页网址形式为：<a href="https://blog.csdn.net/" target="_blank" rel="noopener">https://blog.csdn.net/</a> + username，如我的CSDN用户名为<code>weixin_41287260</code>，我的博客主页网址为：<a href="https://blog.csdn.net/weixin_41287260" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41287260</a>。</li><li>如果选择的博客主题在侧边栏没有博客分类专栏，那么该工具无效（如这位博主的：<a href="https://blog.csdn.net/lingshengxueyuan" target="_blank" rel="noopener">https://blog.csdn.net/lingshengxueyuan</a>）。</li><li>如果某个分类专栏没有设置在前台显示，则不能爬取该分类专栏的信息。（注：如果没有到 <a href="https://mp.csdn.net/classify_and_column/list" target="_blank" rel="noopener">分类专栏管理处</a> 进行设置，新建后默认为显示/可见。）</li><li>前面已经提到了分类专栏可能有分级的情况（一级和二级），但是因为关系不紧密，该工具没有做这方面的处理。进行过测试，发现应该是可以爬取二级分类的。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> Java爬虫 </tag>
            
            <tag> Jsoup </tag>
            
            <tag> CSDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python列表中的字典按照该字典下的键值进行排序</title>
      <link href="/article/b18de563.html"/>
      <url>/article/b18de563.html</url>
      
        <content type="html"><![CDATA[<p>这算是排序中比较复杂的一种情况吧，多重嵌套，按照某种规则进行排序。</p><a id="more"></a><h2 id="列表中的字典按照该字典下的键值进行排序">列表中的字典按照该字典下的键值进行排序</h2><p>这算是排序中比较复杂的一种情况吧，多重嵌套，按照某种规则进行排序。<br>如下面这个json（注：这里这是该列表中的一个项）:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"stat"</span>: &#123;</span><br><span class="line">            <span class="attr">"question_id"</span>: <span class="number">1339</span>,</span><br><span class="line">            <span class="attr">"question__article__live"</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">"question__article__slug"</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">"question__title"</span>: <span class="string">"Team Scores in Football Tournament"</span>,</span><br><span class="line">            <span class="attr">"question__title_slug"</span>: <span class="string">"team-scores-in-football-tournament"</span>,</span><br><span class="line">            <span class="attr">"question__hide"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"total_acs"</span>: <span class="number">348</span>,</span><br><span class="line">            <span class="attr">"total_submitted"</span>: <span class="number">656</span>,</span><br><span class="line">            <span class="attr">"frontend_question_id"</span>: <span class="number">1212</span>,</span><br><span class="line">            <span class="attr">"is_new_question"</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"status"</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">"difficulty"</span>: &#123;</span><br><span class="line">            <span class="attr">"level"</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"paid_only"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"is_favor"</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"frequency"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"progress"</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"stat"</span>: &#123;</span><br><span class="line">            <span class="attr">"question_id"</span>: <span class="number">1337</span>,</span><br><span class="line">            <span class="attr">"question__article__live"</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">"question__article__slug"</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">"question__title"</span>: <span class="string">"Design Skiplist"</span>,</span><br><span class="line">            <span class="attr">"question__title_slug"</span>: <span class="string">"design-skiplist"</span>,</span><br><span class="line">            <span class="attr">"question__hide"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"total_acs"</span>: <span class="number">748</span>,</span><br><span class="line">            <span class="attr">"total_submitted"</span>: <span class="number">1261</span>,</span><br><span class="line">            <span class="attr">"frontend_question_id"</span>: <span class="number">1206</span>,</span><br><span class="line">            <span class="attr">"is_new_question"</span>: <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"status"</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">"difficulty"</span>: &#123;</span><br><span class="line">            <span class="attr">"level"</span>: <span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"paid_only"</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"is_favor"</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">"frequency"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"progress"</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>list里面是字典，字典里面还是字典，假如按照<code>frontend_question_id</code>进行排序，提供两种方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法1，注：原列表为list1，排序后list2 </span></span><br><span class="line">list2 = sorted(list1, key=<span class="keyword">lambda</span> x : x[<span class="string">'stat'</span>][<span class="string">'question_id'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法2</span></span><br><span class="line">list1.sort(key=<span class="keyword">lambda</span> x: x[<span class="string">"stat"</span>][<span class="string">'question_id'</span>])</span><br></pre></td></tr></table></figure><hr><p>参考: <a href="https://www.cnblogs.com/onemorepoint/p/9114153.html" target="_blank" rel="noopener">python中列表排序，字典排序，列表中的字典排序</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub Pages使用过域名解析，停止后还能跳转的原因</title>
      <link href="/article/7f222062.html"/>
      <url>/article/7f222062.html</url>
      
        <content type="html"><![CDATA[<p>可能浏览器缓存的问题，导致重定向了，清空下缓存就可以了。</p><a id="more"></a><h2 id="问题">问题</h2><p>之前使用hexo+GitHub Pages搭建个人博客，同时使用了在阿里云买了域名，使用了域名解析，将GitHub Pages的访问地址解析到了自己买的域名，在GitHub仓库里面使用了<code>CNAME</code>文件指定域名，如我的<code>yansheng.xyz</code>。因此如果需要停止域名解析就需要现在阿里云域名解析那里暂停解析该网址（或者删除，严格来说这一步在这个问题里面其实可以没有，关键是后面的）；然后将GitHub仓库里面的<code>CNAME</code>文件删除掉（或者将里面的域名删除，只留空文件）；按理说应该就可以了，访问GitHub Pages的访问地址不会再跳转到自己域名了，但是它还是会跳转……?</p><h2 id="探索">探索</h2><p>我一开始怀疑是停止域名解析还没有生效，因为那里设置的起效时间一般是10分钟，然而我过了一天后再去试，发现还是不行；然后又去检查GitHub仓库里面的<code>CNAME</code>文件，发现确实是删除了，而且在仓库设置里面可以看到GitHub Pages的访问地址已经不是自定义域名了，而是原来的仓库名；感觉很头大……?</p><h2 id="解决">解决</h2><p>最后百度了挺久，发现挺多都是说：<strong>可能浏览器缓存的问题，导致重定向了，清空下缓存就可以了</strong>，抱着试一试的心态，没想到解决了这个问题。?</p><h2 id="tip-附上chrome清理缓存的方法">tip-附上Chrome清理缓存的方法</h2><p>方法1：快捷键：Ctrl+Shift+Delete，直接进入到清理缓存的设置里面，按照默认设置进行清理就可以了，当然你也可以有选择的进行清理。但是我觉得 <code>Cookie及其他网站数据</code>是必须要勾选的！</p><p><img src="https://img-blog.csdnimg.cn/20191016114854313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>方法2（不使用快捷键的方法）：点击右上角的<strong>三点</strong>–&gt;更多工具–&gt;清除浏览数据，后面操作和上面的一样。</p><p>注意：清理缓存可能会将你的一些登录状态删除掉，如浏览器记住的密码密码等，要有选择的清理，还有就是做好备份。</p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> GitHub Pages </tag>
            
            <tag> 阿里云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>推荐一波可免费下载音乐的网站！</title>
      <link href="/article/98219d4c.html"/>
      <url>/article/98219d4c.html</url>
      
        <content type="html"><![CDATA[<p>现在的歌都是需要VIP，但作为平民窟的一员，怎么会花钱冲VIP呢？ 以下几个网站可以帮助我们免费下载音乐！</p><a id="more"></a><h3 id="0-简介">0. 简介</h3><p>现在的歌都是需要VIP，但作为平民窟的一员，怎么会花钱冲VIP呢？<br>以下几个网站可以帮助我们免费下载音乐！</p><h3 id="1-疯狂音乐搜索-http-music-ifkdy-com">1.疯狂音乐搜索 <a href="http://music.ifkdy.com/" target="_blank" rel="noopener">http://music.ifkdy.com/</a></h3><p>(这个牛逼了亲测有效, 搜索到想要的音乐直接下单即可, 不需要下载其他任何PC端软件)</p><p>网站里面涵盖了超多平台的音乐资源，而且都是可以在线或者下载都可以，这里就不多做介绍了，感兴趣的朋友可以看看。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0N2xsem9qejlxam10am9yajAuanBn" alt="推荐一波可免费下载音乐的网站！"></p><h3 id="2-魔灵音乐-mi音乐-growio音乐-https-music-mli-im">2.魔灵音乐/Mi音乐/growio音乐 <a href="https://music.mli.im/" target="_blank" rel="noopener">https://music.mli.im/</a></h3><p>网站拥有庞大、完整的曲库,歌曲更新迅速,试听流畅,口碑极佳。提供高品质音乐MP3的个性化推荐、发布、无损音乐免费下载服务(免注册)。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0OHY5YTUwcmRjNXVjMDVyN3YuanBn" alt="推荐一波可免费下载音乐的网站！"></p><h3 id="3-vip付费音乐解析下载-http-music-zhuolin-wang">3.VIP付费音乐解析下载  <a href="http://music.zhuolin.wang/" target="_blank" rel="noopener">http://music.zhuolin.wang/</a></h3><p>它能够任意在线听音乐并且能够下载高音质音乐。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0OGxzcW5lcmc4ZWduenN6Y2guanBn" alt="推荐一波可免费下载音乐的网站！"></p><h3 id="4-51ape-com-http-www-51ape-com"><a href="http://4.51ape.com" target="_blank" rel="noopener">4.51ape.com</a> <a href="http://www.51ape.com/" target="_blank" rel="noopener">http://www.51ape.com/</a></h3><p>51Ape.Com是一个免费提供无损音乐下载的网站,专注于Ape音乐、Flac音乐以及Wav等各类高品质无损音乐的免费下载,但更新慢，一些新歌是没有的。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0OHNnbm5uY25kdnY2ZGRnNnouanBn" alt="推荐一波可免费下载音乐的网站！"></p><h3 id="5-歌曲大全-音乐聚合搜索引擎-http-www-gequdaquan-net-gqss">5.歌曲大全—音乐聚合搜索引擎 <a href="http://www.gequdaquan.net/gqss/" target="_blank" rel="noopener">http://www.gequdaquan.net/gqss/</a></h3><p>音乐聚合搜索引擎是一款使用非常方便的收费音乐下载工具。这款音乐聚合搜索引擎能… 支持网易云、虾米、QQ、酷狗、百度、等平台收费音乐下载,搜索支持歌曲名称.</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0OHI3b3NoZXB4bGh4aHYxZGYuanBn" alt="推荐一波可免费下载音乐的网站！"></p><h3 id="6-bin-music-http-music-fooor-cn">6.bin music   <a href="http://music.fooor.cn/" target="_blank" rel="noopener">http://music.fooor.cn/</a></h3><p>是一款开源的基于网易云音乐api的在线音乐播放器。具有音乐搜索、播放、下载、歌词同步显示、个人音乐播放列表同步等功能。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0OGQzZG5ienBkcGtzMHVrdWMuanBn" alt="推荐一波可免费下载音乐的网站！"></p><h3 id="7-mkonlineplaer：http-music-xizi-ml">7.MKOnlinePlaer：<a href="http://music.xizi.ml/" target="_blank" rel="noopener">http://music.xizi.ml/</a></h3><p>一款开源的基于网易云音乐api的在线音乐播放器。具有音乐搜索、播放、下载、歌词同步显示、个人音乐播放列表同步等功能。类似bin music。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cuc2VveGllaHVpLmNuL2RhdGEvYXR0YWNobWVudC9wb3J0YWwvMjAxODA5LzA4LzA1MTA0OGN4M3owNG93eDFvZXEzZXEuanBn" alt="推荐一波可免费下载音乐的网站！"></p><hr><p>参考：<a href="https://blog.csdn.net/qq_35661171/article/details/83588681" target="_blank" rel="noopener">https://blog.csdn.net/qq_35661171/article/details/83588681</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 音乐 </tag>
            
            <tag> 工具/资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Timer任务定时器如何终止</title>
      <link href="/article/b3147f01.html"/>
      <url>/article/b3147f01.html</url>
      
        <content type="html"><![CDATA[<p>在计时器结束后，我们需要通过<code>public void cancel()</code>来取消这个线程，不然它会一直挂起。如果需要在外面终止计时器，也可以schedule()方法外面调用这个方法。</p><a id="more"></a><p>一个简单的计时器：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># do something ……</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> time = <span class="number">1</span> * <span class="number">1</span> * <span class="number">1000L</span>;</span><br><span class="line">Timer timer = <span class="keyword">new</span> Timer();</span><br><span class="line">timer.schedule(<span class="keyword">new</span> TimerTask() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"开始计划任务。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, time);</span><br></pre></td></tr></table></figure><p>开始计时后，过来1秒钟会开始计划任务。但是计划任务结束后会发现，其实程序还有还没有停止，如下eclipse的控制台还是会显示还在运行状态。<br><br><img src="https://img-blog.csdnimg.cn/20191015194607927.png" alt="在这里插入图片描述"><br><br>通过打断点，发现计划任务执行结束后，计时器的线程没有结束（本来应该已经结束了的）。<br><br><img src="https://img-blog.csdnimg.cn/20191015200405408.png" alt="在这里插入图片描述"><br><br>再次调试，发现又挂起了新的线程：<br><br><img src="https://img-blog.csdnimg.cn/20191015200518980.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>在计时器结束后，我们需要通过<code>public void cancel()</code>来取消这个线程，不然它会一直挂起。如果需要在外面终止计时器，也可以<code>schedule()</code>方法外面调用这个方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># do something ……</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> time = <span class="number">1</span> * <span class="number">1</span> * <span class="number">1000L</span>;</span><br><span class="line">Timer timer = <span class="keyword">new</span> Timer();</span><br><span class="line">timer.schedule(<span class="keyword">new</span> TimerTask() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"开始计划任务。"</span>);</span><br><span class="line">        timer.cancel();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, time);</span><br></pre></td></tr></table></figure><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/mars_idea/article/details/80724825" target="_blank" rel="noopener">https://blog.csdn.net/mars_idea/article/details/80724825</a></li><li><a href="http://www.cocoachina.com/articles/77652" target="_blank" rel="noopener">http://www.cocoachina.com/articles/77652</a></li><li><a href="https://www.cnblogs.com/gaorongyi/p/5032660.html" target="_blank" rel="noopener">定时器Timer如何终止运行的问题</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用JUnit测试如何自动从控制台输入数据</title>
      <link href="/article/d4603b41.html"/>
      <url>/article/d4603b41.html</url>
      
        <content type="html"><![CDATA[<p>利用jdk自带的：<code>System.setIn(InputStream in);</code> 重新分配“标准”输入流，相当于不是从控制台获取数据，而是从该流中获取数据。</p><a id="more"></a><h2 id="需求">需求</h2><p>利用JUnit测试一个含有需要输入数据的方法（如含有<code>Scanner</code>的方法），比如下面的例子：测试主程序，主程序里面需要你输入用户名，但是在JUnit测试中一般都是要求能够自动化进行测试，而不是需要手动在控制台输入数据的。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.print(<span class="string">"请输入用户名："</span>);</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String username = scanner.nextLine();</span><br><span class="line">        scanner.close();</span><br><span class="line">        System.out.println(<span class="string">"username："</span> + username);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="寻求方案">寻求方案</h2><p>在网上找了好久，可以说是毫无所获，不知道是我找的方向不对，还是他们的意思和我的需要不一样。有些超级水的文章甚至<code>Scanner</code>都没有提到就是我这个类似的标题，感觉是越找越来气啊。</p><p>然后我发现挺多文章都提到了这个方法：<code>System.setIn(InputStream in)</code>，我就查了下API，找到了处理方案。</p><p><img src="https://img-blog.csdnimg.cn/20191013230558979.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="方案">方案</h2><p>利用jdk自带的：<code>System.setIn(InputStream in)</code>:重新分配“标准”输入流，相当于不是从控制台获取数据，而是从该流中获取数据。而对于字符串可以先转为字节数组，然后转成流，<code>ByteArrayInputStream(byte buf[])</code>继承自<code>InputStream</code>，可以作为<code>System.setIn()</code>方法的参数。<br><br><img src="https://img-blog.csdnimg.cn/20191013230935739.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><br>测试如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Test method for &#123;<span class="doctag">@link</span> xyz.yansheng.main.App#main(java.lang.String[])&#125;.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMain</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String username= <span class="string">"Jack"</span>;</span><br><span class="line">        <span class="comment">// System.setIn(InputStream in) :重新分配“标准”输入流。</span></span><br><span class="line">        System.setIn(<span class="keyword">new</span> ByteArrayInputStream(username.getBytes()));</span><br><span class="line">        App.main(<span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">// 输出：username：Jack</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注：因为这个程序只是个很简单的测试测序，所以里面并没有设置到JUnit的断言等测试方法，仅仅是为了<strong>利用JUnit测试模拟自动的从控制台输入数据</strong>。</p><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/hit1160300508/article/details/80299998" target="_blank" rel="noopener">Java语言Junit单元测试断言控制台输出与模拟控制台输入</a></li><li><a href="https://stackoverflow.com/questions/1647907/junit-how-to-simulate-system-in-testing" target="_blank" rel="noopener">JUnit: How to simulate System.in testing?</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 测试 </tag>
            
            <tag> Java工具 </tag>
            
            <tag> Java基础 </tag>
            
            <tag> JUnit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse集成Lombok</title>
      <link href="/article/1e47d708.html"/>
      <url>/article/1e47d708.html</url>
      
        <content type="html"><![CDATA[<p>要想使用Lombok，不仅需要导入jar，还需要进行特定的安装，不然会使用不了。</p><a id="more"></a><p>我一开始还不太会用，直接在Maven中加入依赖，然后就开始使用该工具，然后发现用不了（调用实体类的get/set等方法时，压根就不管用。）</p><p>以下是Maven中央仓库的Lombok最新的版本：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="eclipse集成lombok">Eclipse集成Lombok</h2><h3 id="官网教程">官网教程</h3><p>去搜了下发现是需要 <strong>安装</strong> 的，官网的Eclipse使用lombok的教程：<a href="https://projectlombok.org/setup/eclipse" target="_blank" rel="noopener">https://projectlombok.org/setup/eclipse</a> ，官网下载jar：<a href="https://projectlombok.org/download" target="_blank" rel="noopener">https://projectlombok.org/download</a>。</p><blockquote><p>双击lombok.jar（可从此站点或maven存储库下载；它是相同的jar）。这将启动Eclipse安装程序，该安装程序将找到Eclipse（以及上面列出的Eclipse变体），并提供将Lombok安装到这些Eclipse安装中的功能。相同的工具也可以卸载lombok：<br><img src="https://img-blog.csdnimg.cn/20191015213028294.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>您可以在eclipse的“关于”对话框中检查您的Eclipse安装是否已启用lombok。版本将在版权文本的末尾列出：</p><p><img src="https://img-blog.csdnimg.cn/20191015213106482.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></blockquote><h3 id="分析">分析</h3><p>其实运行这个jar的作用：找到eclipse等IDE的安装目录（你也可以自己找到对应的安装目录），然后将该jar复制到该文件夹，并且在初始化文件<code>eclipse.ini</code>中加上一行参数：<code>-javaagent:E\eclipse\lombok.jar</code>，（百度：JavaAgent 是JDK 1.5 以后引入的，也可以叫做Java代理。JavaAgent 是运行在 main方法之前的拦截器，它内定的方法名叫 premain ，也就是说先执行 premain 方法然后再执行 main 方法。）我的理解：通过<code>-javaagent</code>参数来指定我们的Java代理包，也就是说我们在运行main之前会先执行这些代理包，执行完在执行main。</p><p>其实还有一个很简单的方法可以检测是否安装成功：如果安装成功，使用时@Getter和@Setter等注解后，Eclipse右边的方法栏里面会显示对于的方法；而如果没有成功，就会没有对应的方法。</p><h2 id="使用">使用</h2><p>可参考我转发的一篇博客：<a href="https://blog.csdn.net/weixin_41287260/article/details/102511505" target="_blank" rel="noopener">Lombok使用</a>，这篇文章很详细的介绍了如何使用该工具。</p><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/jxyang95/article/details/99573177" target="_blank" rel="noopener">eclipse集成lombok插件</a></li><li><a href="https://www.cnblogs.com/caozx/p/9510354.html" target="_blank" rel="noopener">eclipse集成lombok注解不起作用</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> Java工具 </tag>
            
            <tag> Lombok </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lombok使用</title>
      <link href="/article/1a78bb16.html"/>
      <url>/article/1a78bb16.html</url>
      
        <content type="html"><![CDATA[<p>在项目中使用Lombok可以减少很多重复代码的书写。比如说getter/setter/toString等方法的编写。减少代码有啥好处？方便维护！当要进行修改时，我们只需要修改一点点内容就可以了，而不需要每个都去改。</p><a id="more"></a><h2 id="介绍">介绍</h2><p>简单对比下：</p><ul><li>之前我们写Javabean的一般步骤是：定义变量，生成getter/setter/toString方法；而使用Lombok我们的步骤是：定义变量，添加需要的注解。</li><li>当类变量有所变动时，我们之前的步骤是：修改变量，删除原来的getter/setter/toString方法，再次生成新的getter/setter/toString方法；而使用Lombok只需要修改变量就可以了！</li></ul><h2 id="idea中的安装">IDEA中的安装</h2><p>打开IDEA的Setting –&gt; 选择Plugins选项 –&gt; 选择Browse repositories –&gt; 搜索lombok –&gt; 点击安装 –&gt; 安装完成重启IDEA –&gt; 安装成功<br><br><img src="https://img-blog.csdnimg.cn/20191011223201835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RQzhyLFU-1570803965625)(https://leanote.com/api/file/getImage?fileId=5a54370fab644126e2000c44)]"></p><h2 id="引入依赖">引入依赖</h2><p>在项目中添加Lombok依赖jar，在pom文件中添加如下部分。(不清楚版本可以在<a href="http://mvnrepository.com/" target="_blank" rel="noopener">Maven仓库</a>中搜索)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="使用">使用</h2><p>在对应的类或者方法上使用对应注解即可。例如：<br><br><img src="https://img-blog.csdnimg.cn/20191011223312872.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="lombok有哪些注解">Lombok有哪些注解</h2><ul><li>@Setter</li><li>@Getter</li><li>@Data</li><li>@Log(这是一个泛型注解，具体有很多种形式)</li><li>@AllArgsConstructor</li><li>@NoArgsConstructor</li><li>@EqualsAndHashCode</li><li>@NonNull</li><li>@Cleanup</li><li>@ToString</li><li>@RequiredArgsConstructor</li><li>@Value</li><li>@SneakyThrows</li><li>@Synchronized</li></ul><h2 id="注解详情">注解详情</h2><h3 id="log">@log</h3><p>注解在 <strong>类</strong> 上。有如下可选择可用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@CommonsLog</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.apache.commons.logging.Log log = org.apache.commons.logging.LogFactory.getLog(LogExample.class);</span><br><span class="line"><span class="comment">//@JBossLog</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.jboss.logging.Logger log = org.jboss.logging.Logger.getLogger(LogExample.class);</span><br><span class="line"><span class="comment">//@Log</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> java.util.logging.Logger log = java.util.logging.Logger.getLogger(LogExample.class.getName());</span><br><span class="line"><span class="comment">//@Log4j</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.apache.log4j.Logger log = org.apache.log4j.Logger.getLogger(LogExample.class);</span><br><span class="line"><span class="comment">//@Log4j2</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger(LogExample.class);</span><br><span class="line"><span class="comment">//@Slf4j</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.class);</span><br><span class="line"><span class="comment">//@XSlf4j</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.slf4j.ext.XLogger log = org.slf4j.ext.XLoggerFactory.getXLogger(LogExample.class);</span><br></pre></td></tr></table></figure><p>默认情况下，记录器的主题（或名称）将是使用注释进行<code>@Log</code>注释的类的类名称。这可以通过指定<code>topic</code>参数来定制。例如：<code>@XSlf4j(topic=&quot;reporting&quot;)</code>。</p><p>该类型注解可以满足不同的日志系统的日志使用，Lombok提供了一些自定义配置项可以参看官方说明文档。</p><p><a href="https://projectlombok.org/features/log" target="_blank" rel="noopener">Log官方介绍</a></p><h3 id="getter和-setter">@Getter和@Setter</h3><p>该注解使用在<strong>类或者属性</strong>上，该注解可以使用在类上也可以使用在属性上。生成的getter遵循布尔属性的约定。例如：boolean类型的sex,getter方法为<code>isSex</code>而不是<code>getSex</code></p><p>在使用该注解时，会默认生成一个无参构造。和对应的getterhe setter方法<br><br><img src="https://img-blog.csdnimg.cn/20191011223431963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>该注解也可以使用在单个属性上，会默认生成一个无参构造：<br><br><img src="https://img-blog.csdnimg.cn/20191011223454411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="data">@Data</h3><p>该注解使用在<strong>类</strong>上，该注解会提供getter、setter、equals、canEqual、hashCode、toString方法。</p><p><img src="https://img-blog.csdnimg.cn/20191011223525912.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="nonnull">@NonNull</h3><p>该注解使用在<strong>属性</strong>上，该注解用于属的非空检查，当放在setter方法的字段上，将生成一个空检查，如果为空，则抛出<code>NullPointerException</code>。</p><p>该注解会默认是生成一个无参构造。</p><p><img src="https://img-blog.csdnimg.cn/20191011223555188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="tostring">@toString</h3><p>该注解使用在<strong>类</strong>上，该注解默认生成任何非讲台字段以名称-值的形式输出。<br><br>1、如果需要可以通过注释参数<code>includeFieldNames</code>来控制输出中是否包含的属性名称。<br><br>2、可以通过<code>exclude</code>参数中包含字段名称，可以从生成的方法中排除特定字段。<br><br>3、可以通过<code>callSuper</code>参数控制父类的输出。</p><ul><li>includeFieldNames是否包含属性名称：<img src="https://img-blog.csdnimg.cn/20191011223621892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-n6iC2OK1-1570803965632)(https://leanote.com/api/file/getImage?fileId=5a54370fab644126e2000c42)]"></li><li>exclude 排除指定字段<img src="https://img-blog.csdnimg.cn/2019101122364184.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IqMdeFaU-1570803965632)(https://leanote.com/api/file/getImage?fileId=5a54370fab644126e2000c45)]"></li><li>callSuper输出父类属性<img src="https://img-blog.csdnimg.cn/20191011223704603.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-xMTGdFsm-1570803965633)(https://leanote.com/api/file/getImage?fileId=5a543c1aab644126e2000d38)]"></li></ul><p>注意：父类也要有toString方法，不然打印的是对象内存地址</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父类无toString方法</span></span><br><span class="line">Person(<span class="keyword">super</span>=com.motui.Person@<span class="number">3</span>abfe836, firstName=motui, address=北京, dateOfBirth=Tue Jan <span class="number">09</span> <span class="number">11</span>:<span class="number">49</span>:<span class="number">05</span> CST <span class="number">2018</span>, sex=<span class="keyword">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//父类有toString方法</span></span><br><span class="line">Person(<span class="keyword">super</span>=People(id=<span class="number">111</span>), firstName=motui, address=北京, dateOfBirth=Tue Jan <span class="number">09</span> <span class="number">11</span>:<span class="number">50</span>:<span class="number">11</span> CST <span class="number">2018</span>, sex=<span class="keyword">true</span>)</span><br></pre></td></tr></table></figure><h3 id="equalsandhashcode">@EqualsAndHashCode</h3><p>该注解使用在<strong>类</strong>上，该注解在类级别注释会同时生成<code>equals</code>和<code>hashCode</code>。</p><p>注意继承关系的时候该注解的使用。详细介绍参照<a href="http://jnb.ociweb.com/jnb/jnbJan2010.html" target="_blank" rel="noopener">官方介绍</a></p><p><img src="https://img-blog.csdnimg.cn/20191011223840382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>存在继承关系需要设置<code>callSuper</code>参数为<code>true</code>。</p><h3 id="data-v2">@Data</h3><p>该注解使用在<strong>类</strong>上，该注解是最常用的注解，它结合了@ToString，@EqualsAndHashCode， @Getter和@Setter。本质上使用<code>@Data</code>注解，类默认<code>@ToString</code>和<code>@EqualsAndHashCode</code>以及每个字段都有<code>@Setter</code>和<code>@getter</code>。该注解也会生成一个公共构造函数，可以将任何<code>@NonNull</code>和<code>final</code>字段作为参数。</p><p>虽然<code>@Data</code>注解非常有用，但是它没有与其他注解相同的控制粒度。<code>@Data</code>提供了一个可以生成静态工厂的单一参数，将<code>staticConstructor</code>参数设置为所需要的名称，Lombok自动生成的构造函数设置为私有，并提供公开的给定名称的静态工厂方法。</p><p><img src="https://img-blog.csdnimg.cn/20191011223904684.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="allargsconstructor">@AllArgsConstructor</h3><p>该注解使用在<strong>类</strong>上，该注解提供一个全参数的构造方法，默认不提供无参构造。<img src="https://img-blog.csdnimg.cn/20191011223937304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-DaG0uICx-1570803965635)(https://leanote.com/api/file/getImage?fileId=5a546265ab644126e2001260)]"></p><h3 id="noargsconstructor">@NoArgsConstructor</h3><p>该注解使用在<strong>类</strong>上，该注解提供一个无参构造<img src="https://img-blog.csdnimg.cn/2019101122400134.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-fWdCRwqC-1570803965636)(https://leanote.com/api/file/getImage?fileId=5a546266ab644126e2001264)]"></p><h3 id="requiredargsconstructor">@RequiredArgsConstructor</h3><p>该注解使用在<strong>类</strong>上，使用类中所有带有 @NonNull 注解的或者带有 final 修饰的成员变量生成对应的构造方法。<img src="https://img-blog.csdnimg.cn/20191011224021127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Mh9lKorY-1570803965637)(https://leanote.com/api/file/getImage?fileId=5a546265ab644126e200125f)]"></p><h3 id="value">@Value</h3><p>这个注解用在 类 上，会生成含所有参数的构造方法，get 方法，此外还提供了equals、hashCode、toString 方法。<br><br><strong>注意：没有setter</strong><img src="https://img-blog.csdnimg.cn/20191011224049645.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-mRZ4PVNg-1570803965638)(https://leanote.com/api/file/getImage?fileId=5a546265ab644126e2001261)]"></p><h3 id="cleanup">@Cleanup</h3><p>该注解使用在<strong>属性</strong>前，该注解是用来保证分配的资源被释放。在本地变量上使用该注解，任何后续代码都将封装在try/finally中，确保当前作用于中的资源被释放。默认<code>@Cleanup</code>清理的方法为<code>close</code>，可以使用value指定不同的方法名称。<img src="https://img-blog.csdnimg.cn/20191011224110375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ALxdRofN-1570803965638)(https://leanote.com/api/file/getImage?fileId=5a546266ab644126e2001266)]"></p><h3 id="synchronized">@Synchronized</h3><p>该注解使用在<strong>类或者实例方法</strong>上，Synchronized在一个方法上，使用关键字可能会导致结果和想要的结果不同，因为多线程情况下会出现异常情况。Synchronized<br><br>关键字将在this示例方法情况下锁定当前对象，或者class讲台方法的对象上多锁定。这可能会导致死锁现象。一般情况下建议锁定一个专门用于此目的的独立锁，而不是允许公共对象进行锁定。该注解也是为了达到该目的。<img src="https://img-blog.csdnimg.cn/20191011224134176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-VjoktBmP-1570803965639)(https://leanote.com/api/file/getImage?fileId=5a546265ab644126e2001262)]"></p><h3 id="sneakythrows">@SneakyThrows</h3><p>该注解使用在<strong>方法</strong>上，这个注解用在 方法 上，可以将方法中的代码用 try-catch 语句包裹起来，捕获异常并在 catch 中用 Lombok.sneakyThrow(e) 把异常抛出，可以使用 @SneakyThrows(Exception.class) 的形式指定抛出哪种异常。该注解需要谨慎使用。详情参看<a href="https://projectlombok.org/features/SneakyThrows" target="_blank" rel="noopener">官方介绍</a><img src="https://img-blog.csdnimg.cn/2019101122420141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt=" [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Nyr5sgHm-1570804173144)(https://leanote.com/api/file/getImage?fileId=5a546266ab644126e2001265)]"></p><h2 id="结语">结语</h2><p>Lombok的目的是减少代码的重复编写，并提供比较好的解决方案。当然也存在一些争议性的注解，可以根据实际场景进项使用。Lombok有一些实验注解可以在官网查看。</p><hr><p>转自：<a href="https://blog.csdn.net/MOTUI/article/details/79012846" target="_blank" rel="noopener">Lombok 介绍</a></p><p>内容和排版略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java基础 </tag>
            
            <tag> Lombok </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Travis-CI集成构建系统</title>
      <link href="/article/7f6dcc2b.html"/>
      <url>/article/7f6dcc2b.html</url>
      
        <content type="html"><![CDATA[<p><strong>Travis-CI</strong> 官网：<a href="https://travis-ci.org/" target="_blank" rel="noopener">https://travis-ci.org/</a>，CI 表示 Continuous Integration (持续集成)。这款集成构建平台，他和GitHub关系紧密，更关键的是，对于开源项目，永久免费使用。这让我在开发编译器的过程中,有了一款能够方便部署和测试的平台,获益匪浅。</p><p><img src="https://oss.yansheng.xyz/picgo/travis-ci.png" alt></p><a id="more"></a><h2 id="travis-ci-都能做些什么">Travis-CI 都能做些什么</h2><p>对于在github上托管的项目, 他可以根据你的配置, 在ubuntu虚拟机上为你构建项目, 运行测试, 打包发布等工作, 只需你每次提交代码或发pr, 对应的版本都能进过校验。</p><h2 id="工作流程">工作流程</h2><p>Travis-ci对于你的每一次提交及每一次pr，都会获取对应的版本，将内容clone到虚拟机中，构建该项目，一般执行的顺序为：</p><ol><li>install 安装步骤</li><li>script 执行脚本构建和测试</li></ol><p>然而又有许多可以插入的流程：</p><ol><li>before_install</li><li>install</li><li>before_script</li><li>script</li><li>after_success or after_failure</li><li>（可选） before_deploy</li><li>（可选） deploy</li><li>（可选） after_deploy</li><li>after_script</li></ol><h2 id="本质是一台ubuntu虚拟机">本质是一台Ubuntu虚拟机</h2><p>由于是Ubuntu服务器，那么可以方便的安装Ubuntu源里面的内容，大部分开发库都可以自动安装</p><p>由于Ubuntu的版本问题，部分包不一致，默认为12.04版，为了使用对应的Ubuntu版本，可以在<code>.travis.yml</code>加入如下配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dist:</span> <span class="string">trusty</span></span><br></pre></td></tr></table></figure><p>这样可以指定Ubuntu为14.04的版本</p><p>然后需要安装什么开发包，都可以用带有sudo的指令直接操作：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">install:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">sudo</span> <span class="string">apt-get</span> <span class="string">update</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">sudo</span> <span class="string">apt-get</span> <span class="string">install</span> <span class="bullet">-y</span> <span class="string">llvm-3.6-dev</span> <span class="string">libedit-dev</span> <span class="string">flex</span> <span class="string">bison</span></span><br></pre></td></tr></table></figure><p>注意update是必须的，因为虚拟机的映像并不知道是什么时间安装的，很可能源里面的版本较老。</p><p>另外，所有可能需要用户确认的参数都需要加<code>-y</code>，否则脚本到那里肯定会被卡住，最终因超时异常退出.</p><h2 id="权限问题非常重要">权限问题非常重要</h2><p>一般在Windows下的开发者很少注意权限问题，但这在linux下十分重要，尤其是一些脚本和可执行文件，如果您的git仓库没有选择关联文件权限的话，那么默认clone的脚本和程序都是没有可执行权限的，那么怎么处理呢？</p><p>一种推荐的思路是添加一个权限处理脚本，然后用sh执行它，由于sh是系统程序，肯定能够执行，那么用其引导其他的脚本添加权限和进行调用就好。</p><h2 id="具体语言的参考">具体语言的参考</h2><p>travis-ci是根据语言来选择不同的构建配置的，这点有其优势但也有弊端，不过目前对于绝大部分项目都还是较为合适的，所以我们根据需要，选择对应的语言配置项即可，而且travis-ci支持的语言非常丰富，具体配置方法，请参考：<a href="https://docs.travis-ci.com/user/customizing-the-build/#Specifying-Runtime-Versions" target="_blank" rel="noopener">https://docs.travis-ci.com/user/customizing-the-build/#Specifying-Runtime-Versions</a></p><hr><p>转自：<a href="https://blog.csdn.net/xfxyy_sxfancy/article/details/50412200" target="_blank" rel="noopener">Travis-ci集成构建系统</a>内容和排版略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Travis-CI </tag>
            
            <tag> CI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Travis-CI构建Java项目.指定jdk为oraclejdk8时，发生错误分析及解决方案</title>
      <link href="/article/22a78342.html"/>
      <url>/article/22a78342.html</url>
      
        <content type="html"><![CDATA[<p>Travis-CI构建Java项目，指定jdk为<code>oraclejdk8</code>时，发生错误，这里进行了分析，并给出了两种解决方案。</p><a id="more"></a><h2 id="报错详情">报错详情</h2><p>Travis-CI构建Java项目，按照文档官方的介绍：<a href="https://docs.travis-ci.com/user/languages/java/" target="_blank" rel="noopener">https://docs.travis-ci.com/user/languages/java/</a>，使用最简单的配置进行构建：指定jdk为<code>oraclejdk8</code>的构建文件<code>.travis.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">java</span></span><br><span class="line"><span class="attr">sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">jdk:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">oraclejdk8</span></span><br></pre></td></tr></table></figure><p>发生错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Installing oraclejdk8</span><br><span class="line">$ <span class="built_in">export</span> JAVA_HOME=~/oraclejdk8</span><br><span class="line">$ <span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line">$ ~/bin/install-jdk.sh --target <span class="string">"/home/travis/oraclejdk8"</span> --workspace <span class="string">"/home/travis/.cache/install-jdk"</span> --feature <span class="string">"8"</span> --license <span class="string">"BCL"</span></span><br><span class="line">Ignoring license option: BCL -- using GPLv2+CE by default</span><br><span class="line">install-jdk.sh 2019-09-17</span><br><span class="line">Expected feature release number <span class="keyword">in</span> range of 9 to 14, but got: 8</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"~/bin/install-jdk.sh --target "</span>/home/travis/oraclejdk8<span class="string">" --workspace "</span>/home/travis/.cache/install-jdk<span class="string">" --feature "</span>8<span class="string">" --license "</span>BCL<span class="string">""</span> failed and exited with 3 during .</span><br><span class="line">Your build has been stopped.</span><br></pre></td></tr></table></figure><h2 id="报错分析">报错分析</h2><p>根据提示可以知道：在安装<code>oraclejdk8</code>时就发生错误了，好像是和<code>--license &quot;BCL&quot;</code>这个所谓的协议有关。去查了下这个协议BCL(Binary Code License)：<a href="https://www.oracle.com/downloads/licenses/binary-code-license.html" target="_blank" rel="noopener">Oracle Binary Code License Agreement for the Java SE Platform Products and JavaFX</a>，翻译过来就是：针对Java SE平台产品和JavaFX的Oracle二进制代码许可协议。</p><p>我们可以简单地理解为因为受这个协议的限制，导致在该机器上装不了<code>oraclejdk8</code>。现在在Oracle官网下载jdk要登录好像就是和这个有关系（个人猜测+道听途说）。</p><h2 id="解决方案">解决方案</h2><p>逛了下 Travis-CI的社区，找到一篇出现相同问题的帖子：<a href="https://travis-ci.community/t/install-of-oracle-jdk-8-failing/3038" target="_blank" rel="noopener">https://travis-ci.community/t/install-of-oracle-jdk-8-failing/3038</a>，这里提到了一个方案是改用<code>openjdk</code>。</p><p>Travis CI大概在2019年5月左右有次更新，好像是切换了部分的构建源，将之前的<code>Ubuntu Trusty 14.04</code>切换成了<code>Ubuntu Xenial 16.04</code>，详见：<a href="https://changelog.travis-ci.com/xenial-as-the-default-build-environment-99476" target="_blank" rel="noopener">Travis CI更新日志–Xenial作为默认构建环境</a>。</p><p>科普：<a href="http://releases.ubuntu.com/16.04/" target="_blank" rel="noopener">Ubuntu Xenial 16.04</a>、<a href="http://releases.ubuntu.com/14.04/" target="_blank" rel="noopener">Ubuntu Trusty 14.04</a>是两个不同的版本，介绍可参考：<a href="https://blog.csdn.net/zhengmx100/article/details/78352773" target="_blank" rel="noopener">Ubuntu 各版本代号简介</a>，或者查看具体的发现说明。</p><p>因此，还有一种办法是使用<code>dist: trusty</code>切换成之前的<code>Ubuntu Trusty 14.04</code>版本。</p><blockquote><p>您的构建已迁移到我们的Xenial映像，因为您未dist:在.travis.yml文件中指定。请添加它dist: trusty以将其移回Trusty，这应该起作用。</p></blockquote><p>总结一下：</p><h3 id="1-改用openjdk">1.改用<code>openjdk</code></h3><p>构建文件<code>.travis.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">java</span></span><br><span class="line"><span class="attr">sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">jdk:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">openjdk8</span></span><br></pre></td></tr></table></figure><h3 id="2-切换成之前的构建环境-ubuntu-trusty-14-04版本">2. 切换成之前的构建环境（<code>Ubuntu Trusty 14.04</code>版本）</h3><p>构建文件<code>.travis.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">java</span></span><br><span class="line"><span class="attr">dist:</span> <span class="string">trusty</span></span><br><span class="line"><span class="attr">sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">jdk:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">oraclejdk8</span></span><br></pre></td></tr></table></figure><h2 id="存疑">存疑</h2><ol><li>上面两个方案是晚上见得比较多的，我使用方法1没有问题，方法2还没有进行测试，但是很多人都说这个方法可行。</li><li>在逛<a href="https://travis-ci.community/" target="_blank" rel="noopener">社区</a>的时候，发现好像不仅仅是oraclejdk的版本8有问题，其它版本好像也有类似问题。好像和这个协议是有关系的，另外我们知道jdk1.8后面小版本更新好像是收费的，不知道和这个有没有关系……</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Java </tag>
            
            <tag> Maven </tag>
            
            <tag> Travis-CI </tag>
            
            <tag> CI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Travis-CI构建含有lambda表达式的java8通不过的原因分析及处理方案</title>
      <link href="/article/8e024175.html"/>
      <url>/article/8e024175.html</url>
      
        <content type="html"><![CDATA[<p>在使用GitHub的配套服务Travis-CI构建java项目，出现了问题；主要是含有lambda表达式的java8通不过，一番研究后，终于找到解决办法。</p><a id="more"></a><h2 id="报错详情">报错详情</h2><p>在使用GitHub的配套服务Travis-CI构建java项目，出现了问题；主要是含有lambda表达式的java8通不过，之前虽然jdk也是按照jdk8进行配置，但是这次<strong>在程序中使用了java8的新特性lambda表达式</strong>，所以导致构建失败了。网上找了好久，好像没有找到类似的文章，于是只能硬着头皮去看报错了。</p><p>以下是我的<code>.travis.yml</code>:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">java</span></span><br><span class="line"><span class="attr">sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">jdk:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">openjdk8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># codecov</span></span><br><span class="line"><span class="attr">script:</span> <span class="string">"mvn cobertura:cobertura"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">after_success:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">bash</span> <span class="string">&lt;(curl</span> <span class="bullet">-s</span> <span class="attr">https://codecov.io/bash)</span></span><br></pre></td></tr></table></figure><p>主要错误如下：（具体可见:<a href="https://travis-ci.org/yansheng836/GLPL/builds/596478583" target="_blank" rel="noopener">https://travis-ci.org/yansheng836/GLPL/builds/596478583</a>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 错误1</span></span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project GLPL: Compilation failure</span><br><span class="line">[ERROR] /home/travis/build/yansheng836/GLPL/src/main/java/xyz/yansheng/util/SpiderUtil.java:[118,51] lambda expressions are not supported <span class="keyword">in</span> -<span class="built_in">source</span> 1.5</span><br><span class="line">[ERROR]   (use -<span class="built_in">source</span> 8 or higher to <span class="built_in">enable</span> lambda expressions)</span><br><span class="line">[ERROR] -&gt; [Help 1]</span><br><span class="line">[ERROR] </span><br><span class="line">[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</span><br><span class="line">[ERROR] Re-run Maven using the -X switch to <span class="built_in">enable</span> full debug logging.</span><br><span class="line">[ERROR] </span><br><span class="line">[ERROR] For more information about the errors and possible solutions, please <span class="built_in">read</span> the following articles:</span><br><span class="line">[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed. Retrying, 2 of 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误2</span></span><br><span class="line">Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T18:41:47Z)</span><br><span class="line">Maven home: /usr/<span class="built_in">local</span>/maven-3.6.0</span><br><span class="line">Java version: 1.8.0_222, vendor: Private Build, runtime: /usr/lib/jvm/java-8-openjdk-amd64/jre</span><br><span class="line">Default locale: en_US, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">"linux"</span>, version: <span class="string">"4.15.0-1037-gcp"</span>, arch: <span class="string">"amd64"</span>, family: <span class="string">"unix"</span></span><br><span class="line">[INFO] Scanning <span class="keyword">for</span> projects...</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] -------------------------&lt; xyz.yansheng:GLPL &gt;--------------------------</span><br><span class="line">[INFO] Building GLPL 0.0.3-SNAPSHOT</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ GLPL ---</span><br><span class="line">[INFO] Using <span class="string">'UTF-8'</span> encoding to copy filtered resources.</span><br><span class="line">[INFO] skip non existing resourceDirectory /home/travis/build/yansheng836/GLPL/src/main/resources</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ GLPL ---</span><br><span class="line">[INFO] Changes detected - recompiling the module!</span><br><span class="line">[INFO] Compiling 5 <span class="built_in">source</span> files to /home/travis/build/yansheng836/GLPL/target/classes</span><br><span class="line">[INFO] -------------------------------------------------------------</span><br><span class="line">[ERROR] COMPILATION ERROR : </span><br><span class="line">[INFO] -------------------------------------------------------------</span><br><span class="line">[ERROR] /home/travis/build/yansheng836/GLPL/src/main/java/xyz/yansheng/util/SpiderUtil.java:[118,51] lambda expressions are not supported <span class="keyword">in</span> -<span class="built_in">source</span> 1.5</span><br><span class="line">  (use -<span class="built_in">source</span> 8 or higher to <span class="built_in">enable</span> lambda expressions)</span><br><span class="line">[INFO] 1 error</span><br><span class="line">[INFO] -------------------------------------------------------------</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD FAILURE</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  1.646 s</span><br><span class="line">[INFO] Finished at: 2019-10-11T07:05:21Z</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project GLPL: Compilation failure</span><br><span class="line">[ERROR] /home/travis/build/yansheng836/GLPL/src/main/java/xyz/yansheng/util/SpiderUtil.java:[118,51] lambda expressions are not supported <span class="keyword">in</span> -<span class="built_in">source</span> 1.5</span><br><span class="line">[ERROR]   (use -<span class="built_in">source</span> 8 or higher to <span class="built_in">enable</span> lambda expressions)</span><br><span class="line">[ERROR] -&gt; [Help 1]</span><br><span class="line">[ERROR] </span><br><span class="line">[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</span><br><span class="line">[ERROR] Re-run Maven using the -X switch to <span class="built_in">enable</span> full debug logging.</span><br><span class="line">[ERROR] </span><br><span class="line">[ERROR] For more information about the errors and possible solutions, please <span class="built_in">read</span> the following articles:</span><br><span class="line">[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed. Retrying, 3 of 3.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后面的错误汇总</span></span><br><span class="line">The <span class="built_in">command</span> <span class="string">"eval mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V "</span> failed 3 <span class="built_in">times</span>.</span><br><span class="line">The <span class="built_in">command</span> <span class="string">"mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V"</span> failed and exited with 1 during .</span><br></pre></td></tr></table></figure><h2 id="分析">分析</h2><p>按照提示访问了 ：<a href="http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException" target="_blank" rel="noopener">http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</a>，但是没有找到相关内容。</p><p>查看错误语句<code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project GLPL: Compilation failure</code>，感觉是这个插件的版本有问题，好像只能处理1.5版本，提示版本低了，不能处理<code>lambda expressions</code>。</p><p>于是与中央仓库查了下：<a href="https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin</a>，发现3.1版本好像是2013年4月发布的，而jdk1.8是在2014年3月19日发布的，所以该版本不能处理java8的<code>lambda expressions</code>。</p><p><img src="https://img-blog.csdnimg.cn/20191011163115444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">既然找到问题所在，那么离解决就跟进一步了。</p><h2 id="解决方法">解决方法</h2><h3 id="1-尝试">1.尝试</h3><p>因为之前对 <a href="https://travis-ci.org" target="_blank" rel="noopener">Travis-CI</a> 了解得也不是很多，所以就算是我找到的问题的缘由，还是不太懂该怎么修改才能构建成功。</p><p>后面琢磨了一番，在<code>pom.xml</code>中添加了最新的依赖，而不是使用默认的设置：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>不过不知道是不是因为没有用或者是其他原因（Travis-CI是外网，可能有提交时没有实时构建），反正就是没有成功。</p><p><strong>提示</strong>：GitHub开启Travis-CI服务后，它检测到有新的提交会自动构建。但是可能会有延迟，建议查看下提交的hash1是否是最新的，如果不是，先刷新，然后手动构建（如下图所示）：<br><br><img src="https://img-blog.csdnimg.cn/20191011165950634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="2-解决">2.解决</h3><p>后来看到这篇文章：<a href="https://blog.csdn.net/zixiao217/article/details/52655129" target="_blank" rel="noopener">maven如何指定项目的jdk版本(使用maven-compiler-plugin)</a>，感觉这是个方向，于是进行尝试：<strong>将该包作为构建插件，而不是依赖包</strong>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">……</span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">……</span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>提交、构建成功！</p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Java </tag>
            
            <tag> Maven </tag>
            
            <tag> Travis-CI </tag>
            
            <tag> CI </tag>
            
            <tag> lambda表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java对List对象排序</title>
      <link href="/article/8d4948b6.html"/>
      <url>/article/8d4948b6.html</url>
      
        <content type="html"><![CDATA[<p>这里介绍了java8之前和java8之后的对List对象排序的方法。</p><a id="more"></a><p>先定义一个简单的javabean：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>排序：（注意本来排序是要一个个进行测试的，但是这里为了方便就放在一起）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/10/11</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSortList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        User user1 = <span class="keyword">new</span> User(<span class="number">1</span>, <span class="string">"1111"</span>);</span><br><span class="line">        User user2 = <span class="keyword">new</span> User(<span class="number">2</span>, <span class="string">"2222"</span>);</span><br><span class="line">        User user3 = <span class="keyword">new</span> User(<span class="number">3</span>, <span class="string">"3333"</span>);</span><br><span class="line">        User user4 = <span class="keyword">new</span> User(<span class="number">4</span>, <span class="string">"4444"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">        users.add(user4);</span><br><span class="line">        users.add(user1);</span><br><span class="line">        users.add(user3);</span><br><span class="line">        users.add(user2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"排序前："</span>);</span><br><span class="line">        <span class="comment">// jdk1.5:foreach遍历</span></span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user.toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 方法1.（java之前）用集合工具类Collections进行排序</span></span><br><span class="line">        Collections.sort(users, <span class="keyword">new</span> Comparator&lt;User&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(User o1, User o2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> id1 = o1.getId();</span><br><span class="line">                <span class="keyword">int</span> id2 = o2.getId();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 第一个数比较小，返回负数</span></span><br><span class="line">                <span class="keyword">if</span> (id1 &lt; id2) &#123;</span><br><span class="line">                    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"排序后："</span>);</span><br><span class="line">        <span class="comment">// jdk1.8:forEach + Lambda表达式遍历</span></span><br><span class="line">        users.forEach((User user) -&gt; System.out.println(user.toString()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 方法2.1（java8）用lambda排序</span></span><br><span class="line">        users.sort((User o1, User o2) -&gt; o1.getId() &lt; o2.getId() ? -<span class="number">1</span> : <span class="number">1</span>);</span><br><span class="line">        System.out.println(<span class="string">"排序后："</span>);</span><br><span class="line">        users.forEach((User user) -&gt; System.out.println(user.toString()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 方法2.2（java8）用lambda+ “jdk8新特性之双冒号 :: ”排序</span></span><br><span class="line">        users.sort(Comparator.comparingInt(User::getId));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"排序后："</span>);</span><br><span class="line">        users.forEach((User user) -&gt; System.out.println(user.toString()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">排序前：</span><br><span class="line">User [id=<span class="number">4</span>, username=<span class="number">4444</span>]</span><br><span class="line">User [id=<span class="number">1</span>, username=<span class="number">1111</span>]</span><br><span class="line">User [id=<span class="number">3</span>, username=<span class="number">3333</span>]</span><br><span class="line">User [id=<span class="number">2</span>, username=<span class="number">2222</span>]</span><br><span class="line">排序后：</span><br><span class="line">User [id=<span class="number">1</span>, username=<span class="number">1111</span>]</span><br><span class="line">User [id=<span class="number">2</span>, username=<span class="number">2222</span>]</span><br><span class="line">User [id=<span class="number">3</span>, username=<span class="number">3333</span>]</span><br><span class="line">User [id=<span class="number">4</span>, username=<span class="number">4444</span>]</span><br><span class="line">排序后：</span><br><span class="line">User [id=<span class="number">1</span>, username=<span class="number">1111</span>]</span><br><span class="line">User [id=<span class="number">2</span>, username=<span class="number">2222</span>]</span><br><span class="line">User [id=<span class="number">3</span>, username=<span class="number">3333</span>]</span><br><span class="line">User [id=<span class="number">4</span>, username=<span class="number">4444</span>]</span><br><span class="line">排序后：</span><br><span class="line">User [id=<span class="number">1</span>, username=<span class="number">1111</span>]</span><br><span class="line">User [id=<span class="number">2</span>, username=<span class="number">2222</span>]</span><br><span class="line">User [id=<span class="number">3</span>, username=<span class="number">3333</span>]</span><br><span class="line">User [id=<span class="number">4</span>, username=<span class="number">4444</span>]</span><br></pre></td></tr></table></figure><p><strong>注： 如果这里id是String 类型，在比较是可以转为Integer，然后进行比较。</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java基础 </tag>
            
            <tag> List </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python读取json文件时报错.TypeError.the Json object must be str, bytes or bytearray,not ‘TextIOWrapper’</title>
      <link href="/article/b483c4eb.html"/>
      <url>/article/b483c4eb.html</url>
      
        <content type="html"><![CDATA[<p>主要涉及到Python的json库的四个方法：dumps和loads、dump和load的应用。</p><a id="more"></a><h2 id="问题">问题</h2><p>利用Python中的json库读取json文件时，因为错误使用了相应的方法导致报错：TypeError：the Json object must be str, bytes or bytearray，not‘TextIOWrapper’。</p><h2 id="分析">分析</h2><p>首先要弄明白json库的四个方法：dumps和loads、dump和load。<strong>其中，dumps和loads是在内存中转换（python对象和json字符串之间的转换），而dump和load则是对应于文件的处理</strong>；下面的函数说明中已经很清楚的说明了这一点。</p><p>出现这个错误的原因是自己用了loads方法去将json文件转换为python对象，而正确的应该是使用load方法。</p><h2 id="json的主要方法的部分源码">json的主要方法的部分源码</h2><p>说明：</p><ul><li>Serialize ：序列化：将对象转化为对应的字符串。</li><li>Deserialize ：反序列化：将字符串转化为对应的对象。</li></ul><p>源码中的函数说明（不包含参数介绍，有需要可以自己去看源码）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dump</span><span class="params">(obj, fp, *, skipkeys=False, ensure_ascii=True, check_circular=True,</span></span></span><br><span class="line"><span class="function"><span class="params">        allow_nan=True, cls=None, indent=None, separators=None,</span></span></span><br><span class="line"><span class="function"><span class="params">        default=None, sort_keys=False, **kw)</span>:</span></span><br><span class="line">    <span class="string">"""Serialize ``obj`` as a JSON formatted stream to ``fp`` (a</span></span><br><span class="line"><span class="string">    ``.write()``-supporting file-like object).</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dumps</span><span class="params">(obj, *, skipkeys=False, ensure_ascii=True, check_circular=True,</span></span></span><br><span class="line"><span class="function"><span class="params">        allow_nan=True, cls=None, indent=None, separators=None,</span></span></span><br><span class="line"><span class="function"><span class="params">        default=None, sort_keys=False, **kw)</span>:</span></span><br><span class="line">    <span class="string">"""Serialize ``obj`` to a JSON formatted ``str``.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load</span><span class="params">(fp, *, cls=None, object_hook=None, parse_float=None,</span></span></span><br><span class="line"><span class="function"><span class="params">        parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</span>:</span></span><br><span class="line">    <span class="string">"""Deserialize ``fp`` (a ``.read()``-supporting file-like object containing</span></span><br><span class="line"><span class="string">    a JSON document) to a Python object.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loads</span><span class="params">(s, *, encoding=None, cls=None, object_hook=None, parse_float=None,</span></span></span><br><span class="line"><span class="function"><span class="params">        parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</span>:</span></span><br><span class="line">    <span class="string">"""Deserialize ``s`` (a ``str``, ``bytes`` or ``bytearray`` instance</span></span><br><span class="line"><span class="string">    containing a JSON document) to a Python object.</span></span><br><span class="line"><span class="string">    """</span></span><br></pre></td></tr></table></figure><h2 id="举例">举例</h2><p>下面代码中的第一种为读取本地文件，然后转化为json对象；第二种为获取在线json数据，然后转化为json对象（实际到内存）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.打开一个本地json文件</span></span><br><span class="line">data = open(<span class="string">"./a.json"</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="comment"># 反序列化，转换为python对象</span></span><br><span class="line">result = json.load(data)</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.获取在线的json数据（王者荣耀英雄列表的json数据）</span></span><br><span class="line">json_url = <span class="string">'https://pvp.qq.com/web201605/js/herolist.json'</span></span><br><span class="line"><span class="comment"># 获取该json数据的文本（字符串）</span></span><br><span class="line">text = requests.get(json_url).text</span><br><span class="line">print(text)</span><br><span class="line"><span class="comment"># 反序列化，转换为python对象</span></span><br><span class="line">result = json.loads(text)</span><br></pre></td></tr></table></figure><hr><p>部分内容参考：<a href="https://blog.csdn.net/NOT_GUY/article/details/80954328" target="_blank" rel="noopener">https://blog.csdn.net/NOT_GUY/article/details/80954328</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux查看文件大小的命令du的简单介绍</title>
      <link href="/article/df066995.html"/>
      <url>/article/df066995.html</url>
      
        <content type="html"><![CDATA[<p>介绍了Linux中的du命令的解释，分析了一些常用的选项，以及常用的案例。</p><a id="more"></a><h2 id="官方介绍">官方介绍</h2><p>我的理解：du是document的简写形式。</p><p>Ubuntu的du命名解释详情：<code>man du</code>输出内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">DU(1)                                  User Commands                                 DU(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       du - estimate file space usage</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       du [OPTION]... [FILE]...</span><br><span class="line">       du [OPTION]... --files0-from=F</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       Summarize disk usage of the <span class="built_in">set</span> of FILEs, recursively <span class="keyword">for</span> directories.</span><br><span class="line"></span><br><span class="line">       Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line"></span><br><span class="line">       -0, --null</span><br><span class="line">              end each output line with NUL, not newline</span><br><span class="line"></span><br><span class="line">       -a, --all</span><br><span class="line">              write counts <span class="keyword">for</span> all files, not just directories</span><br><span class="line"></span><br><span class="line">       --apparent-size</span><br><span class="line">              <span class="built_in">print</span>  apparent sizes, rather than disk usage; although the apparent size is</span><br><span class="line">              usually smaller, it may be larger due to holes <span class="keyword">in</span> (<span class="string">'sparse'</span>) files, internal</span><br><span class="line">              fragmentation, indirect blocks, and the like</span><br><span class="line"></span><br><span class="line">       -B, --block-size=SIZE</span><br><span class="line">              scale  sizes by SIZE before printing them; e.g., <span class="string">'-BM'</span> prints sizes <span class="keyword">in</span> units</span><br><span class="line">              of 1,048,576 bytes; see SIZE format below</span><br><span class="line"></span><br><span class="line">       -b, --bytes</span><br><span class="line">              equivalent to <span class="string">'--apparent-size --block-size=1'</span></span><br><span class="line"></span><br><span class="line">       -c, --total</span><br><span class="line">              produce a grand total</span><br><span class="line"></span><br><span class="line">       -D, --dereference-args</span><br><span class="line">              dereference only symlinks that are listed on the <span class="built_in">command</span> line</span><br><span class="line"></span><br><span class="line">       -d, --max-depth=N</span><br><span class="line">              <span class="built_in">print</span> the total <span class="keyword">for</span> a directory (or file, with --all) only <span class="keyword">if</span>  it  is  N  or</span><br><span class="line">              fewer  levels below the <span class="built_in">command</span> line argument;  --max-depth=0 is the same as</span><br><span class="line">              --summarize</span><br><span class="line"></span><br><span class="line">       --files0-from=F</span><br><span class="line">              summarize disk usage of the NUL-terminated file names specified <span class="keyword">in</span>  file  F;</span><br><span class="line">              <span class="keyword">if</span> F is -, <span class="keyword">then</span> <span class="built_in">read</span> names from standard input</span><br><span class="line"></span><br><span class="line">       -H     equivalent to --dereference-args (-D)</span><br><span class="line"></span><br><span class="line">       -h, --human-readable</span><br><span class="line">              <span class="built_in">print</span> sizes <span class="keyword">in</span> human readable format (e.g., 1K 234M 2G)</span><br><span class="line"></span><br><span class="line">       --inodes</span><br><span class="line">              list inode usage information instead of block usage</span><br><span class="line"></span><br><span class="line">       -k     like --block-size=1K</span><br><span class="line"></span><br><span class="line">       -L, --dereference</span><br><span class="line">              dereference all symbolic links</span><br><span class="line"></span><br><span class="line">       -l, --count-links</span><br><span class="line">              count sizes many <span class="built_in">times</span> <span class="keyword">if</span> hard linked</span><br><span class="line"></span><br><span class="line">       -m     like --block-size=1M</span><br><span class="line"></span><br><span class="line">       -P, --no-dereference</span><br><span class="line">              don<span class="string">'t follow any symbolic links (this is the default)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       -S, --separate-dirs</span></span><br><span class="line"><span class="string">              for directories do not include size of subdirectories</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --si   like -h, but use powers of 1000 not 1024</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       -s, --summarize</span></span><br><span class="line"><span class="string">              display only a total for each argument</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       -t, --threshold=SIZE</span></span><br><span class="line"><span class="string">              exclude  entries smaller than SIZE if positive, or entries greater than SIZE</span></span><br><span class="line"><span class="string">              if negative</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --time show time of the last modification of any file in the directory, or  any  of</span></span><br><span class="line"><span class="string">              its subdirectories</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --time=WORD</span></span><br><span class="line"><span class="string">              show time as WORD instead of modification time: atime, access, use, ctime or</span></span><br><span class="line"><span class="string">              status</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --time-style=STYLE</span></span><br><span class="line"><span class="string">              show times using STYLE, which can be: full-iso, long-iso, iso,  or  +FORMAT;</span></span><br><span class="line"><span class="string">              FORMAT is interpreted like in '</span>date<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       -X, --exclude-from=FILE</span></span><br><span class="line"><span class="string">              exclude files that match any pattern in FILE</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --exclude=PATTERN</span></span><br><span class="line"><span class="string">              exclude files that match PATTERN</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       -x, --one-file-system</span></span><br><span class="line"><span class="string">              skip directories on different file systems</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --help display this help and exit</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       --version</span></span><br><span class="line"><span class="string">              output version information and exit</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       Display  values are in units of the first available SIZE from --block-size, and the</span></span><br><span class="line"><span class="string">       DU_BLOCK_SIZE, BLOCK_SIZE and BLOCKSIZE environment  variables.   Otherwise,  units</span></span><br><span class="line"><span class="string">       default to 1024 bytes (or 512 if POSIXLY_CORRECT is set).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       The SIZE argument is an integer and optional unit (example: 10K is 10*1024).  Units</span></span><br><span class="line"><span class="string">       are K,M,G,T,P,E,Z,Y (powers of 1024) or KB,MB,... (powers of 1000).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">PATTERNS</span></span><br><span class="line"><span class="string">       PATTERN is a shell pattern (not a regular expression).  The pattern ?  matches  any</span></span><br><span class="line"><span class="string">       one  character,  whereas  *  matches  any string (composed of zero, one or multiple</span></span><br><span class="line"><span class="string">       characters).  For example, *.o will match any files whose names end in .o.   There‐</span></span><br><span class="line"><span class="string">       fore, the command</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">              du --exclude='</span>*.o<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       will skip all files and subdirectories ending in .o (including the file .o itself).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">AUTHOR</span></span><br><span class="line"><span class="string">       Written by Torbjorn Granlund, David MacKenzie, Paul Eggert, and Jim Meyering.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">REPORTING BUGS</span></span><br><span class="line"><span class="string">       GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span></span><br><span class="line"><span class="string">       Report du translation bugs to &lt;http://translationproject.org/team/&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">COPYRIGHT</span></span><br><span class="line"><span class="string">       Copyright  © 2017 Free Software Foundation, Inc.  License GPLv3+: GNU GPL version 3</span></span><br><span class="line"><span class="string">       or later &lt;http://gnu.org/licenses/gpl.html&gt;.</span></span><br><span class="line"><span class="string">       This is free software: you are free to change and redistribute  it.   There  is  NO</span></span><br><span class="line"><span class="string">       WARRANTY, to the extent permitted by law.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">SEE ALSO</span></span><br><span class="line"><span class="string">       Full documentation at: &lt;http://www.gnu.org/software/coreutils/du&gt;</span></span><br><span class="line"><span class="string">       or available locally via: info '</span>(coreutils) du invocation<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">GNU coreutils 8.28                     January 2018                                  DU(1)</span></span><br></pre></td></tr></table></figure><h3 id="简单介绍">简单介绍</h3><p><code>du - estimate file space usage</code>：估计文件空间使用情况。 <code>Summarize disk usage of the set of FILEs, recursively for directories.</code>：递归遍历目录。</p><p>默认设置(不指定文件夹、不带选项的情况下)：</p><ul><li>默认情况下遍历当前目录下的所有文件和目录、以及子目录。相当于加了 <code>-a</code>。</li><li>容量表示磁盘使用量；单位为kb，相当于加了 <code>--block-size=1k</code>。</li><li>最后面会显示当前文件夹的总的大小。</li></ul><p>举例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ du</span><br><span class="line">……</span><br><span class="line">40      ./03H5游戏/八款经典HTML5小游戏源码/08/js</span><br><span class="line">20      ./03H5游戏/八款经典HTML5小游戏源码/08/src/views</span><br><span class="line">89      ./03H5游戏/八款经典HTML5小游戏源码/08/src</span><br><span class="line">4795    ./03H5游戏/八款经典HTML5小游戏源码/08</span><br><span class="line">18476   ./03H5游戏/八款经典HTML5小游戏源码</span><br><span class="line">19308   ./03H5游戏</span><br><span class="line">82260   .</span><br></pre></td></tr></table></figure><h2 id="常用选项">常用选项</h2><h3 id="与单位相关的选项">与单位相关的选项</h3><h4 id="apparent-size">–apparent-size</h4><p>print apparent sizes, rather than disk usage; although the apparent size is usually smaller, it may be larger due to holes in (‘sparse’) files, internal fragmentation, indirect blocks, and the like.</p><p>显示文件的表面的大小，而不是默认的磁盘使用量（–block-size=1k）。一般情况下都会比磁盘使用量少，如果你有注意的话window的容量也是有两种显示的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ du  --max-depth=1 --apparent-size</span><br><span class="line">19      ./.git</span><br><span class="line">15163   ./00实用模板</span><br><span class="line">13076   ./00登录模板</span><br><span class="line">8666    ./01H5</span><br><span class="line">2004    ./01H5-CSS3</span><br><span class="line">9371    ./01H5-CSS3-3D</span><br><span class="line">621     ./01H5-SVG</span><br><span class="line">11226   ./02H5-Canvas</span><br><span class="line">18598   ./03H5游戏</span><br><span class="line">78742   .</span><br><span class="line"></span><br><span class="line">$ du  --max-depth=1</span><br><span class="line">48      ./.git</span><br><span class="line">15970   ./00实用模板</span><br><span class="line">13831   ./00登录模板</span><br><span class="line">9069    ./01H5</span><br><span class="line">2190    ./01H5-CSS3</span><br><span class="line">9535    ./01H5-CSS3-3D</span><br><span class="line">675     ./01H5-SVG</span><br><span class="line">11623   ./02H5-Canvas</span><br><span class="line">19308   ./03H5游戏</span><br><span class="line">82260   .</span><br></pre></td></tr></table></figure><h4 id="b-block-size-size">-B, --block-size=SIZE</h4><p>scale sizes by SIZE before printing them; e.g., ‘-BM’ prints sizes in units of 1,048,576 bytes; see SIZE format below.</p><p>The SIZE argument is an integer and optional unit (example: 10K is 10*1024). Units are K,M,G,T,P,E,Z,Y (powers of 1024) or KB,MB,… (powers of 1000). 注：这里不区分大小写，如：K和k是一样的。</p><p>以什么单位显示块的大小。<code>-B</code>需要结合下面的选项一起使用。如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ du -BK --max-depth=1</span><br><span class="line">48K     ./.git</span><br><span class="line">15970K  ./00实用模板</span><br><span class="line">13831K  ./00登录模板</span><br><span class="line">9069K   ./01H5</span><br><span class="line">2190K   ./01H5-CSS3</span><br><span class="line">9535K   ./01H5-CSS3-3D</span><br><span class="line">675K    ./01H5-SVG</span><br><span class="line">11623K  ./02H5-Canvas</span><br><span class="line">19308K  ./03H5游戏</span><br><span class="line">82260K  .</span><br><span class="line"></span><br><span class="line">$ du -BM --max-depth=1</span><br><span class="line">1M      ./.git</span><br><span class="line">16M     ./00实用模板</span><br><span class="line">14M     ./00登录模板</span><br><span class="line">9M      ./01H5</span><br><span class="line">3M      ./01H5-CSS3</span><br><span class="line">10M     ./01H5-CSS3-3D</span><br><span class="line">1M      ./01H5-SVG</span><br><span class="line">12M     ./02H5-Canvas</span><br><span class="line">19M     ./03H5游戏</span><br><span class="line">81M     .</span><br></pre></td></tr></table></figure><p>长命令格式（和下面的效果一样）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ du --max-depth=1 --block-size=1k</span><br><span class="line">48      ./.git</span><br><span class="line">15970   ./00实用模板</span><br><span class="line">13831   ./00登录模板</span><br><span class="line">9069    ./01H5</span><br><span class="line">2190    ./01H5-CSS3</span><br><span class="line">9535    ./01H5-CSS3-3D</span><br><span class="line">675     ./01H5-SVG</span><br><span class="line">11623   ./02H5-Canvas</span><br><span class="line">19308   ./03H5游戏</span><br><span class="line">82260   .</span><br><span class="line"></span><br><span class="line">$ du --max-depth=1 --block-size=1m</span><br><span class="line">1       ./.git</span><br><span class="line">16      ./00实用模板</span><br><span class="line">14      ./00登录模板</span><br><span class="line">9       ./01H5</span><br><span class="line">3       ./01H5-CSS3</span><br><span class="line">10      ./01H5-CSS3-3D</span><br><span class="line">1       ./01H5-SVG</span><br><span class="line">12      ./02H5-Canvas</span><br><span class="line">19      ./03H5游戏</span><br><span class="line">81      .</span><br></pre></td></tr></table></figure><h4 id="b-bytes">-b, --bytes</h4><p>equivalent to ‘–apparent-size --block-size=1’</p><p>（文件的表面大小）单位为字节。</p><h4 id="k">-k</h4><p>like --block-size=1K</p><p>单位为kb。</p><h4 id="m">-m</h4><p>like --block-size=1M</p><p>单位为mb。</p><h3 id="与遍历深度相关的选项">与遍历深度相关的选项</h3><h4 id="s-summarize">-s, --summarize</h4><p>display only a total for each argument</p><p>只显示当前目录的总的大小。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ du --summarize</span><br><span class="line">82260   .</span><br></pre></td></tr></table></figure><h4 id="d-max-depth-n">-d, --max-depth=N</h4><p>print the total for a directory (or file, with --all) only if it is N or fewer levels below the command line argument; --max-depth=0 is the same as –summarize.</p><p>指定遍历深度，如果不指定表示遍历到底；如果是0，同<code>--summarize</code>只显示总大小；如果是1，表示只遍历当前目录，不递归遍历子目录（如果有的话）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ du --max-depth=0</span><br><span class="line">82260   .</span><br><span class="line"></span><br><span class="line">$ du --max-depth=1</span><br><span class="line">48      ./.git</span><br><span class="line">15970   ./00实用模板</span><br><span class="line">13831   ./00登录模板</span><br><span class="line">9069    ./01H5</span><br><span class="line">2190    ./01H5-CSS3</span><br><span class="line">9535    ./01H5-CSS3-3D</span><br><span class="line">675     ./01H5-SVG</span><br><span class="line">11623   ./02H5-Canvas</span><br><span class="line">19308   ./03H5游戏</span><br><span class="line">82260   .</span><br></pre></td></tr></table></figure><h4 id="h-human-readable">-h, --human-readable</h4><p>print sizes in human readable format (e.g., 1K 234M 2G)</p><p>形象的显示单位，使其更加易读。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ du -h --max-depth=1</span><br><span class="line">48K     ./.git</span><br><span class="line">16M     ./00实用模板</span><br><span class="line">14M     ./00登录模板</span><br><span class="line">8.9M    ./01H5</span><br><span class="line">2.2M    ./01H5-CSS3</span><br><span class="line">9.4M    ./01H5-CSS3-3D</span><br><span class="line">675K    ./01H5-SVG</span><br><span class="line">12M     ./02H5-Canvas</span><br><span class="line">19M     ./03H5游戏</span><br><span class="line">81M     .</span><br></pre></td></tr></table></figure><h2 id="常用案例介绍">常用案例介绍</h2><h3 id="1-直观地显示当前目录文件大小：du-sh">1.直观地显示当前目录文件大小：<code>du -sh</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ du -sh</span><br><span class="line">81M     .</span><br></pre></td></tr></table></figure><h3 id="2-直观地显示当前目录文件内所有文件大小-不递归：du-h-max-depth-1">2.直观地显示当前目录文件内所有文件大小,不递归：<code>du -h --max-depth=1</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ du -h --max-depth=1</span><br><span class="line">48K     ./.git</span><br><span class="line">16M     ./00实用模板</span><br><span class="line">14M     ./00登录模板</span><br><span class="line">8.9M    ./01H5</span><br><span class="line">2.2M    ./01H5-CSS3</span><br><span class="line">9.4M    ./01H5-CSS3-3D</span><br><span class="line">675K    ./01H5-SVG</span><br><span class="line">12M     ./02H5-Canvas</span><br><span class="line">19M     ./03H5游戏</span><br><span class="line">81M     .</span><br></pre></td></tr></table></figure><h3 id="3-指定文件-文件夹du-file">3.指定文件/文件夹<code>du file</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">00登录模板/  01H5/       01H5-CSS3-3D/  02H5-Canvas/  LICENSE.txt</span><br><span class="line">00实用模板/  01H5-CSS3/  01H5-SVG/      03H5游戏/     README.md</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定文件</span></span><br><span class="line">$ du LICENSE.txt</span><br><span class="line">4       LICENSE.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定文件夹</span></span><br><span class="line">du 01H5/</span><br><span class="line">……</span><br><span class="line">260     01H5/html5音乐播放器音频播放代码/img</span><br><span class="line">96      01H5/html5音乐播放器音频播放代码/js</span><br><span class="line">196     01H5/html5音乐播放器音频播放代码/mp3</span><br><span class="line">609     01H5/html5音乐播放器音频播放代码</span><br><span class="line">1       01H5/火花文字动画html5_css3_wenzdh/css</span><br><span class="line">12      01H5/火花文字动画html5_css3_wenzdh/js</span><br><span class="line">18      01H5/火花文字动画html5_css3_wenzdh</span><br><span class="line">9069    01H5/</span><br></pre></td></tr></table></figure><h3 id="4-显示文件夹内所有文件大小du-a">4.显示文件夹内所有文件大小<code>du -a</code></h3><p>如果不加<code>-a</code>，默认情况下只显示文件夹大小，不显示文件大小。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -a, --all             write counts for all files, not just directories</span></span><br><span class="line"><span class="comment"># 显示所有文件的大小，而不仅仅是文件夹</span></span><br><span class="line">$ du -ah</span><br><span class="line">1.4M    ./1.5.0-阿里巴巴Java开发手册（华山版）.pdf</span><br><span class="line">76K     ./CollectHomework/CollectHomework-1.jpg</span><br><span class="line">128K    ./CollectHomework/CollectHomework-2.jpg</span><br><span class="line">204K    ./CollectHomework</span><br><span class="line">56K     ./hello-word/github-bootstrap语言识别情况.jpg</span><br><span class="line">20K     ./hello-word/github-hello-world1语言识别情况.jpg</span><br><span class="line">28K     ./hello-word/github-hello-world2语言识别情况.jpg</span><br><span class="line">12K     ./hello-word/github-hello-world语言识别情况.jpg</span><br><span class="line">64K     ./hello-word/github语言识别情况.jpg</span><br><span class="line">52K     ./hello-word/hello-world-github.png</span><br><span class="line">16K     ./hello-word/hello-world-github1.png</span><br><span class="line">252K    ./hello-word</span><br><span class="line">1.9M</span><br></pre></td></tr></table></figure><p>这篇文章也分享了一些案例：<a href="https://blog.csdn.net/learner198461/article/details/54602324" target="_blank" rel="noopener">https://blog.csdn.net/learner198461/article/details/54602324</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis与Spring整合配置问题汇总</title>
      <link href="/article/8a4064f7.html"/>
      <url>/article/8a4064f7.html</url>
      
        <content type="html"><![CDATA[<p>是MapperScannerConfigurer配置有问题造成的。</p><a id="more"></a><h2 id="1-error-creating-bean-with-name-org-mybatis-spring-mapper-mapperscannerconfigurer-0">1.Error creating bean with name ‘org.mybatis.spring.mapper.MapperScannerConfigurer#0’</h2><p>Mybatis与Spring整合发生如下错误：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.beans.factory.BeanCreationException: </span><br><span class="line">Error creating bean with name 'org.mybatis.spring.mapper.MapperScannerConfigurer#0' defined in class path resource [spring/spring-dao.xml]: </span><br><span class="line">Initialization of bean failed; nested exception is org.springframework.beans.ConversionNotSupportedException: </span><br><span class="line">Failed to convert property value of type <span class="string">'java.lang.String'</span> to required type <span class="string">'org.apache.ibatis.session.SqlSessionFactory'</span> <span class="keyword">for</span> property <span class="string">'sqlSessionFactory'</span>; </span><br><span class="line">nested exception is java.lang.IllegalStateException: Cannot convert value of type [java.lang.String] </span><br><span class="line">to required type [org.apache.ibatis.session.SqlSessionFactory] <span class="keyword">for</span> property <span class="string">'sqlSessionFactory'</span>: no matching editors or conversion strategy found</span><br></pre></td></tr></table></figure><p>按照提示找到<code>resource [spring/spring-dao.xml]</code>文件，查看对应包MapperScannerConfigurer类，发现<code>public void setSqlSessionFactory(SqlSessionFactory sqlSessionFactory)</code>方法已经被废弃了，而且按照提示“Failed to convert property value of type ‘java.lang.String’ to required type ‘org.apache.ibatis.session.SqlSessionFactory’ for property ‘sqlSessionFactory’”，发现应该要用<code>public void setSqlSessionFactoryBeanName(String sqlSessionFactoryName)</code>方法，所以我之前的<code>name=&quot;sqlSessionFactory&quot;</code>，应该修改为<code>name=&quot;sqlSessionFactoryBeanName&quot;</code>，完全是配置的时候太粗心了造成的。</p><p>原：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 4.配置扫描Dao接口包，动态实现Dao接口，注入到spring容器中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 注入sqlSessionFactory --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">value</span>=<span class="string">"sqlSessionFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 给出需要扫描Dao接口包 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"xyz.yansheng.dao"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 4.配置扫描Dao接口包，动态实现Dao接口，注入到spring容器中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 注入sqlSessionFactory --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactoryBeanName"</span> <span class="attr">value</span>=<span class="string">"sqlSessionFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 给出需要扫描Dao接口包 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"xyz.yansheng.dao"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-bean-property-mapperlocation-is-not-writable-or-has-an-invalid-setter-method-did-you-mean-mapperlocations">2.Bean property ‘mapperLocation’ is not writable or has an invalid setter method. Did you mean ‘mapperLocations’?</h2><p>报错详情：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.beans.factory.BeanCreationException: </span><br><span class="line">Error creating bean with name &apos;sqlSessionFactory&apos; defined in class path resource [spring/spring-dao.xml]: Error setting property values; </span><br><span class="line">nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property &apos;mapperLocation&apos; of bean class [org.mybatis.spring.SqlSessionFactoryBean]: </span><br><span class="line">Bean property &apos;mapperLocation&apos; is not writable or has an invalid setter method. Did you mean &apos;mapperLocations&apos;?</span><br></pre></td></tr></table></figure><p>发现是将<code>mapperLocations</code>写成了<code>mapperLocation</code>，修改后没问题了。</p><p>对应定义：<code>SqlSessionFactoryBean</code>的属性<code>private Resource[] mapperLocations;</code>，资源数组。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">……</span><br><span class="line"><span class="comment">&lt;!-- 扫描sql配置文件:mapper需要的xml文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:mapper/*.xml"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-问题：文档根元素-mapper-必须匹配-doctype-根-null">3.问题：文档根元素 “mapper” 必须匹配 DOCTYPE 根 “null”</h2><p>详情略。</p><p>处理方法：找到对应的mapper的xml文件，添加DOCTYPE （文档类型）:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Spring </tag>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改缓存文件的路径.m2，.gradle，.AndroidStudio，.android</title>
      <link href="/article/c02c9e28.html"/>
      <url>/article/c02c9e28.html</url>
      
        <content type="html"><![CDATA[<p>这些缓存文件一般都是默认在C盘，因为这些缓存都很占磁盘空间，所以我们一般都会将其自定义到其他盘，以减轻C盘负担。</p><a id="more"></a><h2 id="m2">.m2</h2><p><img src="https://oss.yansheng.xyz/picgo/20171001082436754.jpg" alt="m2"></p><h2 id="gradle">.gradle</h2><p><img src="https://oss.yansheng.xyz/picgo/20171001082629580.jpg" alt="gradle"></p><h2 id="androidstudio">.AndroidStudio</h2><p><img src="https://oss.yansheng.xyz/picgo/20171001082726099.jpg" alt="AndroidStudio"></p><p>然后编辑这个文件，改的地方有2处：config、system</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># idea.config.path=$&#123;user.home&#125;/.AndroidStudio/config</span></span><br><span class="line"><span class="meta">idea.config.path</span>=<span class="string">E:/0Develop/Android/StudioSetting/.AndroidStudio/config</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># idea.system.path=$&#123;user.home&#125;/.AndroidStudio/system</span></span><br><span class="line"><span class="meta">idea.system.path</span>=<span class="string">E:/0Develop/Android/StudioSetting/.AndroidStudio/system</span></span><br></pre></td></tr></table></figure><h2 id="android">.android</h2><p>avd文件存放的位置，就是你创建的虚拟机</p><p>需要环境变量<br><br>键：<code>ANDROID_SDK_HOME</code></p><p>值：<code>你指定的目录</code>，比如：I://，当你创建一个avd时，就会在I盘看到你的.android目录了。</p><p>大功告告成！</p><hr><p>版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接和本声明。</p><p>本文链接：<a href="https://blog.csdn.net/u013474104/article/details/78146235" target="_blank" rel="noopener">怎么把Android放在C盘的默认文件及缓存移到指定的路径</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Maven </tag>
            
            <tag> Android </tag>
            
            <tag> Gradle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MapReduce流程简单解析</title>
      <link href="/article/3ee5fecf.html"/>
      <url>/article/3ee5fecf.html</url>
      
        <content type="html"><![CDATA[<p>目录：1、MapReduce简介。2、MapReduce主要步骤叙述。3、MapReduce的输入输出。4、MapReduce的具体处理流程。</p><a id="more"></a><h2 id="1-mapreduce简介">1、MapReduce简介</h2><p>源自于google的MapReduce论文，发表于2004年12月，HadoopMapReduce是google MapReduce 克隆版。MapReduce是一种计算模型，用以进行大数据量的计算。其中Map对数据集上的独立元素进行指定的操作，生成键-值对形式中间结果。Reduce则对中间结果中相同“键”的所有“值”进行规约，以得到最终结果。MapReduce这样的功能划分，非常适合在大量计算机组成的分布式并行环境里进行数据处理。</p><p><img src="https://oss.yansheng.xyz/picgo/20160613082954954.jpg" alt="MapReduce工作流程图"></p><p>MapReduce工作流程图</p><h2 id="2-mapreduce主要步骤叙述">2、MapReduce主要步骤叙述</h2><h3 id="map阶段：">Map阶段：</h3><p><strong>Step 1</strong>：读取输入文件的内容，并解析成键值对（&lt;key, value&gt;）的形式，输入文件中的每一行被解析成一个&lt;key, value&gt;对，每个&lt;key, value&gt;对调用一次map()函数。</p><p><strong>Step 2</strong>：用户写map()函数，对输入的&lt;key,value&gt;对进行处理，并输出新的&lt;key,value&gt;对。</p><p><strong>Step 3</strong>：对Step 2中得到的&lt;key,value&gt;进行分区操作。</p><p><strong>Step 4</strong>：不同分区的数据，按照key值进行排序和分组，具有相同key值的value则放到同一个集合中。</p><p><strong>Step 5（可选）</strong>：分组后的数据进行规约。</p><h3 id="reduce阶段：">Reduce阶段：</h3><p><strong>Step 1</strong>：对于多个map任务的输出，按照不同的分区，通过网络传输到不同的Reduce节点。</p><p><strong>Step 2</strong>：对多个map任务的输出结果进行合并、排序，用户书写reduce函数，对输入的key、value进行处理，得到新的key、value输出结果。</p><p><strong>Step 3</strong>：将reduce的输出结果保存在文件中。</p><h2 id="3-mapreduce的输入输出">3、MapReduce的输入输出</h2><p>从第2点MapReduce的处理流程步骤可以看出，MapReduce框架运转在&lt;key,value&gt;键值对上。也就是说作业的输入输出都是&lt;keey,value&gt;键值对，中间的各种处理也都是对键值对进行处理。</p><p>一个MapReduce作业的输入和输出类型如下图所示：可以看出在整个流程中，会有三种不同的&lt;key,value&gt;键值对类型的存在。</p><p><img src="https://oss.yansheng.xyz/picgo/20160522185731734.jpg" alt></p><h2 id="4-mapreduce的具体处理流程">4、MapReduce的具体处理流程</h2><p>以最经典的WordCount单词计数为例来介绍Map/Reduce阶段具体的处理步骤。</p><p>WordCount：统计所有文件中每个单词出现的次数，效果如下图</p><p><img src="https://oss.yansheng.xyz/picgo/20160522185734375.jpg" alt></p><p>(1)    Map任务处理：本次处理中有两个Map任务，以其中一个为例</p><p><img src="https://oss.yansheng.xyz/picgo/20160522185738243.jpg" alt></p><p>(2)   Reduce任务处理</p><p><img src="https://oss.yansheng.xyz/picgo/20160522185741165.jpg" alt></p><hr><p>转自：<a href="https://blog.csdn.net/yuzhuzhong/article/details/51476353" target="_blank" rel="noopener">https://blog.csdn.net/yuzhuzhong/article/details/51476353</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
            <tag> MapReduce </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven项目打包为jar的几种方式</title>
      <link href="/article/619ae164.html"/>
      <url>/article/619ae164.html</url>
      
        <content type="html"><![CDATA[<p>这里收集整理下以往打包MAVEN项目为JAR包的各种方式。</p><a id="more"></a><h2 id="分情况">分情况</h2><h3 id="直接打包-不打包依赖包">直接打包，不打包依赖包</h3><p>直接打包，不打包依赖包，仅打包出项目中的代码到JAR包中。在POM中添加如下plugin即可，随后执行maven install</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="将依赖jar包输出到lib目录方式">将依赖JAR包输出到lib目录方式</h3><p>将项目中的JAR包的依赖包输出到指定的目录下,修改outputDirectory配置，如下面的${project.build.directory}/lib。</p><p>如想将打包好的JAR包可以通过命令直接运行，如java -jar xx.jar，还需要制定manifest配置的classpathPrefix与上面配置的相对应,如上面把依赖JAR包输出到了lib，则这里的classpathPrefix也应指定为lib/；同时，并指定出程序的入口类，在配置mainClass节点中配好入口类的全类名。</p><p>这种打包方式对于JAVA项目是通用的，不管是不是springBoot的项目还是传统的JAVA项目，都可行。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- java编译插件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">addClasspath</span>&gt;</span>true<span class="tag">&lt;/<span class="name">addClasspath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">classpathPrefix</span>&gt;</span>lib/<span class="tag">&lt;/<span class="name">classpathPrefix</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.yourpakagename.mainClassName<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-dependency-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>copy<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>install<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goal</span>&gt;</span>copy-dependencies<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/lib<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><p>有时为了方便，可以把classpath初在当前目录上，默认的classpath会在jar包内,可以在Main方法配置后加上manifestEntries配置，指定classpath，如:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">classesDirectory</span>&gt;</span>target/classes/<span class="tag">&lt;/<span class="name">classesDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 主函数的入口 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.yourpakagename.mainClassName<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 打包时 MANIFEST.MF文件不记录的时间戳版本 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">useUniqueVersions</span>&gt;</span>false<span class="tag">&lt;/<span class="name">useUniqueVersions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">addClasspath</span>&gt;</span>true<span class="tag">&lt;/<span class="name">addClasspath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">classpathPrefix</span>&gt;</span>lib/<span class="tag">&lt;/<span class="name">classpathPrefix</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifestEntries</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Class-Path</span>&gt;</span>.<span class="tag">&lt;/<span class="name">Class-Path</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifestEntries</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="将项目依赖包和项目打为一个包">将项目依赖包和项目打为一个包</h3><p>这种方式打包会将项目中的依赖包和项目代码都打为一个JAR包，其配置如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.xxg.Main<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>但此种方式对于传统的JAVA项目打包没问题，如是打有spring框架的JAR包就不可以了。可以采用maven-shade-plugin的插件来打包，来实现spring框架的打包。</p><p><strong>有好几位朋友说不能在使用此配置时无法将项目的依赖也打到一个JAR包中，通过追溯发现由于是执行的package命令导致发。此处应执行插件的assembly命令。如下图：</strong></p><p><img src="https://oss.yansheng.xyz/picgo/201807312018458.jpg" alt="assembly打包插件说明"></p><h3 id="springboot项目打包">SpringBoot项目打包</h3><p>SpringBoot项目打包最常用且最简单的方式是用SpringBoot的打包plugin</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在POM中加入此插件，再点击maven [install]或[repackge]就会把当前项目里所有依赖包和当前项目的源码都打成一个JAR包，同时还会将没有依赖包的JAR包也打出来，以.original的就是了</p><h3 id="groovy项目打包">Groovy项目打包</h3><p>如果项目中包含groovy代码，默认采用MAVEN打包时不会将groovy代码进行打包，需要加入如下配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.gmavenplus<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gmavenplus-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goal</span>&gt;</span>addSources<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goal</span>&gt;</span>addStubSources<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">goal</span>&gt;</span>execute<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注：文章的内容和排版略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java基础 </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>org.jsoup.HttpStatusException. HTTP error fetching URL.Status=544, URL=</title>
      <link href="/article/c9930885.html"/>
      <url>/article/c9930885.html</url>
      
        <content type="html"><![CDATA[<p>添加用户代理，伪装成浏览器，解决问题。</p><a id="more"></a><p>使用jsoup爬取信息时，发生如下错误：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">org.jsoup.HttpStatusException: HTTP error fetching URL. Status=<span class="number">544</span>, URL=https:<span class="comment">//……</span></span><br><span class="line">at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:<span class="number">760</span>)</span><br><span class="line">at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:<span class="number">705</span>)</span><br><span class="line">at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:<span class="number">295</span>)</span><br><span class="line">at org.jsoup.helper.HttpConnection.get(HttpConnection.java:<span class="number">284</span>)</span><br><span class="line">at xyz.util.Utility.getCategoryBlogs(Utility.java:<span class="number">81</span>)</span><br><span class="line">at xyz.main.App.main(App.java:<span class="number">39</span>)</span><br><span class="line">Exception in thread <span class="string">"main"</span> java.lang.NullPointerException</span><br><span class="line">at xyz.util.Utility.getCategoryBlogs(Utility.java:<span class="number">88</span>)</span><br><span class="line">at xyz.main.App.main(App.java:<span class="number">39</span>)</span><br></pre></td></tr></table></figure><p>我把该网址复制到浏览器却发现没有问题，怀疑是反爬虫的原因；之前遇到的反爬好像是403比较多，这次居然是544，第一次遇到，百度居然没找到相关资料。但是印象中500+的是服务器问题，然后我又继续排查。但是继续试了几次后，发现出现问题的URL好像会变化……，懵了，不可复现的……</p><p>然后尝试添加用户代理，伪装成浏览器，没想到真是这个原因，一下解决了！</p><p>原代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Document doc = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    doc = Jsoup.connect(pageUrl).get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取文档对象</span></span><br><span class="line">Document doc = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Connection con = Jsoup.connect(pageUrl).userAgent(</span><br><span class="line">        <span class="string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36"</span>)</span><br><span class="line">        .timeout(<span class="number">30000</span>); <span class="comment">// 设置连接超时时间</span></span><br><span class="line"></span><br><span class="line">    Connection.Response response = con.execute();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.statusCode() == <span class="number">200</span>) &#123;</span><br><span class="line">        doc = con.get();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.println(response.statusCode());</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后就很顺畅了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> Java爬虫 </tag>
            
            <tag> Jsoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse创建基于Maven的Web项目的问题汇总</title>
      <link href="/article/5f1359fa.html"/>
      <url>/article/5f1359fa.html</url>
      
        <content type="html"><![CDATA[<p>文章以MyEclipse2017 CI为例，介绍用MyEclipse创建基于Maven的Web项目的过程中可能会出现的三个问题及处理方法：1.自带后缀：Maven Webapp处理方法。 2.删除项目时报错。3.目录不规范。</p><a id="more"></a><h2 id="一-myeclipse创建基于maven的web项目步骤">一、MyEclipse创建基于Maven的Web项目步骤</h2><p>MyEclipse创建基于Maven的Web项目步骤：<code>File--&gt;New--&gt;Maven Project--&gt;(Select project name and location)Next--&gt;(Select an Archetype) 选择有“webapp”的（好像一般都是最后一个）--&gt;(Specify Archetype parameters)填写Group Id：一般填公司名，Artifact Id ：一般填项目名 ，Finish</code>，按照这个步骤可以新建Maven项目，但是会有问题，下面具体分析。</p><p>下面是新建项目的主要截图：</p><p><img src="https://img-blog.csdnimg.cn/20190924130659300.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="Select an Archetype"></p><p><img src="https://img-blog.csdnimg.cn/20190924130800872.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="Specify Archetype parameters"></p><h2 id="二-可能出现的问题及处理方法">二、可能出现的问题及处理方法</h2><h3 id="1-自带后缀：maven-webapp">1.自带后缀：Maven Webapp</h3><p>按照上面的方法新建后，发现项目名会自带后缀&quot;Maven Webapp&quot;，我猜测是为了区分不同类型项目的一个默认的标识；项目名自带后缀，也就是说项目的文件夹也会自带这个后缀，注意中间是空格间隔，这个有可能会造成不可预料的后果！！！虽然有些软件安装时默认的安装目录可能会有空格，但是我还是不建议你使用空格，就像不要把编程类软件安装到中文的文件夹中一样。有些问题可能会直接报错，有些可能会在后期使用过程中发生问题；对于这种不确定、不可控的问题，我们还是提前避免的好！<br><img src="https://img-blog.csdnimg.cn/20190924130432149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_29,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>还有小插曲就是，虽然这个项目会自动加后缀，但是你部署到Tomcat后，访问时却不需要加后缀，如我的这个项目访问地址为：<a href="http://localhost:8080/maven-project" target="_blank" rel="noopener">http://localhost:8080/maven-project</a>。</p><h3 id="处理方法">处理方法</h3><h4 id="1-创建不带后缀的项目">(1).创建不带后缀的项目</h4><p>在创建时，到[Select an Archetype]这步时，选择<code>Name template</code>(项目名模板)为<code>Artifact Id</code>，这样创建的项目名就是你的<code>Artifact Id</code>，而不再自动加上默认后缀&quot;Maven Webapp&quot;。</p><p><img src="https://img-blog.csdnimg.cn/20190924130928788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h4 id="2-重命名项目">(2).重命名项目</h4><ul><li>方法1：选中项目–&gt;按F2–&gt;重命名。</li><li>方法2：右键点击项目–&gt;Refactor(重构)–&gt;rename（重命名）。</li></ul><h3 id="2-删除项目时报错">2.删除项目时报错</h3><p>如出现问题1，需要删除项目，然后新建；但是你删除时可能也会出现问题，如下图所示：</p><p><img src="https://img-blog.csdnimg.cn/20190924125303424.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="处理方法-v2">处理方法</h3><h4 id="先保存没有保存的文件-然后删除">先保存没有保存的文件，然后删除</h4><p>看提示我们可以知道：有个文件没有保存导致删除项目失败？！请注意，我们之前只是新建项目，而没有去动里面的文件的。看了下，原来是配置文件，用意是想让我们一创建项目就去修改配置文件吗？知道原因就好办了，根据路径去找到该文件，保存后即可进行删除操作。</p><p><img src="https://img-blog.csdnimg.cn/20190924130043247.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="3-目录不规范">3.目录不规范</h3><p>Maven构建项目是需要一定规则的，它的目录需要满足一定的规范：比较标准的应该是这样的,转自：官方文档 <a href="https://maven.apache.org/guides/getting-started/index.html#How_do_I_make_my_first_Maven_project" target="_blank" rel="noopener">How_do_I_make_my_first_Maven_project</a>， -groupId=com.mycompany.app，artifactId=my-app：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- pom.xml</span><br><span class="line">`-- src</span><br><span class="line">    |-- main</span><br><span class="line">    |   `-- java</span><br><span class="line">    |       `-- com</span><br><span class="line">    |           `-- mycompany</span><br><span class="line">    |               `-- app</span><br><span class="line">    |                   `-- App.java</span><br><span class="line">    `-- test</span><br><span class="line">        `-- java</span><br><span class="line">            `-- com</span><br><span class="line">                `-- mycompany</span><br><span class="line">                    `-- app</span><br><span class="line">                        `-- AppTest.java</span><br></pre></td></tr></table></figure><p>简单点应该是这样的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- src/main/java</span><br><span class="line">||--com.mycompany.app</span><br><span class="line">|`--App.java</span><br><span class="line">|-- src/main/resources</span><br><span class="line">|</span><br><span class="line">|-- src/test/java</span><br><span class="line">||--com.mycompany.app</span><br><span class="line">|`--AppTest.java</span><br><span class="line">|-- src/test/resources</span><br><span class="line">|-- pom.xml</span><br></pre></td></tr></table></figure><p>而我去看了下 <code>pom.xml</code> 文件，发现了下面这段代码：</p><p><img src="https://img-blog.csdnimg.cn/20190924143132599.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>G:\Workspaces\MyEclipse2017\maven-project Maven Webapp\src\main\java<span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scriptSourceDirectory</span>&gt;</span>G:\Workspaces\MyEclipse2017\maven-project Maven Webapp\src\main\scripts<span class="tag">&lt;/<span class="name">scriptSourceDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">testSourceDirectory</span>&gt;</span>G:\Workspaces\MyEclipse2017\maven-project Maven Webapp\src\test\java<span class="tag">&lt;/<span class="name">testSourceDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>G:\Workspaces\MyEclipse2017\maven-project Maven Webapp\target\classes<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">testOutputDirectory</span>&gt;</span>G:\Workspaces\MyEclipse2017\maven-project Maven Webapp\target\test-classes<span class="tag">&lt;/<span class="name">testOutputDirectory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">directory</span>&gt;</span>G:\Workspaces\MyEclipse2017\maven-project Maven Webapp\src\main\resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>确实是需要一定规范的！?</p><p>而从下图中，我们可以发现：新建后，只有 <code>src/main/resources</code> 这个源文件夹，而没有其他的，我一直很奇怪：为什么IDE集成的Maven项目的结构会不规范？</p><p><img src="https://img-blog.csdnimg.cn/20190924141542547.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>既然改变不了它的默认设置，只能后期修改了。去新建源文件夹（source folder）?已存在，感觉你是在骗我！！！刚刚都看了，明明没有，上图为证！！</p><p><img src="https://img-blog.csdnimg.cn/20190924142317762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>为了让自己死心，我又去本地看了下，确实是没有啊！！出这么大事了，也不报个错什么的？突然感觉有点喜欢<strong>Error/Exception</strong>了，因为起码出bug了会报错，让你知道哪里出错了，提醒你去改；而最让人恶心的就是这种出bug却不报错的，会让你无从下手！！就像是相比会叫的狗，你更害怕不会叫的！</p><p><img src="https://img-blog.csdnimg.cn/20190924142649680.png" alt="在这里插入图片描述"></p><p>??刷新了一下，好像没什么用；删除项目（不删除源），重新导入，果然还是没什么用，想想也是本地都没有文件，怎么可能突然就好了呢？?。</p><p>感觉有点棘手了，但是有问题还是得解决不是？</p><h3 id="处理方法-v3">处理方法</h3><h4 id="properties项目属性">Properties项目属性</h4><p>??放大招，按照以往经验:<code>Properties</code>总会<strong>让人惊艳</strong>。</p><p>步骤：项目右键–&gt;(最下名)Properties</p><p>??看到错误，我竟然笑了<br><img src="https://img-blog.csdnimg.cn/20190924145627805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>missing是个什么鬼，missing也不报错？?感觉差不多要换IDEA了……</p><p>发现这个页面删除不了文件夹，转到source删除这两个不存在的（/占着maokeng不lashi）文件夹。<br><img src="https://img-blog.csdnimg.cn/20190924145829490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>然后，可以直接在这个页面，新建文件夹；或者回到项目主页，右键项目，创建源文件夹（source folder）：<code>src/main/java</code>，<code>src/test/java</code>，OK，感觉还行，还是先用着吧? !</p><p><img src="https://img-blog.csdnimg.cn/20190924151211642.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>谈谈GitHub重命名仓库的影响</title>
      <link href="/article/c34896e7.html"/>
      <url>/article/c34896e7.html</url>
      
        <content type="html"><![CDATA[<p>你的github仓库有重命名过吗？你知道重命名后有什么影响吗？在这篇文章中，我参阅了github官方文档，结合自身经历，对“github重命名仓库”进行了分析。</p><a id="more"></a><h3 id="如何重命名仓库">如何重命名仓库</h3><p>我们都知道github仓库名是“用户名+项目名”组成的，地址一般是这样的：<code>https://github.com/user/repo</code>，而项目名在新建仓库前就要想好，一般情况下仓库一经创建就不再修改仓库名。但是github是提供了修改项目名的功能的，<strong>步骤</strong>：项目主页–&gt;Settings–&gt;(点开就能发现)Repository name（rename）–&gt;重命名–&gt;输入原仓库名–&gt;输入密码确认。<br><img src="https://img-blog.csdnimg.cn/20190924003834889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_12,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>“重命名”这个功能的位置如何显眼，不知道是不是github很推荐这个操作，还是很多人用的缘故？而“删除项目”这个功能却在该设置页的最下面，个人猜测是：“删库”比较危险，而且这个操作比较少用！那么重命名就不危险吗？</p><h3 id="重命名仓库的影响">重命名仓库的影响</h3><p>我今天刚好试了下重命名仓库（将<code>javadoc-test</code>修改为<code>eclipse-codestyle</code>），于是想来谈谈github重命名仓库的影响：</p><h4 id="影响1">影响1</h4><p>首先是访问地址变了，一开始我以为本地的git的远程仓库的地址要进行更换（fetch/pull/push），不然就会失效，而后来看到帮助文档里说是不会失效，但是为了防止引起歧义，官方还是建议你进行更换。</p><h4 id="影响2">影响2</h4><p>原有资源全部重定向！这个功能有点意思！<br><br>一开始我是不知道为什么重命名要转好多圈的（加载挺久的），毕竟仓库只有100k左右吧，重命名后，我去尝试下<code>README</code>中链接到本项目文件的超链接，看能不能起效，出乎预料：它居然还有用！</p><p>比如我的原文件地址为：<a href="https://github.com/yansheng836/javadoc-test/blob/master/codestyle/my-eclipse-codestyle.xml" target="_blank" rel="noopener">https://github.com/yansheng836/javadoc-test/blob/master/codestyle/my-eclipse-codestyle.xml</a>，<br>修改后为：<a href="https://github.com/yansheng836/eclipse-codestyle/blob/master/codestyle/my-eclipse-codestyle.xml" target="_blank" rel="noopener">https://github.com/yansheng836/eclipse-codestyle/blob/master/codestyle/my-eclipse-codestyle.xml</a>，按理说访问原地址应该会失效才对（404），但是我点击后，它跳转到了修改后的地址，重定向到了新的地址。我一开始猜测重命名后会将README中有有链接到项目中文件的内容进行重定向。但是后来我有好奇，能不能访问原仓库地址，于是就去试了下，结果又跳到了修改后的仓库地址，于是我觉得这应该是将原项目中所有文件都实现<strong>重定向</strong>，转到了修改后的项目。这可能就是为什么要加载那么久的原因了。</p><h4 id="影响3">影响3</h4><p>资源应该是永久重定向，因为帮助文档里面没有特别指明重定向时间限制，所以默认应该是永久。之前我就有遇到过类似的，那个表明只重定向一个月，然后会失效的。</p><h4 id="影响4">影响4</h4><p>issues/star/fork 这些应该都不会发生变化。</p><p>……</p><p>按照我的分析，好像影响也不是很大的啊?，这难道就是把重命名功能放在第一个的原因吗？</p><hr><p>2019年9月24日 更新：<br><br>去看了下github的文档：<a href="https://help.github.com/en/articles/renaming-a-repository" target="_blank" rel="noopener">renaming-a-repository</a>，发现我的部分理解有问题，于是进行了修改。</p><p>帮助文档的部分内容截图：<br><br><img src="https://img-blog.csdnimg.cn/2019092400333738.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="renaming-a-repository"></p><p>补充：按照文档的意思，重命名后，还是有所不同的：</p><ul><li>重命名后，这个仓库相当于占了两个仓库的位置。当你尝试新建一个和旧仓库名相同的仓库时，它会提醒你该仓库名已存在。</li></ul><p>如果你的仓库的“影响力”尚不是很大，也许你可以用另一种方式替换重命名：将原仓库文件先备份到本地仓库，以你想要（重命名）的仓库名新建一个新的远程仓库，将本地仓库上传到远程仓库，删除旧的远程仓库，这样就相当于只占了一个仓库位置了，类似于重命名。具体喜欢哪种方法，还得看个人喜好，我个人更偏向于后者。</p><p><strong>建议</strong>：如果你的仓库已经有一定的影响力了，个人建议不要轻易重命名，因为这很容易让人困惑。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub文件大小限制及相关建议</title>
      <link href="/article/723099f.html"/>
      <url>/article/723099f.html</url>
      
        <content type="html"><![CDATA[<h2 id="案例描述">案例描述</h2><p>github仓库容量限制在1G，单个文件不能超过100M，有50M的文件，就会警告了；所以在上传代码时要记得把一些大的文件去掉。</p><p>其实我觉得完全没有必要除将代码以外的文件上传到远程仓库，特别是一些比较大的文件，除非你觉得该文件真的很有必要加到仓库！因为要对于国内的环境而言，如果不翻墙，要从GitHub下载东西真的是有点慢。不仅不利于自己的管理；而且如果你的仓库很大，可能会让想要clone的人望而止步。</p><a id="more"></a><h2 id="建议">建议</h2><h3 id="1-一开始就不要将不必要的大文件添加到仓库">1.一开始就不要将不必要的大文件添加到仓库</h3><p>如果你知道哪个文件很大，不适合添加到仓库，那就一定不要提交到版本库，因为如果你提交到版本库后，好像是不能删除这个大文件的（不知道有没有比较底层的命令可以实现，反正我感觉是挺麻烦的）；因为版本控制的一个重要意义就是可以让你进行版本回退，所以版本库历史中必须包含你之前添加到版本库的文件，不然你就无法进行回退。即使你后面删除了这个文件，版本库中还是有该文件的备份。</p><p>因此我的建议是<strong>一开始就不要将不必要的大文件添加到仓库</strong>，所以提交前有必要先查看文件有哪些大文件，例如：可通过以下命令查找超过1M的文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ -<span class="built_in">type</span> f -size +1M</span><br></pre></td></tr></table></figure><p>命令简单说明：（查找当前目录下，文件类型为普通文件的、文件大小超过1M的文件）</p><ul><li><code>find ./</code>: 递归查找当前目录下的所有文件，默认也是当前目录。</li><li><code>- type f</code> : 查找文件类型为“普通文件”的文件</li><li><code>-size +1M</code> : 查找文件大小超过1M的文件，<code>+</code>表示超过，<code>-</code>表示不超过。</li></ul><p>Linux的find命令详情可见：<a href="https://man.linuxde.net/find" target="_blank" rel="noopener">find命令</a></p><h3 id="2-用好-gitignore文件">2.用好<code>.gitignore</code>文件</h3><ul><li>git提供了<code>.gitignore</code>文件来忽略你不需要添加到仓库的文件，你需要将不需要的文件添加到该文件中。</li><li>使用说明：<a href="https://blog.csdn.net/weixin_41287260/article/details/97398306" target="_blank" rel="noopener">.gitignore忽略规则、语法、检查文件详解</a>。</li><li>github有个常用的<code>.gitignore</code>模板库也许会帮到你：<a href="https://github.com/github/gitignore" target="_blank" rel="noopener">https://github.com/github/gitignore</a></li><li>git 修改<code>.gitignore</code>如何生效：可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/89787203" target="_blank" rel="noopener">git 修改.gitignore如何生效？</a>.</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查看GitHub仓库大小的几种方法</title>
      <link href="/article/45d40d84.html"/>
      <url>/article/45d40d84.html</url>
      
        <content type="html"><![CDATA[<p>GitHub在默认情况下是不显示仓库大小的，那如果我们要怎样才能查看一个仓库的大小？这篇文章介绍几种方法来实现该功能，总有一种适合你。需要注意的是这里要区分公开仓库和私有仓库。</p><a id="more"></a><h2 id="一-github自带查看仓库大小的功能-public-private">一、GitHub自带查看仓库大小的功能（public、private）</h2><p>因为这是自带功能，所以公开仓库和私有仓库都可以查看大小。</p><blockquote><p>（以下内容转自：<a href="https://blog.csdn.net/i042416/article/details/86666843" target="_blank" rel="noopener">https://blog.csdn.net/i042416/article/details/86666843</a>）<br>其实github上提供了非常方便的工具供我们查看。</p><h3 id="步骤">步骤</h3><p>1.登录github网页首页，选择自己账户的settings:<img src="https://img-blog.csdnimg.cn/20190127160512497.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2kwNDI0MTY=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>2.点击repository：<img src="https://img-blog.csdnimg.cn/20190127160517529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2kwNDI0MTY=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>3.这里就有每个repository对应的存储空间大小：<img src="https://img-blog.csdnimg.cn/20190127160522311.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2kwNDI0MTY=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></blockquote><h2 id="二-利用github提供的api查看-public">二、利用GitHub提供的API查看（public）</h2><p>只要访问指定网址，即可参看仓库大小，；所以只能访问公开仓库的信息。</p><p>语法：<code>https://api.github.com/repos/user/repo</code>，访问后得到一个包含仓库信息(user为用户名，repo为仓库名)的json数据。</p><p>如，我的第一个仓库：<a href="https://api.github.com/repos/yansheng836/hello-world" target="_blank" rel="noopener">https://api.github.com/repos/yansheng836/hello-world</a></p><p>json数据如下：我们可以看到内容很丰富，其中的size就是仓库大小，单位是kb，其他内容有兴趣也可以了解下。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">159042524</span>,</span><br><span class="line">    <span class="attr">"node_id"</span>: <span class="string">"MDEwOlJlcG9zaXRvcnkxNTkwNDI1MjQ="</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"hello-world"</span>,</span><br><span class="line">    <span class="attr">"full_name"</span>: <span class="string">"yansheng836/hello-world"</span>,</span><br><span class="line">    <span class="attr">"private"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"owner"</span>: &#123;</span><br><span class="line">        <span class="attr">"login"</span>: <span class="string">"yansheng836"</span>,</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">45334066</span>,</span><br><span class="line">        <span class="attr">"node_id"</span>: <span class="string">"MDQ6VXNlcjQ1MzM0MDY2"</span>,</span><br><span class="line">        <span class="attr">"avatar_url"</span>: <span class="string">"https://avatars0.githubusercontent.com/u/45334066?v=4"</span>,</span><br><span class="line">        <span class="attr">"gravatar_id"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://api.github.com/users/yansheng836"</span>,</span><br><span class="line">        <span class="attr">"html_url"</span>: <span class="string">"https://github.com/yansheng836"</span>,</span><br><span class="line">        <span class="attr">"followers_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/followers"</span>,</span><br><span class="line">        <span class="attr">"following_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/following&#123;/other_user&#125;"</span>,</span><br><span class="line">        <span class="attr">"gists_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/gists&#123;/gist_id&#125;"</span>,</span><br><span class="line">        <span class="attr">"starred_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/starred&#123;/owner&#125;&#123;/repo&#125;"</span>,</span><br><span class="line">        <span class="attr">"subscriptions_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/subscriptions"</span>,</span><br><span class="line">        <span class="attr">"organizations_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/orgs"</span>,</span><br><span class="line">        <span class="attr">"repos_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/repos"</span>,</span><br><span class="line">        <span class="attr">"events_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/events&#123;/privacy&#125;"</span>,</span><br><span class="line">        <span class="attr">"received_events_url"</span>: <span class="string">"https://api.github.com/users/yansheng836/received_events"</span>,</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"User"</span>,</span><br><span class="line">        <span class="attr">"site_admin"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"html_url"</span>: <span class="string">"https://github.com/yansheng836/hello-world"</span>,</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">":smiley:My first repository. "</span>,</span><br><span class="line">    <span class="attr">"fork"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world"</span>,</span><br><span class="line">    <span class="attr">"forks_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/forks"</span>,</span><br><span class="line">    <span class="attr">"keys_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/keys&#123;/key_id&#125;"</span>,</span><br><span class="line">    <span class="attr">"collaborators_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/collaborators&#123;/collaborator&#125;"</span>,</span><br><span class="line">    <span class="attr">"teams_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/teams"</span>,</span><br><span class="line">    <span class="attr">"hooks_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/hooks"</span>,</span><br><span class="line">    <span class="attr">"issue_events_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/issues/events&#123;/number&#125;"</span>,</span><br><span class="line">    <span class="attr">"events_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/events"</span>,</span><br><span class="line">    <span class="attr">"assignees_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/assignees&#123;/user&#125;"</span>,</span><br><span class="line">    <span class="attr">"branches_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/branches&#123;/branch&#125;"</span>,</span><br><span class="line">    <span class="attr">"tags_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/tags"</span>,</span><br><span class="line">    <span class="attr">"blobs_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/git/blobs&#123;/sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"git_tags_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/git/tags&#123;/sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"git_refs_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/git/refs&#123;/sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"trees_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/git/trees&#123;/sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"statuses_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/statuses/&#123;sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"languages_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/languages"</span>,</span><br><span class="line">    <span class="attr">"stargazers_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/stargazers"</span>,</span><br><span class="line">    <span class="attr">"contributors_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/contributors"</span>,</span><br><span class="line">    <span class="attr">"subscribers_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/subscribers"</span>,</span><br><span class="line">    <span class="attr">"subscription_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/subscription"</span>,</span><br><span class="line">    <span class="attr">"commits_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/commits&#123;/sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"git_commits_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/git/commits&#123;/sha&#125;"</span>,</span><br><span class="line">    <span class="attr">"comments_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/comments&#123;/number&#125;"</span>,</span><br><span class="line">    <span class="attr">"issue_comment_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/issues/comments&#123;/number&#125;"</span>,</span><br><span class="line">    <span class="attr">"contents_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/contents/&#123;+path&#125;"</span>,</span><br><span class="line">    <span class="attr">"compare_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/compare/&#123;base&#125;...&#123;head&#125;"</span>,</span><br><span class="line">    <span class="attr">"merges_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/merges"</span>,</span><br><span class="line">    <span class="attr">"archive_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/&#123;archive_format&#125;&#123;/ref&#125;"</span>,</span><br><span class="line">    <span class="attr">"downloads_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/downloads"</span>,</span><br><span class="line">    <span class="attr">"issues_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/issues&#123;/number&#125;"</span>,</span><br><span class="line">    <span class="attr">"pulls_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/pulls&#123;/number&#125;"</span>,</span><br><span class="line">    <span class="attr">"milestones_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/milestones&#123;/number&#125;"</span>,</span><br><span class="line">    <span class="attr">"notifications_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/notifications&#123;?since,all,participating&#125;"</span>,</span><br><span class="line">    <span class="attr">"labels_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/labels&#123;/name&#125;"</span>,</span><br><span class="line">    <span class="attr">"releases_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/releases&#123;/id&#125;"</span>,</span><br><span class="line">    <span class="attr">"deployments_url"</span>: <span class="string">"https://api.github.com/repos/yansheng836/hello-world/deployments"</span>,</span><br><span class="line">    <span class="attr">"created_at"</span>: <span class="string">"2018-11-25T14:52:04Z"</span>,</span><br><span class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-09-22T12:27:48Z"</span>,</span><br><span class="line">    <span class="attr">"pushed_at"</span>: <span class="string">"2019-09-07T05:34:18Z"</span>,</span><br><span class="line">    <span class="attr">"git_url"</span>: <span class="string">"git://github.com/yansheng836/hello-world.git"</span>,</span><br><span class="line">    <span class="attr">"ssh_url"</span>: <span class="string">"git@github.com:yansheng836/hello-world.git"</span>,</span><br><span class="line">    <span class="attr">"clone_url"</span>: <span class="string">"https://github.com/yansheng836/hello-world.git"</span>,</span><br><span class="line">    <span class="attr">"svn_url"</span>: <span class="string">"https://github.com/yansheng836/hello-world"</span>,</span><br><span class="line">    <span class="attr">"homepage"</span>: <span class="string">"https://yansheng836.github.io/hello-world/"</span>,</span><br><span class="line">    <span class="attr">"size"</span>: <span class="number">157</span>,</span><br><span class="line">    <span class="attr">"stargazers_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"watchers_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"language"</span>: <span class="string">"C++"</span>,</span><br><span class="line">    <span class="attr">"has_issues"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"has_projects"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"has_downloads"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"has_wiki"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"has_pages"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"forks_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"mirror_url"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"archived"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"disabled"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"open_issues_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"license"</span>: &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"mit"</span>,</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"MIT License"</span>,</span><br><span class="line">        <span class="attr">"spdx_id"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://api.github.com/licenses/mit"</span>,</span><br><span class="line">        <span class="attr">"node_id"</span>: <span class="string">"MDc6TGljZW5zZTEz"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"forks"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"open_issues"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"watchers"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"default_branch"</span>: <span class="string">"master"</span>,</span><br><span class="line">    <span class="attr">"network_count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"subscribers_count"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三-利用浏览器插件：enhanced-github-public-private">三、利用浏览器插件：Enhanced GitHub（public、private）</h2><p>该插件在GitHub上开源：<a href="https://github.com/softvar/enhanced-github" target="_blank" rel="noopener">https://github.com/softvar/enhanced-github</a></p><p>Google商店网址：<a href="https://chrome.google.com/webstore/detail/enhanced-github/anlikcnbgdeidpacdbdljnabclhahhmd" target="_blank" rel="noopener">https://chrome.google.com/webstore/detail/enhanced-github/anlikcnbgdeidpacdbdljnabclhahhmd</a></p><p><img src="https://img-blog.csdnimg.cn/20190923211128608.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>下面是官方介绍：</p><blockquote><h2 id="span-style-color-202124-概述-span"><span style="color:#202124;">概述</span></h2><p><strong><span style="color:#3c4043;">显示仓库大小，每个文件的大小，下载链接和复制文件内容的选项，</span></strong><span style="color:#3c4043;">在GitHub网站顶部提供有用功能的扩展。</span></p><p><span style="color:#3c4043;">特征</span></p><p><span style="color:#3c4043;">1.显示仓库规模。<br><br>2.显示每个活动分支中的每个文件大小（不适用于文件夹/符号链接）<br><br>3.显示每个文件的下载链接（不适用于文件夹/符号链接）<br><br>4.直接将文件内容复制到剪贴板（对于markdown文件不起作用）<br><br>5.在查看文件内容的同时下载文件。<br><br>7.即将推出…请在https://github.com/softvar/enhanced-github/issues上打开一个问题以提出建议</span></p><p><span style="color:#3c4043;">注意：从v1.0.0开始-由于GitHub已停止直接下载文件，因此在按Alt / Cmd（对于Mac）/ Ctrl（对于Windows）时单击下载图标/按钮。</span></p><p><span style="color:#3c4043;">它是开源的-根据MIT许可证 <a href="https://github.com/softvar/enhanced-github" target="_blank" rel="noopener">https://github.com/softvar/enhanced-github</a></span></p></blockquote><h3 id="注意：私有仓库需要添加token">注意：私有仓库需要添加Token</h3><p>该插件适用于公开和私有仓库，但是私有仓库需要添加token，不然因为权限不够，会访问不了。</p><p>添加token步骤：（详情可见：<a href="https://github.com/softvar/enhanced-github#github-api-rate-limiting" target="_blank" rel="noopener">https://github.com/softvar/enhanced-github#github-api-rate-limiting</a>）</p><p>1.先到 <a href="https://github.com/settings/tokens" target="_blank" rel="noopener">https://github.com/settings/tokens</a> ，点击“Generate new token”，范围勾选repo就可以了(如下)，拉到最下面，点击“Generatetoken”申请一个token。</p><p><img src="https://img-blog.csdnimg.cn/20190923214700824.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>2.复制token，然后（右键）点击该插件，选择“选项”，跳转后，等一会儿（10s左右），会弹出如下弹窗，将复制的token填进去，然后去访问一个自己的私有仓库就可以显示大小。</p><p><img src="https://img-blog.csdnimg.cn/20190923212913254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="补充：该插件的另一个很棒的功能就是很简单就能下载一个文件-暂时不支持下载文件夹">补充：该插件的另一个很棒的功能就是很简单就能下载一个文件（暂时不支持下载文件夹）</h3>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> Chrome插件 </tag>
            
            <tag> Enhanced GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>执行Maven install或Maven test命令时控制台输出乱码的解决办法</title>
      <link href="/article/7ce3d3e7.html"/>
      <url>/article/7ce3d3e7.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章针对“执行Maven install或Maven test命令时控制台输出乱码”的问题进行了分析，并且给出了2种解决方法。</p><a id="more"></a><h2 id="问题描述">问题描述</h2><p>执行Maven install或Maven test命令时控制台输出乱码，如下图</p><p><img src="https://oss.yansheng.xyz/picgo/20180423085431813.jpg" alt></p><h3 id="原因1：可能时没有指定编译的插件">原因1：可能时没有指定编译的插件</h3><h3 id="解决办法">解决办法</h3><h4 id="解决方案一">【解决方案一】</h4><p>在Maven的pom.xml文件中增加如下代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">argLine</span>&gt;</span>-Dfile.encoding=UTF-8<span class="tag">&lt;/<span class="name">argLine</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="解决方案二">【解决方案二】</h4><p>在Maven的pom.xml文件中增加如下代码：（本人亲测成功）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">forkMode</span>&gt;</span>once<span class="tag">&lt;/<span class="name">forkMode</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">argLine</span>&gt;</span>-Dfile.encoding=UTF-8<span class="tag">&lt;/<span class="name">argLine</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如下图：<br><img src="https://oss.yansheng.xyz/picgo/20180423085600852.jpg" alt></p><h3 id="原因2：可能项目的编码格式不是utf-8">原因2：可能项目的编码格式不是UTF-8</h3><h3 id="解决办法-v2">解决办法</h3><p>把项目或者myeclipse的编码格式设置为UTF-8。</p><p>1、在myeclipse中选择window—Preference<br><img src="https://oss.yansheng.xyz/picgo/20180423085749545.jpg" alt></p><p>2、在preferences界面中选择General下面的Editors的子节点Text Editor下的Spelling选项<br><img src="https://oss.yansheng.xyz/picgo/20180423085904635.jpg" alt></p><p>3、将encoding选项中的defalut设置为utf-8<br><img src="https://oss.yansheng.xyz/picgo/20180423085920649.jpg" alt></p><p>4、不仅仅要设置spelling还要设置wrokspace，在general下的workspace选项<br><img src="https://oss.yansheng.xyz/picgo/20180423085933264.jpg" alt></p><p>5、将workspace选项中的encoding内容设置为utf-8即可<br><img src="https://oss.yansheng.xyz/picgo/20180423085943959.jpg" alt></p><hr><p>转自：<a href="https://blog.csdn.net/qq_39999478/article/details/80045624" target="_blank" rel="noopener">https://blog.csdn.net/qq_39999478/article/details/80045624</a></p><p>重新排版。</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改(My)Eclipse默认45秒启动Tomcat的时间</title>
      <link href="/article/c0ed2633.html"/>
      <url>/article/c0ed2633.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章介绍了：(My)Eclipse启动Tomcat报错“Server Tomcat v8.0 Server at localhost was unable to start within 45 seconds. ”分析以及处理方法。</p><a id="more"></a><h2 id="一-报错信息">一、报错信息</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2RsLml0ZXllLmNvbS91cGxvYWQvYXR0YWNobWVudC80ODYxMzkvMDQ5OTBiZDQtNzA4Ni0zMGY1LTgzN2QtZTQ2MjU5NWUzNjdjLnBuZw?x-oss-process=image/format,png" alt></p><p>(注：配图源自网络，因为之前忘截图了)</p><p><span style="color:#f33b45;">Server Tomcat v8.0 Server at localhost was unable to start within 45 seconds. If the server requires more time, try increasing the timeout in the server editor. </span></p><p>很明显，是因为项目比较大（或者是Tomcat下有比较多项目），而Tomcat的启动时间设置的太短了（默认也只有45秒），超时就直接报错，不再启动了。解决方案其实也有在报错中提到，就是把时间设置的长一点。但是要去哪里设置呢？之前设置过一次，好久没用就忘记了，这里记录下。</p><h2 id="二-解决方法">二、解决方法</h2><h3 id="1-直接在eclipse的控制台进行修改-推荐使用">1、直接在eclipse的控制台进行修改–推荐使用</h3><p>1.1 双击Servers视图中的对应的Server，打开Server的属性界面。如下图：（注意，不同版本可能界面有所差异，我这个是myeclipse2017）</p><p><img src="https://img-blog.csdnimg.cn/20190909125006918.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>1.2 按照上图表头指示修改timeouts的start时间即可。</p><p>动图演示：</p><p><img src="https://img-blog.csdnimg.cn/20190909124253276.gif" alt></p><h3 id="2-修改eclipse的配置文件-略麻烦">2、修改eclipse的配置文件–略麻烦</h3><p>文件位置：<span style="color:#f33b45;"><strong>workspace.metadata.plugins\org.eclipse.wst.server.core\servers.xml</strong></span></p><p>打开文件直接搜索 <strong>&lt;server auto-publish-setting</strong>，找到 <strong>start-timeout</strong> 属性，把值调大一点，就像这样 **start-timeout=“120” **，然后保存，重启Tomcat，如果再不行就重启eclipse。</p><p>这里有个问题需要注意下，如果你设置了多个Tomcat（myeclipse一般都自带），里面就会有多个**<server>标签，server-location属性定义Tomcat位置，可以找到对应的Tomcat进行设置。**</server></p><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/qq_23126581/article/details/82804487" target="_blank" rel="noopener">Eclipse启动Tomcat时，45秒超时解决方式</a></li><li><a href="https://stackoverflow.com/questions/15498724/tomcat-server-not-starting-with-in-45-seconds" target="_blank" rel="noopener">Tomcat Server not starting with in 45 seconds</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python爬虫基础--爬取王者荣耀英雄皮肤图片</title>
      <link href="/article/2a5bc7b5.html"/>
      <url>/article/2a5bc7b5.html</url>
      
        <content type="html"><![CDATA[<p>爬取王者荣耀英雄皮肤图片：因为我们可以很简单就从官网获取英雄列表的json数据，所以这里的主要工作是解析json，然后拼接对应的英雄的皮肤的URL，最后进行下载。</p><h2 id="简介">简介</h2><p>这里只是简单介绍主要内容，详见github，仓库地址：<strong><a href="https://github.com/yansheng836/hero-skin-images" target="_blank" rel="noopener">hero-skin-images</a></strong>，下面是仓库页面截图，点击图片可直接跳转到仓库。</p><p><a href="https://github.com/yansheng836/hero-skin-images" target="_blank" rel="noopener"><img src="https://img-blog.csdnimg.cn/20190916125602525.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="仓库截图"></a></p><a id="more"></a><h3 id="思路分析">思路分析</h3><p>这个项目还是比较简单的，因为很多数据都已经json数据中，我们可以很方便的从中取出我们想要的数据。至于下载皮肤图片的主要难点是拼接图片URL，这里有个小坑就是：每张图片都有5种（或者说至少是5种）尺寸的图片，我之前就只发现了其中一种，当然你可以有选择的进行下载；尺寸详见：<a href="#%E7%9A%AE%E8%82%A4%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8%E5%88%86%E6%9E%90">皮肤图片尺寸分析</a>。</p><h3 id="涉及到的知识点">涉及到的知识点</h3><ul><li>使用requests库进行网络连接，获取网址数据。</li><li>使用json库解析json文件（数据）。</li><li>使用os库创建文件夹。</li><li>字符串拼接。</li></ul><h3 id="json数据说明">Json数据说明</h3><p>我已经将可能有用的json文件都下载了，并且进行了格式化（转换编码为utf8）,放在了<a href="https://github.com/yansheng836/hero-skin-images/tree/master/wzry/json%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener"><code>./wzry/json数据/</code></a>文件夹下。或者你可以到下面提到的链接中取下载对应的文件（访问json文件URL会自动下载）。</p><p>英雄列表介绍主页：<a href="https://pvp.qq.com/web201605/herolist.shtml" target="_blank" rel="noopener">https://pvp.qq.com/web201605/herolist.shtml</a>，有<code>herolist.json</code>。</p><p>某个英雄具体介绍主页，如：<a href="https://pvp.qq.com/web201605/herodetail/518.shtml" target="_blank" rel="noopener">https://pvp.qq.com/web201605/herodetail/518.shtml</a>，有其他三个文件。</p><h4 id="herolist-json：英雄列表"><code>herolist.json</code>：英雄列表</h4><ol><li>说明：包含英雄id，英雄名，英雄默认皮肤（伴生皮肤：即不用花钱的），英雄类型，英雄皮肤（特指需要花钱买的皮肤，也有可能会在一些活动中会送。<strong>注意</strong>：<code>skin_name</code> 这个属性不一定有，比如新英雄可能就没有）。</li><li>数据URL : <a href="https://pvp.qq.com/web201605/js/herolist.json" target="_blank" rel="noopener">https://pvp.qq.com/web201605/js/herolist.json</a></li><li>举例（部分内容）：</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">   &#123;</span><br><span class="line">        <span class="attr">"ename"</span>: <span class="number">522</span>,</span><br><span class="line">        <span class="attr">"cname"</span>: <span class="string">"曜"</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"星辰之子"</span>,</span><br><span class="line">        <span class="attr">"new_type"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"hero_type"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"skin_name"</span>: <span class="string">"归虚梦演"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"ename"</span>: <span class="number">518</span>,</span><br><span class="line">        <span class="attr">"cname"</span>: <span class="string">"马超"</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"冷晖之枪"</span>,</span><br><span class="line">        <span class="attr">"new_type"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"hero_type"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"hero_type2"</span>: <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol start="4"><li>存在问题并已经进行处理，详见：<a href="https://github.com/yansheng836/hero-skin-images/blob/master/wzry/%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.md" target="_blank" rel="noopener">存在问题及解决方案</a>。</li></ol><h4 id="item-json：英雄装备列表"><code>item.json</code>：英雄装备列表</h4><ol><li>说明：包含装备id，装备名，装备类型，装备图片id，装备描述。</li><li>数据URL : <a href="https://pvp.qq.com/web201605/js/item.json" target="_blank" rel="noopener">https://pvp.qq.com/web201605/js/item.json</a></li><li>举例（部分内容）：</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"item_id"</span>: <span class="number">1137</span>,</span><br><span class="line">        <span class="attr">"item_name"</span>: <span class="string">"暗影战斧"</span>,</span><br><span class="line">        <span class="attr">"item_type"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"price"</span>: <span class="number">1254</span>,</span><br><span class="line">        <span class="attr">"total_price"</span>: <span class="number">2090</span>,</span><br><span class="line">        <span class="attr">"des1"</span>: <span class="string">"&lt;p&gt;+85物理攻击&lt;br&gt;+15%冷却缩减&lt;br&gt;+500最大生命&lt;/p&gt;"</span>,</span><br><span class="line">        <span class="attr">"des2"</span>: <span class="string">"&lt;p&gt;唯一被动-切割：增加(50+英雄等级*8)点护甲穿透&lt;br&gt;唯一被动-残废：普通攻击有30%几率降低敌人20%移动速度，持续2秒&lt;/p&gt;"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"item_id"</span>: <span class="number">1138</span>,</span><br><span class="line">        <span class="attr">"item_name"</span>: <span class="string">"破军"</span>,</span><br><span class="line">        <span class="attr">"item_type"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"price"</span>: <span class="number">1770</span>,</span><br><span class="line">        <span class="attr">"total_price"</span>: <span class="number">2950</span>,</span><br><span class="line">        <span class="attr">"des1"</span>: <span class="string">"&lt;p&gt;+180物理攻击 &lt;/p&gt;"</span>,</span><br><span class="line">        <span class="attr">"des2"</span>: <span class="string">"&lt;p&gt;唯一被动-破军：对生命值低于50%的敌人造成额外30%的伤害&lt;/p&gt;"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="ming-json：英雄铭文列表"><code>ming.json</code>：英雄铭文列表</h4><ol><li>说明：包含铭文id，铭文类型，铭文等级，铭文名，铭文描述（属性/加成）。</li><li>数据URL : <a href="https://pvp.qq.com/web201605/js/ming.json" target="_blank" rel="noopener">https://pvp.qq.com/web201605/js/ming.json</a></li><li>举例（部分内容）：</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">   &#123;</span><br><span class="line">        <span class="attr">"ming_id"</span>: <span class="string">"1501"</span>,</span><br><span class="line">        <span class="attr">"ming_type"</span>: <span class="string">"red"</span>,</span><br><span class="line">        <span class="attr">"ming_grade"</span>: <span class="string">"5"</span>,</span><br><span class="line">        <span class="attr">"ming_name"</span>: <span class="string">"圣人"</span>,</span><br><span class="line">        <span class="attr">"ming_des"</span>: <span class="string">"&lt;p&gt;法术攻击力+5.3&lt;/p&gt;"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"ming_id"</span>: <span class="string">"1503"</span>,</span><br><span class="line">        <span class="attr">"ming_type"</span>: <span class="string">"red"</span>,</span><br><span class="line">        <span class="attr">"ming_grade"</span>: <span class="string">"5"</span>,</span><br><span class="line">        <span class="attr">"ming_name"</span>: <span class="string">"传承"</span>,</span><br><span class="line">        <span class="attr">"ming_des"</span>: <span class="string">"&lt;p&gt;物理攻击力+3.2&lt;/p&gt;"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="summoner-json：召唤师技能列表"><code>summoner.json</code>：召唤师技能列表</h4><ol><li>说明：（summoner：召唤师（游戏职业名））包含技能id，技能名，召唤师等级（账号达到多少级才能解锁该技能），技能描述。</li><li>数据URL : <a href="https://pvp.qq.com/web201605/js/summoner.json" target="_blank" rel="noopener">https://pvp.qq.com/web201605/js/summoner.json</a></li><li>举例（部分内容）：</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">   &#123;</span><br><span class="line">        <span class="attr">"summoner_id"</span>: <span class="number">80104</span>,</span><br><span class="line">        <span class="attr">"summoner_name"</span>: <span class="string">"惩击"</span>,</span><br><span class="line">        <span class="attr">"summoner_rank"</span>: <span class="string">"LV.1解锁"</span>,</span><br><span class="line">        <span class="attr">"summoner_description"</span>: <span class="string">"30秒CD：对身边的野怪和小兵造成真实伤害并眩晕1秒"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"summoner_id"</span>: <span class="number">80108</span>,</span><br><span class="line">        <span class="attr">"summoner_name"</span>: <span class="string">"终结"</span>,</span><br><span class="line">        <span class="attr">"summoner_rank"</span>: <span class="string">"LV.3解锁"</span>,</span><br><span class="line">        <span class="attr">"summoner_description"</span>: <span class="string">"90秒CD：立即对身边敌军英雄造成其已损失生命值14%的真实伤害"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="皮肤图片尺寸分析">皮肤图片尺寸分析</h3><p>英雄皮肤图片信息只涉及到 <a href="https://github.com/yansheng836/hero-skin-images/blob/master/wzry/json%E6%95%B0%E6%8D%AE/herolist.json" target="_blank" rel="noopener"><code>herolist.json</code></a> 数据，目前发现图片有5种尺寸，注意：下面的图片大小只是对应英雄的图片尺寸，猜测不是固定的，而是在一定范围内变化。</p><br><p>下面以英雄马超为例，英雄首页：<a href="https://pvp.qq.com/web201605/herodetail/518.shtml" target="_blank" rel="noopener">https://pvp.qq.com/web201605/herodetail/518.shtml</a></p><table><thead><tr><th>形式一URL–猜测用于手机端显示</th><th>猜测用途</th><th>图片尺寸</th></tr></thead><tbody><tr><td><a href="https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-smallskin-1.jpg" target="_blank" rel="noopener">https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-smallskin-1.jpg</a></td><td>英雄头像</td><td>67-67</td></tr><tr><td><a href="https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-mobileskin-1.jpg" target="_blank" rel="noopener">https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-mobileskin-1.jpg</a></td><td>小屏手机英雄背景</td><td>600-410</td></tr><tr><td><a href="https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-bigskin-1.jpg" target="_blank" rel="noopener">https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-bigskin-1.jpg</a></td><td>大屏手机英雄背景</td><td>1200-530</td></tr></tbody></table><table><thead><tr><th>形式二URL–猜测是壁纸</th><th>猜测用途</th><th>图片尺寸</th></tr></thead><tbody><tr><td><a href="https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-mobileskin-1.jpg" target="_blank" rel="noopener">https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-mobileskin-1.jpg</a></td><td>手机壁纸</td><td>727-1071</td></tr><tr><td><a href="https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-bigskin-1.jpg" target="_blank" rel="noopener">https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-bigskin-1.jpg</a></td><td>电脑壁纸</td><td>1920-882</td></tr></tbody></table><h2 id="程序说明">程序说明</h2><ol><li>测试环境：Python3.7.1，JetBrains PyCharm Community Edition 2018.2.4 x64。</li><li>依赖：<code>requests</code>，<code>json</code>，如果没有安装<code>requests</code>，用 <code>pip install requests</code> 进行安装即可(<code>json</code>为内置库)。</li><li>使用说明：主程序为：<a href="https://github.com/yansheng836/hero-skin-images/blob/master/wzry/wzry.py" target="_blank" rel="noopener"><code>./wzry/wzry.py</code></a>，运行该程序会将图片下载在当前目录的五个文件夹内，如<a href="https://github.com/yansheng836/hero-skin-images/tree/master/wzry/phone-bigskin-images" target="_blank" rel="noopener"><code>./wzry/phone-bigskin-images/</code></a>；如需下载全部英雄图片，请将程序中的<a href="https://github.com/yansheng836/hero-skin-images/blob/master/wzry/wzry.py#L166" target="_blank" rel="noopener"> <code>break语句</code></a> 注释掉。</li></ol><h2 id="代码">代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*-coding:utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@author: yansheng</span></span><br><span class="line"><span class="string">@file: wzry.py</span></span><br><span class="line"><span class="string">@time: 2019/9/14</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># 爬取王者荣耀的英雄皮肤图片</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdirs</span><span class="params">(path)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    辅助函数：创建文件夹</span></span><br><span class="line"><span class="string">    :param path: 文件夹名</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># 去除首末的空格</span></span><br><span class="line">    path = path.strip()</span><br><span class="line">    <span class="comment"># 去除尾部 \ 符号</span></span><br><span class="line">    path = path.rstrip(<span class="string">"\\"</span>)</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    windows下文件名中不能含有：\ / : * ? " &lt; &gt; | 英文的这些字符 ，这里使用"'"、"-"进行替换。</span></span><br><span class="line"><span class="string">    :?| 用-替换</span></span><br><span class="line"><span class="string">    "&lt;&gt; 用'替换</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="comment"># 对于文件夹，有没有.好像都是同一个文件</span></span><br><span class="line">    <span class="comment"># replace方法默认替换所有匹配项</span></span><br><span class="line">    path = path.replace(<span class="string">":"</span>, <span class="string">"-"</span>).replace(<span class="string">"?"</span>, <span class="string">"-"</span>).replace(<span class="string">"|"</span>, <span class="string">"-"</span>)</span><br><span class="line">    path = path.replace(<span class="string">"&lt;"</span>, <span class="string">"'"</span>).replace(<span class="string">"&gt;"</span>, <span class="string">"'"</span>).replace(<span class="string">"\""</span>, <span class="string">"'"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断路径是否存在，存在True，不存在False</span></span><br><span class="line">    is_exists = os.path.exists(path)</span><br><span class="line">    <span class="comment"># 判断结果</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> is_exists:</span><br><span class="line">        <span class="comment"># 如果不存在则创建目录，这里使用创建多重目录的函数</span></span><br><span class="line">        os.makedirs(path)</span><br><span class="line">        print(<span class="string">'文件夹\''</span> + path + <span class="string">'\'创建成功！'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 如果目录存在则不创建，并提示目录已存在</span></span><br><span class="line">        print(<span class="string">'文件夹\''</span> + path + <span class="string">'\'目录已存在！'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downloadImages</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    主要的函数：获取王者荣耀图片信息，下载图片</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    1.按照分析，创建对应文件夹</span></span><br><span class="line"><span class="string">    1.1.https://game.gtimg.cn/images/yxzj/img201606/heroimg/518/518-smallskin-1.jpg</span></span><br><span class="line"><span class="string">        phone-smallskin-images 头像</span></span><br><span class="line"><span class="string">        phone-mobileskin-images 小屏手机图片</span></span><br><span class="line"><span class="string">        phone-bigskin-images 大屏手机图片</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    1.2.https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-mobileskin-1.jpg</span></span><br><span class="line"><span class="string">       wallpaper-mobileskin-images 手机壁纸</span></span><br><span class="line"><span class="string">       wallpaper-bigskin-images 电脑壁纸</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    1.3. 观察url变化情况</span></span><br><span class="line"><span class="string">    类型1：</span></span><br><span class="line"><span class="string">    李白的第二个皮肤：https://game.gtimg.cn/images/yxzj/img201606/heroimg/131/131-bigskin-2.jpg</span></span><br><span class="line"><span class="string">    孙悟空的第二个皮肤：https://game.gtimg.cn/images/yxzj/img201606/heroimg/167/167-bigskin-2.jpg</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    类型2：</span></span><br><span class="line"><span class="string">    https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-mobileskin-1.jpg</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    不同之处：131/131-bigskin-2</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="comment"># 定义变量</span></span><br><span class="line">    prefix_url1 = <span class="string">'https://game.gtimg.cn/images/yxzj/img201606/heroimg/'</span></span><br><span class="line">    prefix_url2 = <span class="string">'https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/'</span></span><br><span class="line">    suffix_url = <span class="string">'.jpg'</span></span><br><span class="line">    smallskin = <span class="string">'-smallskin-'</span></span><br><span class="line">    mobileskin = <span class="string">'-mobileskin-'</span></span><br><span class="line">    bigskin = <span class="string">'-bigskin-'</span></span><br><span class="line"></span><br><span class="line">    phone_smallskin_dirpath = <span class="string">'phone-smallskin-images'</span></span><br><span class="line">    phone_mobileskin_dirpath = <span class="string">'phone-mobileskin-images'</span></span><br><span class="line">    phone_bigskin_dirpath = <span class="string">'phone-bigskin-images'</span></span><br><span class="line">    wallpaper_mobileskin_dirpath = <span class="string">'wallpaper-mobileskin-images'</span></span><br><span class="line">    wallpaper_bigskin_dirpath = <span class="string">'wallpaper-bigskin-images'</span></span><br><span class="line">    <span class="comment"># 创建目录</span></span><br><span class="line">    mkdirs(phone_smallskin_dirpath)</span><br><span class="line">    mkdirs(phone_mobileskin_dirpath)</span><br><span class="line">    mkdirs(phone_bigskin_dirpath)</span><br><span class="line">    mkdirs(wallpaper_mobileskin_dirpath)</span><br><span class="line">    mkdirs(wallpaper_bigskin_dirpath)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2.获取英雄列表的json数据</span></span><br><span class="line">    json_url = <span class="string">'https://pvp.qq.com/web201605/js/herolist.json'</span>  <span class="comment"># 英雄的列表信息</span></span><br><span class="line">    r = requests.get(json_url).text  <span class="comment"># json数据--字符串</span></span><br><span class="line">    <span class="comment"># print(r)</span></span><br><span class="line">    result = json.loads(r)  <span class="comment"># 把字符串转换成字典，这里是由88个字典组成的list</span></span><br><span class="line">    print(<span class="string">'王者荣耀的英雄个数：%d'</span> % len(result))  <span class="comment"># 王者荣耀的英雄个数：88</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 循环读取json数据，获得英雄对应数据，拼接图片url，下载图片</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">        id = i[<span class="string">'ename'</span>]  <span class="comment"># 英雄id</span></span><br><span class="line">        cname = i[<span class="string">'cname'</span>]  <span class="comment"># 英雄名</span></span><br><span class="line">        title = i[<span class="string">'title'</span>]  <span class="comment"># 默认皮肤，即第一个皮肤</span></span><br><span class="line">        <span class="comment"># 判断该英雄是否有skin_name属性（新英雄可能会没有），有就取值，没有就直接将列表置为空</span></span><br><span class="line">        skin_name_lists = []</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'skin_name'</span> <span class="keyword">in</span> i.keys():</span><br><span class="line">            skin_name = i[<span class="string">'skin_name'</span>]  <span class="comment"># 皮肤名</span></span><br><span class="line">            skin_name_lists = skin_name.split(<span class="string">'|'</span>)  <span class="comment"># 把字符串变成列表，用|做分隔符</span></span><br><span class="line">            <span class="comment"># 记录英雄的title和skin_name的第一个属性不一样的英雄的id</span></span><br><span class="line">            diff_ids = [<span class="number">109</span>, <span class="number">113</span>, <span class="number">176</span>]</span><br><span class="line">            <span class="keyword">if</span> id <span class="keyword">in</span> diff_ids:</span><br><span class="line">                skins_lists = [title] + skin_name_lists[<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                skins_lists = [title] + skin_name_lists</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            skins_lists = [title]</span><br><span class="line">        <span class="comment"># 将title 和skin_name_lists合并为列表，然后转为集合，自动去重,</span></span><br><span class="line">        <span class="comment"># 同时保证顺序不变，因为需要设置第一个为伴生皮肤</span></span><br><span class="line">        skins_set_lists = list(set(skins_lists))</span><br><span class="line">        skins_set_lists.sort(key=skins_lists.index)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 拼接网址</span></span><br><span class="line">        <span class="keyword">for</span> skin <span class="keyword">in</span> skins_set_lists:</span><br><span class="line">            <span class="comment"># 获取下标，作为英雄皮肤数量</span></span><br><span class="line">            index = skins_set_lists.index(skin) + <span class="number">1</span></span><br><span class="line">            <span class="comment"># skin_name_lists.index(skin_name_list)为列表的下标</span></span><br><span class="line">            <span class="comment"># https://game.gtimg.cn/images/yxzj/img201606/heroimg/ + 105 + '/ '+ 105 + '-smallskin-' + 1 + '.jpg'</span></span><br><span class="line">            <span class="comment"># 类型1</span></span><br><span class="line">            mid_url = <span class="string">'%d'</span> % id + <span class="string">'/'</span> + <span class="string">'%d'</span> % id</span><br><span class="line">            phone_smallskin_url = prefix_url1 + mid_url + smallskin + <span class="string">'%d'</span> % index + suffix_url</span><br><span class="line">            phone_mobileskin_url = prefix_url1 + mid_url + mobileskin + <span class="string">'%d'</span> % index + suffix_url</span><br><span class="line">            phone_bigskin_url = prefix_url1 + mid_url + bigskin + <span class="string">'%d'</span> % index + suffix_url</span><br><span class="line">            <span class="comment"># 类型2</span></span><br><span class="line">            wallpaper_mobileskin_url = prefix_url2 + mid_url + mobileskin + <span class="string">'%d'</span> % index + suffix_url</span><br><span class="line">            wallpaper_bigskin_url = prefix_url2 + mid_url + bigskin + <span class="string">'%d'</span> % index + suffix_url</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 为方便起见，将对于类型的图片的文件夹和图片url组成 一对字典：</span></span><br><span class="line">            url_dict = &#123;</span><br><span class="line">                phone_smallskin_dirpath: phone_smallskin_url,</span><br><span class="line">                phone_mobileskin_dirpath: phone_mobileskin_url,</span><br><span class="line">                phone_bigskin_dirpath: phone_bigskin_url,</span><br><span class="line">                wallpaper_mobileskin_dirpath: wallpaper_mobileskin_url,</span><br><span class="line">                wallpaper_bigskin_dirpath: wallpaper_bigskin_url,</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment"># 遍历字典，取出对应键值，键：图片保存的目录，值：图片网址</span></span><br><span class="line">            <span class="keyword">for</span> dirpath <span class="keyword">in</span> url_dict:</span><br><span class="line">                <span class="comment"># 定义保存到本地的图片名称，如：廉颇-1-正义爆轰.jpg</span></span><br><span class="line">                image_path = dirpath + <span class="string">'/%s-%d-%s.jpg'</span> % (cname, index, skin)</span><br><span class="line">                <span class="comment"># print("图片文件名：" + image_path)</span></span><br><span class="line">                <span class="comment"># 将判断放到前面，进行优化</span></span><br><span class="line">                <span class="comment"># 判断文件（图片）是否存在，如果存在就不重复下载，不存在就下载</span></span><br><span class="line">                <span class="keyword">if</span> os.path.exists(image_path):</span><br><span class="line">                    print(<span class="string">' '</span> + image_path + <span class="string">'图片已存在！'</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 获取图片的网址，如果返回状态码为200，下载图片</span></span><br><span class="line">                img_url = url_dict[dirpath]</span><br><span class="line">                <span class="keyword">if</span> requests.get(img_url).status_code == <span class="number">200</span>:</span><br><span class="line">                    print(<span class="string">'图片地址：'</span> + img_url)</span><br><span class="line">                    img = requests.get(img_url)</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># 以二进制形式写文件（下载图片）</span></span><br><span class="line">                    <span class="keyword">with</span> open(image_path, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                        f.write(img.content)  <span class="comment"># 写入图片的二进制数据</span></span><br><span class="line">                        print(<span class="string">' '</span> + image_path + <span class="string">'下载成功！'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 测试时，只下载一个英雄的皮肤图片；如需下载所有英雄的皮肤图片，请注释下面的break</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    downloadImages()</span><br><span class="line">    print(<span class="string">'\n**王者荣耀全部英雄皮肤图片已下载成功**'</span>)</span><br></pre></td></tr></table></figure><h2 id="结果-数据-分析">结果(数据)分析</h2><p>注：因为该程序是解析json文件获得对应英雄的信息，但是仔细观察后，发现该数据稍有滞后，有部分数据还未进行更新；故该数据非最新数据，仅供参考。（如需要获得最新数据就需要爬取网页元素进行分析，有兴趣者可自行扩展）</p><blockquote><p>1.该文件夹包含了王者荣耀所有英雄的皮肤图片，有5种尺寸。</p><p>2.数据汇总（截止：2019年9月14日19:39:23）<br>英雄数量：95个<br>皮肤数量：338个（含伴生皮肤）</p><p>3.图片尺寸说明（图片尺寸和大小应该是在一定范围内变化，不是定值，以下数据仅供参考）：</p><table><thead><tr><th>文件夹</th><th>每张图片尺寸（像素）</th><th>图片大小（KB）</th><th>说明（猜测）</th></tr></thead><tbody><tr><td>phone-smallskin-images/</td><td>67*67</td><td>20</td><td>英雄头像</td></tr><tr><td>phone-mobileskin-images/</td><td>600*410</td><td>200</td><td>小屏手机英雄背景</td></tr><tr><td>phone-bigskin-images/</td><td>1200*530</td><td>450</td><td>大屏手机英雄背景</td></tr><tr><td>wallpaper-mobileskin-images/</td><td>727*1071</td><td>530</td><td>手机壁纸</td></tr><tr><td>wallpaper-bigskin-images/</td><td>1920*882</td><td>900</td><td>电脑壁纸</td></tr></tbody></table><p>4.文件夹大小</p><table><thead><tr><th>文件夹</th><th>文件夹大小（MB）</th></tr></thead><tbody><tr><td>phone-smallskin-images/</td><td>2</td></tr><tr><td>phone-mobileskin-images/</td><td>34.6</td></tr><tr><td>phone-bigskin-images/</td><td>68</td></tr><tr><td>wallpaper-mobileskin-images/</td><td>61</td></tr><tr><td>wallpaper-bigskin-images/</td><td>105</td></tr></tbody></table></blockquote><p>我已将图片全部都下载了，并上传到百度云，有需要可自取。</p><p>百度云链接：</p><blockquote><p>链接：<a href="https://pan.baidu.com/s/1uFGfSPuKBzYJjEjn6YCx-A" target="_blank" rel="noopener">https://pan.baidu.com/s/1uFGfSPuKBzYJjEjn6YCx-A</a><br>提取码：<strong>fd3t</strong><br>或者扫描下面的二维码<br><img src="https://s2.ax1x.com/2019/09/14/n67zFS.png" alt="王者荣耀英雄皮肤图片-fd3t"></p></blockquote><hr><h2 id="license">License</h2><p>This work is licensed under a <a href="https://github.com/yansheng836/hero-skin-images/blob/master/LICENSE.txt" target="_blank" rel="noopener">MIT</a>.</p><h2 id="声明">声明</h2><p>本项目仅用于学习交流使用，<strong>禁止</strong>进行商业目的的开发、发布、运营等。数据所有权归 <a href="https://www.qq.com/" target="_blank" rel="noopener">腾讯公司</a> 所有。</p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> 王者荣耀 </tag>
            
            <tag> 壁纸 </tag>
            
            <tag> Python基础 </tag>
            
            <tag> Python爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python BeautifulSoup4 取值部分</title>
      <link href="/article/309d2b0.html"/>
      <url>/article/309d2b0.html</url>
      
        <content type="html"><![CDATA[<p>爬虫的基本步骤一般是：审查网页元素，找到对应标签，获取对应值。这篇文章讲的就是“获取对应值”内容，利用Python 的BeautifulSoup4库获取标签的标签名、标签的属性名以及标签的值。</p><a id="more"></a><p>BS4的取值主要通过以下方法。</p><h3 id="标签名">标签名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取标签名</span></span><br><span class="line">tag.name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对应的改变标签名为</span></span><br><span class="line">tag.name = <span class="string">"你想要的标签"</span></span><br></pre></td></tr></table></figure><h3 id="属性">属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取属性</span></span><br><span class="line"><span class="comment">#获取属性列表</span></span><br><span class="line">tag.attrs</span><br><span class="line"><span class="comment">#输出为一个dict键为属性，值为属性值</span></span><br><span class="line"><span class="comment">#例如&#123;"class":"abc", "id":"link1"&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取指定属性</span></span><br><span class="line">tag[<span class="string">'class'</span>]</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">tag.get(<span class="string">'class'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#多值属性</span></span><br><span class="line"><span class="comment">#对于HTML中定义的一些可以包含多个值的属性（class,rev等等）</span></span><br><span class="line"><span class="comment">#返回值为list类型</span></span><br><span class="line">tag[<span class="string">'class'</span>]</span><br><span class="line"><span class="comment">#例如['top', 'box']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#为属性赋值</span></span><br><span class="line">tag[<span class="string">'class'</span>] = <span class="string">"class1"</span></span><br></pre></td></tr></table></figure><h3 id="内容">内容</h3><p>这里用两种获取方式  .string 和 get_text()：<br><br>.string 用来获取标签的内容；<br><br>get_text() 用来获取标签中所有字符串包括子标签的内容。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取当前标签内容</span></span><br><span class="line">tag.string</span><br><span class="line"><span class="comment">#返回结果的type为 &lt;class 'bs4.element.NavigableString'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取标签内所有的字符串</span></span><br><span class="line">tag.get_text()</span><br><span class="line"><span class="comment">#返回结果的type为 &lt;class 'str'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#为标签内容赋值</span></span><br><span class="line">tag.string = <span class="string">"str"</span></span><br></pre></td></tr></table></figure><h3 id="注意">注意！！</h3><p>在取值时我们要注意一点就是在获取标签的时候获取的是单个标签还是标签列表。<br><br>也就是find()和find_all(),select()和select_one()的区别。<br><br>当使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find()</span><br><span class="line">select_one()</span><br></pre></td></tr></table></figure><p>时，获得的是一个标签<br><br>类型为</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">bs4</span>.<span class="title">element</span>.<span class="title">Tag</span>'&gt;</span></span><br></pre></td></tr></table></figure><p>所以可以使用<code>tag['class']</code>取值。</p><p>当使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find_all()</span><br><span class="line">select()</span><br></pre></td></tr></table></figure><p>时，获得的是组标签(就算只有一个标签也是一组)<br><br>类型为</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#find_all()的返回值类型</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">bs4</span>.<span class="title">element</span>.<span class="title">ResultSet</span>'&gt;</span></span><br><span class="line"><span class="class">#<span class="title">select</span><span class="params">()</span>的返回值类型</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">list</span>'&gt;</span></span><br></pre></td></tr></table></figure><p>这时，我们要取值就需要先定位是list(ResultSet)中的那个标签在取值，例如<code>tag[0]['class']。</code></p><hr><p>排版及内容略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> Python爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断Python字典中key是否存在的两种方法</title>
      <link href="/article/b1750422.html"/>
      <url>/article/b1750422.html</url>
      
        <content type="html"><![CDATA[<p>介绍了两种方法用于判断“Python字典中key是否存在”：第一种方法：使用in方法;第二种方法：使用自带函数has_key()实现(只在python2中有)。</p><a id="more"></a><p>一般有两种通用做法:</p><h3 id="第一种方法：使用in方法">第一种方法：使用in方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成一个字典</span></span><br><span class="line">d = &#123;<span class="string">'name'</span>: <span class="string">'Tom'</span>, <span class="string">'age'</span>: <span class="number">10</span>, <span class="string">'Tel'</span>: <span class="number">110</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印返回值，其中d.keys()是列出字典所有的key</span></span><br><span class="line">print(<span class="string">'name'</span> <span class="keyword">in</span> d.keys())</span><br><span class="line">print(<span class="string">'name'</span> <span class="keyword">in</span> d)</span><br><span class="line"><span class="comment"># 两个的结果都是返回True</span></span><br></pre></td></tr></table></figure><p>除了使用in，还可以使用not in，用于判定这个key不存在，使用in要比has_key()要快。</p><h3 id="第二种方法：使用自带函数has-key-实现-只在python2中有">第二种方法：使用自带函数has_key()实现(只在python2中有)</h3><p>在python的字典的属性方法里面有一个has_key()方法:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成一个字典</span></span><br><span class="line">d = &#123;<span class="string">'name'</span>: <span class="string">'Tom'</span>, <span class="string">'age'</span>: <span class="number">10</span>, <span class="string">'Tel'</span>: <span class="number">110</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印返回值</span></span><br><span class="line">print(d.has_key(<span class="string">'name'</span>))</span><br><span class="line"><span class="comment"># 结果返回True</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python使用set对列表去重的分析</title>
      <link href="/article/c2af973c.html"/>
      <url>/article/c2af973c.html</url>
      
        <content type="html"><![CDATA[<p>我们都知道：在Python中，列表是有序的，集合是无序的，因此我们可以利用集合对列表去重，但是去重后是否会影响列表的顺序呢？接下来我们就来尝试一下。</p><a id="more"></a><h3 id="对列表去重的原始方法-会打乱顺序">对列表去重的原始方法，会打乱顺序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mylist1 = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># 把列表放到集合中去重</span></span><br><span class="line">myset = set(mylist1)  </span><br><span class="line"></span><br><span class="line">print(mylist1)</span><br><span class="line">print(myset)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把集合转为列表</span></span><br><span class="line">mylist2 = list(myset)</span><br><span class="line">print(mylist2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印的结果</span></span><br><span class="line"><span class="comment"># [1, 4, 4, 4, 4, 2, 2, 2, 2, 3, 3, 3]</span></span><br><span class="line"><span class="comment"># &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="comment"># [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure><h3 id="改进-去重后-按照原列表序进行排序-保持原来的顺序">改进，去重后，按照原列表序进行排序，保持原来的顺序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mylist1 = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># 把列表放到集合中去重</span></span><br><span class="line">myset = set(mylist1)</span><br><span class="line"></span><br><span class="line">print(mylist1)</span><br><span class="line">print(myset)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把集合转为列表</span></span><br><span class="line">mylist2 = list(myset)</span><br><span class="line"><span class="comment"># 按照列表1的顺序对列表2排序</span></span><br><span class="line">mylist2.sort(key=mylist1.index)</span><br><span class="line">print(mylist2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印</span></span><br><span class="line"><span class="comment"># [1, 4, 4, 4, 4, 2, 2, 2, 2, 3, 3, 3]</span></span><br><span class="line"><span class="comment"># &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="comment"># 请注意下面的输出的顺序是按照原列表序的</span></span><br><span class="line"><span class="comment"># [1, 4, 2, 3]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何从GitHub上下载指定项目的单个文件或文件夹</title>
      <link href="/article/cd2a79b7.html"/>
      <url>/article/cd2a79b7.html</url>
      
        <content type="html"><![CDATA[<p>Github 默认是不支持下载存储在仓库中的部分内容的，通常你需要使用某个项目就必须下载该项目的所有文件。但有时我们需要只下载某一个项目中的某个文件夹或文件的内容，这时应该怎么办呢？其实方法很简单，今天我们就来介绍两种方法来解决这个问题。</p><a id="more"></a><p>做为一名技术人员，相信 Github 大家应该都不陌生了，都会经常在上面下载项目代码之类的。</p><p>Github 默认是不支持下载存储在仓库中的部分内容的，通常你需要使用某个项目就必须下载该项目的所有文件。但有时我们需要只下载某一个项目中的某个文件夹或文件的内容，比如：只需要下载 GitHub 上某个资料汇总项目中的一个分类，这时应该怎么办呢？</p><p>其实方法很简单，今天我们就来介绍两种方法来解决这个问题。</p><h2 id="方法一-通过-downgit-下载">方法一 通过 DownGit 下载</h2><p>DownGit 这个开源工具可以为任何 GitHub 目录或文件，生成下载链接。</p><p>项目地址：<a href="http://t.cn/RfyGcPX" target="_blank" rel="noopener">http://t.cn/RfyGcPX</a></p><h3 id="downgit-的使用">DownGit 的使用</h3><p>DownGit 的使用非常简单，你只需把 Github 上项目所在目录或文件链接复制到 DownGit 网站的地址栏，然后点击 Download 就可以下载指定项目的目录或文件所对应压缩包。 网站地址：<a href="http://t.cn/RaPi4Ll" target="_blank" rel="noopener">http://t.cn/RaPi4Ll</a></p><p>如果你不觉得麻烦的话，你也可以使用 DownGit 项目的源代码自行搭建一个。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hc2sucWNsb3VkaW1nLmNvbS9odHRwLXNhdmUveWVoZS01NDQ5MDkwLzhzbmN3czEzdG4uZ2lm" alt></p><h2 id="方法二-通过-chrome-插件-gitzip-进行下载">方法二 通过 Chrome 插件 GitZip 进行下载</h2><p>GitZip for Github 是一款可以快速从 GitHub 上快速下载文件或目录的 Chrome 插件。</p><h3 id="1-gitzip-for-github-插件安装">1. GitZip for Github 插件安装</h3><p>GitZip for Github 既然是一款基于 Chrome 的插件，安装自然就是在 Chrome 应用商店或者离线进行安装。</p><ul><li>在线安装，插件地址：<a href="http://t.cn/AipFZm6j" target="_blank" rel="noopener">http://t.cn/AipFZm6j</a></li><li>离线安装，GitZip for Github 源码地址：<a href="http://t.cn/AipFwmNO" target="_blank" rel="noopener">http://t.cn/AipFwmNO</a></li></ul><p>如果你不能访问 Chrome 应用商店，就只能离线安装了。关于如何离线安装 Chrome 插件，你可以参考［ <a href="http://mp.weixin.qq.com/s?__biz=MzI3MTI2NzkxMA==&amp;mid=2247487694&amp;idx=1&amp;sn=48c42b84005298bf10c0948583f3a28f&amp;chksm=eac531e7ddb2b8f1f71f3c60c346430542b01f5938b4619e36711ecd615a18912ff81bd7d05b&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">推荐 10 款让你的 Chrome 浏览器功能更强大的插件</a>］一文。</p><h3 id="2-gitzip-for-github-插件使用">2. GitZip for Github 插件使用</h3><h4 id="2-1-不使用github-的api-token">2.1 不使用github 的API Token</h4><p>GitZip 使用也很简单，首先你需要在浏览器上打开 GitHub 上的项目页面，其次在需要下载的文件或者文件夹空白处双击鼠标，这时该文件或文件夹前就会出现一个钩，表示已经选择。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hc2sucWNsb3VkaW1nLmNvbS9odHRwLXNhdmUveWVoZS01NDQ5MDkwLzVkNm5hYmdiNnEuanBlZz9pbWFnZVZpZXcyLzIvdy8xNjIw?x-oss-process=image/format,png" alt></p><p>同时在浏览器右下角还会出现一个下载按钮，点击下载按钮后，GitZip for Github 会自动向服务器进行请求，将你需要的文件或文件夹进行打包并下载到浏览器的默认下载文件夹处。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hc2sucWNsb3VkaW1nLmNvbS9odHRwLXNhdmUveWVoZS01NDQ5MDkwLzdlNWQzOGQ1a3IuanBlZz9pbWFnZVZpZXcyLzIvdy8xNjIw?x-oss-process=image/format,png" alt></p><h4 id="2-2-使用github-的api-token">2.2 使用github 的API Token</h4><p>不过上面的操作默认使用的是扩展作者的 API 进行，如果下载时提示次数用完，则是扩展中作者的 API 次数用完了。</p><p>这时你可以点击 GitZip for Github 的图标，按照里面的提示来申请 API。申请后将 API Token 粘贴到插件输入框中并按回车就可以了，个人用的话 API 的限制次数是完全足够的。具体步骤如下：</p><p>首次打开插件后，点下图标注的位置开始获取 API Token。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hc2sucWNsb3VkaW1nLmNvbS9odHRwLXNhdmUveWVoZS01NDQ5MDkwLzZ5enJkOGxnaDYucG5nP2ltYWdlVmlldzIvMi93LzE2MjA?x-oss-process=image/format,png" alt></p><p>接下来会跳转到 GitHub 的授权页面，点 Authorize GitZip 后获取到相应的 API Token。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hc2sucWNsb3VkaW1nLmNvbS9odHRwLXNhdmUveWVoZS01NDQ5MDkwL2xpemk4Y2FycDkuanBlZz9pbWFnZVZpZXcyLzIvdy8xNjIw?x-oss-process=image/format,png" alt></p><p>最后，API Token 获取成功后会自动填入插件中，按回车就会自动保存。到此 API Token 就获取成功了。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hc2sucWNsb3VkaW1nLmNvbS9odHRwLXNhdmUveWVoZS01NDQ5MDkwLzRveW04eWl5b2EucG5nP2ltYWdlVmlldzIvMi93LzE2MjA?x-oss-process=image/format,png" alt></p><p>如果你觉得安装插件比较麻烦的话，也同样可以直接使用 GitZip for Github 的 Web 版本。方法类似，这里就不再赘述了。</p><p>Web 版本地址：<a href="https://kinolien.github.io/gitzip/" target="_blank" rel="noopener">https://kinolien.github.io/gitzip/</a></p><p>至此如何从 GitHub 上下载指定项目的单个文件或文件夹的方法就讲完了，如果你还有更好的方法，可以留言告诉我哟~</p><h3 id="参考文档">参考文档</h3><p><a href="https://www.google.com" target="_blank" rel="noopener">https://www.google.com</a><br><a href="http://t.cn/AipDTDpA" target="_blank" rel="noopener">http://t.cn/AipDTDpA</a></p><hr><p>文章转自：<a href="https://cloud.tencent.com/developer/column/77133" target="_blank" rel="noopener">运维之美</a> 的 文章：<a href="https://cloud.tencent.com/developer/article/1463081" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1463081</a></p><p>文章的排版和内容略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> Chrome插件 </tag>
            
            <tag> GitZip </tag>
            
            <tag> DownGit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新建Eclipse工作空间，复制原有的配置</title>
      <link href="/article/689c5754.html"/>
      <url>/article/689c5754.html</url>
      
        <content type="html"><![CDATA[<p>新建Eclipse工作空间，复制原有的配置，保持原有环境的两种方法。</p><a id="more"></a><h3 id="方法一">方法一</h3><p>File-&gt;Switch workspace-&gt;Other…，按下图选择</p><p>只复制简单的配置，如cvs之类的信息是不会复制的。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZzEucGguMTI2Lm5ldC9CWUxzUXJURnI5OFJSa1B4MVJBbDJ3PT0vMTYxMDU5OTgxNjgzODQ2MDUzOC5wbmc?x-oss-process=image/format,png" alt="新建Eclipse工作空间，复制原有的配置 - 黑皮 - 黑皮的博客"></p><h3 id="方法二">方法二</h3><p>在方法一的基础上做如下操作 ：将新建的workspace下的<code>.metadata\.plugins</code>内容全部删除，将原来的workspace下的<code>.metadata\.plugins</code> 内容除了<code>org.eclipse.core.resources</code>文件夹的其他文件夹全部拷贝到新workspace的<code>.metadata\.plugins</code>目录下。</p><p>其他的在Prefrences有许多可以导出xml的配置文件，平时可以导出做备份，也可以和团队组员间共享配置。</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何删除Eclipse里的某个工作空间？</title>
      <link href="/article/77fcc6c1.html"/>
      <url>/article/77fcc6c1.html</url>
      
        <content type="html"><![CDATA[<p>很多时候，一个Eclipse中或多或少的都会有那么几个工作空间（workspace），但是久而久之你会发现有些工作空间你觉得不再需要了或者觉得碍眼，怎么办？其实很简单，方法有两种。</p><a id="more"></a><p>很多时候，一个Eclipse中或多或少的都会有那么几个工作空间（workspace），但是久而久之你会发现有些工作空间你觉得不再需要了或者觉得碍眼，怎么办？</p><p>其实很简单，方法有两种。</p><p>1、打开你的Eclipse，菜单中找到：Window–&gt;Preferences–&gt;General–&gt;Startup and Shutdown–&gt;WorkSpace，然后选中你想要删除的工作空间，点击右边的remove按钮即可。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMyMDE1LmNuYmxvZ3MuY29tL2Jsb2cvNzIzNzI4LzIwMTUxMS83MjM3MjgtMjAxNTExMTgxNzM4MzMxMDgtMTkxNDU1NDYxLnBuZw?x-oss-process=image/format,png" alt></p><p>2、在你的Eclipse目录中找到以下文件<code>configuration\.settings\org.eclipse.ui.ide.prefs</code>，这个就是工作空间的配置文件了。然后将RECENT_WORKSPACES后面你想删除的工作空间删除即可。例如我的是</p><p>F:workspace\androidspace</p><p>F:aa</p><p>我想去掉aa这个工作空间则删除F:aa就行了。</p><hr><p>还有，虽然以上两个做法可以使多于的工作空间不显示在你的Eclipse，但是还是会存在硬盘上的，只要将不要的删除就行了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>命令行运行javac，报错. 编码 GBK 的不可映射字符 (0x9C)</title>
      <link href="/article/fe95282d.html"/>
      <url>/article/fe95282d.html</url>
      
        <content type="html"><![CDATA[<p>针对“命令行运行javac，报错: 编码 GBK 的不可映射字符 (0x9C)”问题，这篇文章分3部分内容进行了讲解：错误情况示例；原因分析；解决办法。</p><a id="more"></a><h2 id="错误情况示例：">错误情况示例：</h2><p>用命令行运行javac编译java源文件时，发生错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">E:\myJavaCode&gt;javac Welcome.java</span><br><span class="line"></span><br><span class="line">Welcome.java:3: 错误: 编码 GBK 的不可映射字符 (0x9C)</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"hello 婧?"</span>);</span><br></pre></td></tr></table></figure><h2 id="原因分析：">原因分析：</h2><p>去看了下文件编码，是UTF-8，而Windows的cmd一般gbk，如果不指定会发生错误。</p><p>详情可参考下面内容：</p><blockquote><p>D:\Users&gt;javac -help<br>用法: javac <options> <source files><br>其中, 可能的选项包括:<br>-g                         生成所有调试信息<br>-g:none                    不生成任何调试信息<br>-g:{lines,vars,source}     只生成某些调试信息<br>-nowarn                    不生成任何警告<br>-verbose                   输出有关编译器正在执行的操作的消息<br>-deprecation               输出使用已过时的 API 的源位置<br>-classpath &lt;路径&gt;            指定查找用户类文件和注释处理程序的位置<br>-cp &lt;路径&gt;                   指定查找用户类文件和注释处理程序的位置<br>-sourcepath &lt;路径&gt;           指定查找输入源文件的位置<br>-bootclasspath &lt;路径&gt;        覆盖引导类文件的位置<br>-extdirs &lt;目录&gt;              覆盖所安装扩展的位置<br>-endorseddirs &lt;目录&gt;         覆盖签名的标准路径的位置<br>-proc:{none,only}          控制是否执行注释处理和/或编译。<br>-processor <class1>[,<class2>,<class3>…] 要运行的注释处理程序的名称; 绕过默认的搜索进程<br>-processorpath &lt;路径&gt;        指定查找注释处理程序的位置<br>-parameters                生成元数据以用于方法参数的反射<br>-d &lt;目录&gt;                    指定放置生成的类文件的位置<br>-s &lt;目录&gt;                    指定放置生成的源文件的位置<br>-h &lt;目录&gt;                    指定放置生成的本机标头文件的位置<br>-implicit:{none,class}     指定是否为隐式引用文件生成类文件<br>-encoding &lt;编码&gt;             指定源文件使用的字符编码<br>-source &lt;发行版&gt;              提供与指定发行版的源兼容性<br>-target &lt;发行版&gt;              生成特定 VM 版本的类文件<br>-profile &lt;配置文件&gt;            请确保使用的 API 在指定的配置文件中可用<br>-version                   版本信息<br>-help                      输出标准选项的提要<br>-A关键字[=值]                  传递给注释处理程序的选项<br>-X                         输出非标准选项的提要<br>-J&lt;标记&gt;                     直接将 &lt;标记&gt; 传递给运行时系统<br>-Werror                    出现警告时终止编译<br>@&lt;文件名&gt;                     从文件读取选项和文件名</class3></class2></class1></options></p></blockquote><h2 id="解决办法：">解决办法：</h2><p>由上面的内容我们可以知道，参数<code>-encoding &lt;编码&gt;</code> 指定源文件使用的字符编码。</p><p>将javac命令改成：<code>javac -encoding UTF-8 文件名.java</code> 即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">E:\myJavaCode&gt;javac -encoding UTF-8 Welcome.java</span><br><span class="line"></span><br><span class="line">E:\myJavaCode&gt;java Welcome</span><br><span class="line"></span><br><span class="line">hello 紫<span class="comment">#</span></span><br></pre></td></tr></table></figure><p>参考：<a href="https://blog.csdn.net/fzyjsy/article/details/82932276" target="_blank" rel="noopener">https://blog.csdn.net/fzyjsy/article/details/82932276</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>错误. 找不到或无法加载主类 Demo.class 的解决方法</title>
      <link href="/article/b9c529a7.html"/>
      <url>/article/b9c529a7.html</url>
      
        <content type="html"><![CDATA[<p>问题：在命令行运行class文件，发生错误: 找不到或无法加载主类 Demo.class 原因：因为java 命令后面的文件不能有后缀名。 解决办法：运行java时候，后面的文件去掉后缀名。</p><a id="more"></a><p>问题：在命令行运行class文件，发生错误: 找不到或无法加载主类 Demo.class</p><p><img src="https://oss.yansheng.xyz/picgo/20161016104046804.jpg" alt></p><p>原因：<strong>因为java 命令后面的文件不能有后缀名</strong>。</p><p>解决办法：<strong>运行java时候，后面的文件去掉后缀名。</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决MyEclipse10.x的Servers产生的at com.genuitec.eclipse.ast.deploy.core.Deployment.(Unknown Source)的问题</title>
      <link href="/article/8a7663d9.html"/>
      <url>/article/8a7663d9.html</url>
      
        <content type="html"><![CDATA[<p>网上找了一下，这个问题还是比较常见的，好像是非正常删除项目造成的，即不是在MyEclipse中删除项目，而是直接删除工作空间的项目，造成MyEclipse中有消息残留。</p><a id="more"></a><p>启动Tomcat时发生错误，如下：</p><p><img src="https://img-blog.csdnimg.cn/20190830165648501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">java.lang.NullPointerException</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.Deployment.&lt;init&gt;(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.ModuleDeployment.&lt;init&gt;(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.WebDeployment.&lt;init&gt;(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.Deployment.create(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.DeploymentManager.loadFromPreferences(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.DeploymentManager.init(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.DeploymentManager.&lt;init&gt;(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.DeploymentManager.getDefault(Unknown Source)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.ui.ServerTreeViewer$ServerTreeContentProvider.inputChanged(Unknown Source)</span><br><span class="line">at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:<span class="number">276</span>)</span><br><span class="line">at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:<span class="number">1690</span>)</span><br><span class="line">at com.genuitec.eclipse.ast.deploy.core.ui.ServerTreeViewer.&lt;init&gt;(Unknown Source)</span><br><span class="line">……</span><br></pre></td></tr></table></figure><p>网上找了一下，这个问题还是比较常见的，好像是非正常删除项目造成的，即不是在myeclipse中删除项目，而是直接删除工作空间的项目，造成myeclipse中有消息残留（有些eclipse或者myeclipse版本，在外部删除后，软件里面的项目列表还是会显示有空的文件夹的，这个一般就不会出现这个问题；但是myeclipse10.7好像就不能这样。）</p><blockquote><p>这个问题的出现是在启动myeclipse之后出现的，这时还没有启动tomcat，因此可以排除tomcat中项目代码问题。应该是myeclipse在初始化工作空间workspace 的时候出的问题。</p><p>仔细看下错误发现有一条 <strong>at com.genuitec.eclipse.ast.deploy.core.Deployment</strong>.这个错误，于是到工作空间下面的<span style="color:#f33b45;">D:\Workspaces.metadata.plugins\org.eclipse.core.runtime.settings</span>目录下面找到了名称为</p><p><span style="color:#f33b45;">at com.genuitec.eclipse.ast.deploy.core.prefs</span>，打开文件一开，哈哈，原来里面都是原来的一些项目信息，怪不得会报java.lang.NullPointerException错误呢。果断将此文件删除，重启myeclipse10。</p><p>原文链接：<a href="https://blog.csdn.net/zhangjianxp01/article/details/78598779" target="_blank" rel="noopener">https://blog.csdn.net/zhangjianxp01/article/details/78598779</a></p></blockquote><hr><p>参考：</p><ul><li><a href="https://blog.csdn.net/zhangjianxp01/article/details/78598779" target="_blank" rel="noopener">web工程部署到tomcat上报错java.lang.NullPointerException at com.genuitec.eclipse.ast.deploy.core.Deployment </a></li><li><a href="https://blog.csdn.net/gzu211/article/details/8585381" target="_blank" rel="noopener">解决myeclipse10.x的Servers产生的at com.genuitec.eclipse.ast.deploy.core.Deployment.(Unknown Source)错</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java的native方法</title>
      <link href="/article/8691db02.html"/>
      <url>/article/8691db02.html</url>
      
        <content type="html"><![CDATA[<p>你知道Java的Native Method吗？如果没有，也许这篇文章可能会帮到你，展开话题：一. 什么是Native Method？二.为什么要使用Native Method？三.JVM怎样使Native Method跑起来？</p><a id="more"></a><h2 id="一-什么是native-method？">一. 什么是Native Method？</h2><p><strong>&quot;A native method is a Java method whose implementation is provided by non-java code.&quot;</strong><br><br>简单地讲：一个Native Method就是一个java调用非java代码的接口。一个Native Method是这样一个java的方法：该方法的实现由非java语言实现，比如C。这个特征并非java所特有，很多其它的编程语言都有这一机制，比如在C＋＋中，你可以用extern &quot;C&quot;告知C＋＋编译器去调用一个C的函数。</p><p>在定义一个native method时，并不提供实现体（有些像定义一个java interface），因为其实现体是由非java语言在外面实现的。下面给了一个示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IHaveNatives</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">native</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Native1</span><span class="params">( <span class="keyword">int</span> x )</span> </span>;</span><br><span class="line">      <span class="function"><span class="keyword">native</span> <span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">long</span> <span class="title">Native2</span><span class="params">()</span> </span>;</span><br><span class="line">      <span class="function"><span class="keyword">native</span> <span class="keyword">synchronized</span> <span class="keyword">private</span> <span class="keyword">float</span> <span class="title">Native3</span><span class="params">( Object o )</span> </span>;</span><br><span class="line">      <span class="function"><span class="keyword">native</span> <span class="keyword">void</span> <span class="title">Native4</span><span class="params">( <span class="keyword">int</span>[] ary )</span> <span class="keyword">throws</span> Exception </span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>这些方法的声明描述了一些非java代码在这些java代码里看起来像什么样子（view）。</p><p>标识符native可以与所有其它的java标识符连用，但是abstract除外。这是合理的，因为native暗示这些方法是有实现体的，只不过这些实现体是非java的，但是abstract却显然的指明这些方法无实现体。native与其它java标识符连用时，其意义同非Native Method并无差别，比如native static表明这个方法可以在不产生类的实例时直接调用，这非常方便，比如当你想用一个native method去调用一个C的类库时。上面的第三个方法用到了native synchronized，JVM在进入这个方法的实现体之前会执行同步锁机制（就像java的多线程。）</p><p>一个native method方法可以返回任何java类型，包括非基本类型，而且同样可以进行异常控制。这些方法的实现体可以制一个异常并且将其抛出，这一点与java的方法非常相似。当一个native method接收到一些非基本类型时如Object或一个整型数组时，这个方法可以访问这非些基本型的内部，但是这将使这个native方法依赖于你所访问的java类的实现。有一点要牢牢记住：我们可以在一个native method的本地实现中访问所有的java特性，但是这要依赖于你所访问的java特性的实现，而且这样做远远不如在java语言中使用那些特性方便和容易。</p><p>native method的存在并不会对其他类调用这些本地方法产生任何影响，实际上调用这些方法的其他类甚至不知道它所调用的是一个本地方法。JVM将控制调用本地方法的所有细节。需要注意当我们将一个本地方法声明为final的情况。用java实现的方法体在被编译时可能会因为内联而产生效率上的提升。但是一个native final方法是否也能获得这样的好处却是值得怀疑的，但是这只是一个代码优化方面的问题，对功能实现没有影响。</p><p>如果一个含有本地方法的类被继承，子类会继承这个本地方法并且可以用java语言重写这个方法（这个似乎看起来有些奇怪），同样的如果一个本地方法被fianl标识，它被继承后不能被重写。</p><p>本地方法非常有用，因为它有效地扩充了jvm.事实上，我们所写的java代码已经用到了本地方法，在sun的java的并发（多线程）的机制实现中，许多与操作系统的接触点都用到了本地方法，这使得java程序能够超越java运行时的界限。有了本地方法，java程序可以做任何应用层次的任务。</p><h2 id="二-为什么要使用native-method？">二.为什么要使用Native Method？</h2><p>java使用起来非常方便，然而有些层次的任务用java实现起来不容易，或者我们对程序的效率很在意时，问题就来了。</p><h3 id="与java环境外交互">与java环境外交互</h3><p>有时java应用需要与java外面的环境交互。这是本地方法存在的主要原因，你可以想想java需要与一些底层系统如操作系统或某些硬件交换信息时的情况。本地方法正是这样一种交流机制：它为我们提供了一个非常简洁的接口，而且我们无需去了解java应用之外的繁琐的细节。</p><h3 id="与操作系统交互">与操作系统交互</h3><p>JVM支持着java语言本身和运行时库，它是java程序赖以生存的平台，它由一个解释器（解释字节码）和一些连接到本地代码的库组成。然而不管怎 样，它毕竟不是一个完整的系统，它经常依赖于一些底层（underneath在下面的）系统的支持。这些底层系统常常是强大的操作系统。通过使用本地方法，我们得以用java实现了jre的与底层系统的交互，甚至JVM的一些部分就是用C写的，还有，如果我们要使用一些java语言本身没有提供封装的操作系统的特性时，我们也需要使用本地方法。</p><h3 id="sun-s-java">Sun’s Java</h3><p>Sun的解释器是用C实现的，这使得它能像一些普通的C一样与外部交互。jre大部分是用java实现的，它也通过一些本地方法与外界交互。例如：类java.lang.Thread 的 setPriority()方法是用java实现的，但是它实现调用的是该类里的本地方法setPriority0()。这个本地方法是用C实现的，并被植入JVM内部，在Windows 95的平台上，这个本地方法最终将调用Win32 SetPriority() API。这是一个本地方法的具体实现由JVM直接提供，更多的情况是本地方法由外部的动态链接库（external dynamic link library）提供，然后被JVM调用。</p><h2 id="三-jvm怎样使native-method跑起来？">三.JVM怎样使Native Method跑起来？</h2><p>我们知道，当一个类第一次被使用到时，这个类的字节码会被加载到内存，并且只会回载一次。在这个被加载的字节码的入口维持着一个该类所有方法描述符的list，这些方法描述符包含这样一些信息：方法代码存于何处，它有哪些参数，方法的描述符（public之类）等等。</p><p>如果一个方法描述符内有native，这个描述符块将有一个指向该方法的实现的指针。这些实现在一些DLL文件内，但是它们会被操作系统加载到java程序的地址空间。当一个带有本地方法的类被加载时，其相关的DLL并未被加载，因此指向方法实现的指针并不会被设置。当本地方法被调用之前，这些DLL才会被加载，这是通过调用java.system.loadLibrary()实现的。</p><p>最后需要提示的是，使用本地方法是有开销的，它丧失了java的很多好处。如果别无选择，我们可以选择使用本地方法。</p><hr><p>本文转自：<a href="https://blog.csdn.net/wike163" target="_blank" rel="noopener">wikeqi</a> 的文章：<a href="https://blog.csdn.net/wike163/article/details/6635321" target="_blank" rel="noopener">Java的native方法</a></p><p>内容和排版略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo不渲染.md或者.html文件的方法</title>
      <link href="/article/23607b19.html"/>
      <url>/article/23607b19.html</url>
      
        <content type="html"><![CDATA[<p>我们知道，在 source 文件夹下的所有 md 文件或者 html 文件都会被渲染，有时候我们不想这些文件被渲染怎么办？比如很多时候我们想要写一个 <a href="http://README.md" target="_blank" rel="noopener">README.md</a> 或者一些自定义的页面。比如百度或者谷歌在验证站长权限的时候，通常都会要求在主目录下添加一个 html 文件。</p><a id="more"></a><h3 id="不渲染md文件">不渲染md文件</h3><p>如果想保留原 md 文件后缀要怎么做呢？这就需要在 站点配置文件<code>_config.yml</code> 中配置，找到 <code>skip_render</code> 参数，开始匹配的位置是基于你的 source_dir 的，一般来说，是你的 source 文件夹下。下面我分别列举几种常见的情况进行说明：</p><ol><li><code>skip_render: test/*</code> 单个文件夹下全部文件</li><li><code>skip_render: test/*.md</code> 单个文件夹下指定类型文件</li><li><code>skip_render: test/**</code> 单个文件夹下全部文件以及子目录</li><li>多个文件夹以及各种复杂情况：</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">README.md</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">`test1/*.html`</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">`test2/**`</span></span><br></pre></td></tr></table></figure><h3 id="不渲染html文件">不渲染html文件</h3><p>在不想被渲染的 html 文件最上面添加如下代码:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><hr><p>版权声明：本文为博主<a href="https://blog.csdn.net/ganzhilin520" target="_blank" rel="noopener">阿甘的博客</a>原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 by-sa </a>版权协议，转载请附上原文出处链接和本声明。</p><p>本文链接：<a href="https://blog.csdn.net/ganzhilin520/article/details/79057774" target="_blank" rel="noopener">https://blog.csdn.net/ganzhilin520/article/details/79057774</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo文件压缩：使用hexo-neat插件压缩页面静态资源</title>
      <link href="/article/120fd3f2.html"/>
      <url>/article/120fd3f2.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章针对下面的几个话题进行了讲解： 为什么要压缩页面静态资源， hexo的压缩静态资源插件， 如何使用hexo-neat。</p><a id="more"></a><h2 id="为什么要压缩页面静态资源">为什么要压缩页面静态资源</h2><p>对于个人博客来说，优化页面的访问速度是很有必要的，如果打开你的个人站点，加载个首页就要十几秒，页面长时间处于空白状态，想必没什么人能够忍受得了吧。我个人觉得，如果能把页面的加载时间控制在三四秒内，就很不错了。</p><p>那么怎么提高hexo这个静态博客的页面加载速度呢？可以从以下的几个方面去入手：</p><ol><li>将js文件尽可能放置到body的闭合标签之前，因为在加载或者引入js文件时是阻塞式的，如果我们在页面的最开始就引入这些js文件，而这些文件又比较大，会造成页面在渲染时长时间处于白屏状态。</li><li>尽量避免去引用访问速度非常低下的cdn或者图片，可以改用访问速度更快的cdn，或者将难以迅速加载的图片保存到自己的站点目录下，以免在加载图片时耗费了大量的时间，最后还加载不出来。</li><li>对页面的静态资源进行压缩，包括css、js和html等文件。我们自己添加的css和js文件为了可读性，往往会有很多换行和空格，这些对于浏览器来说并没什么卵用，甚至还会降低渲染页面的速度。至于html文件，由于Markdown转成html的bug，会导致页面存在大量的空白，如果你查看下页面的源代码，就会发现这些大量的空白符，十分难看。这也会造成页面渲染的性能问题。</li></ol><h2 id="hexo的压缩静态资源插件">hexo的压缩静态资源插件</h2><p>网上有很多相关的博文，常规的做法是使用<code>gulp</code>来进行压缩，<code>gulp</code>是<code>Node.js</code>下的自动构建工具，通过一列的task执行步骤进行自动流程化处理。</p><p>使用这种方法会比较麻烦，每次压缩时还需要输入额外的命令，比较繁琐，个人不是很喜欢，有兴趣的可以去自己了解下<a href="https://segmentfault.com/a/1190000009544924#articleHeader8" target="_blank" rel="noopener">相关的东西</a>。这篇教程里很多详细的说明，里边有说到gulp的使用，绝对的精品文章。</p><p>这里我选择的是由rozbo大佬开发的<code>hexo-neat</code>压缩插件，配置简单，无需额外命令，你只要使用原本的调试三连或者部署三连就可以自动帮你完成静态资源的压缩！</p><h2 id="如何使用hexo-neat">如何使用hexo-neat</h2><h3 id="在站点根目录下安装hexo-neat">在站点根目录下安装hexo-neat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p><strong>为站点配置文件添加相关配置</strong></p><p>下边是我自己站点的相关配置，直接添加到站点配置文件<code>_config.yml</code>的末尾就可以。可以按照自己的需求去自定义配置，不过有些注意事项，可以参考我后文的踩坑记录。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"><span class="comment"># 博文压缩</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 压缩html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  exclude:</span></span><br><span class="line"><span class="comment"># 压缩css  </span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  exclude:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'**/*.min.css'</span></span><br><span class="line"><span class="comment"># 压缩js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  mangle:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  output:</span></span><br><span class="line"><span class="attr">  compress:</span></span><br><span class="line"><span class="attr">  exclude:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'**/*.min.js'</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'**/jquery.fancybox.pack.js'</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'**/index.js'</span></span><br></pre></td></tr></table></figure><h2 id="hexo-neat插件踩坑记录">hexo-neat插件踩坑记录</h2><p>由于在使用hexo-neat插件时，可以在命令窗口中看到各个文件的压缩率，于是我就开始捣鼓跳过哪些文件可以让效率更高。在鼓捣了一段时间之后，记录下使用该插件的一些注意事项，避免日后重蹈覆辙，也希望能对各位看官有所帮助。</p><h3 id="跳过压缩文件的正确配置方式">跳过压缩文件的正确配置方式</h3><p>如果按照官方插件的文档说明来配置<code>exclude</code>，你会发现完全不起作用。这是因为配置的文件路径不对，压缩时找不到你配置的文件，自然也就无法跳过了。你需要给这些文件指定正确的路径，万能的配置方式如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">neat_css:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  exclude:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'**/*.min.css'</span></span><br></pre></td></tr></table></figure><p><strong>压缩html时不要跳过</strong><code>.md</code><strong>文件</strong></p><p><code>.md</code>文件就是我们写文章时的markdown文件，如果跳过压缩<code>.md</code>文件，而你又刚好在文章中使用到了NexT自带的tab标签，那么当hexo在生成静态页面时就会发生解析错误。这会导致使用到了tab标签的页面生成失败而无法访问。</p><p>当初为了找到这个原因花了我两个晚上的时间，简直是夜不能寐。</p><h3 id="压缩html时不要跳过-swig文件">压缩html时不要跳过<code>.swig</code>文件</h3><p><code>.swig</code>文件是模板引擎文件，简单的说hexo可以通过这些文件来生成对应的页面。如果跳过这些文件，那么你将会发现，你的所有页面完全没有起到压缩的效果，页面源代码里依然存在着一大堆空白。</p><h2 id="参考链接">参考链接</h2><ol><li><a href="https://github.com/rozbo/hexo-neat" target="_blank" rel="noopener">GitHub项目地址</a></li><li><a href="https://segmentfault.com/a/1190000008082288" target="_blank" rel="noopener">hexo博客压缩优化</a></li><li><a href="https://segmentfault.com/a/1190000005799759" target="_blank" rel="noopener">Hexo-Neat介绍</a></li></ol><hr><p>版权声明：本文为博主<a href="https://blog.csdn.net/lewky_liu" target="_blank" rel="noopener">雨临Lewis</a>原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 by-sa </a>版权协议，转载请附上原文出处链接和本声明。</p><p>本文链接：<a href="https://blog.csdn.net/lewky_liu/article/details/82432003" target="_blank" rel="noopener">https://blog.csdn.net/lewky_liu/article/details/82432003</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> hexo-neat </tag>
            
            <tag> 压缩 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo. FATAL can not read a block mapping entry解决办法</title>
      <link href="/article/f10ba8f0.html"/>
      <url>/article/f10ba8f0.html</url>
      
        <content type="html"><![CDATA[<p>在hexo中，这个问题是很常见。至于怎么解决？其实很简单！因为配置文件的格式要求比较严格，出现这种错误就是因为属性名和属性值之间少另一个空格而造成的；我们只需要根据报错信息找到对应位置添加一个空格就可以了。</p><a id="more"></a><p>我们先来了解下hexo的文件配置是怎么样设置属性的：</p><blockquote><p>在配置文件里面，都是按照<code>属性名+英文冒号+英文空格+属性值</code>，这个形式进行属性设置的。</p></blockquote><p>而会出现这个问题的原因就是少了其中的<code>空格</code>，我们可以根据报错信息，找到对应的文件的对应的位置，然后添加空格就可以了。</p><p>如：<code>themes\yilia\_config.yml</code>文件内的：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">主页:</span> <span class="string">/</span></span><br><span class="line">  <span class="comment">#随笔: /tags/随笔/</span></span><br><span class="line">  <span class="comment">#分类: /categories</span></span><br><span class="line">  <span class="string">归档:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="string">相册:</span> <span class="string">/photos</span></span><br><span class="line">  <span class="comment">#标签: /tags</span></span><br></pre></td></tr></table></figure><p>或者是：文章的标题部分的：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">标题</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-08</span><span class="bullet">-16</span> <span class="number">22</span><span class="string">:52:21</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet"> -</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">toc:</span> <span class="string">ture</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+yilia添加valine评论系统</title>
      <link href="/article/658be5fc.html"/>
      <url>/article/658be5fc.html</url>
      
        <content type="html"><![CDATA[<p>hexo+yilia添加valine评论系统</p><p><img src="https://s2.ax1x.com/2019/08/16/mmDUS0.jpg" alt="mmDUS0.jpg"></p><a id="more"></a><p>参考链接</p><ul><li><a href="https://blog.xxwhite.com/2017/Valine.html" target="_blank" rel="noopener">https://blog.xxwhite.com/2017/Valine.html</a></li><li><a href="http://anata.me/2018/04/05/hexo%E4%B8%BB%E9%A2%98yilia%E6%B7%BB%E5%8A%A0valine%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">http://anata.me/2018/04/05/hexo主题yilia添加valine评论系统/</a></li><li>yilia主题的github：<a href="https://github.com/litten/hexo-theme-yilia/pull/646" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/pull/646</a></li><li>valine介绍：<a href="https://valine.js.org/" target="_blank" rel="noopener">https://valine.js.org/</a></li></ul><hr><h2 id="1-注册leancloud">1.注册leancloud</h2><p>到官网：<a href="https://leancloud.cn" target="_blank" rel="noopener">https://leancloud.cn</a>，注册一个账号，然后创建应用，名字可以随意。然后会生成一个应用，有对应的<code>APP ID</code>，<code>APP KEY</code>，在<code>设置&gt;应用key</code>可以查看。</p><h2 id="2-hexo设置">2.hexo设置</h2><h3 id="2-1-在博客主题文件中添加评论设置">2.1 在博客主题文件中添加评论设置</h3><p>在<code>H:\Hexo\themes\yilia\_config.yml</code>大概在<code>#5、Gitment</code>后面添加valine设置，内容如下（注意把里面的<code>APP ID</code>，<code>APP KEY</code>换成自己应用中的信息）</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#6、Valine https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span> </span><br><span class="line"><span class="attr"> appid:</span> <span class="string">'APP ID'</span>  <span class="comment">#Leancloud应用的appId</span></span><br><span class="line"><span class="attr"> appkey:</span> <span class="string">'APP KEY'</span>  <span class="comment">#Leancloud应用的appKey</span></span><br><span class="line"><span class="attr"> verify:</span> <span class="literal">false</span> <span class="comment">#验证码</span></span><br><span class="line"><span class="attr"> notify:</span> <span class="literal">false</span> <span class="comment">#评论回复提醒</span></span><br><span class="line"><span class="attr"> avatar:</span> <span class="string">retro</span> <span class="comment">#评论列表头像样式：''/mm/identicon/monsterid/wavatar/retro/hide</span></span><br><span class="line"> <span class="comment">#头像类型可见： https://valine.js.org/avatar.html</span></span><br><span class="line"><span class="attr"> placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment">#评论框占位符</span></span><br></pre></td></tr></table></figure><h3 id="2-2-为article-ejs添加valine评论">2.2 为<code>article.ejs</code>添加valine评论</h3><p>在<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code>中搜索这行代码<code>&lt;% if (!index &amp;&amp; post.comments){ %&gt;</code>，在其后面添加代码：(这个代码是有响应式的)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.valine</span> &amp;&amp; <span class="attr">theme.valine.appid</span> &amp;&amp; <span class="attr">theme.valine.appkey</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-class">.comments</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">valine</span>', &#123;</span></span><br><span class="line"><span class="tag">        <span class="attr">key:</span> <span class="attr">post.slug</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">title:</span> <span class="attr">post.title</span>,</span></span><br><span class="line"><span class="tag">        <span class="attr">url:</span> <span class="attr">config.url</span>+<span class="attr">url_for</span>(<span class="attr">post.path</span>)</span></span><br><span class="line"><span class="tag">        &#125;) %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-3-新建文件valine-ejs">2.3 新建文件<code>valine.ejs</code></h3><p>新建文件<code>H:\Hexo\themes\yilia\layout\_partial\post\valine.ejs</code>，内容为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"vcomment"</span> <span class="attr">class</span>=<span class="string">"comment"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn1.lncld.net/static/js/3.0.4/av-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/valine/dist/Valine.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> notify = <span class="string">'&lt;%= theme.valine.notify %&gt;'</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> verify = <span class="string">'&lt;%= theme.valine.verify %&gt;'</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">'.comment'</span>,</span></span><br><span class="line">            notify: notify,</span><br><span class="line">            verify: verify,</span><br><span class="line"><span class="actionscript">            app_id: <span class="string">"&lt;%= theme.valine.appid %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            app_key: <span class="string">"&lt;%= theme.valine.appkey %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            placeholder: <span class="string">"&lt;%= theme.valine.placeholder %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            avatar:<span class="string">"&lt;%= theme.valine.avatar %&gt;"</span></span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-生成发布">3.生成发布</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s  <span class="comment">#本地可以预览效果，或者hexo d</span></span><br></pre></td></tr></table></figure><h2 id="4-后台查看数据">4.后台查看数据</h2><p><code>应用&gt;存储&gt;comment</code></p><p><strong>注意</strong>：这里还要设置一下web安全域名，位置：<code>应用&gt;设置&gt;安全中心&gt;Web安全域名</code></p><h2 id="5-升级">5.升级</h2><h3 id="5-1头像设置">5.1头像设置</h3><p>可切换多种头像，请看下面代码：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span> <span class="string">retro</span> <span class="comment">#评论列表头像样式：''/mm/identicon/monsterid/wavatar/retro/hide</span></span><br><span class="line"> <span class="comment">#头像类型可见： https://valine.js.org/avatar.html</span></span><br></pre></td></tr></table></figure><h3 id="5-2验证码">5.2验证码</h3><p>这个比较多争议，官网是说：“由于是<code>无后端</code>的评论系统，验证工作也就只能在前端做，体验上可能不会太优雅。</p><p>验证码默认是关闭的，如果你觉得太烦人或者太反人类，那就请不要打开。”</p><h3 id="5-3邮箱验证">5.3邮箱验证</h3><p>这个我暂时也不知道怎么设置。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> valine </tag>
            
            <tag> 评论系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chrome浏览器完美保存整个网页的两种方式</title>
      <link href="/article/7e8a7c47.html"/>
      <url>/article/7e8a7c47.html</url>
      
        <content type="html"><![CDATA[<p>ctrl+s保存网页（默认只能保存为HTML格式）好像是最简单的，但是有没有高级点的？这里介绍两种方法：1.Chrome保存整个网页为图片。2.Chorme浏览器以XHTML形式完美保存整个网页。</p><a id="more"></a><p>ctrl+s保存网页（默认只能保存为HTML格式）好像是最简单的，但是有没有高级点的？</p><h2 id="1-chrome保存整个网页为图片">1.Chrome保存整个网页为图片</h2><p>其实就是相当于截长图！！有很多外部软件都可以实现，当然我们可以通过google万能的插件来实现，但是下面这种方式是不用插件的，我一看到博客的文章后就去尝试了，效果很不错，所以果断转发，以便流传！</p><blockquote><p><strong>打开需要保存为图片的网页</strong></p><p><strong>然后按F12，接着按Ctrl+Shift+P</strong></p><p><strong>在红框内输入full</strong><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMyMDE3LmNuYmxvZ3MuY29tL2Jsb2cvMTEzOTM0Ni8yMDE4MDIvMTEzOTM0Ni0yMDE4MDIxODIzMDMxNDkwNS0xMjkyMzAzMjA5LnBuZw" alt></p><p>点击下面的“Capture full size screenshot”就可以保存整个网页为图片了</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMyMDE3LmNuYmxvZ3MuY29tL2Jsb2cvMTEzOTM0Ni8yMDE4MDIvMTEzOTM0Ni0yMDE4MDIxODIzMDQ1MzQ4My03NDYxODYyOTIucG5n" alt></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMyMDE3LmNuYmxvZ3MuY29tL2Jsb2cvMTEzOTM0Ni8yMDE4MDIvMTEzOTM0Ni0yMDE4MDIxODIzMDY1MTY0MC0xMjcyMjU3OTY0LnBuZw" alt></p><p>转自：<a href="https://www.cnblogs.com/ChouXiaoShou/p/ChromeScreenshot.html" target="_blank" rel="noopener">https://www.cnblogs.com/ChouXiaoShou/p/ChromeScreenshot.html</a></p></blockquote><h2 id="2-chorme浏览器以xhtml形式完美保存整个网页">2.Chorme浏览器以XHTML形式完美保存整个网页</h2><blockquote><p>我们要做的事就是把文档页面保存为一个mhtml文件，这种文件可以把所有的内嵌元素保存到单个文件之中，以后就可以方便的查看了。</p><p>chorme默认是不支持这个行为的，我们要到<code>chrome://flags/</code>中去搜索mhtml然后开启该功能。</p><p>tips：关于chrome://flags/，这是一个集合了谷歌很多正在开发功能的管理页面。</p><p>重启浏览器之后我们在待保存网页的空白处右键，然后另存为，选择单个文件即可。</p><hr><p>版权声明：本文为CSDN博主「音无麻里亚」的原创文章，遵循CC 4.0 by-sa版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/zhuobinggang/article/details/52930771" target="_blank" rel="noopener">https://blog.csdn.net/zhuobinggang/article/details/52930771</a></p></blockquote><p>补充：百度百科MHTML：<a href="https://baike.baidu.com/item/MHTML/8558952?fr=aladdin" target="_blank" rel="noopener">https://baike.baidu.com/item/MHTML/8558952?fr=aladdin</a></p><blockquote><p><strong>MHTML</strong></p><p>网页归档（英语：MIME HTML或MIME Encapsulation of Aggregate HTML Documents，又称单一档案网页或网页封存档案）为以多用途互联网邮件扩展格式，将一个多附件网页（如包含大量图片、<a href="https://baike.baidu.com/item/Flash%E5%8A%A8%E7%94%BB/2185567" target="_blank" rel="noopener">Flash动画</a>、Java小程序的网页）储存为单一档案，可用于发送HTML电子邮件，此单一档案即称为一网页封存档案，其副档名为.mht。这种格式有时被简称为MHT。</p></blockquote><p>百度完，你该知道这个原始的ctrl+s保存的HTML有什么区别了吧！简单来说就是：ctrl+s保存的HTML会将资源文件（如图片、css、js）保存到保存目录的一个名字类似的文件夹类，但是MHTML就是将资源文件都整合在来MHTML文件内。</p><hr><p>2019年9月17日更新：</p><p><strong>注</strong>：好像更新google后就没有这个功能了，我的更新后的版本为：“版本 77.0.3865.75（正式版本） （64 位）”，旧版的应该还可以。</p><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2016十大校花排行榜，美翻了</title>
      <link href="/article/6216745.html"/>
      <url>/article/6216745.html</url>
      
        <content type="html"><![CDATA[<p>根据教育君长期收集的资料，总结了一份全国十大高校校花的花名册。<br>图片太美，惹人心醉。大家看之前控制好自己的情绪。</p><p><a href="https://imgchr.com/i/mPalbF" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/08/13/mPalbF.th.jpg" alt="鞠婧祎"></a></p><a id="more"></a><h2 id="武汉大学校花-樱花">武汉大学校花——樱花</h2><p>武汉大学的樱园是出了名的美，不少电影电视剧前去取景。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_1.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_1.jpeg" alt="img"></a></p><h2 id="北京大学校花-荷花">北京大学校花——荷花</h2><p>北大未名湖里的荷花，出淤泥而不染，濯清涟而不妖。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_2.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_2.jpeg" alt="img"></a></p><h2 id="清华大学校花-丁香花">清华大学校花——丁香花</h2><p>你说你最爱丁香花，因为你的名字就是她。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_3.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_3.jpeg" alt="img"></a></p><h2 id="天津外国语大学校花-玉兰花">天津外国语大学校花——玉兰花</h2><p>雪白的玉兰花正如同天外校园里那一袭白裙的女生们，不艳丽却分外出彩。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_4.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_4.jpeg" alt="img"></a></p><h2 id="中山大学校花-木棉花">中山大学校花——木棉花</h2><p>木棉喜怒按在南方，北方的爷们，是否会喜爱这朵来自南方的姑娘。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_5.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_5.jpeg" alt="img"></a></p><h2 id="哈尔滨工业大学校花-杜鹃花">哈尔滨工业大学校花——杜鹃花</h2><p>不怕冷，傲娇，杜鹃花就是如此要强。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_6.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_6.jpeg" alt="img"></a></p><h2 id="湖南大学校花-芙蓉花">湖南大学校花——芙蓉花</h2><p>吸烟的朋友都会知道，有一款香烟叫芙蓉王。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_7.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_7.jpeg" alt="img"></a></p><h2 id="福州大学校花-蝴蝶兰">福州大学校花——蝴蝶兰</h2><p>此花虽美，却也娇气的出奇。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_8.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_8.jpeg" alt="img"></a></p><h2 id="浙江大学校花-栀子花">浙江大学校花——栀子花</h2><p>栀子花开呀开，栀子花开呀开，栀子花开呀开，栀子花开呀开。</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_9.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_9.jpeg" alt="img"></a></p><h2 id="复旦大学校花-海棠花">复旦大学校花——海棠花</h2><p>投我以木桃，报之以琼瑶;匪报也，永以为好也!投我以木李，报之以琼玖;匪报也，永以为好也!</p><p><a href="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_10.jpeg" target="_blank" rel="noopener"><img src="https://07.imgmini.eastday.com/mobile/20170102/20170102070337_2333e14a5905824a39ccaa232e07863c_10.jpeg" alt="img"></a></p><hr><blockquote><p>转自：<a href="http://mini.eastday.com/mobile/170102070337255.html" target="_blank" rel="noopener">http://mini.eastday.com/mobile/170102070337255.html</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jsoup爬取豆瓣电影top250</title>
      <link href="/article/9222bc8c.html"/>
      <url>/article/9222bc8c.html</url>
      
        <content type="html"><![CDATA[<p>简单介绍了如何使用jsoup爬取豆瓣电影top250的过程，从网页元素分析、获取相关数据，到存储数据都有涉及。</p><p><img src="https://oss.yansheng.xyz/picgo/20190813001044194.png" alt="豆瓣电影top250"></p><a id="more"></a><h2 id="0-准备工作">0.准备工作</h2><p>下载jsoup的jar包，有两种方式：</p><p>1.使用maven框架进行构建</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jsoup<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsoup<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.到 <a href="https://mvnrepository.com/artifact/org.jsoup/jsoup" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.jsoup/jsoup</a> 下载jar包(jsoup-1.12.1.jar)，然后加到类路径中。</p><hr><h2 id="1-分析">1. 分析</h2><p>豆瓣电影top25的第一个页面网址是 <a href="https://movie.douban.com/top250" target="_blank" rel="noopener">https://movie.douban.com/top250</a> ，我们检查该网页（google浏览器：ctrl+shift+c）可以发现，ol标签后面 li 标签即为每个电影的内容。</p><p><img src="https://oss.yansheng.xyz/picgo/20190813001044194.png" alt="豆瓣电影top250"></p><p><img src="https://img-blog.csdnimg.cn/20190813001400881.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>以下是格式化了的li标签的内容：（这是第一个电影《肖申克的救赎》）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pic"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">em</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span>1<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://movie.douban.com/subject/1292052/"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">alt</span>=<span class="string">"肖申克的救赎"</span></span></span><br><span class="line"><span class="tag"><span class="attr">src</span>=<span class="string">"https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.webp"</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://movie.douban.com/subject/1292052/"</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>肖申克的救赎<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&amp;nbsp;/&amp;nbsp;The Shawshank Redemption<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">"other"</span>&gt;</span>&amp;nbsp;/&amp;nbsp;月黑高飞(港) / 刺激1995(台)<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"playable"</span>&gt;</span>[可播放]<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">导演: 弗兰克·德拉邦特 Frank Darabont &amp;nbsp;&amp;nbsp;&amp;nbsp;主演: 蒂姆·罗宾斯 Tim Robbins /...</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">1994 &amp;nbsp;/&amp;nbsp;美国&amp;nbsp;/&amp;nbsp;犯罪 剧情</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"star"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"rating5-t"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"rating_num"</span> <span class="attr">property</span>=<span class="string">"v:average"</span>&gt;</span>9.7<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag"><span class="attr">property</span>=<span class="string">"v:best"</span> <span class="attr">content</span>=<span class="string">"10.0"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span>&gt;</span>1539997人评价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"quote"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"inq"</span>&gt;</span>希望让人自由。<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><p>之后的工作基本上围绕这段代码来开展。</p><hr><h2 id="2-构思">2. 构思</h2><p>讲代码之前我们要现有思路，下面是我的思路：</p><ol><li>获取“单页-一个电影”的数据</li><li>获取“单页-所有电影-25个”的数据</li><li>获取“所有页面-所有电影-25+10=250个”的数据</li></ol><p>虽然这和我一开始想法有些差异，但是方向是一样的。</p><hr><h2 id="3-编程">3. 编程</h2><h3 id="3-1-定义一个bean-用于保存电影的数据">3.1 定义一个bean，用于保存电影的数据</h3><p>定义Movie类，用于保存电影的相关数据。包含：排名，电影名，电影的豆瓣页网址，(国家，放映年份)，平均评分，评价人数，引用（一句话评语）。</p><p><strong>注意</strong>：为了方便在控制台查看数据和保存数据，这里定义了两个tostring方法，第一个是自动生成的，便于在控制台查看数据；第二个是自己定义的，为了方便保存数据到本地txt，如果你需要保存TXT文件，请选择第二种形式。</p><p><code>Movie.java</code>代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> Movie.java</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Package</span> xyz.yansheng.top250</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-12 15:34:16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.yansheng.top250;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Title: Movie&lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description: 定义Movie类，用于保存电影的相关数据。包含：排名，电影名，电影的豆瓣页网址，(国家，放映年份)，平均评分，评价人数，引用（一句话评语）。&lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Company: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-12 15:34:16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 排名，电影名，电影的豆瓣页网址，(国家，放映年份)，平均评分，评价人数，引用（一句话评语）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Integer rank;</span><br><span class="line"><span class="keyword">private</span> String title;</span><br><span class="line"><span class="keyword">private</span> String url;</span><br><span class="line"><span class="keyword">private</span> Double ratingNum;</span><br><span class="line"><span class="keyword">private</span> Integer ratingPeopleNum;</span><br><span class="line"><span class="keyword">private</span> String quote;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> url;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUrl</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.url = url;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRank</span><span class="params">(Integer rank)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.rank = rank;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getTitle</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> title;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTitle</span><span class="params">(String title)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.title = title;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Double <span class="title">getRatingNum</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> ratingNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRatingNum</span><span class="params">(Double ratingNum)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.ratingNum = ratingNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Integer <span class="title">getRatingPeopleNum</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> ratingPeopleNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRatingPeopleNum</span><span class="params">(Integer ratingPeopleNum)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.ratingPeopleNum = ratingPeopleNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getQuote</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> quote;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setQuote</span><span class="params">(String quote)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.quote = quote;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 形式1.为了方便控制台打印</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">"Movie [rank="</span> + rank + <span class="string">", title="</span> + title + <span class="string">", url="</span> + url + <span class="string">", ratingNum="</span> + ratingNum</span><br><span class="line">+ <span class="string">", ratingPeopleNum="</span> + ratingPeopleNum + <span class="string">", quote="</span> + quote + <span class="string">"]"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 形式2.为了方便保存数据到本地txt</span></span><br><span class="line"><span class="comment">// 在将数据写到本地txt保存时，建议用下面这个格式，数据比较干净，有利用导入到数据库等。</span></span><br><span class="line"><span class="comment">//return rank + "," + title + "," + url + "," + ratingNum + "," + ratingPeopleNum + "," + quote + "\n";</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-按照之前的构思进行编程">3.2 按照之前的构思进行编程</h3><p>为了方便起见，我直接将这个方法定义在一个类中。所有方法在main方法里面进行测试，可以按照方法进行测试。</p><p>注意：方法4，选用第二种tostring方法（上面有提到的）。</p><p>下面这个是<code>CrawlMovie.java</code>文件中的<code>main()</code>方法，先看这个测试代码，你会比较容易理解主要的几个方法的作用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.获取“单页-一个电影”的数据</span></span><br><span class="line"><span class="comment">// 测试方法：Movie crawlMovie()</span></span><br><span class="line"><span class="comment">// crawlMovie();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.获取“单页-所有电影-25个”的数据</span></span><br><span class="line"><span class="comment">// 测试方法：Movie crawlMovie()</span></span><br><span class="line"><span class="comment">/*final String URL = "https://movie.douban.com/top250";</span></span><br><span class="line"><span class="comment">ArrayList&lt;Movie&gt; movies2 = crawlMovies(URL);</span></span><br><span class="line"><span class="comment">for (Movie movie : movies2) &#123;</span></span><br><span class="line"><span class="comment">System.out.println(movie.toString());</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.获取“所有页面-所有电影-25+10=250个”的数据</span></span><br><span class="line"><span class="comment">// 测试方法：ArrayList&lt;Movie&gt; crawlAllMovies()</span></span><br><span class="line">ArrayList&lt;Movie&gt; movies3 = crawlAllMovies();</span><br><span class="line"><span class="keyword">for</span> (Movie movie : movies3) &#123;</span><br><span class="line">System.out.println(movie.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.为了简单起见，这里仅仅是将数据保存为txt文件，不保存到excel或者是数据库。</span></span><br><span class="line"><span class="comment">// 测试方法：void writeMovie(ArrayList&lt;Movie&gt; movies)</span></span><br><span class="line">writeMoviesToTxt(movies3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><code>CrawlMovie.java</code>的所有代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> CrawlMovie.java</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Package</span> xyz.yansheng.top250</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-12 15:47:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.yansheng.top250;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Title: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Company: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-12 15:47:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CrawlMovie</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> main</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-12 15:47:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 爬取豆瓣电影top250：https://movie.douban.com/top250</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.获取“单页-一个电影”的数据</span></span><br><span class="line"><span class="comment">// 测试方法：Movie crawlMovie()</span></span><br><span class="line"><span class="comment">// crawlMovie();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.获取“单页-所有电影-25个”的数据</span></span><br><span class="line"><span class="comment">// 测试方法：Movie crawlMovie()</span></span><br><span class="line"><span class="comment">/*final String URL = "https://movie.douban.com/top250";</span></span><br><span class="line"><span class="comment">ArrayList&lt;Movie&gt; movies2 = crawlMovies(URL);</span></span><br><span class="line"><span class="comment">for (Movie movie : movies2) &#123;</span></span><br><span class="line"><span class="comment">System.out.println(movie.toString());</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.获取“所有页面-所有电影-25+10=250个”的数据</span></span><br><span class="line"><span class="comment">// 测试方法：ArrayList&lt;Movie&gt; crawlAllMovies()</span></span><br><span class="line">ArrayList&lt;Movie&gt; movies3 = crawlAllMovies();</span><br><span class="line"><span class="keyword">for</span> (Movie movie : movies3) &#123;</span><br><span class="line">System.out.println(movie.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.为了简单起见，这里仅仅是将数据保存为txt文件，不保存到excel或者是数据库。</span></span><br><span class="line"><span class="comment">// 测试方法：void writeMovie(ArrayList&lt;Movie&gt; movies)</span></span><br><span class="line">writeMoviesToTxt(movies3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.获取“单页-一个电影”的数据</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">crawlMovie</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.获取网页</span></span><br><span class="line"><span class="keyword">final</span> String URL = <span class="string">"https://movie.douban.com/top250"</span>;</span><br><span class="line"></span><br><span class="line">Document document = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">document = Jsoup.connect(URL).get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//System.out.println("document:" + document);</span></span><br><span class="line"></span><br><span class="line">Movie movie = <span class="keyword">new</span> Movie();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.选择具体的电影的项，注意first方法，这里先只选取第一个进行测试</span></span><br><span class="line">Element itemElement = document.select(<span class="string">"ol li"</span>).first();</span><br><span class="line"><span class="comment">//System.out.println("item:" + item.toString());</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.1电影排名</span></span><br><span class="line">Element rankElement = itemElement.selectFirst(<span class="string">"em"</span>);</span><br><span class="line">String rankString = rankElement.text();</span><br><span class="line">System.out.println(<span class="string">"rankString:"</span> + rankString.toString());</span><br><span class="line">movie.setRank(<span class="keyword">new</span> Integer(rankString));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.2电影网址</span></span><br><span class="line">Element urlElement = itemElement.select(<span class="string">"div.hd a"</span>).first();</span><br><span class="line">String urlString = urlElement.attr(<span class="string">"href"</span>);</span><br><span class="line">System.out.println(<span class="string">"urlString:"</span> + urlString.toString());</span><br><span class="line">movie.setUrl(urlString);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.3电影名</span></span><br><span class="line">Element titleElement = urlElement.select(<span class="string">"span.title"</span>).first();</span><br><span class="line">String titleString = titleElement.text();</span><br><span class="line">System.out.println(<span class="string">"titleString:"</span> + titleString.toString());</span><br><span class="line">movie.setTitle(titleString);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.4评分</span></span><br><span class="line">Element ratingNumElement = itemElement.select(<span class="string">"div.star span.rating_num"</span>).first();</span><br><span class="line">String ratingNumString = ratingNumElement.text();</span><br><span class="line">System.out.println(<span class="string">"ratingNumString:"</span> + ratingNumString.toString());</span><br><span class="line">movie.setRatingNum(<span class="keyword">new</span> Double(ratingNumString));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.5评价人数</span></span><br><span class="line">Element ratingPeopleNumElement = itemElement.select(<span class="string">"div.star span"</span>).last();</span><br><span class="line">String ratingPeopleNumString = ratingPeopleNumElement.text();</span><br><span class="line">System.out.println(<span class="string">"ratingPeopleNumString:"</span> + ratingPeopleNumString.toString());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意这里文本是：1539997人评价，我们需要选取其中人数，进行裁剪</span></span><br><span class="line">movie.setRatingPeopleNum(</span><br><span class="line"><span class="keyword">new</span> Integer(ratingPeopleNumString.substring(<span class="number">0</span>, ratingPeopleNumString.length() - <span class="number">3</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.6 一句话简评</span></span><br><span class="line">Element quoteElement = itemElement.select(<span class="string">"p.quote span.inq"</span>).first();</span><br><span class="line">String quoteString = quoteElement.text();</span><br><span class="line">System.out.println(<span class="string">"quoteString:"</span> + quoteString.toString());</span><br><span class="line">movie.setQuote(quoteString);</span><br><span class="line"></span><br><span class="line">System.out.println(movie.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.获取“单页-所有电影-25*1=25个”的数据</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Movie&gt; <span class="title">crawlMovies</span><span class="params">(String URL)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.获取网页</span></span><br><span class="line"><span class="comment">//final String URL = "https://movie.douban.com/top250";</span></span><br><span class="line"></span><br><span class="line">Document document = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">document = Jsoup.connect(URL).get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//System.out.println("document:" + document);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.选择具体的电影的项，注意这里和上面第一个不同，这里是选取的所有电影的项</span></span><br><span class="line">Elements itemElement = document.select(<span class="string">"ol li"</span>);</span><br><span class="line"></span><br><span class="line">ArrayList&lt;Movie&gt; movies = <span class="keyword">new</span> ArrayList&lt;Movie&gt;(<span class="number">25</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Element element : itemElement) &#123;</span><br><span class="line">Movie movie = <span class="keyword">new</span> Movie();</span><br><span class="line"><span class="comment">// 3.1电影排名</span></span><br><span class="line">Element rankElement = element.selectFirst(<span class="string">"em"</span>);</span><br><span class="line">String rankString = rankElement.text();</span><br><span class="line">movie.setRank(<span class="keyword">new</span> Integer(rankString));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.2电影网址</span></span><br><span class="line">Element urlElement = element.select(<span class="string">"div.hd a"</span>).first();</span><br><span class="line">String urlString = urlElement.attr(<span class="string">"href"</span>);</span><br><span class="line">movie.setUrl(urlString);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.3电影名</span></span><br><span class="line">Element titleElement = urlElement.select(<span class="string">"span.title"</span>).first();</span><br><span class="line">String titleString = titleElement.text();</span><br><span class="line">movie.setTitle(titleString);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.4评分</span></span><br><span class="line">Element ratingNumElement = element.select(<span class="string">"div.star span.rating_num"</span>).first();</span><br><span class="line">String ratingNumString = ratingNumElement.text();</span><br><span class="line">movie.setRatingNum(<span class="keyword">new</span> Double(ratingNumString));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.5评价人数</span></span><br><span class="line">Element ratingPeopleNumElement = element.select(<span class="string">"div.star span"</span>).last();</span><br><span class="line">String ratingPeopleNumString = ratingPeopleNumElement.text();</span><br><span class="line">movie.setRatingPeopleNum(</span><br><span class="line"><span class="keyword">new</span> Integer(ratingPeopleNumString.substring(<span class="number">0</span>, ratingPeopleNumString.length() - <span class="number">3</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.6 一句话简评</span></span><br><span class="line">Element quoteElement = element.select(<span class="string">"p.quote span.inq"</span>).first();</span><br><span class="line"><span class="comment">// 注意：这里可能会没有简评，如125的《我不是药神》，字符串会为null，如果是null，置为空字符串，否则会出现NPE问题</span></span><br><span class="line">String quoteString = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span> (quoteElement == <span class="keyword">null</span>) &#123;</span><br><span class="line">quoteString = <span class="string">""</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">quoteString = quoteElement.text();</span><br><span class="line">&#125;</span><br><span class="line">movie.setQuote(quoteString);</span><br><span class="line"></span><br><span class="line">movies.add(movie);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> movies;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.获取“所有页面-所有电影-25+10=250个”的数据</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Movie&gt; <span class="title">crawlAllMovies</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">ArrayList&lt;Movie&gt; movies = <span class="keyword">new</span> ArrayList&lt;Movie&gt;(<span class="number">250</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*注意查看网址之间的特点，然后拼接字符串：</span></span><br><span class="line"><span class="comment"> * 第1页. https://movie.douban.com/top250</span></span><br><span class="line"><span class="comment"> * 2. https://movie.douban.com/top250?start=25&amp;filter=</span></span><br><span class="line"><span class="comment"> * 3. https://movie.douban.com/top250?start=50&amp;filter=</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 通过观察我们可以发现：（如果有怀疑直接到浏览器测试拼接的网址是否正确）</span></span><br><span class="line"><span class="comment"> * （1）前面都是一样的：“https://movie.douban.com/top250”，</span></span><br><span class="line"><span class="comment"> * （2）后面加一个查询串：“?start=25*(-1)”，其中i表示页数，根据意思我们可以知道其实是：指定指定该页是从排名第几的电影开始，</span></span><br><span class="line"><span class="comment"> * 即如果是“?start=20”，那么该页第一个就是21。</span></span><br><span class="line"><span class="comment"> * （3）按照（2）的意思，其实第一个页面就是：https://movie.douban.com/top250?start=0&amp;filter=</span></span><br><span class="line"><span class="comment"> * （4）而最后面的"&amp;filter="，其实有没有都无所谓。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">String prefix = <span class="string">"https://movie.douban.com/top250"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为了方便起见我先将网址拼接好，后面直接就可以用了</span></span><br><span class="line">ArrayList&lt;String&gt; urlList = <span class="keyword">new</span> ArrayList&lt;String&gt;(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">String url = prefix + <span class="string">"?start="</span> + <span class="keyword">new</span> Integer(i * <span class="number">25</span>).toString() + <span class="string">"&amp;filter="</span>;</span><br><span class="line">urlList.add(url);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里直接调用上面的方法2（找到每页的电影），将得到的（25个电影）集合添加到（250个电影）集合，通过循环遍历10个页面。</span></span><br><span class="line"><span class="keyword">for</span> (String url : urlList) &#123;</span><br><span class="line">movies.addAll(crawlMovies(url));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> movies;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.为了简单起见，这里仅仅是将数据保存为txt文件，不保存到excel或者是数据库。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeMoviesToTxt</span><span class="params">(ArrayList&lt;Movie&gt; movies)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.1 先将每个电影对象转化为字符串</span></span><br><span class="line">ArrayList&lt;String&gt; moviesString = <span class="keyword">new</span> ArrayList&lt;String&gt;(<span class="number">250</span>);</span><br><span class="line"><span class="keyword">for</span> (Movie movie : movies) &#123;</span><br><span class="line">moviesString.add(movie.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.2写字节流</span></span><br><span class="line"><span class="keyword">try</span> (FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">"豆瓣电影top250.txt"</span>);) &#123;</span><br><span class="line"><span class="keyword">for</span> (String string : moviesString) &#123;</span><br><span class="line">out.write(string.getBytes());</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-效果图">4.效果图</h2><ol><li>控制台输出：（部分截图）<br><img src="https://img-blog.csdnimg.cn/20190813000037361.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>保存的txt文件：（部分截图）<br><img src="https://img-blog.csdnimg.cn/20190813000122705.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>处理后的excel表格数据：（部分截图）<br><img src="https://img-blog.csdnimg.cn/20190813000303582.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li></ol><p>通过观察我们可以发现，不是评分高排名就靠前！！</p><hr><h2 id="5-获取资源">5.获取资源</h2><h3 id="5-1github">5.1GitHub</h3><p>github仓库:<a href="https://github.com/yansheng836/jsoup-test#user-content-2-%E7%88%AC%E5%8F%96%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1top250" target="_blank" rel="noopener">https://github.com/yansheng836/jsoup-test#user-content-2-爬取豆瓣电影top250</a></p><h3 id="5-2百度云">5.2百度云</h3><p>资源列表：</p><p><img src="https://img-blog.csdnimg.cn/20190813005331666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>说明：</p><ol><li>Excel表格数据是经过处理的，该程序没有实现该功能（保存数据到excel的功能）。</li><li><code>movie.sql</code>是mysql数据库的一个表的转储sql文件，直接在mysql执行该文件可得到以数据库表：</li></ol><p><img src="https://img-blog.csdnimg.cn/20190813005942155.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>百度云盘链接：<a href="https://pan.baidu.com/s/1fXr8psMndIzdu5r656m1ow" target="_blank" rel="noopener">https://pan.baidu.com/s/1fXr8psMndIzdu5r656m1ow</a><br>提取码：<strong>f36z</strong></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Java爬虫 </tag>
            
            <tag> Jsoup </tag>
            
            <tag> 豆瓣电影 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java替换文件名字符串中的特殊字符，避免创建文件失败</title>
      <link href="/article/dc818308.html"/>
      <url>/article/dc818308.html</url>
      
        <content type="html"><![CDATA[<p>在java中，创建一个文件其实很简单，但是你知道文件名中能含有哪些字符吗？如果不了解，也许你该看看这篇文章。文章主要内容：1.文件名中不能有哪些字符？2.创建文件时，如何进行判断？3.如何替换文件名’字符串中的特殊字符？</p><a id="more"></a><h2 id="1-文件名中不能有哪些字符？">1.文件名中不能有哪些字符？</h2><p>在Windows系统创建文件，其名字是由限制的，至于有哪些限制，在你违规时，它就会提醒你，就像这样：</p><p><img src="https://oss.yansheng.xyz/picgo/20180331142340771.jpg" alt="文件夹名限制"></p><p>当你创建文件时，输入图中所含（英文格式）字符时，它就会弹出这个提示框。</p><p>推荐阅读：<a href="https://blog.csdn.net/weixin_41287260/article/details/99256885" target="_blank" rel="noopener">在文件名中千万不要使用这些字符!</a></p><h2 id="2-创建文件时-如何进行判断？">2.创建文件时，如何进行判断？</h2><p>但是我们在编程过程中，如果需要批量创建文件，创建失败但是如果你判断就不会有提示：<code>boolean file.mkdir()</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">File dirFile = <span class="keyword">new</span> File(dirPath);</span><br><span class="line"><span class="keyword">if</span> (!dirFile.exists()) &#123;</span><br><span class="line">    <span class="keyword">if</span> (dirFile.mkdir()) &#123;</span><br><span class="line">        System.out.println(<span class="string">"创建文件夹："</span> + dirPath + <span class="string">" 成功"</span>);</span><br><span class="line">        reslut = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        System.err.println(<span class="string">"创建文件夹："</span> + dirPath + <span class="string">" 失败"</span>);</span><br><span class="line">        reslut = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">"文件夹："</span> + dirPath + <span class="string">" 已存在"</span>);</span><br><span class="line">    reslut = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> reslut;</span><br></pre></td></tr></table></figure><h2 id="3-如何替换文件名-字符串中的特殊字符？">3.如何替换文件名’字符串中的特殊字符？</h2><p>那么如何替换其中的特殊字符呢？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">replaceSpecialCharacters</span><span class="params">(String dirPath)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * windows下文件名中不能含有：\ / : * ? " &lt; &gt; | 英文的这些字符 ，这里使用"."、"'"进行替换。</span></span><br><span class="line"><span class="comment">    * \/:?| 用.替换</span></span><br><span class="line"><span class="comment">    * "&lt;&gt; 用'替换</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    dirPath = dirPath.replaceAll(<span class="string">"[/\\\\:*?|]"</span>, <span class="string">"."</span>);</span><br><span class="line">    dirPath = dirPath.replaceAll(<span class="string">"[\"&lt;&gt;]"</span>, <span class="string">"'"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dirPath;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改时间：2019年9月5日19:19:17</p><h2 id="4-很重要的-补充">4.（很重要的）补充:</h2><p>之前我以为这些规则只是针对文件夹的，但是后面发现对于普通文件同样适用，文章中可能有部分内容没有修改过来，因此这里统一说明：<strong>这些规则对文件夹和文件都适用</strong>。</p><hr><p>可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/99256885" target="_blank" rel="noopener">在文件名中千万不要使用这些字符！</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP常见状态码汇总，如404,500等</title>
      <link href="/article/df3ea309.html"/>
      <url>/article/df3ea309.html</url>
      
        <content type="html"><![CDATA[<p>我们在写Java Web程序时，可能会经常会与HTTP状态码(HTTP Status Code)打交道，比如：200表示成功响应请求，我们常用这个作为判断条件。最常见的报错状态码，莫过于404（页面不存在，或者路径错误），路径写错时就会报这个错误；403 (禁止，服务器拒绝请求)爬虫被禁IP就返回这个；500 (服务器内部错误) 服务器遇到错误，无法完成请求后台（servlet等）程序有问题就会返回这个状态码。</p><p>下面是我转发的一篇介绍“比较常见的状态码的说明”（内容、排版等略有修改），留作备份，以备不时之需。</p><a id="more"></a><h2 id="一-1开头状态码">一、1开头状态码</h2><h3 id="1xx-临时响应-表示临时响应并需要请求者继续执行操作的状态代码">1xx(临时响应)表示临时响应并需要请求者继续执行操作的状态代码。</h3><p><strong>代码 说明</strong></p><p>100 (继续) 请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。</p><p>101 (切换协议) 请求者已要求服务器切换协议，服务器已确认并准备切换。</p><h2 id="二-2开头状态码">二、2开头状态码</h2><h3 id="2xx-成功-表示成功处理了请求的状态代码">2xx (成功)表示成功处理了请求的状态代码。</h3><p><strong>代码 说明</strong></p><p><span style="color:#f33b45;">200 (成功) 服务器已成功处理了请求。 通常，这表示服务器提供了请求的网页。</span></p><p>201 (已创建) 请求成功并且服务器创建了新的资源。</p><p>202 (已接受) 服务器已接受请求，但尚未处理。</p><p>203 (非授权信息) 服务器已成功处理了请求，但返回的信息可能来自另一来源。</p><p>204 (无内容) 服务器成功处理了请求，但没有返回任何内容。</p><p>205 (重置内容) 服务器成功处理了请求，但没有返回任何内容。</p><p>206 (部分内容) 服务器成功处理了部分 GET 请求。</p><h2 id="三-3开头状态码">三、3开头状态码</h2><h3 id="3xx-重定向-表示要完成请求-需要进一步操作-通常-这些状态代码用来重定向">3xx (重定向) 表示要完成请求，需要进一步操作。 通常，这些状态代码用来重定向。</h3><p><strong>代码 说明</strong></p><p>300 (多种选择) 针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。</p><p>301 (永久移动) 请求的网页已永久移动到新位置。 服务器返回此响应(对 GET 或 HEAD 请求的响应)时，会自动将请求者转到新位置。</p><p>302 (临时移动) 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</p><p>303 (查看其他位置) 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。</p><p>304 (未修改) 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。</p><p>305 (使用代理) 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。</p><p>307 (临时重定向) 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</p><h2 id="四-4开头状态码">四、4开头状态码</h2><h3 id="4xx-请求错误-这些状态代码表示请求可能出错-妨碍了服务器的处理">4xx(请求错误) 这些状态代码表示请求可能出错，妨碍了服务器的处理。</h3><p><strong>代码 说明</strong></p><p>400 (错误请求) 服务器不理解请求的语法。</p><p>401 (未授权) 请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。</p><p><span style="color:#f33b45;">403 (禁止) 服务器拒绝请求。</span></p><p><span style="color:#f33b45;">404 (未找到) 服务器找不到请求的网页。</span></p><p>405 (方法禁用) 禁用请求中指定的方法。</p><p>406 (不接受) 无法使用请求的内容特性响应请求的网页。</p><p>407 (需要代理授权) 此状态代码与 401(未授权)类似，但指定请求者应当授权使用代理。</p><p>408 (请求超时) 服务器等候请求时发生超时。</p><p>409 (冲突) 服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。</p><p>410 (已删除) 如果请求的资源已永久删除，服务器就会返回此响应。</p><p>411 (需要有效长度) 服务器不接受不含有效内容长度标头字段的请求。</p><p>412 (未满足前提条件) 服务器未满足请求者在请求中设置的其中一个前提条件。</p><p>413 (请求实体过大) 服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。</p><p>414 (请求的 URI 过长) 请求的 URI(通常为网址)过长，服务器无法处理。</p><p>415 (不支持的媒体类型) 请求的格式不受请求页面的支持。</p><p>416 (请求范围不符合要求) 如果页面无法提供请求的范围，则服务器会返回此状态代码。</p><p>417 (未满足期望值) 服务器未满足&quot;期望&quot;请求标头字段的要求。</p><h2 id="五-5开头状态码">五、5开头状态码</h2><h3 id="5xx-服务器错误-这些状态代码表示服务器在尝试处理请求时发生内部错误-这些错误可能是服务器本身的错误-而不是请求出错">5xx(服务器错误)这些状态代码表示服务器在尝试处理请求时发生内部错误。 这些错误可能是服务器本身的错误，而不是请求出错。</h3><p><strong>代码 说明</strong></p><p><span style="color:#f33b45;">500 (服务器内部错误) 服务器遇到错误，无法完成请求。</span></p><p>501 (尚未实施) 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。</p><p>502 (错误网关) 服务器作为网关或代理，从上游服务器收到无效响应。</p><p>503 (服务不可用) 服务器目前无法使用(由于超载或停机维护)。 通常，这只是暂时状态。</p><p>504 (网关超时) 服务器作为网关或代理，但是没有及时从上游服务器收到请求。</p><p>505 (HTTP 版本不受支持) 服务器不支持请求中所用的 HTTP 协议版本。</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> HTML </tag>
            
            <tag> HTTP </tag>
            
            <tag> 状态码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在文件名中千万不要使用这些字符！</title>
      <link href="/article/57c17be4.html"/>
      <url>/article/57c17be4.html</url>
      
        <content type="html"><![CDATA[<p>主流的操作系统都有文件的概述，文件存放数据的最根本单位。为了访问，每个文件都有唯一一个文件名用于标记文件。在程序设计，我们经常有创建文件的操作。在创建文件时，需要给新创建的文件起一个名子，这时候要特别小心，如果你的文件名没起好，以后一定会带来新的坑。</p><a id="more"></a><p>主流的操作系统都有文件的概述，文件存放数据的最根本单位。为了访问，每个文件都有唯一一个文件名用于标记文件。在程序设计，我们经常有创建文件的操作。在创建文件时，需要给新创建的文件起一个名子，这时候要特别小心，如果你的文件名没起好，以后一定会带来新的坑。</p><p>以下是笔者根据多年的经验，总结出来的文件名的禁用字符：<br><br>注意：在windows资源浏览器中1-10是无法直接创建的，但是在不同的环境却是可以的。比如 <code>:</code> 在Linux中直接就可以创建。当在多平台上交互时就会出现问题。</p><table><thead><tr><th>序号</th><th>内容</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>`/`</td><td>Linux的路径分隔符，使用后会导致路径错误。</td></tr><tr><td>2</td><td>`\`</td><td>Windows的路径分隔符，使用后会导致路径错误。</td></tr><tr><td>3</td><td>`:`</td><td>一些编译语言，如java会用它作用文件间的分隔符。</td></tr><tr><td>4</td><td>`?`</td><td>在很多控制台命令中，会当成通配符使用。</td></tr><tr><td>5</td><td>`*`</td><td>在很多控制台命令中，会当成通配符使用。</td></tr><tr><td>6</td><td>`|`</td><td>一些语言中被当成分隔符使用，如Markdown的制表符。</td></tr><tr><td>7</td><td>`"`</td><td>大多数语言中会被当成字符串的开始和结束符，必需转义使用。</td></tr><tr><td>8</td><td>`'`</td><td>一些语言，如Python中，会作为字符串开始和结束符使用。</td></tr><tr><td>9</td><td>`<`< td><td>在HTML或XML中标签开始的标记。</td></`<></td></tr><tr><td>10</td><td>`>`</td><td>在HTML或XML中的标签结束标记。</td></tr><tr><td>11</td><td> </td><td>空格在DOS中，会被当成分隔符使用，必需加引号才可正常工作。</td></tr><tr><td>12</td><td>`$`</td><td>在很多环境中会被当成变量开始符号，如Shell。</td></tr></tbody></table><p>推荐使用的安全非字母和数字符号。</p><table><thead><tr><th>序号</th><th>内容</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>`_`</td><td>下划线任何语言中都可以使用的安全字符。</td></tr><tr><td>2</td><td>`@`</td><td>因邮件地址而出名，可以安全使用（注意不要和自己的邮件地址冲突）</td></tr><tr><td>3</td><td>`+` or `-`</td><td>这两个符号虽然也做为运算符，但是作为文件名是没有任何问题的。</td></tr><tr><td>4</td><td>`.`</td><td>安全，虽然在 windows 中作为后缀的分隔附，但是不影响正常使用。</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> Java基础 </tag>
            
            <tag> 文件名 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>收集的几个自定义的404页面的模板</title>
      <link href="/article/94e8a003.html"/>
      <url>/article/94e8a003.html</url>
      
        <content type="html"><![CDATA[<p>该项目收集了几个404的页面模板，可用于替换原生的404页面。已经整理好，上传到github了。可根据测试地址自行选择一个喜欢的模板，可直接使用，也可自行进行修改。</p><h2 id="404pages-http-status-404-not-found">404pages : HTTP Status 404 – Not Found</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzE3L1pMUVYwZy5qcGc" alt="404pages"></p><a id="more"></a><h3 id="介绍：">介绍：</h3><p>注：项目已上传到github：<a href="https://github.com/yansheng836/404pages" target="_blank" rel="noopener">https://github.com/yansheng836/404pages</a>，测试网址：<a href="https://yansheng836.github.io/404pages/" target="_blank" rel="noopener">https://yansheng836.github.io/404pages/</a>。</p><ol><li>该项目收集了几个404的页面模板，可用于替换原生的404页面。我这里只是进行整理，部分来自网络，部分来自其他项目。</li><li>自定义一个404页面好像并不难，难的是如何让”状态码为404的请求“都转向我们自定义的404页面，关于这个问题可参考我转发的一篇博客：<a href="https://blog.csdn.net/weixin_41287260/article/details/96030104" target="_blank" rel="noopener">三种思路实现自定义404页面</a>，我这里用的是第三种:利用web容器提供的error-page标签，在<code>web.xml</code>中添加标签即可实现，如下所示：</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/resource/view/404.html<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li><strong>我已将每个404页面独立开来，并将他们整理到一个个二级文件夹。这样<font color="red">如果有需要，直接复制对应文件夹即可</font>；当然你也可以进行修改，对其进行个性化设置，可参考：<a href="https://github.com/yansheng836/404pages/blob/master/docs/change-advice.md" target="_blank" rel="noopener">修改建议</a>。</strong></li></ol><h3 id="404页面分类：">404页面分类：</h3><p>具体效果到 <a href="https://www.yansheng.xyz/404pages/" target="_blank" rel="noopener">github pages</a> 查看，下面是简单介绍。</p><p>（注：该分类主要是以页面是否有大量js交互为依据）</p><p>1.静态404页面：HTML+简单CSS+简单的js交互。<br>* 透明简约404页面<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNZE83Ni5qcGc" alt="eMdO76.jpg"><br>* 暗黑主题404页面<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNd1M5ZS5qcGc" alt="eMwS9e.jpg"><br>* 飞机404页面<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNdzljZC5qcGc" alt="eMw9cd.jpg"><br>* 哭脸404页面<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNd0ZCdC5qcGc" alt="eMwFBt.jpg"><br>* 蓝色简约-纯文字404页面<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNd2luSS5qcGc" alt="eMwinI.jpg"><br>2.动态404页面：HTML+CSS动画+简单的js交互。（浏览器加载时，会比较耗内存、GPU。）<br>* 纯css3海面404页面动画特效 <img src="https://s2.ax1x.com/2019/07/27/eMwVN8.gif" alt="纯css3海面404页面动画特效"><br>* 腾讯公益-404页面<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNd2tIUC5qcGc" alt="eMwkHP.jpg"><br>3.404小游戏：<br>* 吾爱破解社区-《圈小猫》<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI3L2VNd0VBZi5qcGc" alt="eMwEAf.jpg"><br>* 404小游戏2：google-酷跑（暂未添加）</p><h3 id="补充内容：">补充内容：</h3><ol><li>应用js的三种方式。</li><li>使超链接失效的方法。</li><li>实现跳转到上一页的方法。</li></ol><h3 id="致谢：">致谢：</h3><ol><li><a href="http://www.17sucai.com" target="_blank" rel="noopener">i7素材网</a>：部分404页面来自该网站。</li><li><a href="https://www.52pojie.cn" target="_blank" rel="noopener">吾爱破解社区</a>：我当时想自定义404页面就是受《圈小猫》游戏的影响，我的项目中的此部分内容转载自：吾爱破解社区在github上的开源项目：<a href="https://github.com/ganlvtech/phaser-catch-the-cat" target="_blank" rel="noopener">phaser-catch-the-cat</a>，游戏试玩地址：<a href="https://ganlvtech.github.io/phaser-catch-the-cat/" target="_blank" rel="noopener">https://ganlvtech.github.io/phaser-catch-the-cat/</a>。</li></ol><p>该项目使用一个游戏引擎写的，有兴趣可到官网了解：<a href="https://phaser.io/" target="_blank" rel="noopener">https://phaser.io/</a>。</p><h3 id="声明">声明</h3><ul><li>本项目仅用于学习交流使用，大部分网页源自网络，所有权归原作者所有，如涉及侵权，请联系我进行删除。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> CSS </tag>
            
            <tag> HTML </tag>
            
            <tag> 404 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用Jsoup爬取CSDN博客的一些信息</title>
      <link href="/article/386b471d.html"/>
      <url>/article/386b471d.html</url>
      
        <content type="html"><![CDATA[<p>逛CSDN时，总会发现有些博客因为年代比较久远，而造成博客图片的丢失，阅读博客的体验极差；于是我突然想将csdn博客中的图片下载下来，然后进行备份：保存到本地、上传百度云、上传图床等，然后这个项目就诞生了。</p><a id="more"></a><h2 id="简单介绍">简单介绍</h2><p>用 <a href="https://github.com/jhy/jsoup" target="_blank" rel="noopener">jsoup</a> 爬取csdn博客的一些信息。项目已上传到github，有兴趣可以去看看：<a href="https://github.com/yansheng836/jsoup-crawl-csdn" target="_blank" rel="noopener">https://github.com/yansheng836/jsoup-crawl-csdn</a>.</p><h2 id="初衷">初衷</h2><p>逛CSDN时，总会发现有些博客因为年代比较久远，而造成博客图片的丢失，阅读博客的体验极差；因为嵌入的图片中可能包含一些和内容联系比较紧密的信息，图片丢失会使博客断断续续、不易理解。</p><p>于是我突然想将csdn博客中的图片下载下来，然后进行备份：保存到本地、上传百度云、上传图床等，然后这个项目就诞生了。</p><h2 id="主要内容">主要内容</h2><ol><li>获得博客数量。</li><li>获得博客列表页数。</li><li>获得博客列表信息（网址,创建时间,标题），如：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Blog [url=https://blog.csdn.net/weixin_41287260/article/details/92185040, createTime=2019-06-15 20:45:43, title=阿里巴巴主导的“华山版《Java 开发手册》”简介]</span><br></pre></td></tr></table></figure><ol><li>获得博客的图片链接。</li><li>下载博客的所有图片，进行备份，防止博客中的图片丢失。</li></ol><h2 id="构建环境">构建环境</h2><p>jdk1.8+，maven3.0+，myeclipse2017</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jsoup<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsoup<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注：如果不使用maven框架进行构建，直接下载项目中的<code>jsoup-1.12.1.jar</code>或者到 <a href="https://mvnrepository.com/artifact/org.jsoup/jsoup" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.jsoup/jsoup</a> 下载jar包，然后加到类路径中。</p><h2 id="主要代码">主要代码</h2><h3 id="0-说明：">0.说明：</h3><ol><li>以下代码是主要代码，不可独立运行，仅供参考。如需要全部代码可到github上查看：<a href="https://github.com/yansheng836/jsoup-crawl-csdn" target="_blank" rel="noopener">github仓库jsoup-crawl-csdn</a></li><li>如果你想要使用该项目备份自己的博客图片，你需要进行以下操作：<br>2.1 按照github的README.md内容将项目导入到IDE。<br>2.2 修改 <code>/jsoup-crawl-csdn/src/main/java/xyz/yansheng/utility/BlogUtil.java</code> 文件中的三个常量：</li></ol><table><thead><tr><th>字符串常量名</th><th>注释</th><th>举例</th></tr></thead><tbody><tr><td>PERSONAL_HOME_PAGE</td><td>个人主页网址</td><td>https://me.csdn.net/username</td></tr><tr><td>BLOG_HOME</td><td>个人博客主页</td><td>https://blog.csdn.net/username</td></tr><tr><td>PARENT_PATH</td><td>保存博客图片的根路径</td><td>E://2CSDN//</td></tr></tbody></table>  2.3 运行 `/jsoup-crawl-csdn/src/main/java/xyz/yansheng/main/DownloadBlogsPictures.java` 即可下载你的博客中的所有图片。<h3 id="1-主要的工具函数">1.主要的工具函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> BlogUtil.java</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Package</span> xyz.yansheng.utility</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-10 18:37:58</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.yansheng.utility;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> xyz.yansheng.entity.Blog;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Title: 爬取博客的工具类&lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Company: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-10 18:37:58</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlogUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义常量字符串</span></span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Fields</span> PERSONAL_HOME_PAGE : 个人主页网址：personal-home-page，如https://me.csdn.net/username</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PERSONAL_HOME_PAGE = <span class="string">"https://me.csdn.net/weixin_41287260"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Fields</span> BLOG_HOME : 个人博客主页：personal-blog-page，如https://blog.csdn.net/username</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String BLOG_HOME = <span class="string">"https://blog.csdn.net/weixin_41287260"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Fields</span> PARENT_PATH : 保存博客图片的根路径</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PARENT_PATH = <span class="string">"E://2CSDN//"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> getBlogCounter</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-10 18:54:17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 获取某博主的csdn博客的数量</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> personalHomePage 个人主页网址：personal-home-page，如https://me.csdn.net/username</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   </span></span><br><span class="line"><span class="comment"> * int 博客数量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getBlogCounter</span><span class="params">(String personalHomePage)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.获取文档对象</span></span><br><span class="line">Document doc = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">doc = Jsoup.connect(personalHomePage).get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.查找包含博客数量的元素</span></span><br><span class="line">Element countElement = doc.select(<span class="string">"span.count"</span>).first();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.取出元素包含的文本（字符串），这里为博客数量</span></span><br><span class="line">String blogCount = countElement.text();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Integer.parseInt(blogCount);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> getBlogListPage</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-10 18:58:07</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 获取个人博客的页数，一页有20个博客；如果除不尽、有余数，整除博客页面+1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> blogCount 博客数量</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   </span></span><br><span class="line"><span class="comment"> * int 博客页数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getBlogListPage</span><span class="params">(<span class="keyword">int</span> blogCount)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向上取整，注意20.0，如果是20就是整数除法了，而不是浮点数除法</span></span><br><span class="line"><span class="keyword">int</span> blogListPage = (<span class="keyword">int</span>) Math.ceil(blogCount / <span class="number">20.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> blogListPage;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> getBlogs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-10 19:05:04</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 返回博客列表</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> blogListPage 博客列表页数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> blogHome 博客主页网址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   </span></span><br><span class="line"><span class="comment"> * ArrayList&lt;Blog&gt; 博客列表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Blog&gt; <span class="title">getBlogs</span><span class="params">(<span class="keyword">int</span> blogListPage, String blogHome)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拼接博客列表页网址 </span></span><br><span class="line"><span class="comment">// 如列表第二页为：https://blog.csdn.net/weixin_41287260/article/list/2</span></span><br><span class="line"><span class="keyword">final</span> String articleListString = <span class="string">"/article/list/"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用于存放博客列表，设置初始容量为：页面*20</span></span><br><span class="line">ArrayList&lt;Blog&gt; blogs = <span class="keyword">new</span> ArrayList&lt;Blog&gt;(blogListPage * <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义变量：博客列表页的网址</span></span><br><span class="line">String blogListUrl = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, pageNum = blogListPage + <span class="number">1</span>; i &lt; pageNum; i++) &#123;</span><br><span class="line"><span class="comment">// 拼接网址</span></span><br><span class="line">blogListUrl = blogHome + articleListString + Integer.toString(i);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 获取文档对象</span></span><br><span class="line">Document doc = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">doc = Jsoup.connect(blogListUrl).get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//System.out.println(doc);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 查找包含博客列表的元素</span></span><br><span class="line">Element articleList = doc.select(<span class="string">"div.article-list"</span>).first();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 查找每篇博客的元素</span></span><br><span class="line"><span class="comment">// 注意这里因为class里面有空格，class="article-item-box csdn-tracking-statistics",</span></span><br><span class="line"><span class="comment">// 相当于是两个class</span></span><br><span class="line">Elements blogInfo = articleList.select(<span class="string">"div.article-item-box.csdn-tracking-statistics"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>, size = blogInfo.size(); j &lt; size; j++) &#123;</span><br><span class="line"><span class="comment">// 如果不含blogHome（https://blog.csdn.net/weixin_41287260），则移除(或者直接跳出该重循环)</span></span><br><span class="line"><span class="comment">// 排除乱入的第一个网址 :https://blog.csdn.net/yoyo_liyy/article/details/82762601</span></span><br><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="comment">// blogInfo.remove(j);</span></span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 取出博客信息</span></span><br><span class="line">Element h4 = blogInfo.get(j).select(<span class="string">"h4&gt;a"</span>).first();</span><br><span class="line">String blogUrl = h4.attr(<span class="string">"href"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 裁剪博客标题，前面有：原，空格</span></span><br><span class="line">String blogTitle = h4.text().substring(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">Element date = blogInfo.get(j).select(<span class="string">"span.date"</span>).first();</span><br><span class="line">String blogDate = date.text();</span><br><span class="line"></span><br><span class="line">Blog blog = <span class="keyword">new</span> Blog();</span><br><span class="line">blog.setUrl(blogUrl);</span><br><span class="line">blog.setCreateTime(blogDate);</span><br><span class="line">blog.setTitle(blogTitle);</span><br><span class="line"></span><br><span class="line">blogs.add(blog);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> blogs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> getBlogPictures</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-10 22:22:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 获取博客中的图片的链接</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> blogUrl 博客的网址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   </span></span><br><span class="line"><span class="comment"> * ArrayList&lt;String&gt; 博客中的图片的链接</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;String&gt; <span class="title">getBlogPictures</span><span class="params">(String blogUrl)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">ArrayList&lt;String&gt; picUrls = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 获取文档对象</span></span><br><span class="line">Document doc = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">doc = Jsoup.connect(blogUrl).get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*2. 先判断该文章是用富文本写的，还是用markdown写的，因为他们的图片的标签有些差别</span></span><br><span class="line"><span class="comment"> * &lt;article class="baidu_pl"&gt;</span></span><br><span class="line"><span class="comment"> *  &lt;!-- 富文本写的博客，注意不同之处在这里，类不同 --&gt;</span></span><br><span class="line"><span class="comment"> * &lt;div id="content_views" class="htmledit_views" &gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * &lt;!-- markdown写的博客，注意不同之处在这里 --&gt;</span></span><br><span class="line"><span class="comment"> * &lt;div id="content_views" class="markdown_views prism-kimbie-light"&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Element article = doc.selectFirst(<span class="string">"article.baidu_pl"</span>);</span><br><span class="line">Element contentViews = article.selectFirst(<span class="string">"div#content_views"</span>);</span><br><span class="line">String contentViewsClass = contentViews.attr(<span class="string">"class"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行判断：如果类包含htmledit_views，说明是富文本编辑器写的；否则是markdown写的</span></span><br><span class="line"><span class="comment">// 3.查找该篇博客中的所有图片</span></span><br><span class="line">String htmleditViews = <span class="string">"htmledit_views"</span>;</span><br><span class="line">Elements images = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span> (contentViewsClass.contains(htmleditViews)) &#123;</span><br><span class="line">images = article.select(<span class="string">"img.has"</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">images = article.select(<span class="string">"img"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Element element : images) &#123;</span><br><span class="line">String picUrl = element.attr(<span class="string">"src"</span>);</span><br><span class="line"><span class="comment">// 对特殊字符串（如下）进行裁剪</span></span><br><span class="line">picUrl = StringUtil.subPicUrl(picUrl);</span><br><span class="line">picUrls.add(picUrl);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> picUrls;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="2-要特别注意下面这段代码">2. 要特别注意下面这段代码</h3><p>这段代码是查找博客中的图片的，这里是要区分博客是用富文本写的，还是用markdown写的，因为他们的图片的标签有些差别。(这个问题一开始我也没有注意到，是在后面备份博客图片时才发现的，已修复)</p><table><thead><tr><th>类型</th><th>文章标识</th><th>图片标签</th><th>选择器</th></tr></thead><tbody><tr><td>富文本</td><td><code>&lt;div id=&quot;content_views&quot; class=&quot;htmledit_views&quot; &gt;</code></td><td><code>&lt;img class=&quot;has&quot;&gt;</code></td><td><code>select(&quot;img.has&quot;)</code></td></tr><tr><td>markdown</td><td><code>&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-kimbie-light&quot;&gt;</code></td><td><code>&lt;img&gt;</code></td><td><code>select(&quot;img&quot;)</code></td></tr></tbody></table><p>我们可以发现这两个标签虽然id一样，但是class不同，因此我们可以以此进行判断，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*2. 先判断该文章是用富文本写的，还是用markdown写的，因为他们的图片的标签有些差别</span></span><br><span class="line"><span class="comment"> * &lt;article class="baidu_pl"&gt;</span></span><br><span class="line"><span class="comment"> *  &lt;!-- 富文本写的博客，注意不同之处在这里，类不同 --&gt;</span></span><br><span class="line"><span class="comment"> * &lt;div id="content_views" class="htmledit_views" &gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * &lt;!-- markdown写的博客，注意不同之处在这里 --&gt;</span></span><br><span class="line"><span class="comment"> * &lt;div id="content_views" class="markdown_views prism-kimbie-light"&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Element article = doc.selectFirst(<span class="string">"article.baidu_pl"</span>);</span><br><span class="line">Element contentViews = article.selectFirst(<span class="string">"div#content_views"</span>);</span><br><span class="line">String contentViewsClass = contentViews.attr(<span class="string">"class"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行判断：如果类包含htmledit_views，说明是富文本编辑器写的；否则是markdown写的</span></span><br><span class="line"><span class="comment">// 3.查找该篇博客中的所有图片</span></span><br><span class="line">String htmleditViews = <span class="string">"htmledit_views"</span>;</span><br><span class="line">Elements images = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span> (contentViewsClass.contains(htmleditViews)) &#123;</span><br><span class="line">images = article.select(<span class="string">"img.has"</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">images = article.select(<span class="string">"img"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="3-下载博客图片的主要代码">3. 下载博客图片的主要代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> DownloadBlogsPictures.java</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Package</span> xyz.yansheng.main</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-11 02:05:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> xyz.yansheng.main;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> xyz.yansheng.entity.Blog;</span><br><span class="line"><span class="keyword">import</span> xyz.yansheng.utility.BlogUtil;</span><br><span class="line"><span class="keyword">import</span> xyz.yansheng.utility.FileUtil;</span><br><span class="line"><span class="keyword">import</span> xyz.yansheng.utility.StringUtil;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Title: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Company: &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-11 02:05:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadBlogsPictures</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> main</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-08-11 02:05:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 备份博客的图片</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 1.获取博客数量</span></span><br><span class="line"><span class="keyword">int</span> blogCount = BlogUtil.getBlogCounter(BlogUtil.PERSONAL_HOME_PAGE);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.获取博客列表页数</span></span><br><span class="line"><span class="keyword">int</span> blogListPage = BlogUtil.getBlogListPage(blogCount);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.获取博客列表</span></span><br><span class="line">ArrayList&lt;Blog&gt; blogs = BlogUtil.getBlogs(blogListPage, BlogUtil.BLOG_HOME);</span><br><span class="line"></span><br><span class="line">ArrayList&lt;String&gt; picUrls = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 首先保证保存图片的父目录是存在的，如果不存在就创建</span></span><br><span class="line">File parentPath = <span class="keyword">new</span> File(BlogUtil.PARENT_PATH);</span><br><span class="line"><span class="keyword">if</span> (!parentPath.exists()) &#123;</span><br><span class="line"><span class="keyword">if</span> (parentPath.mkdirs()) &#123;</span><br><span class="line">System.out.println(<span class="string">"创建保存图片的跟目录：'"</span> + parentPath + <span class="string">"' 成功。"</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">System.err.println(<span class="string">"创建保存图片的跟目录：'"</span> + parentPath + <span class="string">"' 失败。"</span>);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">System.out.println(<span class="string">"保存图片的跟目录：'"</span> + parentPath + <span class="string">"' 已存在。"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下载所有博客的图片</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, blogNo = blogs.size(); i &lt; blogNo; i++) &#123;</span><br><span class="line">Blog blog = blogs.get(i);</span><br><span class="line">System.out.print(<span class="string">"第"</span> + Integer.toString(i + <span class="number">1</span>) + <span class="string">"篇博客-图片"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建文件夹，以博客的创建时间+博客标题为文件夹名，如：2018-10-15-html表单提交问题</span></span><br><span class="line">String blogTitle = blog.getTitle();</span><br><span class="line"><span class="comment">// 替换文件名中的特殊字符，使能够成功创建该文件夹</span></span><br><span class="line">blogTitle = StringUtil.replaceSpecialCharacters(blogTitle);</span><br><span class="line"></span><br><span class="line">String dirPath = BlogUtil.PARENT_PATH + blog.getCreateTime().substring(<span class="number">0</span>, <span class="number">10</span>) + <span class="string">"-"</span> + blogTitle</span><br><span class="line">+ <span class="string">"//"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断创建文件夹的返回值，如果是0，即已存在，则认为已下载该博客的图片，跳出该循环；</span></span><br><span class="line"><span class="comment">// 如果是-1，则文件夹创建失败，故路径错误，不可能成功保存图片，也直接跳出循环。</span></span><br><span class="line"><span class="keyword">int</span> result = FileUtil.mkdir(dirPath);</span><br><span class="line"><span class="keyword">if</span> (result == <span class="number">0</span> || result == -<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">// continue;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取该博客的所有图片的url列表</span></span><br><span class="line">picUrls = BlogUtil.getBlogPictures(blog.getUrl());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下载图片</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>, picNo = picUrls.size(); j &lt; picNo; j++) &#123;</span><br><span class="line">String picUrl = picUrls.get(j);</span><br><span class="line"><span class="comment">// 暂时注释，用于测试图片保存的文件名</span></span><br><span class="line">FileUtil.downloadPic(picUrl, dirPath);</span><br><span class="line"><span class="keyword">if</span> (j == picNo - <span class="number">1</span>) &#123;</span><br><span class="line">System.out.println(<span class="string">" -已下载"</span> + picNo + <span class="string">"张图片\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// System.out.println("图片文件名：" + picUrl);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 结束语</span></span><br><span class="line">System.out.println(<span class="string">"\n****已成功下载博主："</span> + BlogUtil.BLOG_HOME + <span class="string">"所有博客中的图片！****"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="4-实现效果">4.实现效果</h3><ul><li>控制台输出：<br><br>（1）下图是用富文本编辑器写的博客，因为之前我已经下载过来，使用显示已存在。<br><br><img src="https://img-blog.csdnimg.cn/20190815135841264.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><br>（2）下图是用markdown编辑器写的博客，因为之前我没有下载，所以会下载到本地。<br><br><img src="https://img-blog.csdnimg.cn/20190815140015851.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>本地根目录（部分截图）<br><br><img src="https://img-blog.csdnimg.cn/20190815140342835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>次级目录（部分截图）<br><br><img src="https://img-blog.csdnimg.cn/20190815140521516.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li></ul><hr><h2 id="资源获取">资源获取</h2><h3 id="github">github</h3><p>地址：<a href="https://github.com/yansheng836/jsoup-crawl-csdn" target="_blank" rel="noopener">https://github.com/yansheng836/jsoup-crawl-csdn</a> ，下面方法2选1</p><ul><li>下载release，地址：<a href="https://github.com/yansheng836/jsoup-crawl-csdn/releases" target="_blank" rel="noopener">https://github.com/yansheng836/jsoup-crawl-csdn/releases</a></li><li>克隆到本地：git clone <a href="https://github.com/yansheng836/jsoup-crawl-csdn" target="_blank" rel="noopener">https://github.com/yansheng836/jsoup-crawl-csdn</a></li></ul><h3 id="百度云">百度云</h3><blockquote><p>链接：<a href="https://pan.baidu.com/s/1Fe4Z6qoFGwUWtag9-z-RSQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1Fe4Z6qoFGwUWtag9-z-RSQ</a><br>提取码：vmt2</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Java爬虫 </tag>
            
            <tag> Jsoup </tag>
            
            <tag> CSDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java的try-with-resource使用时遇到的问题</title>
      <link href="/article/20283a1c.html"/>
      <url>/article/20283a1c.html</url>
      
        <content type="html"><![CDATA[<p>java 1.7之后，增加了 try-wit-resource的语法糖，大概的用法就是在try中声明一个或者多个的流，会在try块代码执行完成后自动关闭流，不用再写finally进行手都关闭。但是你知道，里面声明的资源其实是被final修饰的！</p><a id="more"></a><p>参考代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (InputStream is1 = ...;</span><br><span class="line"></span><br><span class="line">    InputStream is2 = ...;) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>于是我就在项目中想改成这种写法，但是在改的过程中遇到了一些问题。我的代码中需要对声明过后的流再赋值，但是用这样的写法一直会报错，代码大概是这样的：</p><p><img src="https://oss.yansheng.xyz/picgo/20180410175151129.jpg" alt></p><p>此时会编译出错：<strong><span style="color:#f33b45;">The resource is1 of a try-with-resources statement cannot be assigned</span></strong>；</p><p>报错的原因是：try-with-source中声明的变量无法被更改。但是我很奇怪这是为什么，上网搜了没有搜到，于是去找了一下官方文档。官方文档中有一段这样的描述：</p><p><img src="https://oss.yansheng.xyz/picgo/20180410175535140.jpg" alt></p><p><strong>It is a compile-time error if final appears more than once as a modifier for each variable declared in a resource specification.<br>A variable declared in a resource specification is implicitly declared final (§4.12.4) if it is not explicitly declared final. </strong></p><p>意思就是，<strong>try-with-resource中声明的变量会隐式的加上final 关键字</strong>，所以无法再进行赋值。但是至于为什么这么设计，我暂时没找到答案。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jsoup选择有空格的class</title>
      <link href="/article/fc63adb1.html"/>
      <url>/article/fc63adb1.html</url>
      
        <content type="html"><![CDATA[<p>遇到有多个空格的的class，其实我们可以把空格前后的各当成一个class，也就是多个class的情况进行处理。</p><a id="more"></a><p>就像是CSDN博客的文章内容标签：<code>&lt;div class=&quot;article-item-box csdn-tracking-statistics&quot; data-articleid=&quot;92185040&quot;&gt;</code>，（注意中间使用空格的，为了明显一点，我多加了几个空格）如果你直接按照<code>doc.select(&quot;div.article-item-box csdn-tracking-statistics&quot;)</code>是无效的，那该如何选择该元素呢？</p><p>其实我们可以把上面的代码当做是这样的(有两个class属性)：<code>&lt;div class=&quot;article-item-box&quot; class=&quot;csdn-tracking-statistics&quot;&gt;</code>，所以我们可以这样处理：<code>doc.select(&quot;div.article-item-box.csdn-tracking-statistics&quot;)</code>。</p><hr><p>参考：<a href="https://blog.csdn.net/qq_22690765/article/details/78248606" target="_blank" rel="noopener">python beautifulsoup select带有空格的class </a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java爬虫 </tag>
            
            <tag> Jsoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决MyEclipse中Mybatis的xml配置文件无代码提示问题</title>
      <link href="/article/cf320820.html"/>
      <url>/article/cf320820.html</url>
      
        <content type="html"><![CDATA[<p>对于初学者而言，编写Mybatis的xml配置文件还是有点困难的，但是如果有代码提示功能就会方便很多。这篇文章就是教你如何设置代码提示的功能的。</p><a id="more"></a><h2 id="一-把dtd文件添加到软件配置中">一、把dtd文件添加到软件配置中</h2><blockquote><p>文档类型定义（DTD：Document Type Definition）可定义合法的XML文档构建模块。它使用一系列合法的元素来定义文档的结构。<br>DTD 可被成行地声明于 XML 文档中，也可作为一个外部引用。<br>引用自：XML DTD验证：<a href="https://www.cnblogs.com/zhengcheng/p/4278899.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhengcheng/p/4278899.html</a></p></blockquote><h3 id="1-找到mybatis-3-xx-dtd文件">1.找到mybatis-3-xx.dtd文件</h3><p>这里只介绍从jar包找该文件，更多方法可参考第一个链接。</p><p>解压：mybatis-3.5.2.jar文件，找到<code>mybatis-3.5.2\org\apache\ibatis\builder\xml</code>文件夹，可以看到这两个文件mybatis-3-config.dtd，mybatis-3-mapper.dtd。</p><h3 id="2-配置">2.配置</h3><p>步骤：window–&gt;Preferences–&gt;XML–&gt;XML catalog–&gt;Add<br>找到对应未见位置进行如下配置：<br>需要配置两个文件:</p><table><thead><tr><th>location</th><th>key</th></tr></thead><tbody><tr><td>mybatis-3-config.dtd文件位置</td><td>-//mybatis.org//DTD Config 3.0//EN</td></tr><tr><td>mybatis-3-mapper.dtd文件位置</td><td>-//mybatis.org//DTD Mapper 3.0//EN</td></tr></tbody></table>![在这里插入图片描述](https://img-blog.csdnimg.cn/2019081016033582.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_10,color_FFFFFF,t_70)<p>key type 好像public ID和URI都可以，我参考的两个文件就分别用这两个，原因未知。</p><h2 id="二-配置代码自动提醒">二、配置代码自动提醒</h2><p>配置后，可自动提醒，不用按alt+/</p><p>配置：window–&gt;Preferences–&gt;XML–&gt;XML Source–&gt;Content Assist–&gt;填写：<code>&lt;=:.abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ</code>–&gt;Apply–&gt;Ok</p><p><img src="https://img-blog.csdnimg.cn/20190810155305359.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_10,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>end</p><hr><p>参考：</p><ol><li>Eclipse配置MyBatis的xml自动提示：<a href="https://blog.csdn.net/yang5726685/article/details/80072954" target="_blank" rel="noopener">https://blog.csdn.net/yang5726685/article/details/80072954</a></li><li>解决eclipse中mybatis的xml配置文件无代码提示问题：<a href="https://blog.csdn.net/IRainReally/article/details/81743506" target="_blank" rel="noopener">https://blog.csdn.net/IRainReally/article/details/81743506</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何使用Git克隆GitHub仓库的所有分支</title>
      <link href="/article/c656bdef.html"/>
      <url>/article/c656bdef.html</url>
      
        <content type="html"><![CDATA[<p>git clone默认只克隆github上面设置的默认分支，（如果没有修改，默认就是master分支），那如果需要把所有分支都克隆下来该怎么办呢？这里介绍两种方法实现该功能。</p><a id="more"></a><h1>背景说明</h1><p><code>git clone</code> 默认只克隆github上面设置的默认分支，（如果没有修改，默认就是master分支），那如果需要把所有分支都克隆下来该怎么办呢？</p><h2 id="分析">分析</h2><p>我们最常用的克隆命令应该是这个: <code>git clone &lt;url&gt;</code>；</p><p>按照上面的理解，这个命令其实是下面命令的简写形式：<code>git clone -b master &lt;url&gt;</code>。</p><h2 id="演示">演示</h2><p>我们实际操作下：以我的第一个仓库hello-world为例:<a href="https://github.com/yansheng836/hello-world.git" target="_blank" rel="noopener">https://github.com/yansheng836/hello-world.git</a> （注：因为我可能会用该仓库做一些测试，如果你也使用该仓库进行尝试，部分内容可能会和我的截图不一致）</p><ol><li>克隆仓库到本地，查看本地分支<br><br><img src="https://img-blog.csdnimg.cn/20190809203816728.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>查看远程分支<br><br><img src="https://img-blog.csdnimg.cn/20190809223604258.png" alt="在这里插入图片描述"></li></ol><h1>解决方法</h1><h2 id="1-对于比较少分支的仓库-方法1">1. 对于比较少分支的仓库–方法1</h2><p><strong>思路</strong>：先查看远程分支，然后在本地创建和远程仓库同名的分支。</p><p><strong>关键命令</strong>：<code>git branch dev origin/dev</code>，即新建一个本地分支来跟踪远程的某一分支，创建该分支后，远程分支内容已拉取到本地分支。（或者你可以直接用<code>git checkout -b dev origin/dev</code>，创建分支，并切换到该分支）</p><p><img src="https://img-blog.csdnimg.cn/20190809210505910.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>该方法弊端</strong>：因为这方法每次只创建一个分支，如果远程有多个分支，需要多次执行命令，比较麻烦。<br><strong>该方法优点</strong>：（与下面方法进行对比）命令简单易懂。</p><p>如针对这个仓库你需要执行两次类似命令：<br><code>git branch readme origin/readme</code><br><code>git branch dev origin/dev</code></p><p><strong>流程简单演示</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span>  https://github.com/yansheng836/hello-world.git</span><br><span class="line"><span class="comment"># 要先进入仓库目录</span></span><br><span class="line">$ <span class="built_in">cd</span> hello-world</span><br><span class="line">$ git branch readme origin/readme</span><br></pre></td></tr></table></figure><h2 id="2-对于比较少分支的仓库-方法2">2. 对于比较少分支的仓库–方法2</h2><p><strong>思路</strong>：在前面的<a href="#%E5%88%86%E6%9E%90">分析</a>已经提到了<code>git clone url</code>是<code>git clone -b master url</code>的缩写（假设没有在远程仓库修改默认分支），那么我们同样可以使用该命令下载其他分支的内容。</p><p><strong>关键命令</strong>：<code>git clone -b readme url</code>：下载该仓库的readme分支的内容。</p><p><strong>优缺点</strong>：同方法1。<br><br><strong>流程简单演示</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span>  https://github.com/yansheng836/hello-world.git</span><br><span class="line"><span class="comment"># 不用先进入仓库目录</span></span><br><span class="line">$ git <span class="built_in">clone</span> -b readme https://github.com/yansheng836/hello-world.git</span><br></pre></td></tr></table></figure><h2 id="3-对于比较多分支的仓库">3. 对于比较多分支的仓库</h2><p><strong>思路</strong>：了解到了方法1、2的弊端，我们可能就会想到：循环可以执行重复的类似的操作，也许我们可以通过循环解决这个问题！该方法就是循环使用方法1.</p><p><strong>背景说明</strong>：使用类Unix系统的人很自然就想到了使用shell编程，使用Windows系统人都是使用git的客户端的命令行工具，虽然可能种类不一，但是都是基于Linux shell的；因为git就是Linux的创始人：<a href="https://baike.baidu.com/item/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%9C%AC%E7%BA%B3%E7%AC%AC%E5%85%8B%E7%89%B9%C2%B7%E6%89%98%E7%93%A6%E5%85%B9/1034429?fr=kg_qa&amp;fromtitle=%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%89%98%E7%93%A6%E5%85%B9&amp;fromid=2122821" target="_blank" rel="noopener">林纳斯·本纳第克特·托瓦兹（Linus Benedict Torvalds）</a> 开发的（开发git的初衷是因为和之前的版本管理系统的合作伙伴SCM(源码管理工具)闹掰了，这是个有趣的故事，详情可了解：<a href="https://blog.csdn.net/unsv29/article/details/78431128" target="_blank" rel="noopener">Linux为什么开发Git？</a>）。以此可以说：Linux和Git本是一家，所以Linux 很多命令也可以在git bash中使用；git火起来也正是因为Linus把庞大的 <a href="https://github.com/torvalds/linux" target="_blank" rel="noopener">Linux内核代码库</a> (目前仓库大小为：2.55GB)放到git中进行版本管理（另一个重要原因是因为分布式），以实际行动证明Git完全有能力去管理这种庞大的系统。</p><p><strong>关键命令</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> `git branch -r | grep -v -- <span class="string">'-&gt;'</span>`; <span class="keyword">do</span> git branch --track <span class="variable">$&#123;b##origin/&#125;</span> <span class="variable">$b</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><strong>命令简单解释</strong>：（Linux命令高手勿嘲笑，可跳过）</p><ol><li>| 表示通道，即前面命令的输出是后面命令的输入。</li><li><code>for xxx in xxxs; do xxx; done</code>是shell的for循环语句。</li><li>倒引号``表示里面的是命令。</li><li>git branch -r 列出远程分支。</li><li>grep -v – ‘-&gt;’ ，grep查找命令，-v 参数表示not grep ，即查找输入中的不含’-&gt;’ 的行。</li><li>git branch -r | grep -v – ‘-&gt;’ ，合起来就是参看远程分支中除了含有’-&gt;’ 的分支。<br><br><img src="https://img-blog.csdnimg.cn/20190809215453551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>$b 表示远程分支名，例如：origin/dev。</li><li>${b##origin/} 表示截取远程分支名中origin/后面的内容，例如：dev，以此当做本地分支。</li><li>git branch --track ${b##origin/} $b，类似于方法1的<code>git branch dev origin/dev</code>，–track参数是默认的，不加亦可。</li></ol><p>演示：<br><br><img src="https://img-blog.csdnimg.cn/20190809220732919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><br>查看所有分支（包括本地和远程仓库分支）<code>git branch --all</code>简写为<code>git branch -a</code><br><br><img src="https://img-blog.csdnimg.cn/2019080922122457.png" alt="在这里插入图片描述"></p><blockquote><p>After that, <code>git fetch --all</code> will update all local copies of remote branches.<br>Also, <code>git pull --all</code> will update your local tracking branches, but depending on your local commits and how the ‘merge’ configure option is set it might create a merge commit, fast-forward or fail.</p></blockquote><p><strong>该方法弊端</strong>：（相对而言）命令比较复杂。<br><br><strong>该方法优点</strong>：不管有多少分支都可以自动创建。</p><p>或者也可以这样：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -r | grep -v <span class="string">'\-&gt;'</span> | <span class="keyword">while</span> <span class="built_in">read</span> remote; <span class="keyword">do</span> git branch --track <span class="string">"<span class="variable">$&#123;remote#origin/&#125;</span>"</span> <span class="string">"<span class="variable">$remote</span>"</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><strong>流程简单演示</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span>  https://github.com/yansheng836/hello-world.git</span><br><span class="line"><span class="comment"># 要先进入仓库目录</span></span><br><span class="line">$ <span class="built_in">cd</span> hello-world</span><br><span class="line">$ <span class="keyword">for</span> b <span class="keyword">in</span> `git branch -r | grep -v -- <span class="string">'-&gt;'</span>`; <span class="keyword">do</span> git branch --track <span class="variable">$&#123;b##origin/&#125;</span> <span class="variable">$b</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><h1>两种方法的比较</h1><p>对于哪种方法比较好这个问题，需要你自己来回答！适合自己的才是合适的！</p><p>虽然我按照“分支数量多少来分”这种分类方式，但是这仅仅是我个人的推荐用法，没有什么正式的规则依据。</p><hr><p>参考：</p><ol><li>git 从远程仓库获取所有分支：<a href="https://blog.csdn.net/wu1169668869/article/details/83345633" target="_blank" rel="noopener">https://blog.csdn.net/wu1169668869/article/details/83345633</a></li><li>How to clone all remote branches in Git?：<a href="https://stackoverflow.com/questions/67699/how-to-clone-all-remote-branches-in-git" target="_blank" rel="noopener">https://stackoverflow.com/questions/67699/how-to-clone-all-remote-branches-in-git</a></li><li>How to fetch all Git branches: <a href="https://stackoverflow.com/questions/10312521/how-to-fetch-all-git-branches" target="_blank" rel="noopener">https://stackoverflow.com/questions/10312521/how-to-fetch-all-git-branches</a></li><li>Make an existing Git branch track a remote branch?：<a href="https://stackoverflow.com/questions/520650/make-an-existing-git-branch-track-a-remote-branch" target="_blank" rel="noopener">https://stackoverflow.com/questions/520650/make-an-existing-git-branch-track-a-remote-branch</a></li><li>grep -v、-e、-E：<a href="https://blog.csdn.net/shadow_zed/article/details/93888685" target="_blank" rel="noopener">https://blog.csdn.net/shadow_zed/article/details/93888685</a></li><li>shell中$(( )) 与<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mi mathvariant="normal">还</mi><mi mathvariant="normal">有</mi></mrow><annotation encoding="application/x-tex">( ) 还有</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mclose">)</span><span class="mord cjk_fallback">还</span><span class="mord cjk_fallback">有</span></span></span></span></span>{ }的区别：<a href="https://www.cnblogs.com/xunbu7/p/6187017.html" target="_blank" rel="noopener">https://www.cnblogs.com/xunbu7/p/6187017.html</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件对比软件Beyond Compare 4破解方法</title>
      <link href="/article/660ecf00.html"/>
      <url>/article/660ecf00.html</url>
      
        <content type="html"><![CDATA[<p>Beyond Compare允许您快速轻松地比较文件和文件夹。通过使用简单，强大的命令，您可以专注于您感兴趣的差异，并忽略那些您不感兴趣的差异。然后，您可以合并更改，同步文件并生成记录报告。<br>很强大的一个文本比较工具（、文件夹……好像啥都行），用过就会爱不释手。<br><img src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573545469353.png" alt="file"></p> <a id="more"></a><h3 id="介绍">介绍</h3><p>主页：<a href="https://www.scootersoftware.com/index.php" target="_blank" rel="noopener">https://www.scootersoftware.com/index.php</a><br>具体功能介绍：<a href="https://www.scootersoftware.com/features.php?zz=features_focused" target="_blank" rel="noopener">https://www.scootersoftware.com/features.php?zz=features_focused</a><br>下载页面：<a href="https://www.scootersoftware.com/download.php" target="_blank" rel="noopener">https://www.scootersoftware.com/download.php</a><br>下载步骤如下：<br><img src="https://img-blog.csdnimg.cn/20190714093549497.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><hr><h3 id="0-补一波注册码：-2019年7月5日">0、补一波注册码：（2019年7月5日）</h3><p>我之前找过一些注册码但是都失效了（下文也说过），但是最近偶然找到这个真的是牛，之前是一个账号只能一个人用，这个可以同时支持9999！有图有真相：</p><p><img src="https://img-blog.csdnimg.cn/20190705144813385.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt="img"></p><p>注意下这里提供了两种的注册码bc3和bc4，按需自取，每个小点即为一个注册码，例如：下面bc3的第一个注册码(即你需要复制的内容)为：</p><blockquote><p>— BEGIN LICENSE KEY —<br>+WzZmc9nOhf6Nq6UZrdlTiyRwwkF0g0kc7Qi1m8u4W70MKkkGmx8GCAfApSsGZWmnyb-DxvqT4hWqmxDqP96NU<br>— END LICENSE KEY —–</p></blockquote><p>输入秘钥步骤也很简单：（软件上面菜单栏）帮助–&gt;输入密码–&gt;把注册码直接复制进去–&gt;注意要勾选“针对所有用户注册”–&gt;确定–&gt;重启。</p><blockquote><p><strong>// Universal Unlock Keys //</strong></p><ul><li><p>for Beyond Compare v3.x.x on Win/Mac/Linux:</p><ul><li>— BEGIN LICENSE KEY —<br>+WzZmc9nOhf6Nq6UZrdlTiyRwwkF0g0kc7Qi1m8u4W70MKkkGmx8GCAfApSsGZWmnyb-DxvqT4hWqmxDqP96NU<br>— END LICENSE KEY —–</li></ul></li><li><p>— BEGIN LICENSE KEY —<br>KkSCJ2mU2A5bC4PJBxcZuLPp6HcOvLW0N97IdgEpNl+TqMfhtGEYEZEGXoAjYDwH-aI88DuxPWiUtxkhOoyGWU<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>nH3s9i9zmBiRjkoPALth4x97WARK9nb-qbp4q3LemOPJ4EtsYjWhTbR8VhauOSAluBJVvxV4kEc5waolW1m7B7JzJXE6YVapYW7f+tRRXRFI4yn4NjjZ0RiiqGRCTVzwComUcXB-eiFWRBY6JpSsCNkmIxL5KsRCo442djHhTZE+<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>Vf5EsE8iQYtXQxeG46emmFmWioaxoyQt8qSioqZ6q3K86JnfjJ9IAjXZMA8AuHD<br>+932+OIqXOKwcOupap+MONdJzJXE6YVapYW7f+tRRXRFI4yn4NjjZ0RiiqGRCTVz</p><p>wComUcXB-eiFWRBY6JpSsCNkmIxL5KsRCo442djHhTZE+<br>— END LICENSE KEY —–</p><ul><li>— BEGIN LICENSE KEY —<br>gQKdhUEz-lQ3eol25s7vt5UamLLDeu+t6Ud+OWz8ULka40y71BYSDyC8drGILcz01</li></ul><p>+rvSpRpgOjCKj6N93VUKtJzJXE6YVapYW7f+tRRXRFI4yn4NjjZ0RiiqGRCTVzwComUcXB-eiFWRBY6JpSsCNkmIxL5KsRCo442djHhTZE+<br>— END LICENSE KEY —–</p></li><li><p>for Beyond Compare v4.x.x on Win/Mac/Linux:</p><ul><li>— BEGIN LICENSE KEY —<br>L+wNGHgqTtetFnWpzTyfCIsnGMJOaPjZRTwdNyY9jMv1zzHpRQHFX-YaSqfNgijG-qufcsJpzGlhQZ+J8GyYkz8vC0Z54YIMCNrpEr5sXQZG3Ae9SYFUiNgaUpRE3K0ETY3go</li></ul><p>NvnJ8LvALwVgCbgj+E2DsK88L+zzLdqRze5yrwNMS+NtnQucM0EOjeC9mhUnyLZqB4x3W1iDwcYCKhFnZSSM7Fb+BMPbe-SBnToqnk4aNJ1hxanlk+rH8iYHh8RrGFkHiSV6QCS+5UBs28gGGYq-Yo1HwQsCI-KSpLJpGGuz+EyTcCz9r8v1uThuNbuWhX0ZNZR0DrmjC+obgg4-k++<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>H1bJTd2SauPv5Garuaq0Ig43uqq5NJOEw94wxdZTpU-pFB9GmyPk677gJ<br>vC1Ro6sbAvKR4pVwtxdCfuoZDb6hJ5bVQKqlfihJfSYZt-xVrVU27+0Ja<br>hFbqTmYskatMTgPyjvv99CF2Te8ec+Ys2SPxyZAF0YwOCNOWmsyqN5y9t<br>q2Kw2pjoiDs5gIH-uw5U49JzOB6otS7kThBJE-H9A76u4uUvR8DKb+VcB<br>rWu5qSJGEnbsXNfJdq5L2D8QgRdV-sXHp2A-7j1X2n4WIISvU1V9koIyS<br>NisHFBTcWJS0sC5BTFwrtfLEE9lEwz2bxHQpWJiu12ZeKpi+7oUSqebX+<br>— END LICENSE KEY —–</p></li><li><p>— BEGIN LICENSE KEY —<br>8QP7zlhDPb+aoFyysKK68NwROgI0+mNV1pEhPK2CQF95zYrEF9gvL8TfR<br>moO+BiBoJu1T4g-3i0lpQ1BytfO7QL4jnXU-G18UuzNCGL3JtqLxJghs2<br>2gzB5VZnYKQfXfYZG2LL-Vjl43k4Pili1DCBCXsMm3xei6VKeiw4eWFwJ<br>A91xx0gngBUWCpK4GvKSEW0VNqCwECuLUXMie2MMogTmySJ6Xn7Rf2rgy<br>3wqgxExgQWVCVbdD7e3phco7vt2xTH2m0qJEoFN3HVf9l5PWQCO3JflvS<br>CSmQYw+ZkpFcZtfH3EPZBAkfjMEbbTwOTNJT-PTixf2619csMbgIn+M5E<br>++<br>— END LICENSE KEY —–</p></li></ul><p>转自：<a href="https://appnee.com/beyond-compare/" target="_blank" rel="noopener">BEYOND COMPARE – INTELLIGENT AND ALL-ROUND COMPARISON FOR FILES &amp; FOLDERS</a></p></blockquote><hr><p>因为这个软件是付费的，试用30天后需要购买注册码，我们一般都会去网上找别人分享的注册码，但是好像不知道怎么回事会失效（我找的就失效了……）。这里介绍几个我找到的几种破解方法：（这里以bc4为例，bc3的话注意修改一下对应路径）</p><h3 id="1-删除指定文件夹内容：-亲测可用">1、删除指定文件夹内容：（亲测可用）</h3><p><img src="https://img-blog.csdnimg.cn/20190507141919664.png" alt="img"><br><code>**C:\Users\Administrator\AppData\Roaming\Scooter Software\Beyond Compare 4\**</code></p><p>删除上面文件夹的全部内容。</p><p>注意一下那个路径，如果没有<strong>Administrator</strong>的话说明不是用的默认用户，找自己的用户名下的对应文件夹也一样的。</p><p>参考：<a href="https://blog.csdn.net/ghd602338792/article/details/85700014" target="_blank" rel="noopener">https://blog.csdn.net/ghd602338792/article/details/85700014</a></p><h3 id="2-删除对应注册表">2、删除对应注册表</h3><p>（1）在（文件资源管理器，即此电脑）搜索栏中输入 regedit（或者用命令行打开：win+R，输入：regedit ，回车确定），打开注册表。<br>（2）删除项目：<strong>计算机\HKEY_CURRENT_USER\Software\Scooter Software\Beyond Compare 4\CacheId</strong><br><img src="https://img-blog.csdnimg.cn/20190507144110248.png" alt="img"></p><p>参考：<a href="https://blog.csdn.net/vuvivian/article/details/87772437" target="_blank" rel="noopener">https://blog.csdn.net/vuvivian/article/details/87772437</a></p><h3 id="3-删除指定文件夹内容：">3、删除指定文件夹内容：</h3><p>修改C:\Program Files\Beyond Compare 4\BCUnrar.dll ,这个文件重命名或者直接删除，则会新增30天试用期，再次打开提示还有28天试用期。</p><p>参考：<a href="https://blog.csdn.net/weixin_40751723/article/details/86218785" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40751723/article/details/86218785</a></p><p>这几个方法应该有那么一两个有效吧。</p><hr><blockquote><p>文章首发于csdn:<a href="https://blog.csdn.net/weixin_41287260/article/details/88927174" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41287260/article/details/88927174</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 工具软件 </tag>
            
            <tag> 软件破解 </tag>
            
            <tag> Beyond Compare 4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一分钟教你快速识别不同茶叶分类！</title>
      <link href="/article/2928fb74.html"/>
      <url>/article/2928fb74.html</url>
      
        <content type="html"><![CDATA[<p>中国被称为茶的故乡，不仅因为这里的土地孕育出世界最早的茶树，更因为这里的人们将茶视为一种沟通天地的生命。茶树在中国大地上繁衍，更因气候和土壤的不同，分化出多样的品种，加之不同的制作工艺，茶叶的品类更加丰富起来。对于初识茶者，了解茶叶的分类便成为必修课。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s550x346_jfs/t5296/189/445485792/43946/cf28b04b/59001396N6fe42368.jpg!q70.jpg" title="茶叶"></p><a id="more"></a><div class=" origin-content "><h1>【茶的分类】</h1>    <p>以茶汤色泽和茶叶的制作工艺分类应该是最权威、最通俗的茶叶分类方法了。根据《中国茶经》的定义，所有的茶可以归为绿茶、黄茶、白茶、青茶（又称乌龙茶）、红茶、黑茶六大类。</p>    <p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s660x152_jfs/t4930/328/2392705828/16471/54f771e/590013c7N28440296.jpg!q70.jpg" title="茶叶"></p><h2>【绿茶】</h2><p>绿茶，不发酵，浅绿的汤色。根据杀青工艺不同分为：炒青绿茶、烘青绿茶、晒青绿茶、蒸青绿茶四种。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s499x613_jfs/t4870/143/2462488109/200579/d09e6a31/59001407N493ad180.jpg!q70.jpg" title="茶叶"></p><p>不同绿茶，茶香特色不同。其中炒青香高，多为炒豆香和栗子香，亦有花果香。小伙伴们比较熟悉的西湖龙井，即是炒青绿茶中的细嫩炒青；烘青多清香、花果香；蒸青则多有类海苔的鲜香。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s500x280_jfs/t4432/130/3408817498/284796/cc91bd85/5900145fNf3bf23dd.png" title="茶叶"></p><h2>【黄茶】</h2><p>黄茶，10%-20%轻发酵，汤色黄而亮。经过闷黄，形成特有的黄汤黄叶。其香也因工艺和原料而各有特色。蒙顶黄芽、君山银针类的黄芽茶，香气鲜嫩、清新；沩山毛尖、霍山黄大茶因烘焙工艺，而分别具松烟香和锅巴香。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s454x530_jfs/t4846/354/2435684512/146583/4b1d1aec/5900148fN4248d309.jpg!q70.jpg" title="茶叶"></p><h2>【白茶】</h2><p>轻度发酵的茶(发酵度为20～30%）。老白茶是采摘后，不经杀青或揉捻，只经过晒或文火干燥后加工的茶。具有外形芽毫完整，满身披毫，毫香清鲜，汤色黄绿清澈，滋味清淡回甘的品质特点。代表茶叶品种有：白毫银针、白牡丹等。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s466x201_jfs/t5527/16/451045431/62682/4334a970/590014aaNb58e7c01.jpg!q70.jpg" title="茶叶"></p><h2>【青茶】</h2><p>又称乌龙茶，半发酵的茶(发酵度为30～60%）。以香气著称，多按照产地划分，也是茶叶中品类最丰富的一类茶。它既有绿茶的鲜浓，又有红茶的甜醇。因其叶片中间为绿色，叶缘呈红色，故有“绿叶红镶边”之称。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s470x662_jfs/t5170/48/451611068/144751/8febf70b/590014d0Ne3a5a924.jpg!q70.jpg" title="茶叶"></p><p>代表茶叶品种有：铁观音、大红袍、冻顶乌龙茶。这也是目前市面上主要最常见的三个品种。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s800x800_jfs/t5152/326/447045816/86278/312c036c/590015f6N88795399.JPG!q70.jpg" title="茶叶"></p><h2>【红茶】</h2><p>全发酵的茶(发酵度为80～90%），世界上最早的红茶由中国明朝时期福建武夷山茶区的茶农发明，名为“正山小种”。按照其加工的方法与出品的茶形，一般又可分为三大类：小种红茶、工夫红茶、红碎茶和红茶茶珍。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s492x524_jfs/t5008/256/2442905360/123223/bff64366/59001514N8de79574.jpg!q70.jpg" title="茶叶"></p><p>小种红茶是最古老的红茶，其他红茶都是从小种红茶演变而来的。除中国外，国外的红茶品种主要有印度的大吉岭红茶、斯里兰卡的锡兰红茶、印度的阿萨姆红茶。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s595x385_jfs/t5023/33/2458528710/323684/ac4ea743/59001544N9d8e3003.png" title="茶叶"></p><h2>【黑茶】</h2><p>全发酵的茶，是六大茶类中工艺最复杂的茶了，也是唯一耐得住时间消磨的茶，而且有越陈越好的神奇特性在。工艺的复杂加上地域的风俗，造就了黑茶大家庭的盛况。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s485x379_jfs/t5293/43/448179119/109734/7b39a40d/59001562Nd7502e43.jpg!q70.jpg" title="茶叶"></p><p>主要有湖南黑茶、湖北老青茶、四川边茶、滇桂黑茶、安徽六安黑茶、云南普洱茶，影响力最大的，茶文化最普及的当属云南普洱茶，这得益于有着茶树发源地之称的云南极其丰富的茶树资源，加上愈百万年之久的时间沉积所孕育的山头茶底蕴，赋予了普洱茶与生俱来的口感魅力。</p><p><img alt="茶叶" src="//m.360buyimg.com/mobilecms/s313x302_jfs/t4714/146/3570851283/73662/215bb3de/5900156cN7984fe6e.jpg!q70.jpg" title="茶叶"></p><p>以上词条内容均来源网络，均系原作者观点及所有，仅供参考。</p>                </div><hr><p>文章转自：京东-健康养生系列文章：<a href="https://www.jd.com/phb/zhishi/ed341c769764dba8.html" target="_blank" rel="noopener">https://www.jd.com/phb/zhishi/ed341c769764dba8.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo新建标签、分类、归档等页面</title>
      <link href="/article/7e72998a.html"/>
      <url>/article/7e72998a.html</url>
      
        <content type="html"><![CDATA[<p>Hexo新建标签、分类、归档页面，步骤都是类似的：1. 新建页面。2. 设置页面的类型。3. 打开主题中的相关设置。</p><a id="more"></a><h3 id="一-hexo新建标签-分类-归档页面-步骤都是类似的：">一、hexo新建标签、分类、归档页面，步骤都是类似的：</h3><ol><li>新建页面</li><li>设置页面的类型</li><li>打开主题中的相关设置</li></ol><h3 id="二-举例">二、举例</h3><p>比如新建标签页：</p><p>1.用命令行新建一个页面：（页面名称可以任意）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">"tages"</span></span><br></pre></td></tr></table></figure><p>2.打开 <strong>/source/tages/index.md</strong>，设置其类型 type 值为“tages”</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: tags</span><br><span class="line">date: 2019-07-26 00:33:58</span><br><span class="line">type: "tags"</span><br></pre></td></tr></table></figure><p>3.打开 <strong>/themes/主题/_config.yml</strong>，把tages标签那项取消注释即可，下面的是已经取消注释了的。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">主页:</span> <span class="string">/</span></span><br><span class="line">  <span class="comment">#随笔: /tags/随笔/</span></span><br><span class="line">  <span class="comment">#分类: /categories</span></span><br><span class="line">  <span class="comment">#归档: /archives</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags</span></span><br></pre></td></tr></table></figure><h3 id="三-对应关系">三、对应关系</h3><table><thead><tr><th style="text-align:center">page</th><th style="text-align:center">type</th><th style="text-align:center">内容</th></tr></thead><tbody><tr><td style="text-align:center">tages</td><td style="text-align:center">tages</td><td style="text-align:center">标签</td></tr><tr><td style="text-align:center">categories</td><td style="text-align:center">categories</td><td style="text-align:center">分类</td></tr><tr><td style="text-align:center">archives</td><td style="text-align:center">archives</td><td style="text-align:center">归档</td></tr><tr><td style="text-align:center">about</td><td style="text-align:center">about</td><td style="text-align:center">关于我(自我介绍)</td></tr></tbody></table><hr><p>具体可参考：hext主题的wiki : <a href="https://github.com/iissnan/hexo-theme-next/wiki/%E5%88%9B%E5%BB%BA%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2" target="_blank" rel="noopener">创建分类页面</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
      <link href="/article/3efe2740.html"/>
      <url>/article/3efe2740.html</url>
      
        <content type="html"><![CDATA[<div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>虽然<code>yilia</code>主题已经集成了挺多功能的，界面也很不错。但是在某些方面好像还是略有欠缺。这篇博客主要是介绍一些外加的扩展功能。</p><a id="more"></a><h2 id="一-增加侧边导航栏的subnav图标">一、增加侧边导航栏的SubNav图标</h2><p>参考：<a href="https://blog.zscself.com/posts/70677220/" target="_blank" rel="noopener">修改Yilia左下角SubNav的社交图标</a><br><a href="http://fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome:一套绝佳的图标字体库和CSS框架</a></p><ol><li>这里只是添加csdn和gitee图标，其他可以参照上面两个链接进行设置。在<code>H:\Hexo\themes\yilia\source\main.0cf68a.css</code>文件中添加下面的代码（最好是在gitbub附近，分类管理）</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1.这是github的默认图标 */</span></span><br><span class="line"><span class="selector-class">.icon-github</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"\E735"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 添加码云和CSDN的标签的图标 */</span></span><br><span class="line"><span class="selector-class">.icon-gitee</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"码"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon-csdn</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"C"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 2.这是之前github的 */</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.github</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#afb6ca</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#afb6ca</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.github</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#909ab6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 下面两个是新增的csdn和gitee */</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.csdn</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#C71D23</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.csdn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.gitee</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#C71D23</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.header-nav</span> <span class="selector-class">.social</span> <span class="selector-tag">a</span><span class="selector-class">.gitee</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#C71D23</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>H:\Hexo\themes\yilia\_config.yml</code>的中导航栏<code>subnav</code>中添加对应代码，添加后如下</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">subnav:</span></span><br><span class="line"><span class="attr">  github:</span> <span class="string">"https://github.com/username"</span></span><br><span class="line"><span class="attr">  gitee:</span> <span class="string">"https://gitee.com/username"</span></span><br><span class="line"><span class="attr">  csdn:</span> <span class="string">"https://blog.csdn.net/username"</span></span><br></pre></td></tr></table></figure><h2 id="二-新增侧边栏归档-分类-标签内容-有bug-分类-标签">二、新增侧边栏归档、分类、标签内容–有bug（分类、标签）</h2><p>参考：hexo-theme-next的wiki：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E5%88%9B%E5%BB%BA%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2" target="_blank" rel="noopener">创建分类页面</a></p><ol><li>添加一个分类页面，并在菜单中显示页面链接。<br>新建一个页面，命名为 categories 。命令如下：<br><code>hexo new page categories</code></li><li>编辑刚新建的页面，将页面的类型<code>type</code>设置为 categories ，主题将自动为这个页面显示所有分类。</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: 分类</span><br><span class="line">date: 2014-12-22 12:39:04</span><br><span class="line">type: "categories"</span><br></pre></td></tr></table></figure><ol start="3"><li>注意：如果有启用多说 或者 Disqus 评论，默认页面也会带有评论。需要关闭的话，请添加字段 comments 并将值设置为 false，如：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: 分类</span><br><span class="line">date: 2014-12-22 12:39:04</span><br><span class="line">type: "categories"</span><br><span class="line">comments: false</span><br></pre></td></tr></table></figure><ol start="4"><li>在菜单中添加链接。编辑主题的<code>_config.yml</code> ，将 menu中的 <code>#categories: /categories</code>注释去掉，如</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags</span></span><br><span class="line"><span class="string">Add</span> <span class="string">a</span> <span class="string">custom</span> <span class="string">footer</span></span><br></pre></td></tr></table></figure><h2 id="三-设定站点建立时间-有bug-没有实现">三、设定站点建立时间–有bug（没有实现）</h2><p>参考：<a href="https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next/wiki/%E8%AE%BE%E5%AE%9A%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4</a></p><p>这个时间将在站点的底部显示，例如 <code>? 2013 - 2015</code></p><p>编辑<strong>主題</strong>的 <code>_config.yml</code>，新增字段 <code>since</code>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">since: 2013</span><br></pre></td></tr></table></figure><h2 id="四-添加字数统计和阅读时长功能">四、添加字数统计和阅读时长功能</h2><p>参考：<a href="https://blog.csdn.net/weixin_34259232/article/details/91182835" target="_blank" rel="noopener">hexo下yilia主题添加字数统计和阅读时长功能</a></p><ol><li>安装 hexo-wordcount<br>在博客目录下打开Git Bash Here，输入命令:<br><code>npm i --save hexo-wordcount</code></li><li>文件配置<br>在<code>theme\yilia\layout\_partial\post</code>下创建word.ejs文件：</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-top:10px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-time"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-keyboard-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>  字数统计: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">wordcount</span>(<span class="attr">post.content</span>) %&gt;</span>字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-time"</span>&gt;</span></span><br><span class="line">      &amp;nbsp; | &amp;nbsp;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-hourglass-half"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>  阅读时长: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">min2read</span>(<span class="attr">post.content</span>) %&gt;</span>分<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在<code>themes/yilia/layout/_partial/article.ejs</code>中添加:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-inner"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">post.link</span> || <span class="attr">post.title</span>)&#123; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"article-header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">title</span>', &#123;<span class="attr">class_name:</span> '<span class="attr">article-title</span>'&#125;) %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (!<span class="attr">post.noDate</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">date</span>', &#123;<span class="attr">class_name:</span> '<span class="attr">archive-article-date</span>', <span class="attr">date_format:</span> <span class="attr">null</span>&#125;) %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 需要添加的位置 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 开始添加字数统计--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.word_count</span> &amp;&amp; !<span class="attr">post.no_word_count</span>)&#123;%&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">word</span>') %&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 添加完成 --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>开启功能<br>在站点的_config.yml中添加下面代码:</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是否开启字数统计</span></span><br><span class="line"><span class="comment">#不需要使用，直接设置值为false，或注释掉</span></span><br><span class="line"><span class="attr">word_count:</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h2 id="五-添加-不蒜子-访问量统计功能">五、添加“不蒜子”访问量统计功能</h2><p>官网：不蒜子 - 极简网页计数器：<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">http://busuanzi.ibruce.info/</a></p><p>参考：<a href="https://joeybling.github.io/2019/03/13/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1/" target="_blank" rel="noopener">Hexo博客添加访问量统计</a></p><p><font color="red">注意：本地测试时，访问量是不准确的！</font></p><ol><li>配置是否开启不蒜子访问量统计功能<br>在<code>themes/yilia/_config.yml</code>添加属性</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是否开启访问量统计功能(不蒜子)</span></span><br><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ol start="2"><li>引入不蒜子并添加站点访问量<br>在<code>themes/yilia/layout/_partial/footer.ejs</code>末尾(之前)添加如下代码</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.busuanzi</span> &amp;&amp; <span class="attr">theme.busuanzi.enable</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 不蒜子统计 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></span><br><span class="line">                本站总访问量<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span> <span class="attr">style</span>=<span class="string">'display:none'</span>&gt;</span></span><br><span class="line">                本站访客数<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>人</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>添加文章访问量</li></ol><p>我找到的添加位置主要有两种，下面会上图，可以选择自己喜欢的，推荐第一种。<br>3.1 这种形式是：外面不显示，只在文章里面才显示，位置为右上角时间的右边。<br>在<code>themes/yilia/layout/_partial/post/date.ejs</code>开头添加如下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.busuanzi</span> &amp;&amp; <span class="attr">theme.busuanzi.enable</span> &amp;&amp; !<span class="attr">index</span>)&#123; %&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 不蒜子统计 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_page_pv"</span> <span class="attr">style</span>=<span class="string">'display:none'</span> <span class="attr">class</span>=<span class="string">"&lt;%= class_name %&gt;"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon-smile icon"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 阅读数：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_page_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>主页样式：<img src="https://s2.ax1x.com/2019/07/26/enG0f0.jpg" alt="enG0f0.jpg"><br>文章样式（注意右上角）：<img src="https://s2.ax1x.com/2019/07/26/enGDpV.jpg" alt="enGDpV.jpg"></p><p>3.2 这种形式是：显示在标签的后面，即不仅文章里面会显示，外面主页也会显示，个人感觉体验略差。<br>参考：<a href="https://codegitz.github.io/2018/04/13/hexo-yilia-%E6%96%87%E7%AB%A0%E6%B5%8F%E8%A7%88%E9%87%8F%E7%BB%9F%E8%AE%A1/" target="_blank" rel="noopener">hexo yilia 文章浏览量统计</a><br>需要修改的文件：<code>H:\Hexo\themes\yilia\layout\_partial\article.ejs</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">tag</span>') %&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 文末访问量统计（开始） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_page_pv"</span>&gt;</span></span><br><span class="line">    |阅读量:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_page_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文末访问量统计（结束） --&gt;</span></span><br></pre></td></tr></table></figure><p>主页和文章样式（注意标签后面，因为之前忘记截图了，这是我自己标记的位置，不是实际显示效果）：<img src="https://s2.ax1x.com/2019/07/26/enGwYq.jpg" alt="enGwYq.jpg"></p><h2 id="六-设置文章置顶功能">六、设置文章置顶功能</h2><p>参考：解决Hexo博客文章置顶问题：<a href="https://zhwhong.cn/2017/03/23/deal-with-hexo-article-top-problem/" target="_blank" rel="noopener">https://zhwhong.cn/2017/03/23/deal-with-hexo-article-top-problem/</a><br>（这篇博客用的是另一个基于yilia的主题，感觉还是挺不错的，github：<a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" rel="noopener">https://github.com/MOxFIVE/hexo-theme-yelee</a>，但是也停止更新很久了……）<br>原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。<br>修改Hexo文件夹下的<code>node_modules/hexo-generator-index/lib/generator.js</code>，在生成文章之前进行文章top值排序。</p><p><font color="red">注意：一般情况下，git默认是忽略该文件的，所以应该先将该文件加到仓库，提交一次进行备份，然后再进行修改，不然不能实现备份该文件功能，可参考下面的示例代码进行操作：</font></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 为了方便起见，不修改.gitignored文件，直接将该文件强制加入仓库。</span></span><br><span class="line"><span class="comment"># 注意：修改后，再添加该文件时也要强制添加</span></span><br><span class="line">git add -f node_modules/hexo-generator-index/lib/generator.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参看是否添加成功，应该会变成绿色，表示已加入暂存区</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提交一次</span></span><br><span class="line">git commit -m <span class="string">"back up node_modules/hexo-generator-index/lib/generator.js"</span></span><br></pre></td></tr></table></figure><p>下面是<code>generator.js</code>修改后的代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts.sort(config.index_generator.order_by);</span><br><span class="line"></span><br><span class="line">  posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><p>补充另一种：置顶方式：通过插件来实现。参考：<a href="https://www.writebug.site/2018/04/29/Hexo%E2%80%94%E2%80%94Yilia%E4%B8%BB%E9%A2%98%E7%9A%84%E5%BD%92%E6%A1%A3%E9%A1%B5%E7%BD%AE%E9%A1%B6/" target="_blank" rel="noopener">Hexo—Yilia主题的归档页置顶</a></p><ol><li>blog目录下执行以下命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><ol start="2"><li>然后在文章头添加 top:true 如：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 终于装好Hexo啦</span><br><span class="line">date: 2018-04-19 00:04:46</span><br><span class="line">tags: 心情</span><br><span class="line">top: true</span><br><span class="line">categories:</span><br><span class="line"><span class="bullet">- </span>你好，世界</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="七-添加背景音乐">七、添加背景音乐</h2><p>参考：<a href="https://www.writebug.site/2018/04/21/hexo-yilia%E4%B8%AA%E6%80%A7%E5%8C%96%E4%B9%8B-%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90/" target="_blank" rel="noopener">hexo+yilia个性化之-添加背景音乐</a></p><ol><li>到网易云官网获取音乐外链：搜索音乐–&gt;生成外链播放器–&gt;复制代码</li><li>打开路径 <code>themes/yilia/layout/_partial/left-col.ejs</code>，在<code>&lt;/nav&gt;</code>上面添加代码，就像下面这样。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">228</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1371939273&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>根据需要设置宽高属性，宽建议228。</li></ol><h2 id="八-为博客设置404页面">八、为博客设置404页面</h2><p>参考：github官网介绍：<a href="https://help.github.com/cn/articles/creating-a-custom-404-page-for-your-github-pages-site" target="_blank" rel="noopener">https://help.github.com/cn/articles/creating-a-custom-404-page-for-your-github-pages-site</a></p><p>在<code>/source/</code>目录下新建<code>404.md</code>在头部添加属性<code>permalink: /404.html</code>，页面内容可以自定义。</p><p>例1：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section"># example 404.md</span></span><br><span class="line">title: 404 Not Found：该页无法显示</span><br><span class="line">permalink: /404.html</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># 404</span></span><br><span class="line"></span><br><span class="line">Page not found! :(</span><br></pre></td></tr></table></figure><p>推荐使用腾讯公益404页面（注意要把首页链接换成自己的）：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 404 Not Found：该页无法显示</span><br><span class="line">date: 2019-07-26 21:51:29</span><br><span class="line">permalink: /404.html</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;head&gt;</span></span><br><span class="line"><span class="code">         &lt;meta charset="UTF-8" /&gt;</span></span><br><span class="line"><span class="code">         &lt;title&gt;404&lt;/title&gt;                           </span></span><br><span class="line"><span class="code">    &lt;/head&gt;</span></span><br><span class="line"><span class="code">    &lt;body&gt;</span></span><br><span class="line"><span class="code">         &lt;script type="text/javascript" src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js" homePageName="返回首页" homePageUrl="https://www.yansheng.xyz/"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;/body&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>然后转换、部署就可以了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h2 id="九-为头像增加旋转效果">九、为头像增加旋转效果</h2><p>参考：<a href="https://qianlei6148.github.io/2018/10/01/hexo%E6%A8%A1%E7%89%88yilia%E5%A4%B4%E5%83%8F%E5%A2%9E%E5%8A%A0%E6%97%8B%E8%BD%AC%E6%95%88%E6%9E%9C/" target="_blank" rel="noopener">hexo模版yilia头像增加旋转效果/</a></p><p>1.在<code>themes\yilia\source\</code>文件夹下<br>增加一个css文件<code>avatarrotation.css</code>用来旋转360度<br>内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.profilepic</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="comment">/* 控制旋转速度时间*/</span></span><br><span class="line">  <span class="attribute">-webkit-transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.profilepic</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="comment">/* 鼠标经过360% */</span></span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.然后在<code>themes\yilia\layout\_partial\head.ejs</code>文件中添加进去创建的<code>css</code>文件：<br>找到<code>&lt;%- partial('css') %&gt;</code>，在它的下面添加代码，把刚才写的文件添加进去，<strong>注意！！是在它的下面添加，不然旋转速度将不会生效</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.avatarrotation</span>)&#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"/./avatarrotation.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>如果<code>css</code>不生效，查看<code>css</code>中的<code>href</code>位置是否写错了，可根据你具体存放的位置写路径。</p><p>3.最后在<code>主题文件_config.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#头像是否旋转(如果不要旋转取false)</span></span><br><span class="line"><span class="attr">avatarrotation:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>重新发布，最终就可以旋转了！</p><h2 id="十-安装hexo-admin插件">十、安装<code>hexo-admin</code>插件</h2><p>github官网：<a href="https://github.com/jaredly/hexo-admin" target="_blank" rel="noopener">https://github.com/jaredly/hexo-admin</a></p><h3 id="0-插件介绍">0.插件介绍</h3><p>hexo-admin 是一个Hexo博客引擎的管理用户界面插件。这个插件最初是作为本地编辑器设计的，在本地运行hexo使用hexo-admin编写文章，<font color="red">左边写右边预览</font>，然后通过hexo g或hexo d（hexo g是本地渲染，hexo d是将渲染的静态页面发布到GitHub）将生成的静态页面发布到GitHub等静态服务器。如果你使用的是非静态托管服务器，比如自己买的主机搭建的hexo，那么一定要设置hexo-admin  的密码，否则谁都可以编辑你的文章。</p><h3 id="1-安装管理员并启动">1.安装管理员并启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br><span class="line">hexo server -d</span><br><span class="line">open http://localhost:4000/admin/</span><br></pre></td></tr></table></figure><h3 id="2-密码保护">2.密码保护</h3><p>如果您在实时服务器上使用Hexo admin，则需要一些密码保护。要启用此功能，只需在hexo中添加一些配置变量<code>_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">admin:</span></span><br><span class="line"><span class="attr">  username:</span> <span class="string">myfavoritename</span></span><br><span class="line"><span class="attr">  password_hash:</span> <span class="string">be121740bf988b2225a313fa1f107ca1</span></span><br><span class="line"><span class="attr">  secret:</span> <span class="string">a</span> <span class="string">secret</span> <span class="string">something</span></span><br></pre></td></tr></table></figure><p>这<code>password_hash</code>是您密码的bcrypt哈希值。本<code>secret</code>是用来做饼干的安全，所以这是一个好主意，有它漫长而复杂。</p><p>Hexo管理员设置中的实用程序可以散列您的密码并<code>admin</code> 为您生成该部分。启动Hexo并转到<code>Settings &gt; Setup authentification</code> 并填写您的信息。将生成的YAML复制到您的<code>_config.yml</code>。</p><p>一旦到位，启动您的hexo服务器，然后<code>/admin/</code>将要求您输入密码。</p><h3 id="3-自定义帖子元数据">3.自定义帖子元数据</h3><p>要使用管理界面添加和编辑您自己的帖子元数据，请将元数据变量和自定义变量添加到您的hexo中<code>_config.yml</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">metadata:</span></span><br><span class="line"><span class="attr">  author_id:</span> <span class="string">defaultAuthorId</span></span><br><span class="line"><span class="attr">  language:</span></span><br></pre></td></tr></table></figure><p>您可以提供将用于初始化新帖子元数据的默认值。这些可以是基元或数组。</p><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：</p><ol><li><a href="/article/b4e9a9a2.html">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/37bae0ef.html">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/b37cf67a.html">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/3efe2740.html">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> GitHub Pages </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
      <link href="/article/b37cf67a.html"/>
      <url>/article/b37cf67a.html</url>
      
        <content type="html"><![CDATA[<div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>简单介绍一些<code>yilia</code>主题的需要或者说可以自定义的内容，该部分内容主要参考<code>yilia</code>的制作者<code>litten</code>的博客的博客，github网址：<a href="https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml</a><br>可通过 <code>hexo s</code> 本地发布，然后通过访问 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 预览效果，进行个性化设置。</p><a id="more"></a><h2 id="一-主要信息配置：hexo-config-yml配置">一、主要信息配置：<code>Hexo/_config.yml</code>配置</h2><p>一般需要设置一下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site,url,jsonContent(标签不能正常显示的问题)</span><br></pre></td></tr></table></figure><p>注意：标签不能正常显示的问题</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#标签不能正常显示的问题</span></span><br><span class="line"><span class="attr">jsonContent:</span></span><br><span class="line"><span class="attr">  meta:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  pages:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  posts:</span></span><br><span class="line"><span class="attr">    title:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    date:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    path:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    text:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    raw:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    content:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    slug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    updated:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    permalink:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    excerpt:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    categories:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    tags:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>jsonContent(标签不能正常显示的问题)，该功能需要添加依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-generator-json-content --save</span><br></pre></td></tr></table></figure><h2 id="二-主题配置hexo-themes-yilia-config-yml配置">二、主题配置<code>Hexo/themes/yilia/_config.yml</code>配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">menu;subnav;favicon(设置网站图标);avatar(头像);friends(社交)</span><br></pre></td></tr></table></figure><p>注意：favicon设置网站图标，用自己的图标替换<code>H:\Hexo\source\assets\img\favicon.ico</code>，然后修改<code>H:\Hexo\themes\yilia\_config.yml</code>里面的图标链接</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置网站图标</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/assets/img/favicon.ico</span></span><br></pre></td></tr></table></figure><p>图标介绍及制作可参考：<a href="http://www.faviconico.org/" target="_blank" rel="noopener">http://www.faviconico.org/</a></p><p><font color="red">推荐原因：可以预览图标，就是你制作后图标后，点击预览，它会将当前网页图标设置成你的图标。</font></p><blockquote><p><code>favicon.ico</code>一般用于作为缩略的网站标志，它显示在浏览器的地址栏、浏览器标签上或者在收藏夹上，是展示网站个性的缩略logo标志，也可以说是网站头像,目前主要的浏览器都支持favicon.ico图标，如果要让网站看起来更专业、更美、更有个性，favicon.ico是必不可少的，你在本站使用ICO图标转换工具就可以轻松将您的网站图标转换成favicon.ico。</p></blockquote><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：</p><ol><li><a href="/article/b4e9a9a2.html">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/37bae0ef.html">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/b37cf67a.html">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/3efe2740.html">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> GitHub Pages </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
      <link href="/article/37bae0ef.html"/>
      <url>/article/37bae0ef.html</url>
      
        <content type="html"><![CDATA[<div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>这篇文章主要介绍了搭建博客中关键部分–hexo的内容，前提工作（git、github、node.js部分）并没有展开讲，如果需要了解这部分内容请步他出。</p><a id="more"></a><h2 id="一-目标">一、目标</h2><p>搭建hexo+yilia的基本的框架，并且部署在github上面，能够通过github pages 进行访问。</p><p>统一说明：我的hexo根目录为<code>Hexo</code>，仓库为<code>yansheng836.github.io</code>。</p><h2 id="二-准备工作">二、准备工作</h2><p>（不详细介绍，可参考hexo官方文档：<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a>）</p><h3 id="1-安装git">1. 安装git。</h3><h3 id="2-注册github-新建一个特殊的仓库-username-github-io">2. 注册github，新建一个特殊的仓库(<a href="http://username.github.io" target="_blank" rel="noopener">username.github.io</a>)。</h3><h3 id="3-安装node-js">3. 安装Node.js。</h3><h2 id="三-安装hexo-并初始化">三、安装hexo，并初始化</h2><p>参考官网教程：<a href="https://hexo.io/zh-cn/index.html" target="_blank" rel="noopener">https://hexo.io/zh-cn/index.html</a></p><p>在你需要安装hexo的地方打开git命令行工具，运行一下命令（注：#开头为注释）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局安装hexo</span></span><br><span class="line"><span class="comment"># 并初始化一个文件夹Hexo作为hexo的根目录（可自定义，命令格式为`hexo init &lt;folder&gt;`）</span></span><br><span class="line"><span class="comment"># 进入Hexo文件夹</span></span><br><span class="line"><span class="comment"># npm install：Hexo 将会在指定文件夹中新建所需要的文件。</span></span><br><span class="line"><span class="comment"># hexo server：部署在本地，会提醒可通过`http://localhost:4000`访问，`Ctrl+C`可停止</span></span><br><span class="line"></span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init Hexo</span><br><span class="line"><span class="built_in">cd</span> Hexo</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/07/25/eZEIaj.jpg" alt="eZEIaj.jpg"></p><h2 id="四-更换主题">四、更换主题</h2><h3 id="4-1-主题介绍">4.1 主题介绍</h3><p>默认主题是<code>landscape</code>，好像不是很好看，一般都会更换主题。</p><p>现在比较流行的挺多的，这里只列举几种：（部署方式在github上面都有，有问题也可以去那里问。）</p><ul><li><p><strong>next</strong>:  Elegant theme for Hexo.<br>github旧（已停止更新）:<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next</a><br>github（新的）:<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next</a><br><img src="https://s2.ax1x.com/2019/07/25/eZE5ZQ.jpg" alt="eZE5ZQ.jpg"></p></li><li><p><strong>yilia</strong>: 一个简洁优雅的hexo主题 A simple and elegant theme for hexo.<br>github:  <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a><br><img src="https://s2.ax1x.com/2019/07/25/eZEhqg.jpg" alt="eZEhqg.jpg"></p></li><li><p><strong>yelee</strong>: 简而不减 Hexo 双栏博客主题; Another simple and elegant theme for Hexo.(基于yilia)<br>github（已停更）: <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" rel="noopener">https://github.com/MOxFIVE/hexo-theme-yelee</a><br><img src="https://s2.ax1x.com/2019/07/26/euFG2q.jpg" alt="euFG2q.jpg"></p></li></ul><h3 id="4-2-更换yilia主题的简单介绍">4.2 更换yilia主题的简单介绍</h3><p>我选的是yilia，以下是安装方式，参考：</p><ul><li>yilia 的仓库介绍（适用说明）：<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a>。</li><li>yilia 的仓库管理者 <code>litten</code> 的博客备份仓库：<a href="https://github.com/litten/BlogBackup" target="_blank" rel="noopener">https://github.com/litten/BlogBackup</a>。</li></ul><p>（如果你的不是该主题，仅供参考。）<br>注意：一般默认都是在博客根目录打开git命令行，运行这些代码。</p><h4 id="安装">安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure><h4 id="配置">配置</h4><p>修改hexo根目录下的 <code>_config.yml</code> ： <code>theme: yilia</code></p><p><font color="red">注意：（强制）部署这类格式的配置时，冒号后面要加英文空格；（推荐）如果文件中有添加中文注释，统一改文件格式为UTF-8</font>。</p><h4 id="更新">更新</h4><p>该主题好像已经很久没有更新了，最近的一次更新好像是2017年的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/yilia</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h4 id="部署：">部署：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>浏览器访问：<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>，注意访问期间不能按停止命令<code>Ctrl+C</code>,不然会停止服务，页面404。</p><p>效果图：<img src="https://s2.ax1x.com/2019/07/25/eZEoIs.jpg" alt="eZEoIs.jpg"></p><h2 id="五-将hexo部署到github上面-实现双分支部署">五、将hexo部署到github上面，实现双分支部署</h2><p>引用master分支中<code>README.md</code>中的有关双分支的部署说明：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yansheng836.github.io</span><br><span class="line">-- master  部署分支：主要存放生成的静态文件，用于部署到github pages</span><br><span class="line">-- blog    写作分支：主要存放hexo环境配置、博客（md）</span><br></pre></td></tr></table></figure><h3 id="1-部署master分支">1. 部署master分支</h3><h4 id="1-1-指定hexo部署的方式-仓库-分支">1.1 指定hexo部署的方式、仓库、分支</h4><p>修改hexo根目录下的 <code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#部署到github的仓库</span></span><br><span class="line"><span class="comment">#Deployment</span></span><br><span class="line"><span class="comment">#Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> <span class="attr">https://github.com/yansheng836/yansheng836.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h4 id="1-2-为项目添加说明readme-md">1.2  <a href="http://xn--README-vy7ii41abt9bxtq9pwlv1dl97a.md" target="_blank" rel="noopener">为项目添加说明README.md</a></h4><p>你可以把<code>README.md</code>,<code>LICENSE</code>（许可证）等文件放在/source/目录下，该目录的文件可以上传到github根目录；之前提过<code>hexo g</code>是将/source/<em>/</em>.md所有文件渲染成html文件（如果没有设置跳过渲染的话），然后放到对应的/public/目录下；而对于其他文件，直接复制到对应文件夹下。</p><p><a href="http://xn--README-hf5m143bry1btzzavcfq9f.md" target="_blank" rel="noopener">设置跳过渲染README.md</a>，需要修改hexo根目录下的 <code>_config.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hexo g 会默认将所有md文件转换成（渲染成）HTML文件放到public文件夹中；加上这句话的意思就是告诉hexo的解析器，跳过渲染(skip_render)README.md文件</span></span><br><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line"><span class="bullet"> -</span> <span class="string">'README.md'</span></span><br></pre></td></tr></table></figure><p>如果不设置该属性，README.md文件会被装换成README.html文件，同理你可以通过该配置跳过渲染你不希望hexo渲染的md文件。</p><h4 id="1-3-把master分支部署到github的master分支">1.3 把master分支部署到github的master分支</h4><p>如果有修改配置文件，最好都进行重新编译。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>如果出现类似错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><p>需要添加git依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h3 id="2-部署blog分支">2. 部署blog分支</h3><p>注意：该分支名可自定义。</p><h4 id="2-1-在hexo根目录打开git命令行-初始化一个仓库">2.1 在Hexo根目录打开git命令行，初始化一个仓库</h4><p>在hexo根目录下新建仓库，用于管理写作分支（之前的部署到github的为部署分支）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add origin https://github.com/yansheng836/yansheng836.github.io.git</span><br></pre></td></tr></table></figure><h4 id="2-2-忽略一些不需要备份的文件">2.2 忽略一些不需要备份的文件</h4><p>修改跟目录下的<code>.gitignore</code>，.gitignore的原内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br></pre></td></tr></table></figure><p>在后面增加以下内容，用来忽略原来的主题文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ignored the useless themes</span><br><span class="line">/themes/landscape/</span><br></pre></td></tr></table></figure><h4 id="2-3-删除-themes-yilia-git文件夹">2.3 删除<code>/themes/yilia/.git</code>文件夹。</h4><p>为方便将yilia的主题配置进行同步（其实该主题已经很久没更新了……），但是之前我们使用github克隆的yilia，也就是话说：/themes/yilia/里面也有一个仓库，这涉及到git仓库下的子仓库的问题，默认情况下是不将该子仓库介入到外层仓库的，但是我们需要备份yilia主题的配置文件，所以需要删除该子仓库，即删除<code>/themes/yilia/.git</code>文件夹。</p><h4 id="2-4-创建blog分支">2.4 创建blog分支。</h4><p>创建一个分支存放写作内容，方便同步到同一仓库的不同分支，先提交一次，不然会报</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal: Not a valid object name: &apos;master&apos;</span><br></pre></td></tr></table></figure><p>添加、提交</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"init the blog"</span></span><br></pre></td></tr></table></figure><p>创建分支，并同步到github的blog分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch blog</span><br><span class="line">git checkout blog</span><br><span class="line">git push origin blog</span><br></pre></td></tr></table></figure><h4 id="2-5-github上把blog分支设置为默认分支">2.5 github上把blog分支设置为默认分支</h4><p>可设置该分支为默认分支<code>Settings--&gt;branches--&gt;Default branch:master设置为blog--&gt;update</code>，这样以后仓库主页显示就是blog分支，而且拉取（或者克隆）的时候拉取的就是blog分支，而不是原来默认的master分支。</p><h4 id="2-6-实现双分支部署">2.6 实现双分支部署</h4><p>每次写完博客要同时同步到该仓库的不同分支上，以实现真正的同步(备份)。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Writing</span></span><br><span class="line"><span class="comment"># 同步到master分支</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 手动同步到blog分支上</span></span><br><span class="line">git add. </span><br><span class="line">git commit -m <span class="string">"提交信息"</span></span><br><span class="line">git push origin blog <span class="comment">#如果设置了blog为默认分支，可以直接git push</span></span><br></pre></td></tr></table></figure><h3 id="五-发布到github-pages">五、发布到github pages</h3><p>设置master分支为主页，步骤<code>Settings--&gt;options--&gt;GitHub Pages:设置master分支--&gt;update</code>，成功后会刷新，显示则可通过<code>&lt;https://yansheng836.github.io/&gt;</code>访问。</p><p>如果有购买域名，可设置对应域名，之前要设置域名解析（这个好像有点啰嗦不细讲），或者直接在hexo根目录的/source/文件夹下添加<code>CNAME</code>文件(注意：该文件没有后缀)，内容为域名，如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www.yansheng.xyz</span><br></pre></td></tr></table></figure><p>然后发布到github上</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>成功后在setting中会显示可通过域名访问，而不是原来的路径。</p><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：</p><ol><li><a href="/article/b4e9a9a2.html">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/37bae0ef.html">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/b37cf67a.html">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/3efe2740.html">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> hexo插件 </tag>
            
            <tag> GitHub Pages </tag>
            
            <tag> hexo主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</title>
      <link href="/article/b4e9a9a2.html"/>
      <url>/article/b4e9a9a2.html</url>
      
        <content type="html"><![CDATA[<div style="text-align:center"><img src="https://s2.ax1x.com/2019/07/29/e8DVS0.th.jpg" width height title="hexo"></div><p>偶然间看到github pages+hexo搭建的博客，感觉很不错，就想自己也动手搭建一个这样的博客。因为从未接触过，所以刚开始搭建只能到各种博客论坛找教程，虽然教程很多，但是因为时间比较久了，很多配图都失效了；加之每个人的电脑环境都不一样……加上其它的林林总总的原因，其实搭建过程还是比较艰难的！</p><p>这篇文章介绍的是有关“博客备份”的内容，有些人可能会疑惑：为什么还没有搭建好，就开始讲备份？在软件测试的过程中，测试是越早进行越好，因为修改的代价越小。博客备份同样也是这个道理。也许只有亲身经历过，你就会懂；不，看完我的文章，你一个也可以懂。我写这篇就是希望：你们不要和我一样走弯路。</p><a id="more"></a><h2 id="踩坑过程：">踩坑过程：</h2><h3 id="1-搭建博客之路：掉坑系列之巨坑篇">1. 搭建博客之路：掉坑系列之巨坑篇</h3><p>我是从2019年7月22日开始搭建的，本以为一两天就能搭建完成的，事实上一天就可以搭建完成。但是为了增加一些个性化设置，我感觉我把自己逼上了绝路……在不知道修改了某个配置文件后，页面崩了，样式表加载不了。因此前端技术一般，所以我压根就找不到问题所占；想按照配置过程一步步回退，但是一下子配置了太多东西也不知道是哪里错了……</p><p>出了问题总得解决，难不成下次出错又再搭建一次？以下是我探究解决方案的过程， 我记下这部分内容的原因是：我想留下点啥，记录我的挣扎的过程……，同时也是希望能给遇到同样问题的人一些帮助。</p><h3 id="2-第一次探索：hexo的主要工作流程">2. 第一次探索：hexo的主要工作流程</h3><p>然后想着既然hexo是使用git部署到github，那么就是用了版本管理，我想着它应该要起作用了。因此想试下能不能恢复借此之前的正确配置，一番挣扎后，我放弃了，因为这和普通的git还是有一定差别的。</p><p>我去研究了下hexo的主要的常用命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo clean     <span class="comment">#删除缓冲文件(db.json)和(public中的)已生成的静态文件。</span></span><br><span class="line">hexo generate  <span class="comment">#读取配置文件，根据主题配置，将md解析成HTML，将source里的文件转换到public文件夹。</span></span><br><span class="line">hexo server    <span class="comment">#将静态文件部署到本地，预览。</span></span><br><span class="line">hexo deploy    <span class="comment">#清理.deploy_git文件夹，将public复制到.deploy_git，发布到github。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#简写形式为</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>如下图：<br><img src="https://s2.ax1x.com/2019/07/25/eZNX6S.jpg" alt="hexo的主要工作流程"></p><h3 id="3-第二次探索：hexo中的-deploy-git">3. 第二次探索：hexo中的<code>.deploy_git</code></h3><p>根据上面的分析，我们可以发现一个问题：这里的<code>.deploy_git</code>版本管理其实是单向的，只有push，没有pull（或者fetch+merge）；另一方面我们到<code>.deploy_git</code>文件夹打开git命令行，运行<code>git remote</code>来查看远程仓库，发现没有远程仓库，但是它确是是能够上传的，说明是被hexo封装了（详情可见<code>/_config.yml</code>的Deployment部分内容），而封装就意味着丢失一些东西，就比如高级语言虽然比底层语言好用，但是速度却慢得多。</p><p>从hexo的命令来看，我们只是一味的将本地的生成的静态文件推送到远程仓库，而没有将远程仓库拉取到本地，因为”<strong>拉取到本地</strong>“其实这是没有意义的！我认为主要原因有下面二：</p><p>（1）由hexo的主要命令我们知道：上传的文件基本是静态页面相关的文件，没有配置文件，每次部署都会自动生成，所以拉取远程仓库根本没有意义。</p><p>（2）同样因为上次的是静态文件，也就是说是由hexo将markdown转换而成的HTML，假如我们之前发的博客发现了有错误，想要修改，我们也是修改源文件（md），而不是修改生成的HTML。</p><h3 id="4-问题的根本：没有对配置文件和历史博客进行备份">4. 问题的根本：没有对配置文件和历史博客进行备份</h3><p>但是这样的设置就容易出现问题：<font color="red">如果配置出错或者是md博客源文件丢失，就找不回了！！！</font>比如：</p><p>（1）如果本地修改配置后，出错了就没有办法恢复原来的状态（我就是这样的）。<br>（2）按照之前我对核心命令的理解：如果重装系统或者两边写博客就会出现问题——md博客源文件丢失，因为clean每次清理public文件夹，也就是每次generate就是重新生成之前你写的所有博客，如果你分开两地写博客（或者重装后），也就意味着你丢失了历史博客，所有只生成你现在更新的博客，发布后也就只有当前更新的博客，而没有历史博客。</p><h3 id="5-解决问题：新建分支存放配置文件和博客源文件">5. 解决问题：新建分支存放配置文件和博客源文件</h3><p>造成这个的原因是我们对发布的文件进行了版本控制，但是没有对我们的环境和写作资料（md）进行办版本控制。因为我是新手，一开始研究hexo，我都是搜如何搭建，所以也没有这方面的考虑，出问题后才开始注意，但是这个问题其实是<strong>很致命的</strong>，就想我一样，一失手就只能从头再来！</p><p>而官方其实是有提及这个问题的，但是是在很不起眼的地方，而且我一开始也没有仔细看文档，只是简单看了下主要的功能，谁能想到这个问题如此致命！根据官网的文档：<a href="https://hexo.io/zh-cn/docs/deployment#%E8%BF%99%E4%B8%80%E5%88%87%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E7%94%9F%E7%9A%84%EF%BC%9F" target="_blank" rel="noopener">deployment部分</a></p><blockquote><p>当初次新建一个库的时候，库将自动包含一个<strong>master</strong>分支。请在这个分支下进行写作和各种配置来完善您的网页。当执行<code>hexo deploy</code>时，Hexo会创建或更新另外一个用于部署的分支，这个分支就是<code>_config.yml</code>配置文件中指定的分支。Hexo会将生成的站点文件推送至该分支下，并且<strong>完全覆盖</strong>该分支下的已有内容。因此，<font color="red">部署分支</font>应当不同于<font color="red">写作分支</font>。（一个推荐的方式是把master作为写作分支，另外使用public分支作为部署分支。）</p><p>值得注意的是，<code>hexo deploy</code>并不会对本地或远程的写作分支进行任何操作，因此依旧需要手动推送写作分支的所有改动以实现版本控制。此外，如果您的Github Pages需要使用CNAME文件<strong>自定义域名</strong>，请将CNAME文件置于写作分支的<code>source_dir</code>目录下，只有这样<code>hexo deploy</code>才能将CNAME文件一并推送至部署分支。</p></blockquote><p>很多人都吐槽hexo的官方文档实在是有点简陋，但是有些问题也许可以在<a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">它的github仓库的issues</a>里面找到答案。</p><p>有了方向就好办了，于是乎我就像是和杜甫“剑外忽传收蓟北，初闻涕泪满衣裳。”一样开心，与此同时”出门左转找度娘，出门右转找哥哥“，求得一篇：CSDN博客<a href="https://blog.csdn.net/zk673820543/article/details/52698760" target="_blank" rel="noopener">Hexo备份与恢复</a>，大意和官方文档基本一致：用一个仓库的两个分支分别存放部署分支和写作分支。就比如我的:</p><blockquote><p><a href="http://yansheng836.github.io" target="_blank" rel="noopener">yansheng836.github.io</a></p><p>– master  部署分支：主要存放生成的静态文件，用于部署到github pages</p><p>– blog    写作分支：主要存放hexo环境配置、博客（md）</p></blockquote><p>这样部署，即使是重装电脑，我们也可以hexo的环境恢复到本地，并且同步之前的博客到本地，这样博客就会有历史了。当然你也可以新建一个仓库存放blog分支，这两种方法二选一，你随意。</p><h2 id="master分支说明">master分支说明</h2><p>主要用于备份hexo生成的文件静态文件（html），用于发布到github pages。<br>详细内容可到我的github仓库上进行查看 : <a href="https://github.com/yansheng836/yansheng836.github.io/tree/master" target="_blank" rel="noopener">master分支</a>。</p><h2 id="blog分支说明">blog分支说明</h2><p>博客构建过程和备份，计划记录下部署过程，方便恢复。</p><p>新建该分支后，可设置该分支为默认分支<code>Settings--&gt;branches--&gt;Default branch:master设置为blog--&gt;update</code>，这样以后仓库主页显示就是blog分支，而且拉取（或者克隆）的时候拉取的就是blog分支，而不是原来默认的master分支。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> url</span><br><span class="line">git push</span><br><span class="line"><span class="comment">#其实是下面的简写形式</span></span><br><span class="line">git <span class="built_in">clone</span> -b master url [&lt;repository-name&gt;]</span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置blog为默认分支后，相当于是这样的：</span></span><br><span class="line">git <span class="built_in">clone</span> -b blog url [&lt;repository-name&gt;]</span><br><span class="line">git push origin blog</span><br></pre></td></tr></table></figure><p>详细内容可到我的github仓库上进行查看 : <a href="https://github.com/yansheng836/yansheng836.github.io/tree/blog" target="_blank" rel="noopener">blog分支</a>。</p><hr><p>hexo(yilia)+GitHub Pages搭建个人博客系列文章：</p><ol><li><a href="/article/b4e9a9a2.html">hexo1.博客备份-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/37bae0ef.html">hexo2.基本框架搭建-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/b37cf67a.html">hexo3.主题简单个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li><li><a href="/article/3efe2740.html">hexo4.扩展主题的个性化设置-hexo(yilia)+GitHub Pages搭建个人博客系列文章</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
            <tag> GitHub Pages </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页图标favicon.ico介绍及使用</title>
      <link href="/article/6edd22ff.html"/>
      <url>/article/6edd22ff.html</url>
      
        <content type="html"><![CDATA[<p>favicon.ico一般用于作为缩略的网站标志，它显示在浏览器的地址栏、浏览器标签上或者在收藏夹上，是展示网站个性的缩略logo标志，也可以说是网站头像，目前主要的浏览器都支持favicon.ico图标，如果要让网站看起来更专业、更美、更有个性，favicon.ico是必不可少的。</p><a id="more"></a><h2 id="一-网页图标favicon-ico介绍">一、网页图标favicon.ico介绍</h2><p>favicon.ico一般用于作为缩略的网站标志，它显示在浏览器的地址栏、浏览器标签上或者在收藏夹上，是展示网站个性的缩略logo标志，也可以说是网站头像,目前主要的浏览器都支持favicon.ico图标，如果要让网站看起来更专业、更美、更有个性，favicon.ico是必不可少的。</p><p>其实这么多还不如一张图片来得直接：csdn的网页图标如下（那个C图标就是）：</p><p><img src="https://img-blog.csdnimg.cn/20190927235611864.png" alt></p><h2 id="二-关于shortcut-icon和icon代码的区别介绍">二、关于shortcut icon和icon代码的区别介绍</h2><h3 id="1-常用形式">1. 常用形式</h3><p>语句一：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"favicon.ico"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>语句二：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"animated_favicon.gif"</span> <span class="attr">type</span>=<span class="string">"image/gif"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-讨论">2. 讨论</h3><p>备注：语句一 Shortcut Icon 就是在网址列前面出现的Icon。<br><br>问题：语句二 icon的作用是怎么?和语句一有什么区别? <br><br>指导 ：<br><br>        过去，为保证favicon出现，网站设计者和开发者采用了多种方法。很难明确地保证favicon可以在所有电脑上显示，即使是用同一版本的一种浏览器。 <br><br>        下列代码另一个局限就是它把favicon关联到了某个特定的HTML或XHTML文档上。为避免这一点，favicon.ico文件应置于根目录下。多数浏览器将自动检测并使用它。 <br><br>建议包含以下两行HTML代码:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"http://example.com/favicon.ico"</span> <span class="attr">type</span>=<span class="string">"image/vnd.microsoft.icon"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"http://example.com/favicon.ico"</span> <span class="attr">type</span>=<span class="string">"image/vnd.microsoft.icon"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然而，只有第一行是必须的，因为“shortcut icon”字符串将被多数遵守标准的浏览器识别为列出可能的关键词（“shortcut”将被忽略，而仅适用“icon”）；而Internet Explorer将会把它作为一个单独的名称（“shortcut icon”）。这样做的结果是所有浏览器都可以理解此代码。只有当希望为新浏览器提供另一种备用图像（例如动画GIF）时，才有必要添加第二行。</p><h3 id="3-关于type属性">3. 关于type属性</h3><p>图像通常可以使用任何被浏览器支持的图像格式。<br><br>.ico文件格式通常可以被所有可以显示favicon的浏览器读取。 <br><br>设置服务器，以发送正确的MIME标识： <br><br>1，ICO 文件 image/vnd.microsoft.icon（或者亦可出于兼容性原因使用image/x-icon。然而最好使用IANA注册的MIME类型，因为多数主流浏览器现在支持它） <br><br>2，GIF 文件 image/gif <br><br>3，PNG 文件 image/png <br><br>4，ICO：包括多种分辨率（最常使用的是16×16和32×32，Mac OS X有时使用64×64和128×128）以及位深（比特每像素）（多数使用4、8、24 bpp，即16、256和1600万色）。 <br><br>5，GIF: 使用16×16，256色。 <br><br>6，PNG: 使用16×16，256色或24位。 <br><br>注意：当favicon.ico被置于文档根目录时，将会被一些不处理link元件的浏览器找到，即使没有您的站点上没有指向它的链接。</p><h3 id="4-相关历史">4. 相关历史</h3><p>Favicon功能最早由微软创设，而微软公司的Internet Explorer网页浏览器会对每一个网站都请求favicon。微软支持的link标签不遵从World Wide Web Consortium（W3C，万维网联盟）的HTML建议[1]，因为：rel属性必须包含一个用空格作分隔符的link类型的列表，所以一个包含两词的link类型不能被遵守标准的浏览器理解。</p><p>“.ico”文件类型（一种用于Microsoft Windows上图标的光栅格式）没有一个注册的MIME类型，而且似乎在当时也不能被多数浏览器理解。然而2003年，这一格式在IANA获得注册，其 MIME类型是image/vnd.microsoft.icon，进而消除了此问题的第一部分。</p><p>在网站上使用保留地址与互联网的结构矛盾，同时被认为是link squatting（链接劫持）或URI squatting（URI劫持）。</p><p>Mozilla浏览器通过一种遵从Web标准的方法添加了对favicon的支持。它采用rel=&quot;icon&quot;并允许网络设计人员添加任何支持的图像格式的favicon。例如</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> <span class="attr">href</span>=<span class="string">"/path/image.png"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>后来鉴于此功能将被用于所有新内容，多数浏览器都对此功能增加了支持。</p><h2 id="三-制作favicon-ico">三、制作favicon.ico</h2><h3 id="1-favicon-ico在线制作网站：http-www-faviconico-org">1. favicon.ico在线制作网站：<a href="http://www.faviconico.org/" target="_blank" rel="noopener">http://www.faviconico.org/</a></h3><p><strong>favicon.ico在线制作，在线Favicon.ico制作转换工具</strong>：<a href="http://www.faviconico.org/" target="_blank" rel="noopener">http://www.faviconico.org/</a></p><p>网站介绍：</p><blockquote><h3 id="favicon转换工具介绍">favicon转换工具介绍</h3><p>ico图标在线转换工具能将png、jpg、gif等图片的格式转换成ico格式，帮您快速生成精美的ico图标。建议先绘制好您的图标并保存为我们支持的格式，然后用faviconico.org的ico转换工具转换成ico格式。</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20190729002407657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="2-为什么推荐使用该网站？">2. 为什么推荐使用该网站？</h3><p>（1）智能转换：将png、jpg、gif等图片的格式转换成ico格式。代码直接用这种<code>&lt;link rel=&quot;shortcut icon&quot; href=&quot;favicon.ico&quot; /&gt;</code>，不用考虑第二种。</p><p>（2）能够选择多种尺寸（5种，推荐32*32）。</p><p>（3）<span style="color:#f33b45;">预览，这个最牛逼</span>，就是你点击预览后，它会将该网页的图标换成你的图标，方便查看效果。</p><hr><p>第二部分内容参考：<a href="https://blog.csdn.net/weixin_40374953/article/details/82350940" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40374953/article/details/82350940</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> HTML </tag>
            
            <tag> favicon.ico </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git--拉取远程分支，git pull，git rebase，git pull --rebase的区别</title>
      <link href="/article/e15ec3e9.html"/>
      <url>/article/e15ec3e9.html</url>
      
        <content type="html"><![CDATA[<p>git pull 　　相当于自动的 fetch 和 merge 操作，会试图自动将远程库合并入本地库，在有冲突时再要求手动合并。 git rebase 　　可以确保生产分支commit是一个线性结构，方便rollback。其实生产也可以选择打tag来发布。 　　注：通过rebase可以…</p><a id="more"></a><h3 id="git-pull">git pull</h3><p>相当于自动的 fetch 和 merge 操作，会试图自动将远程库合并入本地库，在有冲突时再要求手动合并。</p><h3 id="git-rebase">git rebase</h3><p>可以确保生产分支commit是一个线性结构，方便rollback。其实生产也可以选择打tag来发布。</p><p>注：通过rebase可以确保主分支commit history线性结构上每个commit点都是相对独立完整的功能单元。除了美感，这样做也有助于团队间的分工协作，比随便merge效果好。</p><h3 id="git-pull-rebase-推荐用这个">git pull --rebase（推荐用这个）</h3><ol><li>把本地 repo. 从上次 pull 之后的变更暂存</li><li>恢复到上次 pull 时的状态</li><li>合并远端的变更到本地</li><li>最后再合并刚刚暂存下來的本地变更</li></ol><h3 id="git-fetch">git fetch</h3><p>只是将远程的文件拉下来，不会与本地的分支进行合并</p><hr><p>转自：<a href="http://www.cnblogs.com/syw20170419/" target="_blank" rel="noopener">http://www.cnblogs.com/syw20170419/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为什么要使用git pull --rebase？</title>
      <link href="/article/f6cf28fb.html"/>
      <url>/article/f6cf28fb.html</url>
      
        <content type="html"><![CDATA[<p>本文简述了使用<code>git pull --rebase</code>命令的好处。</p><a id="more"></a><h2 id="1-git-pull">1.git pull</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git pull = git fetch + git merge FETCH_HEAD </span><br><span class="line"></span><br><span class="line">git pull --rebase =  git fetch + git rebase FETCH_HEAD</span><br></pre></td></tr></table></figure><h2 id="2-merge-和-rebase">2.merge 和 rebase</h2><p>现在我们有这样的两个分支：test和master，提交如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D---E <span class="built_in">test</span></span><br><span class="line">      /</span><br><span class="line"> A---B---C---F--- master</span><br></pre></td></tr></table></figure><p>在master执行git merge test,然后会得到如下结果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D--------E</span><br><span class="line">      /          \</span><br><span class="line"> A---B---C---F----G---   <span class="built_in">test</span>, master</span><br></pre></td></tr></table></figure><p>在master执行git rebase test，然后得到如下结果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A---B---D---E---C‘---F‘---   <span class="built_in">test</span>, master</span><br></pre></td></tr></table></figure><p>merge操作会生成一个新的节点，之前的提交分开显示。<br><br>而rebase操作不会生成新的节点，是将两个分支融合成一个线性的提交。</p><h3 id="3-rebase好处">3.rebase好处</h3><p>想要更好的提交树，使用rebase操作会更好一点。<br><br>这样可以线性的看到每一次提交，并且没有增加提交节点。</p><p>merge 操作遇到冲突的时候，当前merge不能继续进行下去。手动修改冲突内容后，add 修改，commit 就可以了。</p><p>而rebase 操作的话，会中断rebase,同时会提示去解决冲突。<br><br>解决冲突后,将修改add后执行git rebase –continue继续操作，或者git rebase –skip忽略冲突。</p><hr><p>转自：GabrielPanda 的文章：<a href="https://www.jianshu.com/p/dc367c8dca8e" target="_blank" rel="noopener">https://www.jianshu.com/p/dc367c8dca8e</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git如何获取帮助（命令解释/命令详情）？</title>
      <link href="/article/d6188e79.html"/>
      <url>/article/d6188e79.html</url>
      
        <content type="html"><![CDATA[<p>使用git的过程中，经常会遇到命令打错，或者是参数弄错的情况，那有什么办法可以查看git帮助吗？这篇文章介绍了多种查看git的帮助文档的方法，总有一种适合你。</p><a id="more"></a><p>因为复制了比较多命令，比较占篇幅，一开始可以通过文章右边的“目录”栏选看主要内容，后面再研究这些命令。</p><h2 id="1-问题-如何获取git帮助？">1、问题–如何获取git帮助？</h2><p>使用git的过程中，经常会遇到命令打错，或者是参数弄错的情况，那有什么办法可以查看git帮助吗？</p><h2 id="2-贴心的git-总是在你需要时出现">2、贴心的git–总是在你需要时出现！</h2><h3 id="1-当你输错命令-它会给出建设性意见-很是贴心-就比如这样：">（1）当你输错命令，它会给出建设性意见，很是贴心！就比如这样：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git statu</span><br><span class="line">git: <span class="string">'statu'</span> is not a git <span class="built_in">command</span>. See <span class="string">'git --help'</span>.</span><br><span class="line"></span><br><span class="line">The most similar commands are</span><br><span class="line">        status</span><br><span class="line">        stage</span><br><span class="line">        stash</span><br></pre></td></tr></table></figure><h3 id="2-其次-其实我们直接输入git-就会输出相关命令-就像下面这样：">（2）其次，其实我们直接输入git，就会输出相关命令。就像下面这样：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">$ git</span><br><span class="line">usage: git [--version] [--<span class="built_in">help</span>] [-C &lt;path&gt;] [-c &lt;name&gt;=&lt;value&gt;]</span><br><span class="line">           [--<span class="built_in">exec</span>-path[=&lt;path&gt;]] [--html-path] [--man-path] [--info-path]</span><br><span class="line">           [-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare]</span><br><span class="line">           [--git-dir=&lt;path&gt;] [--work-tree=&lt;path&gt;] [--namespace=&lt;name&gt;]</span><br><span class="line">           &lt;<span class="built_in">command</span>&gt; [&lt;args&gt;]</span><br><span class="line"></span><br><span class="line">These are common Git commands used <span class="keyword">in</span> various situations:</span><br><span class="line"></span><br><span class="line">start a working area (see also: git <span class="built_in">help</span> tutorial)</span><br><span class="line">   <span class="built_in">clone</span>      Clone a repository into a new directory</span><br><span class="line">   init       Create an empty Git repository or reinitialize an existing one</span><br><span class="line"></span><br><span class="line">work on the current change (see also: git <span class="built_in">help</span> everyday)</span><br><span class="line">   add        Add file contents to the index</span><br><span class="line">   mv         Move or rename a file, a directory, or a symlink</span><br><span class="line">   reset      Reset current HEAD to the specified state</span><br><span class="line">   rm         Remove files from the working tree and from the index</span><br><span class="line"></span><br><span class="line">examine the <span class="built_in">history</span> and state (see also: git <span class="built_in">help</span> revisions)</span><br><span class="line">   bisect     Use binary search to find the commit that introduced a bug</span><br><span class="line">   grep       Print lines matching a pattern</span><br><span class="line">   <span class="built_in">log</span>        Show commit logs</span><br><span class="line">   show       Show various types of objects</span><br><span class="line">   status     Show the working tree status</span><br><span class="line"></span><br><span class="line">grow, mark and tweak your common <span class="built_in">history</span></span><br><span class="line">   branch     List, create, or delete branches</span><br><span class="line">   checkout   Switch branches or restore working tree files</span><br><span class="line">   commit     Record changes to the repository</span><br><span class="line">   diff       Show changes between commits, commit and working tree, etc</span><br><span class="line">   merge      Join two or more development histories together</span><br><span class="line">   rebase     Reapply commits on top of another base tip</span><br><span class="line">   tag        Create, list, delete or verify a tag object signed with GPG</span><br><span class="line"></span><br><span class="line">collaborate (see also: git <span class="built_in">help</span> workflows)</span><br><span class="line">   fetch      Download objects and refs from another repository</span><br><span class="line">   pull       Fetch from and integrate with another repository or a <span class="built_in">local</span> branch</span><br><span class="line">   push       Update remote refs along with associated objects</span><br><span class="line"></span><br><span class="line"><span class="string">'git help -a'</span> and <span class="string">'git help -g'</span> list available subcommands and some</span><br><span class="line">concept guides. See <span class="string">'git help &lt;command&gt;'</span> or <span class="string">'git help &lt;concept&gt;'</span></span><br><span class="line">to <span class="built_in">read</span> about a specific subcommand or concept.</span><br></pre></td></tr></table></figure><h3 id="3-有上面第三行可以看到：-git-help-a-and-git-help-g-试试呗">（3）有上面第三行可以看到：<strong>‘git help -a’ and ‘git help -g’，试试呗！</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">help</span> -a</span><br><span class="line">See <span class="string">'git help &lt;command&gt;'</span> to <span class="built_in">read</span> about a specific subcommand</span><br><span class="line"></span><br><span class="line">Main Porcelain Commands</span><br><span class="line">   add                  Add file contents to the index</span><br><span class="line">   am                   Apply a series of patches from a mailbox</span><br><span class="line">   archive              Create an archive of files from a named tree</span><br><span class="line">   bisect               Use binary search to find the commit that introduced a bug</span><br><span class="line">   branch               List, create, or delete branches</span><br><span class="line">   bundle               Move objects and refs by archive</span><br><span class="line">   checkout             Switch branches or restore working tree files</span><br><span class="line">   cherry-pick          Apply the changes introduced by some existing commits</span><br><span class="line">   citool               Graphical alternative to git-commit</span><br><span class="line">   clean                Remove untracked files from the working tree</span><br><span class="line">   <span class="built_in">clone</span>                Clone a repository into a new directory</span><br><span class="line">   commit               Record changes to the repository</span><br><span class="line">   describe             Give an object a human readable name based on an available ref</span><br><span class="line">   diff                 Show changes between commits, commit and working tree, etc</span><br><span class="line">   fetch                Download objects and refs from another repository</span><br><span class="line">   format-patch         Prepare patches <span class="keyword">for</span> e-mail submission</span><br><span class="line">   gc                   Cleanup unnecessary files and optimize the <span class="built_in">local</span> repository</span><br><span class="line">   gitk                 The Git repository browser</span><br><span class="line">   grep                 Print lines matching a pattern</span><br><span class="line">   gui                  A portable graphical interface to Git</span><br><span class="line">   init                 Create an empty Git repository or reinitialize an existing one</span><br><span class="line">   <span class="built_in">log</span>                  Show commit logs</span><br><span class="line">   merge                Join two or more development histories together</span><br><span class="line">   mv                   Move or rename a file, a directory, or a symlink</span><br><span class="line">   notes                Add or inspect object notes</span><br><span class="line">   pull                 Fetch from and integrate with another repository or a <span class="built_in">local</span> branch</span><br><span class="line">   push                 Update remote refs along with associated objects</span><br><span class="line">   range-diff           Compare two commit ranges (e.g. two versions of a branch)</span><br><span class="line">   rebase               Reapply commits on top of another base tip</span><br><span class="line">   reset                Reset current HEAD to the specified state</span><br><span class="line">   revert               Revert some existing commits</span><br><span class="line">   rm                   Remove files from the working tree and from the index</span><br><span class="line">   shortlog             Summarize <span class="string">'git log'</span> output</span><br><span class="line">   show                 Show various types of objects</span><br><span class="line">   stash                Stash the changes <span class="keyword">in</span> a dirty working directory away</span><br><span class="line">   status               Show the working tree status</span><br><span class="line">   submodule            Initialize, update or inspect submodules</span><br><span class="line">   tag                  Create, list, delete or verify a tag object signed with GPG</span><br><span class="line">   worktree             Manage multiple working trees</span><br><span class="line"></span><br><span class="line">Ancillary Commands / Manipulators</span><br><span class="line">   config               Get and <span class="built_in">set</span> repository or global options</span><br><span class="line">   fast-export          Git data exporter</span><br><span class="line">   fast-import          Backend <span class="keyword">for</span> fast Git data importers</span><br><span class="line">   filter-branch        Rewrite branches</span><br><span class="line">   mergetool            Run merge conflict resolution tools to resolve merge conflicts</span><br><span class="line">   pack-refs            Pack heads and tags <span class="keyword">for</span> efficient repository access</span><br><span class="line">   prune                Prune all unreachable objects from the object database</span><br><span class="line">   reflog               Manage reflog information</span><br><span class="line">   remote               Manage <span class="built_in">set</span> of tracked repositories</span><br><span class="line">   repack               Pack unpacked objects <span class="keyword">in</span> a repository</span><br><span class="line">   replace              Create, list, delete refs to replace objects</span><br><span class="line"></span><br><span class="line">Ancillary Commands / Interrogators</span><br><span class="line">   annotate             Annotate file lines with commit information</span><br><span class="line">   blame                Show what revision and author last modified each line of a file</span><br><span class="line">   count-objects        Count unpacked number of objects and their disk consumption</span><br><span class="line">   difftool             Show changes using common diff tools</span><br><span class="line">   fsck                 Verifies the connectivity and validity of the objects <span class="keyword">in</span> the database</span><br><span class="line">   gitweb               Git web interface (web frontend to Git repositories)</span><br><span class="line">   <span class="built_in">help</span>                 Display <span class="built_in">help</span> information about Git</span><br><span class="line">   instaweb             Instantly browse your working repository <span class="keyword">in</span> gitweb</span><br><span class="line">   merge-tree           Show three-way merge without touching index</span><br><span class="line">   rerere               Reuse recorded resolution of conflicted merges</span><br><span class="line">   show-branch          Show branches and their commits</span><br><span class="line">   verify-commit        Check the GPG signature of commits</span><br><span class="line">   verify-tag           Check the GPG signature of tags</span><br><span class="line">   whatchanged          Show logs with difference each commit introduces</span><br><span class="line"></span><br><span class="line">Interacting with Others</span><br><span class="line">   archimport           Import a GNU Arch repository into Git</span><br><span class="line">   cvsexportcommit      Export a single commit to a CVS checkout</span><br><span class="line">   cvsimport            Salvage your data out of another SCM people love to hate</span><br><span class="line">   cvsserver            A CVS server emulator <span class="keyword">for</span> Git</span><br><span class="line">   imap-send            Send a collection of patches from stdin to an IMAP folder</span><br><span class="line">   p4                   Import from and submit to Perforce repositories</span><br><span class="line">   quiltimport          Applies a quilt patchset onto the current branch</span><br><span class="line">   request-pull         Generates a summary of pending changes</span><br><span class="line">   send-email           Send a collection of patches as emails</span><br><span class="line">   svn                  Bidirectional operation between a Subversion repository and Git</span><br><span class="line"></span><br><span class="line">Low-level Commands / Manipulators</span><br><span class="line">   apply                Apply a patch to files and/or to the index</span><br><span class="line">   checkout-index       Copy files from the index to the working tree</span><br><span class="line">   commit-graph         Write and verify Git commit-graph files</span><br><span class="line">   commit-tree          Create a new commit object</span><br><span class="line">   <span class="built_in">hash</span>-object          Compute object ID and optionally creates a blob from a file</span><br><span class="line">   index-pack           Build pack index file <span class="keyword">for</span> an existing packed archive</span><br><span class="line">   merge-file           Run a three-way file merge</span><br><span class="line">   merge-index          Run a merge <span class="keyword">for</span> files needing merging</span><br><span class="line">   mktag                Creates a tag object</span><br><span class="line">   mktree               Build a tree-object from ls-tree formatted text</span><br><span class="line">   multi-pack-index     Write and verify multi-pack-indexes</span><br><span class="line">   pack-objects         Create a packed archive of objects</span><br><span class="line">   prune-packed         Remove extra objects that are already <span class="keyword">in</span> pack files</span><br><span class="line">   <span class="built_in">read</span>-tree            Reads tree information into the index</span><br><span class="line">   symbolic-ref         Read, modify and delete symbolic refs</span><br><span class="line">   unpack-objects       Unpack objects from a packed archive</span><br><span class="line">   update-index         Register file contents <span class="keyword">in</span> the working tree to the index</span><br><span class="line">   update-ref           Update the object name stored <span class="keyword">in</span> a ref safely</span><br><span class="line">   write-tree           Create a tree object from the current index</span><br><span class="line"></span><br><span class="line">Low-level Commands / Interrogators</span><br><span class="line">   cat-file             Provide content or <span class="built_in">type</span> and size information <span class="keyword">for</span> repository objects</span><br><span class="line">   cherry               Find commits yet to be applied to upstream</span><br><span class="line">   diff-files           Compares files <span class="keyword">in</span> the working tree and the index</span><br><span class="line">   diff-index           Compare a tree to the working tree or index</span><br><span class="line">   diff-tree            Compares the content and mode of blobs found via two tree objects</span><br><span class="line">   <span class="keyword">for</span>-each-ref         Output information on each ref</span><br><span class="line">   get-tar-commit-id    Extract commit ID from an archive created using git-archive</span><br><span class="line">   ls-files             Show information about files <span class="keyword">in</span> the index and the working tree</span><br><span class="line">   ls-remote            List references <span class="keyword">in</span> a remote repository</span><br><span class="line">   ls-tree              List the contents of a tree object</span><br><span class="line">   merge-base           Find as good common ancestors as possible <span class="keyword">for</span> a merge</span><br><span class="line">   name-rev             Find symbolic names <span class="keyword">for</span> given revs</span><br><span class="line">   pack-redundant       Find redundant pack files</span><br><span class="line">   rev-list             Lists commit objects <span class="keyword">in</span> reverse chronological order</span><br><span class="line">   rev-parse            Pick out and massage parameters</span><br><span class="line">   show-index           Show packed archive index</span><br><span class="line">   show-ref             List references <span class="keyword">in</span> a <span class="built_in">local</span> repository</span><br><span class="line">   unpack-file          Creates a temporary file with a blob<span class="string">'s contents</span></span><br><span class="line"><span class="string">   var                  Show a Git logical variable</span></span><br><span class="line"><span class="string">   verify-pack          Validate packed Git archive files</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Low-level Commands / Synching Repositories</span></span><br><span class="line"><span class="string">   daemon               A really simple server for Git repositories</span></span><br><span class="line"><span class="string">   fetch-pack           Receive missing objects from another repository</span></span><br><span class="line"><span class="string">   http-backend         Server side implementation of Git over HTTP</span></span><br><span class="line"><span class="string">   send-pack            Push objects over Git protocol to another repository</span></span><br><span class="line"><span class="string">   update-server-info   Update auxiliary info file to help dumb servers</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Low-level Commands / Internal Helpers</span></span><br><span class="line"><span class="string">   check-attr           Display gitattributes information</span></span><br><span class="line"><span class="string">   check-ignore         Debug gitignore / exclude files</span></span><br><span class="line"><span class="string">   check-mailmap        Show canonical names and email addresses of contacts</span></span><br><span class="line"><span class="string">   check-ref-format     Ensures that a reference name is well formed</span></span><br><span class="line"><span class="string">   column               Display data in columns</span></span><br><span class="line"><span class="string">   credential           Retrieve and store user credentials</span></span><br><span class="line"><span class="string">   credential-cache     Helper to temporarily store passwords in memory</span></span><br><span class="line"><span class="string">   credential-store     Helper to store credentials on disk</span></span><br><span class="line"><span class="string">   fmt-merge-msg        Produce a merge commit message</span></span><br><span class="line"><span class="string">   interpret-trailers   add or parse structured information in commit messages</span></span><br><span class="line"><span class="string">   mailinfo             Extracts patch and authorship from a single e-mail message</span></span><br><span class="line"><span class="string">   mailsplit            Simple UNIX mbox splitter program</span></span><br><span class="line"><span class="string">   merge-one-file       The standard helper program to use with git-merge-index</span></span><br><span class="line"><span class="string">   patch-id             Compute unique ID for a patch</span></span><br><span class="line"><span class="string">   sh-i18n              Git'</span>s i18n setup code <span class="keyword">for</span> shell scripts</span><br><span class="line">   sh-setup             Common Git shell script setup code</span><br><span class="line">   stripspace           Remove unnecessary whitespace</span><br><span class="line"></span><br><span class="line">External commands</span><br><span class="line">   flow</span><br><span class="line">   lfs</span><br><span class="line"></span><br><span class="line">Command aliases</span><br><span class="line">   logg                 <span class="built_in">log</span> --graph --pretty=oneline --abbrev-commit</span><br></pre></td></tr></table></figure><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">help</span> -g</span><br><span class="line"></span><br><span class="line">The common Git guides are:</span><br><span class="line">   attributes          Defining attributes per path</span><br><span class="line">   cli                 Git <span class="built_in">command</span>-line interface and conventions</span><br><span class="line">   core-tutorial       A Git core tutorial <span class="keyword">for</span> developers</span><br><span class="line">   cvs-migration       Git <span class="keyword">for</span> CVS users</span><br><span class="line">   diffcore            Tweaking diff output</span><br><span class="line">   everyday            A useful minimum <span class="built_in">set</span> of commands <span class="keyword">for</span> Everyday Git</span><br><span class="line">   glossary            A Git Glossary</span><br><span class="line">   hooks               Hooks used by Git</span><br><span class="line">   ignore              Specifies intentionally untracked files to ignore</span><br><span class="line">   modules             Defining submodule properties</span><br><span class="line">   namespaces          Git namespaces</span><br><span class="line">   repository-layout   Git Repository Layout</span><br><span class="line">   revisions           Specifying revisions and ranges <span class="keyword">for</span> Git</span><br><span class="line">   tutorial            A tutorial introduction to Git</span><br><span class="line">   tutorial-2          A tutorial introduction to Git: part two</span><br><span class="line">   workflows           An overview of recommended workflows with Git</span><br><span class="line"></span><br><span class="line"><span class="string">'git help -a'</span> and <span class="string">'git help -g'</span> list available subcommands and some</span><br><span class="line">concept guides. See <span class="string">'git help &lt;command&gt;'</span> or <span class="string">'git help &lt;concept&gt;'</span></span><br><span class="line">to <span class="built_in">read</span> about a specific subcommand or concept.</span><br></pre></td></tr></table></figure><h2 id="3-万能的git-想要啥都能出来">3、万能的git，想要啥都能出来！</h2><h3 id="1-我们先来看看官网的介绍的几种方法：">（1）我们先来看看官网的介绍的几种方法：</h3><blockquote><p>若你使用 Git 时需要获取帮助，有三种方法可以找到 Git 命令的使用手册：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">help</span> &lt;verb&gt;</span><br><span class="line">$ git &lt;verb&gt; --<span class="built_in">help</span></span><br><span class="line">$ man git-&lt;verb&gt;</span><br></pre></td></tr></table></figure><blockquote><p>这些命令很棒，因为你随时随地可以使用而无需联网。<br>转自：<a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E8%8E%B7%E5%8F%96%E5%B8%AE%E5%8A%A9" target="_blank" rel="noopener">git官网</a></p></blockquote><p>前两种都可以在Windows和Linux的git中使用，第三种man是Linux的。（我比较常用的是第二种，命令后面直接求帮助。）</p><h3 id="2-简单分析：">（2）简单分析：</h3><p>前两种命令的作用都是一样的：打开本地的离线文档（网页），我的文件文件地址是： [file:///G:/<span style="color:#f33b45;">Git/mingw64/share/doc/git-doc/</span>](file:///G:/{})，即在安装git的目录下的对应文件夹中，用命令直接打开。</p><p><img src="https://img-blog.csdnimg.cn/2019072820044192.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="3-演示一下：-git-status-help">（3）演示一下： git status --help</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzI4L2VsekFkZS5naWY" alt></p><hr><p>看完这篇博客你还怕找不到git说明吗？</p><p>划重点：<span style="color:#f33b45;">文档是全英文的</span>，如果英语不过关，一开始建议弄个翻译软件，中英换着看，不要一直看中文的，因为有些内容翻译和实际意思会有很大偏差的。习惯了，看英语就很流畅了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitignore忽略规则、语法、检查文件详解</title>
      <link href="/article/335536e6.html"/>
      <url>/article/335536e6.html</url>
      
        <content type="html"><![CDATA[<p>文章主要内容：Git 忽略规则优先级；Git 忽略规则匹配语法；常用匹配示例；.gitignore规则不生效问题处理。</p><a id="more"></a><h3 id="git-忽略规则优先级">Git 忽略规则优先级</h3><p>在 .gitingore 文件中，每一行指定一个忽略规则，Git 检查忽略规则的时候有多个来源，它的优先级如下（由高到低）：</p><ul><li>从命令行中读取可用的忽略规则</li><li>当前目录定义的规则</li><li>父级目录定义的规则，依次递推</li><li>$GIT_DIR/info/exclude 文件中定义的规则</li><li>core.excludesfile中定义的全局规则</li></ul><h3 id="git-忽略规则匹配语法">Git 忽略规则匹配语法</h3><p>在 .gitignore 文件中，每一行的忽略规则的语法如下：</p><ul><li>空格不匹配任意文件，可作为分隔符，可用反斜杠转义</li><li>开头的文件标识注释，可以使用反斜杠进行转义</li><li>! 开头的模式标识否定，该文件将会再次被包含，<strong>如果排除了该文件的父级目录，则使用 ! 也不会再次被包含</strong>。可以使用反斜杠进行转义</li><li>/ 结束的模式只匹配文件夹以及在该文件夹路径下的内容，但是不匹配该文件</li><li>/ 开始的模式匹配项目跟目录</li><li>如果一个模式不包含斜杠，则它匹配相对于当前 .gitignore 文件路径的内容，如果该模式不在 .gitignore 文件中，则相对于项目根目录</li><li>** 匹配多级目录，可在开始，中间，结束</li><li>? 通用匹配单个字符</li><li>[] 通用匹配单个字符列表</li></ul><h3 id="常用匹配示例">常用匹配示例</h3><ul><li>bin/: 忽略当前路径下的bin文件夹，该文件夹下的所有内容都会被忽略，不忽略 bin 文件</li><li>/bin: 忽略根目录下的bin文件</li><li>/*.c: 忽略 cat.c，不忽略 build/cat.c</li><li>debug/*.obj: 忽略 debug/io.obj，不忽略 debug/common/io.obj 和 tools/debug/io.obj</li><li>**/foo: 忽略/foo, a/foo, a/b/foo等</li><li>a/**/b: 忽略a/b, a/x/b, a/x/y/b等</li><li>!/bin/run.sh: 不忽略 bin 目录下的 <a href="http://run.sh" target="_blank" rel="noopener">run.sh</a> 文件</li><li>*.log: 忽略所有 .log 文件</li><li>config.php: 忽略当前路径的 config.php 文件</li></ul><h3 id="gitignore规则不生效">.gitignore规则不生效</h3><p>.gitignore只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。</p><p>解决方法就是先把本地缓存删除（改变成未track状态），然后再提交:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">'update .gitignore'</span></span><br></pre></td></tr></table></figure><p>你想添加一个文件到Git，但发现添加不了，原因是这个文件被<code>.gitignore</code>忽略了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git add App.class</span><br><span class="line"></span><br><span class="line">The following paths are ignored by one of your .gitignore files:</span><br><span class="line"></span><br><span class="line">App.class</span><br><span class="line"></span><br><span class="line">Use -f <span class="keyword">if</span> you really want to add them.</span><br></pre></td></tr></table></figure><p>如果你确实想添加该文件，可以用<code>-f</code>强制添加到Git：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add -f App.class</span><br></pre></td></tr></table></figure><p>或者你发现，可能是<code>.gitignore</code>写得有问题，需要找出来到底哪个规则写错了，可以用<code>git check-ignore</code>命令检查：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git check-ignore -v App.class</span><br><span class="line"></span><br><span class="line">.gitignore:3:*.class App.class</span><br></pre></td></tr></table></figure><p>Git会告诉我们，<code>.gitignore</code>的第3行规则忽略了该文件，于是我们就可以知道应该修订哪个规则了。</p><hr><p>转自：<a href="https://blog.csdn.net/zh854663752/article/details/83352285" target="_blank" rel="noopener">https://blog.csdn.net/zh854663752/article/details/83352285</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> gitignore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub release功能的使用及问题解决</title>
      <link href="/article/5ede3da2.html"/>
      <url>/article/5ede3da2.html</url>
      
        <content type="html"><![CDATA[<p>对很多初学者来说，要自己架设一个服务器来提供app更新，别说是配置服务器了，光是买个主机都很棘手。所幸的是github提供了release功能，并有相关api支持。下面就来说说如何使用github的release功能。</p><a id="more"></a><h2 id="创建release">创建release</h2><p>1.在repo的主页上，点击release，进入release界面 <br><img src="https://oss.yansheng.xyz/picgo/20160806212058689.jpg" alt="如图"></p><p>2.在release界面点选create a new release<br><img src="https://oss.yansheng.xyz/picgo/20160806212252504.jpg" alt="点击 create a new release"></p><p>3.填写相关信息，上传文件<br><img src="https://oss.yansheng.xyz/picgo/20160806212913205.jpg" alt="这里写图片描述"></p><p>4.publish release <br><img src="https://oss.yansheng.xyz/picgo/20160806213349988.jpg" alt="上传效果"></p><p>5.通过github官方提供的api可访问我们的release信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/repos/:owner/:repo/releases/:id</span><br></pre></td></tr></table></figure><p>例如：我的release的api是：<a href="https://api.github.com/repos/Yaobkun/FirstAPP/releases/latest" target="_blank" rel="noopener">https://api.github.com/repos/Yaobkun/FirstAPP/releases/latest</a></p><p>通过访问这个api可得到Json数据如下 :<br><img src="https://oss.yansheng.xyz/picgo/20160806213838135.jpg" alt="这里写图片描述"></p><p>最后，可同过解析这个Json数据获取版本信息，从而实现软件的更新。 接下来具体怎么做可参考Google搜索。</p><p>ps. 在第三步中勾选了pre-release（预发布版本）的话，api将获取不到数据，出现如下界面</p><p><img src="https://img-blog.csdnimg.cn/20190728182444706.png" alt></p><hr><p>转自：<a href="https://blog.csdn.net/Eggy2015/article/details/52138751" target="_blank" rel="noopener">https://blog.csdn.net/Eggy2015/article/details/52138751</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
            <tag> release </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git diff比较三大区域的内容：working tree,index,commit</title>
      <link href="/article/df618d03.html"/>
      <url>/article/df618d03.html</url>
      
        <content type="html"><![CDATA[<p>git diff 你会用了吗？如何比较三大区域的内容：working tree, index, commit？</p><a id="more"></a><h2 id="1-背景分析">1、背景分析</h2><p>学习git肯定知道git 比较常用的三大区域：工作树、暂存区、仓库。（虽然名字有多种版本，但是大意相同）</p><p>（配图：网上随便找的）</p><p><img src="https://img-blog.csdnimg.cn/20190728111534743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>而最先引起git关注的其实是暂存区，<span style="color:#f33b45;">只有进入暂存区，git才会认识你，把你当做“自己人”</span>。</p><h2 id="2-git-diff-如何比较三大区域的内容？">2、git diff 如何比较三大区域的内容？</h2><p>这里的比较不针对某个具体文件，只是大概念，对三个区域而言的比较。</p><p>正如上面1说讨论的，git diff 在不加参数的情况下，更多的关注的是<span style="color:#f33b45;">暂存区(已暂存文件 tracked files)的变化</span>。</p><p>注：下面内容的<span style="color:#f33b45;">文件改变</span>统一定义为：<span style="color:#f33b45;">文件被修改，或被移动、或被删除</span>。</p><p>（下面标题中的冒号‘:’，不是命令，仅仅是解释说明的作用。）</p><h3 id="2-1-git-diff-：比较工作树和暂存区-查看工作树中已暂存文件的变化-与是否提交至仓库无关">2.1 git diff ：比较工作树和暂存区，查看工作树中已暂存文件的变化，与是否提交至仓库无关。</h3><p><span style="color:#f33b45;">相当于:  <strong>git diff  working-tree(tracked files)   index(teacked files)</strong></span></p><p>情况分析：</p><p>（1）一个文件加入了暂存区，但是还没有提交到仓库，如果该文件改变了，git diff 就会显示文件的变化。</p><p>如下：黑色表示工作树文件、绿色表示暂存区。</p><p><img src="https://img-blog.csdnimg.cn/20190728132414444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>按照分析，如果1中该文件发生改变（如下），git diff会显示变动。</p><p><img src="https://img-blog.csdnimg.cn/20190728132740657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2）如果仅仅是工作树中未暂存文件(untracked files)的改变，git diff将没有任何显示。</p><p>像下面这样，git diff将没有任何显示。</p><p><img src="https://img-blog.csdnimg.cn/20190728132854154.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="2-2-git-diff-head：比较工作树和仓库-查看工作树中已暂存文件和仓库的变化-与修改文件是否加入暂存区无关">2.2 git diff HEAD：比较工作树和仓库，查看工作树中已暂存文件和仓库的变化，与修改文件是否加入暂存区无关。</h3><p>注：head指向最近一次的提交。</p><p><span style="color:#f33b45;">相当于:  <strong>git diff  working-tree(tracked files)   commit(tracked files)</strong></span></p><p>情况分析：</p><p>（1）一个文件已提交到仓库，如果该文件改变了，git diff head 就会显示文件的变化。</p><p>改变后还没有添加到暂存区，git diff head 就会显示文件的变化。</p><p><img src="https://img-blog.csdnimg.cn/20190728133556491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>改变后，添加到暂存区，git diff head 还是会显示文件的变化。</p><p><img src="https://img-blog.csdnimg.cn/20190728134130251.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2）如果仅仅是工作树中未暂存文件的改变，git diff head 将没有任何显示。</p><h3 id="2-3-git-diff-cached：比较暂存区和仓库-查看仓库文件在暂存区的变动">2.3 git diff --cached：比较暂存区和仓库，查看仓库文件在暂存区的变动。</h3><p><span style="color:#f33b45;">相当于:  <strong>git diff  index(teacked files)  commit(tracked files)</strong></span></p><p>情况分析：</p><p>一个文件已提交到仓库，如果该文件改变了，并且提交到暂存区时，git diff --cached 就会显示文件的变化。</p><p>如果改变后，还没有添加到暂存区，git diff --cached 将没有任何显示。</p><p><img src="https://img-blog.csdnimg.cn/20190728134130251.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h2 id="3-比较某个文件的变化">3、 比较某个文件的变化</h2><p>如果明白了上面的内容，这个就很简单了！因为上面比较三大区域的变化是没有加入文件路径参数的，那么默认是所有文件的变动，如果针对某个文件而言，只需要指出该文件路径即可。</p><p>例如：git diff file.txt，查看已加入暂存区的文件file.txt，如果文件在工作树中改变，就会显示变动情况，如果没有改变就不显示。</p><p>如果该文件都没有添加到暂存区，那么这个命令就没有意义。</p><h2 id="4-比较仓库之间的变化">4、比较仓库之间的变化</h2><p>提交后，就变成了仓库的历史版本，看名字就知道只是比较仓库，不存在暂存区和索引。</p><p>命令样式：<code>git diff [&lt;options&gt;] &lt;commit&gt; ... &lt;commit&gt; [ - ] [&lt;path&gt; ...]</code></p><p>举例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff sha1 sha2   <span class="comment">#比较哈希值为sha1 和哈希值为sha2的两个版本的仓库的区别</span></span><br></pre></td></tr></table></figure><p>如果比较某个文件只需要在后面加入路径就可以了。</p><hr><p>推荐阅读：官方文档：<a href="https://git-scm.com/docs/git-diff" target="_blank" rel="noopener">https://git-scm.com/docs/git-diff</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git push origin master和git push的区别</title>
      <link href="/article/e1dfa7f.html"/>
      <url>/article/e1dfa7f.html</url>
      
        <content type="html"><![CDATA[<p>git push是git push origin master的一种简写形式，推荐使用git push origin master。</p><a id="more"></a><p><strong>目录</strong></p><p><a href="#1%E3%80%81%24%20git%20push%20origin%20master%C2%A0%E6%8C%87%E5%AE%9A%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%90%8D%E5%92%8C%E5%88%86%E6%94%AF%E5%90%8D%E3%80%82">1、git push origin master 指定远程仓库名和分支名。</a></p><p><a href="#2%E3%80%81%24%20git%20push%C2%A0%E4%B8%8D%E6%8C%87%E5%AE%9A%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%90%8D%E5%92%8C%E5%88%86%E6%94%AF%E5%90%8D%E3%80%82">2、git push 不指定远程仓库名和分支名。</a></p><p><a href="#3.%20%E8%BF%99%E4%B8%A4%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A%EF%BC%88git%20push%E6%98%AFgit%20push%20origin%20master%E7%9A%84%E4%B8%80%E7%A7%8D%E7%AE%80%E5%86%99%E5%BD%A2%E5%BC%8F%EF%BC%89">3. 这两者的区别：git push是git push origin master的一种简写形式</a></p><p><a href="#%C2%A04.%20%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8%20git%20push%20origin%20master">4. 建议使用 git push origin master</a></p><hr><p>提交本地仓库到远程仓库的命令一般有下面这两种方法：</p><h3 id="1-span-style-color-f33b45-git-push-origin-master-span-指定远程仓库名和分支名">1、<span style="color:#f33b45;">git push origin master</span> 指定远程仓库名和分支名。</h3><blockquote><blockquote></blockquote></blockquote><blockquote><p>Form github:</p></blockquote><blockquote></blockquote><blockquote><p>Use <strong><code>git push</code></strong> to push commits made on your local branch to a remote repository.</p></blockquote><blockquote></blockquote><blockquote><p>The <strong><code>git push</code></strong> command takes two arguments:</p></blockquote><ul><li>A remote name, for example, <code>origin</code></li><li>A branch name, for example, <code>master</code></li></ul><blockquote></blockquote><blockquote><p>For example:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push  &lt;REMOTENAME&gt; &lt;BRANCHNAME&gt;</span><br></pre></td></tr></table></figure><blockquote></blockquote><blockquote><p>As an example, you usually run<span style="color:#f33b45;">$ <code>git push origin master</code></span> to push your local changes to your online repository.</p></blockquote><p></p><h3 id="2-span-style-color-f33b45-git-push-span-不指定远程仓库名和分支名">2、<span style="color:#f33b45;"><strong>git push</strong></span><strong>不</strong>指定远程仓库名和分支名。</h3><p>这个命令看起来好像比上面那个简单，但是却是“<strong>很模糊</strong>”的，很容易混淆！</p><p>不特定指出“远程仓库名和分支名”，一般是使用默认配置，配置文件(.git/config)相关内容为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[branch &quot;master&quot;]</span><br><span class="line">    remote = origin</span><br><span class="line">    merge = refs/heads/master</span><br></pre></td></tr></table></figure><p>这等于告诉git 2件事:<br><br>1，当你处于master branch, 默认的remote就是origin。</p><p>2，当你在master branch上使用 git pull 时，没有指定remote和branch，那么git就会采用默认的remote（也就是origin）来merge在master branch上所有的改变。</p><p>如果不想或者不会编辑config文件的话，可以在bush上输入如下命令行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config branch.master.remote origin</span><br><span class="line">$ git config branch.master.merge refs/heads/master</span><br></pre></td></tr></table></figure><hr><h3 id="3-这两者的区别：git-push是git-push-origin-master的一种简写形式">3. 这两者的区别：git push是git push origin master的一种简写形式</h3><p>（1）当只关联一个远程，只有一个分支时，这两个命令没什么区别。</p><p>（2）当你关联了两个多个仓库、有多个分支时，git push可能会报错，因为它不知道要上传代码到哪里去；</p><p>而git push origin master指定仓库和分支，就不会报错。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 比如关联两个仓库: github 和码云</span><br><span class="line"></span><br><span class="line">git remote add origin github-url</span><br><span class="line"></span><br><span class="line">git remote add gitee gitee-url</span><br><span class="line"></span><br><span class="line"># 分支有两个：master ，test-branch</span><br></pre></td></tr></table></figure><p>可能遇到的错误（注当前分支为test-branch）：新分支还没有关联远程仓库的故障</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git push</span><br><span class="line">fatal: The current branch test-branch has no upstream branch.</span><br><span class="line">To push the current branch and set the remote as upstream, use</span><br><span class="line"></span><br><span class="line">    git push --set-upstream origin test-branch</span><br></pre></td></tr></table></figure><p></p><p>如果本地分支都有关联远程仓库，而且有两个远程仓库，那么如果使用git push ，默认是使用你最近使用的那个远程仓库。</p><p></p><h3 id="4-建议使用-git-push-origin-master">4. 建议使用 git push origin master</h3><p>如果你想偷懒使用git pull，那么你就要保证你的绑定的远程仓库只有一个，并且只有一个分支。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 查看远程仓库的数量（简单信息）</span><br><span class="line">git remote -v</span><br><span class="line"></span><br><span class="line"># 查看某个远程仓库的具体信息，以origin为例：</span><br><span class="line">git remote show origin</span><br><span class="line"></span><br><span class="line"># 查看分支信息</span><br><span class="line">git branch</span><br></pre></td></tr></table></figure><p></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为gitee添加公钥</title>
      <link href="/article/654a6472.html"/>
      <url>/article/654a6472.html</url>
      
        <content type="html"><![CDATA[<p>从git的远程服务器克隆、拉取等操作，有两种方式：一种是HTTPS，另一种是SSH。SSH是更安全的选择。为gitee添加公钥，这样就可以用SSH拉取。</p><a id="more"></a><p>设备：Windows10，git for window。</p><hr><p>从git的远程服务器克隆、拉取等操作，有两种方式：一种是HTTPS，另一种是SSH。SSH是更安全的选择。为gitee添加公钥，这样就可以用SSH拉取。</p><p><img src="https://img-blog.csdnimg.cn/20190430212432936.png" alt></p><p>如果没有设置公钥，就去克隆会提示如下错误：</p><blockquote><p>The authenticity of host ‘<a href="http://gitee.com" target="_blank" rel="noopener">gitee.com</a> (116.211.167.14)’ can’t be established.<br>ECDSA key fingerprint is SHA256:FQGC9Kn/eye1W8icdBgrQp+KkGYoFgbVr17bmjey0Wc.<br>Are you sure you want to continue connecting (yes/no)? yes<br>Warning: Permanently added ‘<a href="http://gitee.com" target="_blank" rel="noopener">gitee.com</a>,116.211.167.14’ (ECDSA) to the list of known hosts.<br><a href="mailto:git@gitee.com" target="_blank" rel="noopener">git@gitee.com</a>: Permission denied (publickey).<br>fatal: Could not read from remote repository.</p></blockquote><h2 id="步骤">步骤</h2><h3 id="1-本机生成秘钥-公钥">1.本机生成秘钥、公钥</h3><p>先找到：系统文件夹里面的<span style="color:#f33b45;">C:\Users\具体用户名.ssh</span>文件夹，里面有三个文件，第一个是秘钥，第二个是公钥，第三个可识别的主机名（就是网站网址，如github/gitee）</p><p><img src="https://img-blog.csdnimg.cn/20190430212917698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><hr><p><strong>补充</strong>：如果还没有生成该文件，可通过一下命令生成：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Generating public/private rsa key pair...</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"xxxxx@xxxxx.com"</span></span><br></pre></td></tr></table></figure><p>按照提示完成三次回车，即可生成 ssh key。</p><p><img src="https://img-blog.csdnimg.cn/20190728101523696.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>通过查看 <code>~/.ssh/id_rsa.pub</code> 文件内容，获取到你的 public key：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><h3 id="2-远程配置公钥">2.远程配置公钥</h3><p>将<span style="color:#f33b45;">C:\Users\具体用户名.ssh\id_rsa.pub</span>里面的内容添加到:gitee个人主页–》设置–》安全设置（SHH公钥）–》填到右边就可以了</p><p><img src="https://img-blog.csdnimg.cn/20190430213324307.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190430213332878.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>参考：<a href="https://gitee.com/help/articles/4181#article-header0" target="_blank" rel="noopener">https://gitee.com/help/articles/4181#article-header0</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>什么是随笔？</title>
      <link href="/article/792be839.html"/>
      <url>/article/792be839.html</url>
      
        <content type="html"><![CDATA[<p>转自：<a href="https://baike.baidu.com/item/%E9%9A%8F%E7%AC%94/4153?fr=aladdin" target="_blank" rel="noopener">百度百科</a></p><p>注意查看：右下角是否有显示文章标题。</p><hr><h3 id="随笔的定义">随笔的定义</h3><p>随笔，顾名思义：随笔一记，是散文的一个分支，是议论文的一个变体，兼有议论和抒情两种特性，通常篇幅短小，形式多样，写作者惯常用各种修辞手法曲折传达自己的见解和情感，语言灵动，婉而多讽，是言禁未开之社会较为流行的一种文体。随笔作为一种文学样式，是由法国散文家蒙田所创的。</p><a id="more"></a><p>通常指一种散文体裁，随手笔录，抒情、叙事或评论不拘，篇幅短小。或指听课、读书时所作的记录。</p><h3 id="引证解释编辑">引证解释编辑</h3><p>1．犹言随手下笔。鲁迅 《集外集拾遗·&lt;铁流&gt;编校后记》：“觉得译文很笨拙，而且怕有错字、脱字，望看的时候随笔代为改正一下。”<br>2．一种灵活随便的笔记或文体。宋 洪迈《&lt;容斋随笔&gt;序》：“意之所之，随即纪录，因其后先，无复诠次，故目之曰随笔。”<br>3．一种散文体裁。篇幅短小，表现形式灵活自由，可以抒情、叙事或评论。鲁迅《书信集·致李小峰》：“我们几个人在选我的随笔，从《坟》起到《二心》止。”</p><h3 id="写作要点">写作要点</h3><p>随笔这类文章，或讲述文化知识，或发表学术观点，或评析世态人情，启人心智，引人深思。在写法上，它们往往旁征博引，而不作理论性太强的阐释，行文缜密而不失活泼，结构自由而不失谨严，因此，富有“理趣”是它们的突出特色。</p><p>阅读这类文章，要整体把握文章的内容和风格，提炼作者的主要观点品味妙语佳句，还要敢于发表自己的见解。</p><p>随笔是散文的一种，写随笔就像与邻家谈心般轻松，没有任何的负担，没有华丽的词藻，没有严密的结构。随笔的形式可以不受体裁的限制，灵活多样，不拘一格，可以观景抒情；可以睹物谈看法；可以读书谈感想；可以一事一议，也可以对同类事进行综合议论。随笔也不受字数的限制，短的几十字，长的几百字，篇幅长短皆由内容而定。</p><p>写随笔最重要的是要表达出写作的意图：或者是一种快乐的心情，或者是一点小感悟，或者是一个新观点……总之，随笔之“随”字，正是突出了其如同邻家大婶般亲切与平易近人的特点。</p><p>生活随笔就是日常生活中心情、感悟、新观点、新发现……生活如浩瀚的大海，博大宽广，时时处处事事都可以写成文章。</p><p>“五四”新文学时代，现代随笔的创作繁荣一时，但“随笔”的命名与内涵尚未及统一，随笔这一文体便被左翼文学排斥至文学边缘。这给当代随笔的文体研究带来了一定困难。从现代随笔的滥觞、朱自清的“散文观”、周作人和鲁迅的“随笔观”等角度入手，在现代散文众多的命名中寻找随笔的源头，以期为当代随笔的发展提供可资借鉴的依据。</p><h3 id="分类">分类</h3><h4 id="记叙性随笔">记叙性随笔</h4><p>记叙性随笔大多取材于日常生活中的片断或作者的偶然经历，基本内容是叙事写人。随笔的主旨是写情见性，它的抒写往往融入作者的主观感受，有时直截了当说出，有时是隐藏在文字背后；它描写的往往是人人类似经历的平凡小事，但经过你仔细体味后，会使你察觉世俗风情、感悟人生道理。</p><h4 id="议论性随笔">议论性随笔</h4><p>这类随笔又叫“随感”或“杂感”。所谓“随”，有随手记下而非刻意为文之义；所谓“杂”，是指内容广泛，包罗万象，大至社会问题、人生哲理，小至身边琐事，风花雪月，鸟虫宠物，校园风情，学习心得，书籍品评，亲人友人，无可不写。但随笔的重点还是个“感”字，作者要有感而发，哪怕是一点思考、一点感受、一点闪光的意念都可带到文章中去，不摆做文章的架子，保持一种随意漫谈的风格。</p><h4 id="说明性随笔">说明性随笔</h4><p>黎先耀写人和自然关系的随笔《天之骄子》，着笔于形态各异的自然景观，表达自己热爱大自然的情趣，着力加强人们的生态意识。因此，说明性随笔不同于纯粹的说明文，它看重的是事物中的意趣，带有鉴赏的性质，有时则借物抒怀，另有寄托。模山范水，往往以片断的文字，把大自然的千姿百态准确形象地描绘出来。练习这类随笔，要以精细而敏锐的观察力，捕捉到事物特色的生命，笔调轻灵，不刻意为文。正如王国维所说的那样：“以我观物，故物皆著我之色彩。”</p><h3 id="技巧">技巧</h3><h4 id="随手">随手</h4><p>随笔中涉及的往往是一些即时发生的事件和看到事件当时产生的想法，那种想法也有点火花闪动似，所以需要及时捕捉，记录下来。因为扔了一段时间之后，您对事件的记忆可能就不那么清晰了，故事就很难说得完整，思想的火花可能也消失不见了。所以要养成随手写的习惯，如果能坚持记教育日记，那么您会发现那其中有很多您可能已经不太记得的事，但是在当时它是如何地让您受到震动。</p><h4 id="随便">随便</h4><p>随笔没有什么格式的要求，不需要有什么论点论据,文字也可长可短，如果用200字就能把您想说的话说清楚了，也不一定要凑到1000字.如果您没想好这件事说明了什么，但是这件事却让您有所触动，不说不快，您也不必硬憋着，要找什么理论做依托，您可以把事情写出来，让读者自己去理解。</p><h4 id="随心">随心</h4><p>这里讲的随心有两层意思，一是随心所欲，没有太多的限制；二是笔要随脑.文章是笔写出来的，但却是大脑想出来的，所以随笔是笔要随脑。</p><h4 id="总结">总结</h4><p>随笔要想写好，必须有自己的独到之处，或是切入一个事件的角度不同于以往，或是自己的观点不同于常俗.这一切都需要我们有一双善于发现的眼睛，有一个善于思考的大脑，所以工作之中要注意观察.教师生活于学生之中，我们的工作对象是活生生的人，这就给我们提供了丰富的素材.每个孩子都是一本待读的书，和孩子的每一次倾心的谈话，都可以成为我们写作的素材.工作之余要读一点书，用心去思考一些新的教育理念的合理之处及与教育现实的结合点在哪里，所谓有正确的理念，才会有正确的眼光；有正确的眼光，才能有精彩的发现.</p><p>最重要一点是，要想写好随笔，关键还在于动笔，动笔写了，才能有好的随笔。</p><p>有了题材，如何得到一篇高质量的随笔你可能通常会觉得有话说不出说不好，这是因为尚缺乏理论积累，还不能从理论高度对手中的素材进行加工，整合，形成并表达出自己独到的视角.而这个至关重要的锤炼过程要求我们：<br>1．注重积累相关理论.理论积累并无任何捷径，只有平常扎扎实实地研读并作好摘抄,久而久之，再处理起素材来自然会得心应手。<br>2．认真解读他人随笔成果.一般报刊杂志上都有一些非常贴近我们工作实际的教学随笔，可以细细地分析一下它们是如何总结提炼得出自己观点的，久而久之，我们也会受到很大启发，感觉豁然开朗。</p><h3 id="例文编辑">例文编辑</h3><p>1．人的生命形态主要由许许多多细小的琐事组成，惊险奇特，英烈悲壮，可遇而不可求，是生活的非常态。平平凡凡，寻寻常常，随处皆是，是生活的常态。只有那些注目寻常琐事，并在其中能感发出无尽趣味来的人，他的心境必不至枯涩，他的心泉必不至干涸，而一旦弄笔写作便自然容易找到感觉，坠入境界，放任自由。对琐事不大放在心上的人，在平常生活中发现不了诗意的人，其人必定干枯无趣，其心必定顽劣粗糙，自然极难与笔墨有缘。<br>2．于今世界红尘滚滚，物欲汹汹，人心越来越浮躁，时尚越来越火爆，而写作恰恰需要细腻的心灵，素材偏偏多在生活的幽微平常之处。所以，身处现代，你选择写作，其实写作也在选择你。只有当你在生活中“步步留心，时时在意”的时候，你才能从平常的生活中感发出具有共鸣效应的整体情感，生发出启迪人智的哲理思考，也便有可能与写作结下一份良缘。应该说，绮语清词，嘉言华章是天地间早就有了的，它在随笔式的自由写作中最易被呈现出来，只是它需要凝神遐思，用心体味方能妙手偶得。<br>3．人总说永恒，期盼永恒，其实哪会有什么真正的永恒。人易朽，文字也易朽。如前所述，写作和其它种类的艺术一样，只是人的一种生命享受与精神自救。写作之初就心存“文章千古事”的觉悟与抱负的人，十有八九成不了写作的好手。用一颗善良之心，真诚之心去贴近平常的生活，从中感悟人生的真谛，触摸时代的脉搏，寻觅真善美的所在，并忠实地将其诉诸笔端，这才是我们生活随笔写作的正途。把发生在生活中的点点滴滴，记录下来，没有日记那么详细。</p>]]></content>
      
      
      <categories>
          
          <category> Daily </category>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git错误 fatal. Not a valid object name. ’master’.</title>
      <link href="/article/3fc47654.html"/>
      <url>/article/3fc47654.html</url>
      
        <content type="html"><![CDATA[<p>想新建立一个分支时出现这错误。后来发现，要先commit一次才会真正建立master分支，此时就可以新建立分支了。一般都是新建项目会遇到这样的问题。</p><a id="more"></a><h3 id="git-错误-fatal-not-a-valid-object-name-master">git 错误 fatal: Not a valid object name: ‘master’.</h3><p>想新建立一个分支时出现这错误。</p><p>后来发现，要先commit一次才会真正建立master分支，此时就可以新建立分支了。</p><p>一般都是新建项目会遇到这样的问题。</p><hr><p>除了这篇转发的文章，推荐stackoverflow相关内容：<a href="https://stackoverflow.com/questions/9162271/fatal-not-a-valid-object-name-master" target="_blank" rel="noopener">https://stackoverflow.com/questions/9162271/fatal-not-a-valid-object-name-master</a>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>the first blog writtern by hexo</title>
      <link href="/article/7322d22a.html"/>
      <url>/article/7322d22a.html</url>
      
        <content type="html"><![CDATA[<p>Hello hexo.</p><p><img src="https://s2.ax1x.com/2019/07/22/ePNgBV.jpg" alt="hello-world"></p><a id="more"></a><p>使用hexo写的第一篇博客。</p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yilia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML“返回上一页” 无效的原因</title>
      <link href="/article/6c95d5a0.html"/>
      <url>/article/6c95d5a0.html</url>
      
        <content type="html"><![CDATA[<p>兜兜转转这么久，总算是解决了，之前还以为是 <code>javascript:window.history.go(-1);return false;</code>的浏览器兼容性问题，看来不是，仅仅是字符编码问题，真的是要郁闷死了。</p><a id="more"></a><h2 id="一-问题描述-背景">一、问题描述（背景）</h2><p>（工具：myeclipse10.7，工作空间编码UTF-8，HTML字符集UTF-8，Chrome）</p><p>为了实现返回上一页的效果，我写的代码是：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"url"</span> ο<span class="attr">nclick</span>=<span class="string">"javascript:window.history.go(-1);return false;"</span>&gt;</span>返回上一个页面<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>但是去发现没有生效，回不去，不知道怎么回事？然后我去百度找了很多资料，各种情况都有；很多是说：“因为浏览器处理不同，需要加上return false;”，（return false是为了禁用href属性）但是我的加了都没效果!</p><h2 id="二-探索">二、探索</h2><h3 id="2-1-自己摸索">2.1 自己摸索</h3><p>既然百度没有给我答案，那还得靠自己。</p><p>因为我怀疑是我的英文拼写出错了，所以我就把其他页面的相同语句复制过来，如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"url"</span> ο<span class="attr">nclick</span>=<span class="string">"javascript:window.history.go(-1);return false;"</span>&gt;</span>返回上一个页面<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"url"</span> <span class="attr">onclick</span>=<span class="string">"javascript:window.history.go(-1);return false;"</span>&gt;</span>javascript:window.history.go(-1);return false;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里看起来没什么不一样，但是在我的编辑器里面却差的有点远！！</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzIwL1p6Q3ZFbi5qcGc" alt></p><p>如上图，两行代码字体风格都不一样……咋这么秀呢？？？然后第一行左侧有警告，第二行没有！！！</p><p>看了下警告是onclick，我把鼠标分别放在这两行的onclick上，编辑器提示是不一样的，如下：</p><blockquote><p>第一行：</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Multiple annotations found at this line:</span><br><span class="line">    - Undefined attribute name </span><br><span class="line">     (οnclick).</span><br><span class="line">    - Undefined attribute name </span><br><span class="line">     (οnclick).</span><br></pre></td></tr></table></figure><blockquote><p>第二行：</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Attribute : onclick</span><br><span class="line">Data Type : EVENT</span><br></pre></td></tr></table></figure><p>其实第一行的警告还是挺常见的，因为IDE是myeclipse10.7，有点年代了，经常会识别HTML5 的标签，所以我也没有特别去注意这个问题。我关注的是为什么这两行代码的onclick会显示不一样？？</p><p>我去浏览器实际运行了下，发现，正如IDE警告一样，第一行不能实现“返回上一页”，第二行却可以！！灵异事件，太诡异！！</p><h3 id="2-2-求助大佬">2.2 求助大佬</h3><p>虽然我发现了这两行代码有所不同，但是却还是不知所以，毫无办法。因此又去<strong>StackOverflow</strong>问人，然后有大佬说是编码问题，如下图：</p><p><img src="https://img-blog.csdnimg.cn/20190720140508308.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>看完后我若有所思，去看了下我再<strong>StackOverflow</strong>发的示例代码：请注意我全出来的红色部分！</p><p><img src="https://img-blog.csdnimg.cn/20190720140659433.png" alt></p><p>这里的代码是用markdown语言写的，内容是直接从IDE复制过来，这里就显示了不同。加之根据大佬的回答可知<span style="color:#f33b45;">是onclick中的字母o的问题</span>，第一行是UTF-8格式的，第二行的是ASCII格式的，所以IDE里面会报警告。看到这里我恍然大悟，突然想起之前也有去网址复制别人代码，然后出现类似问题的情况，之前的是标签之前的空格的格式是不一样的，然后IDE直接就报错了，而不是警告；而这里是在标签里面，形式上像是标签的属性，但是因为onclick中的字母o的编码问题，所以直接将这个属性是未标记的属性，仅仅是报警告。</p><h2 id="三-总结：">三、总结：</h2><p>兜兜转转这么久，总算是解决了，之前还以为是 <code>javascript:window.history.go(-1);return false;</code> 的浏览器兼容性问题，看来不是，仅仅是字符编码问题，真的是要郁闷死了。</p><p>收获：复制代码到编辑器，很容易出现编码问题，是因2种编码不一致造成的，很多时候从网页复制出来的也是这样。如果代码不多的话，最好自己敲下来。</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6种比较好的“在线图片无损压缩工具”+PDF转换工具</title>
      <link href="/article/dd5e02db.html"/>
      <url>/article/dd5e02db.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章分享了6种比较好的“在线图片无损压缩工具”和一种PDF转换工具，简单介绍了优缺点，你可以选择自己喜欢的进行尝试。</p><a id="more"></a><h3 id="第一：tinypng">第一：Tinypng</h3><p>地址：<a href="https://tinypng.com/" target="_blank" rel="noopener">https://tinypng.com/</a></p><p>这款工具我实在是太喜欢了，经常用到，最大限度的做到对画质无损的进行压缩。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3L2YyZTU0ZDI2YjI0ZTRkM2ZhNzE4NDBlZjIzZjk1YzAyLmpwZw" alt></p><p><span style="color:#f33b45;">这个工具同时支持对JPG和PNG的压缩。</span></p><p>Tinypng也支持Wordpress和magento的使用。</p><p>Wordpress插件下载：<a href="https://wordpress.org/plugins/tiny-compress-images/" target="_blank" rel="noopener">https://wordpress.org/plugins/tiny-compress-images/</a></p><p>Magento的拓展工具：<a href="http://suo.im/2oZEMl" target="_blank" rel="noopener">http://suo.im/2oZEMl</a></p><h3 id="第二：compressor-io">第二：<a href="http://Compressor.io" target="_blank" rel="noopener">Compressor.io</a></h3><p>地址：<a href="https://compressor.io/compress" target="_blank" rel="noopener">https://compressor.io/compress</a></p><p>使用Compressor很简单，只要上传图片就可以自动的压缩</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3LzExZmU0MDU4YjhiNjQ5NjM5YjI2ZDQzNTZmMzY5YTNhX3RoLmpwZw" alt></p><p>如图所示，压缩之后的图片还可以保存在Google Drive 或者是Dropbox 上，这非常的方便。</p><p>另外Compressor支持压缩下面几种格式的照片：<strong>JPEG、PNG、GIF、SVG.</strong></p><h3 id="第三：kraken-io">第三：<a href="http://Kraken.io" target="_blank" rel="noopener">Kraken.io</a></h3><p>工具地址：<a href="https://kraken.io/web-interface" target="_blank" rel="noopener">https://kraken.io/web-interface</a></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3L2M1MWYyODlkZDgzNzRiODlhNjYxYjNkODg0MzdjODc2LmpwZw" alt></p><p>这个工具也是我常用的，我很喜欢他的一个功能是，你可以把Zip中的文件一次性导入到工具中进行压缩，同时它支持不同的格式同时进行压缩，如下图所示：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3L2YyMDYyNmVmMjAwZDRkYzY4YmQwZWU1YTAyYjhmNjkzX3RoLmpwZw" alt></p><h3 id="第四：giftofspeed">第四：Giftofspeed</h3><p>JPG压缩：<a href="https://www.giftofspeed.com/jpg-compressor/" target="_blank" rel="noopener">https://www.giftofspeed.com/jpg-compressor/</a></p><p>PNG压缩：<a href="https://www.giftofspeed.com/png-compressor/" target="_blank" rel="noopener">https://www.giftofspeed.com/png-compressor/</a></p><p>Giftofspeed相对上面几款工具来说，<span style="color:#f33b45;">单独的把JPG，PNG分开来测试</span>，这个我觉得很麻烦。</p><p>但是Giftofspeed有一些功能是我很喜欢的，比如下图，你可以输入你的网址，然后这个工具会建议你对图片进行优化，这样你就可以发现很多问题。</p><p>测试地址：<a href="https://www.giftofspeed.com/image-delivery/" target="_blank" rel="noopener">https://www.giftofspeed.com/image-delivery/</a></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3L2RlODc1M2E0YTA0ODRiZDZiMmVkNzRlOGViYWJhNGY5X3RoLmpwZw" alt></p><p>另外Giftofspeed 其实还提供了很多有用的工具，几乎能一站的检测你的网站，</p><p>地址：<a href="https://www.giftofspeed.com/tools/" target="_blank" rel="noopener">https://www.giftofspeed.com/tools/</a></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3L2M3ZTg0OWUyZGNmNjQxNDBhZjMzMWM2MWFjYTlhNGQ1X3RoLmpwZw" alt></p><h3 id="第五：-optimizilla">第五： OptimiZilla</h3><p>地址：<a href="http://optimizilla.com/" target="_blank" rel="noopener">http://optimizilla.com/</a></p><p>这个工具可以批量上传和批量压缩图片，一次可以上传20张图片；</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3L2UxMDU1MTQ5ODE5YTQ3NjQ4ODdiNzk0OWM3MDhmYjlkX3RoLmpwZw" alt></p><p>这个工具还有一个比较有意思的功能是，他的压缩程度大小可以有你自己来调节，而且是尽量的不改变画质，如上图所示，你可以看到 Quaility的条件按钮。</p><h3 id="第六：imagerecycle">第六：Imagerecycle</h3><p>工具地址：<a href="https://www.imagerecycle.com/" target="_blank" rel="noopener">https://www.imagerecycle.com/</a></p><p><span style="color:#f33b45;">这个工具可以对图片和PDF进行压缩，同时他也提供了对网站进行分析，只要你输入URL就可以得出报告。</span></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5tcC5pdGMuY24vdXBsb2FkLzIwMTcwNjE3LzYwNTY2ZjFlMzIwOTQ0MTc4ZmRhNWRmZTY5MDg0YWJiX3RoLmpwZw" alt></p><p>上面这几款图片优化工具是我比较常用的，我自己做网站，或者博客，在上传图片的时候，必须要优化一遍才可以上传，长此以往，会为你的网站省很多空间有利于网站打开速度的提高。</p><h3 id="第七：-pdf转换工具-toepub">第七：（PDF转换工具）ToePub</h3><p>地址：<a href="http://toepub.com/" target="_blank" rel="noopener">http://toepub.com/</a></p><p>最后再介绍一款，我觉得很强大的工具，这款工具很牛，可以把PDF，转化成各种格式，如Pdf转换成DOC,DOCX,TEX,JPG,PNG。也可以把各种格式转换成PDF….</p><p><img src="https://img-blog.csdnimg.cn/20190928235048899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><hr><p>转自：<a href="https://blog.csdn.net/qq_41761551/article/details/81026184" target="_blank" rel="noopener">https://blog.csdn.net/qq_41761551/article/details/81026184</a></p><p>注：排版等略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> 图片压缩 </tag>
            
            <tag> PDF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>取消“EditPlus自动生成备份文件”的功能</title>
      <link href="/article/5170a781.html"/>
      <url>/article/5170a781.html</url>
      
        <content type="html"><![CDATA[<p>EditPlus默认设置会为修改文件生成备份文件，如果你不需要产生该备份文件，可以取消，具体步骤为：工具–&gt;参数设置–&gt;文件–&gt;取消勾选“保存时创建备份文件”（最好也取消勾选“自动保存为*.tmp文件”）。</p><a id="more"></a><p>之前在使用EditPlus编辑器编辑文本时，发现会自动在文件所在目录生成一个.bak文件（如下图），去查了下这个后缀，发现是备份文件，即如果是误删或者是修改错了原文件，可以用该备份文件恢复到上一次的状态（即上一次保存/ctrl+s的内容，故修改错了可恢复的前提是：不能ctrl+s；删除的话是没有影响的），去掉.bak后缀即为上次保存的文本，里面内容即为上次保存的内容。</p><p><img src="https://img-blog.csdnimg.cn/20190717125349218.png" alt></p><p>如果你不需要产生该备份文件，可以取消，具体步骤为：<span style="color:#f33b45;">工具–&gt;参数设置–&gt;文件–&gt;取消勾选“保存时创建备份文件”（最好也取消勾选“自动保存为*.tmp文件”）</span>，如下图：<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzE3L1pxT3BKUC5qcGc?x-oss-process=image/format,png" alt></p><p>动图：<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzE3L1pxejJNNi5naWY" alt></p><p>end……</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> EditPlus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关闭“MyEclipse自启后，Maven自动更新”的功能</title>
      <link href="/article/a0cb3217.html"/>
      <url>/article/a0cb3217.html</url>
      
        <content type="html"><![CDATA[<p>因为之前有新建过Maven项目，所以启动IDE后会自动更新Maven的索引，很慢、很耗内存，有时候还要好久，甚至卡死；但是我们又不是每次打开IDE都是为了Maven项目，所以很有必要关闭这个自启更新设置。</p><a id="more"></a><p>下面是myeclipse10的关闭该设置的具体操作（注：不同版本可能略有区别，可以直接搜Maven）：</p><p><span style="color:#f33b45;">Windows–&gt;Preferences–&gt;MyEclipse–&gt;Maven4MyEclipse</span>–&gt;取消勾选“Download repository index updates on startup”和“Update Maven projects on startup”。</p><p>如下图：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDE5LzA3LzE3L1pxNXBHUS5qcGc?x-oss-process=image/format,png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三种思路实现自定义404页面</title>
      <link href="/article/573937ea.html"/>
      <url>/article/573937ea.html</url>
      
        <content type="html"><![CDATA[<p>目录 一、如何定义404： 二、三种思想 2.1 重写noHandlerFound方法： 2.2 利用Spring MVC的最精确匹配： 2.3 利用web容器提供的error-page： 三、比较三种方式的区别。</p><a id="more"></a><h2 id="一-如何定义404：">一、如何定义404：</h2><p>404，说白了就是找不到页面，那么如何定义“找不到”呢？</p><p>我们可以通过源代码来看看Spring MVC如何定义“404”的：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Determine handler for the current request.</span></span><br><span class="line">mappedHandler = getHandler(processedRequest, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (mappedHandler == <span class="keyword">null</span> || mappedHandler.getHandler() == <span class="keyword">null</span>) &#123;</span><br><span class="line">    noHandlerFound(processedRequest, response);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>getHandler是根据请求的url，通过handlerMapping来匹配到Controller的过程。</p><p>如果匹配不到，那么就执行noHandlerFound方法。这个方法很简单，返回一个404的错误代码。</p><p>我们的Web容器，比如tomcat，会根据这个错误代码来生成一个错误界面给用户。</p><p>那么，我们如何自定义这个界面呢？</p><h2 id="二-三种思想">二、三种思想</h2><h3 id="2-1-重写nohandlerfound方法：">2.1 重写noHandlerFound方法：</h3><p>最先想到的肯定是重写noHandlerFound方法，这个方法是protected，可以重写。</p><p>我们需要将页面重定向到我们自定义的404界面，那么只需要</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">noHandlerFound</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    response.sendRedirect(request.getContextPath() + <span class="string">"/notFound"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里我们的Controller里需要定义一个@requestMapping(&quot;/notFound&quot;)的这么一个方法，用来返回一个404页面</p><p>或者，这里应该可以采用直接访问静态文件的方法。</p><p>另外，也可以通过抛出一个异常NoSuchRequestHandlingMethodException。</p><p>这样我们就实现了自定义的404页面。那么，还有别的方法吗？</p><h3 id="2-2-利用spring-mvc的最精确匹配：">2.2 利用Spring MVC的最精确匹配：</h3><p>Spring MVC对于url的匹配采用的是一种叫做“最精确匹配的方式”，举个例子：</p><p>比如我们同时定义了“/test/a”, “/test/*”，那么若请求的url结尾为/test/a，那么则会匹配精确的那个，也就是&quot;/test/a&quot;</p><p>我们是不是可以利用这个特点来找到那些找不到的页面？</p><p>1、首先我们定义一个拦截所有url的规则<code>@RequestMapping(&quot;*&quot;)</code>，那么实际上不存在找不到的页面了，也就是永远不会进入noHandlerFound方法体内。</p><p>2、后面的步骤和平时一样，为别的请求都配置上<code>@RequestMapping</code>。</p><p>那么请求过来，要么进入我们精确匹配的method（也就是找的到的），要么。进入<code>@RequestMapping(&quot;*)</code>拦截的方法体内（也就是找不到的）。</p><p>那么我们只要让<code>@RequestMapping(&quot;*)</code>拦截的这个方法返回一个自定义的404界面就OK了~</p><h3 id="2-3-利用web容器提供的error-page：">2.3 利用web容器提供的error-page：</h3><p>还记得之前提到的web容器会提供一个404的默认界面吗？</p><p>其实我们完全可以替换成我们自己的界面，那么看起来这种方法应该是最简单的了。</p><p>只需要在web.xml文件中写上如下代码就可以了：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/resource/view/404.html<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure><p>不过值得注意的是，这里配置的的location其实会被当成一个请求来访问。</p><p>那么我们的<code>DispatcherServlet</code>会拦截这个请求而造成无法访问，此时的结果是用户界面一片空白。</p><p>所以这里的<code>404.html</code>其实是一个静态资源，我们需要用访问静态资源的方式去访问。</p><p>而在我的Spring MVC里，resource目录下的文件都是不会被拦截的。</p><h2 id="三-比较三种方式的区别：">三、比较三种方式的区别：</h2><p>1、最方便：那肯定是第三种了，我们只需要提供一个静态页面即可。<br>2、最快捷：第一种肯定最慢，因为它会发起2个请求。第二种和第三种应该差不多。<br>3、最灵活：从灵活性上来看，第三种肯定是最缺乏的，但是其实对于404来说并不是需要经常变化的，不过也保不准可能可以允许用户自定义404界面等，这里一、二两种方式则提供了灵活性。<br>4、通用性：第三种应该是最通用了，而一、二 两种则要依赖Spring MVC。</p><hr><p>转自：<a href="https://blog.csdn.net/u012345283/article/details/39718245" target="_blank" rel="noopener">https://blog.csdn.net/u012345283/article/details/39718245</a></p><p>注：排版等略有修改。</p><p>推荐：<a href="https://blog.csdn.net/weixin_41287260/article/details/99241532" target="_blank" rel="noopener">收集的几个自定义的404页面的模板</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> HTML </tag>
            
            <tag> 404 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>打包google浏览器Chrome插件到本地</title>
      <link href="/article/fd892c15.html"/>
      <url>/article/fd892c15.html</url>
      
        <content type="html"><![CDATA[<p>对于浏览器插件，很多时候我们是直接从谷歌商店直接下载的，也就是在线安装，没有crx文件，如果我们想备份已安装的插件该怎样做呢？点进来你就知道了。</p><a id="more"></a><p>依次打开‘更多工具’—&gt;‘扩展程序’，或者在google浏览器输入<code>chrome://extensions/</code>网址就可以打开已安装插件页面，在顶部选中‘开发者模式’后就会出现每个插件的ID，这个是每个插件的对应的32位MD5加密值。然后复制这个ID对应的值<code>gighmmpiobklfepjocnamgkkbiglidom</code>，然后系统盘C盘下查找这个值，这个路径<code>C:\Users\xueji\AppData\Local\Google\Chrome\User Data\Default\Extensions</code>;</p><p>（注：红色部分为用户名，因人而异注意修改，下面不在赘述。）</p><p><img src="https://images2018.cnblogs.com/blog/804543/201809/804543-20180911113500229-1447137101.png" alt></p><p>然后在上述这个页面点击打包扩展程序，在弹出的窗口中的“扩展程序根目录”一览粘贴刚才的路径：<code>C:\Users\xueji\AppData\Local\Google\Chrome\User Data\Default\Extensions\gighmmpiobklfepjocnamgkkbiglidom\3.32.1_0</code></p><p><img src="https://images2018.cnblogs.com/blog/804543/201809/804543-20180911114718731-610674261.png" alt></p><p>点击打包压缩程序，如果看到以下提示，证明打包成功：</p><p><img src="https://images2018.cnblogs.com/blog/804543/201809/804543-20180911115007515-1052026899.png" alt></p><p>然后在刚才的目录下就可以看到刚才打包的插件：</p><p><img src="https://images2018.cnblogs.com/blog/804543/201809/804543-20180911120956361-774488389.png" alt></p><hr><p>转自：<a href="https://www.cnblogs.com/zd520pyx1314/p/9626831.html" target="_blank" rel="noopener">https://www.cnblogs.com/zd520pyx1314/p/9626831.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ArrayList的removeRange方法</title>
      <link href="/article/3e6228a.html"/>
      <url>/article/3e6228a.html</url>
      
        <content type="html"><![CDATA[<p>在尝试ArrayList的removeRange方法时，发现该方法不可用？原因：忽略了该方法的权限，protected 只能在当前类、同一包、子孙类中可用，所以直接调用会报错。那要怎么调用呢？让一个类继承它就好了，然后该类就可以调用该方法了。</p><a id="more"></a><p>在尝试ArrayList的removeRange方法时，发现该方法不可用？如下</p><p>调用：arrayList.removeRange(2,3);</p><p>报错：<span style="color:#f33b45;">The method removeRange(int, int) from the type ArrayList<object> is not visible</object></span></p><p>原因： removeRange(int fromIndex, int toIndex) method is <strong>protected method</strong> in ArrayList. A protected method is accessed in class, subclasses and in a package, but not public. Therefore we extend the class to arraylist.</p><p>忽略了该方法的权限，<strong>protected</strong>只能在当前类、同一包、子孙类中可用，所以直接调用会报错。</p><p>那要怎么调用呢？让一个类继承它就好了，然后该类就可以调用该方法了。</p><p>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubArrayList</span> <span class="keyword">extends</span> <span class="title">ArrayList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">SubArrayList arrayList = <span class="keyword">new</span> SubArrayList();</span><br><span class="line">Integer integer = <span class="number">0</span>;</span><br><span class="line">Integer integer1 = <span class="number">1</span>;</span><br><span class="line">Integer integer2 = <span class="number">2</span>;</span><br><span class="line">Integer integer3 = <span class="number">3</span>;</span><br><span class="line">Object object = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">arrayList.add(integer);</span><br><span class="line">arrayList.add(integer1);</span><br><span class="line">arrayList.add(integer2);</span><br><span class="line">arrayList.add(integer3);</span><br><span class="line">arrayList.add(object);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移除下标为1,2的元素</span></span><br><span class="line">arrayList.removeRange(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规for循环遍历</span></span><br><span class="line">System.out.println(<span class="string">"常规for循环遍历："</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arrayList.size(); i++) &#123;</span><br><span class="line">System.out.println(<span class="string">"object:"</span> + arrayList.get(i));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出为：</p><blockquote><p>常规for循环遍历：<br>object:0<br>object:3<br>object:null</p></blockquote><p>注：这种类似数组下标区间一般都是<span style="color:#f33b45;">取下不取上</span>，即<span style="color:#f33b45;">[min, max) ，包含min而不包含max</span>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>程序员必备神器（GifCam）</title>
      <link href="/article/fef96d72.html"/>
      <url>/article/fef96d72.html</url>
      
        <content type="html"><![CDATA[<p>GiFCam 是一个操作非常简单的屏幕录制软件，录制的效果非常清晰，主要适合制作GIF图片，软件体积小，占用资源少，快捷方便，简单易上手。</p><p><img src="https://oss.yansheng.xyz/picgo/20200630002420.png" alt></p><a id="more"></a><h2 id="前言">前言</h2><p>之前写过一篇 <a href="https://blog.csdn.net/l_201607/article/details/80226732" target="_blank" rel="noopener">序员必备神器（FastStoneCapture）</a>，这款工具可能很少有人知道，却很好用，推荐给大家。那么接下来介绍另一款和 FastStoneCapture 极其相似的好工具。</p><p>好像这几年各种怪异搞笑的表情包风靡一时。记得以前我就曾经使用QQ的截图+涂鸦做成表情包，后来有使用PS弄动态表情包（这个贼费劲的）；<strong>可能我和很多人一样，认识GifCam是在别人的博客中看到的，当时就好奇，这种动态图是怎么做出来的，自己也好想要。</strong></p><h3 id="gifcam简介">GifCam简介</h3><p><strong>GiFCam 是一个操作非常简单的屏幕录制软件，录制的效果非常清晰，主要适合制作GIF图片，软件体积小，占用资源少，快捷方便，简单易上手。</strong></p><h3 id="下载">下载</h3><p>下载地址： <a href="http://www.bahraniapps.com/apps/gifcam/gifcam.php" target="_blank" rel="noopener">GifCam.zip版本5.5 700 KB（单个exe文件无需安装）</a></p><h3 id="教程">教程</h3><p>这个网站告诉你GifCam全部来龙去脉，很好的教程，推荐：<a href="http://blog.bahraniapps.com/gifcam/" target="_blank" rel="noopener">http://blog.bahraniapps.com/gifcam/</a></p><hr><h2 id="简单使用">简单使用</h2><p>1.下载好之后会有这个文件</p><p><img src="https://oss.yansheng.xyz/picgo/20180528121853754.jpg" alt></p><p>2.点击运行<br><img src="https://oss.yansheng.xyz/picgo/20180528144704570.jpg" alt></p><p>3.1new新建一个gif，3.2点击Rec开始（在同一个地方点击stop暂停，可跳过），3.3点击save保存</p><p><img src="https://oss.yansheng.xyz/picgo/20180528145646781.jpg" alt></p><hr><h2 id="进阶使用">进阶使用</h2><h3 id="1-全屏录制">1.全屏录制</h3><p>不是每次录制的时候要拉动到相应的位置，那如果要全屏录制怎么办?只需设置一步就行（如果不需要可以不设置）。步骤：点击Rec右边的向下小三角，再点击Full Screen 。</p><p><img src="https://oss.yansheng.xyz/picgo/2018052818272316.jpg" alt></p><h3 id="2-捕捉光标-鼠标箭头">2.捕捉光标（鼠标箭头）</h3><p>就是在录制过程可以看到鼠标箭头。<br><img src="https://oss.yansheng.xyz/picgo/20180528182127683.jpg" alt></p><h3 id="3-frame">3.Frame</h3><p>就是单帧方式，就是你没点一次单帧按钮，它就会录制一张图片，最后就把这些图片合成，就成一个GIF。</p><p>步骤：</p><p>1.还是new，2.照准位置，点击Frame，3.重复二步骤（注意，你没点击一次Frame就是录制一张图片），4.点击Save保存</p><p><img src="https://oss.yansheng.xyz/picgo/20180528171738208.jpg" alt></p><h3 id="4-给gifcam图片添加文字-形成动态gif表情包">4.给GifCam图片添加文字，形成动态gif表情包</h3><p>步骤：</p><p>4.1.new，4.2.Rec，4.3.这步很关键，在你录制好之后要按stop按钮时，不按stop，改为点击Edit（编辑）,</p><p>4.4点击Add Text，输入文字，注意：因为这是视频录取的，我的鼠标你看不到，注意右上角有个To Frame:0变为To Frame:12，这个地方很重要，我设置文字是在第一帧，需要通过鼠标拖动来增加到最后一帧，这样你看到每一帧都有文字。</p><p>4.5.设置好叉掉，然后点击save保存。最终效果图：</p><p><img src="https://oss.yansheng.xyz/picgo/20180528185545845.jpg" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20180528190418563.jpg" alt></p><p>5.调整帧延迟的新方法:通过拖动延迟标签(每个像素= 0.01秒) ，有时候，你觉得每帧间隔时间太短想自己设置，</p><p><img src="https://oss.yansheng.xyz/picgo/20180528191746752.jpg" alt></p><h2 id="最后">最后</h2><p>哪里不是很清楚的，请在留言区留言，看到会回复。最后来一张福利。</p><p><img src="https://oss.yansheng.xyz/picgo/20180528115608628.jpg" alt></p><hr><p>转自：<a href="https://blog.csdn.net/l_201607/article/details/80479963" target="_blank" rel="noopener">程序员必备神器（GifCam）</a><br>部分内容有所修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> GifCam </tag>
            
            <tag> GIF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMD创建文件的方法及CMD打开常用工具的命令</title>
      <link href="/article/7eb104b7.html"/>
      <url>/article/7eb104b7.html</url>
      
        <content type="html"><![CDATA[<p>CMD命令创建文件，cmd命令打开常用工具。</p><a id="more"></a><h3 id="问题引出">问题引出</h3><p>之前没有具体研究过CMD的命令，但是学过Linux后，回过头来看cmd，创建文件夹可以用<span style="color:#f33b45;">mkdir</span>，但是发现cmd好像没有创建文件的命令，linux是可以通过<span style="color:#f33b45;">touch</span>命令来新建文件的。百度找了一下，突然恍然大悟：Linux中可以通过输出重定向命令新建文件，cmd也行！</p><h3 id="输出重定向命令：分为两种">输出重定向命令：分为两种</h3><p>（1）&gt;  ：覆盖，即如果后面的文件存在而且里面非空，会直接覆盖 。</p><p>（2）&gt;&gt;：追加，即如果非空，会在后面追加内容，而不是全部覆盖。</p><p>下面就列举几个比较常用的命令吧：</p><h3 id="一-创建空的文件">一、创建空的文件</h3><p><span style="color:#f33b45;">思路：将没有输出内容的命名重定向到新的文件即可，即重定向的内容为空。</span></p><p>1、<code>echo  a 2&gt;file.txt</code></p><p>echo是回显命令，会回显命令后面字符串内容。</p><p>&quot;2”表示错误输出的句柄，此例中没有错误输出，所以创建了没有内容的空文件。<br>其实&gt;默认都是重定向了句柄1，即标准输出句柄。比如cd.&gt;a.txt，其实就是cd. 1&gt;a.txt。<br>同样，句柄3到9也可以使用在本例中，它们是未经定义的句柄，也不会有输出，如 echo a 3&gt;a.txt。</p><p>2、<code>cd .&gt;a.txt</code></p><p>cd.表示改变当前目录为当前目录，即等于没改变；而且此命令不会有输出。<br>“&gt;”表示把命令输出写入到文件。后面跟着a.txt，就表示写入到a.txt。<br>而此例中命令不会有输出，所以就创建了没有内容的空文件。<br>cd &gt;1.txt也是可以的。</p><p>3、<code>copy nul a.txt</code></p><p>nul表示空设备，从概念上讲，它不可见，存在于每个目录中，可以把它看成一个特殊的“文件”，它没有内容；一般可把输出写入到nul，来达到屏蔽输出的目的，如pause&gt;nul，此命令执行效果是暂停，并且不会显示“请按任意键继续…”。<br>此例子表示将空设备复制到a.txt，同样创建了没有内容的空文件。</p><p>4、<code>type nul&gt;a.txt</code></p><p>type是打开文件的命名，类似Linux的cat。此例子表示显示空设备的内容，并写入到a.txt。</p><h3 id="二-创建非空的简单文件">二、创建非空的简单文件</h3><p><span style="color:#f33b45;">思路：和一相反，重定向内容要为非空。</span></p><p>1、<code>echo a&gt;file.txt</code></p><p>file.txt的内容为a。</p><p>2、<code>type file.txt &gt;file2.txt</code></p><p>type file.txt 即打开file.txt这个文件，故重定向内容为file.txt的内容，所以创建的file2.txt的内容即为file.txt的内容；当然也可以用copy命名。</p><p>3、<code>date &gt;date.txt</code></p><p>按照我们的思路，只要前面有输出就行，date是输出当前日期的命令，所以date.txt 内容即为当前日期。</p><p><img src="https://img-blog.csdnimg.cn/20190704115502112.png" alt></p><h3 id="三-扩展：cmd打开常用工具的命令">三、扩展：cmd打开常用工具的命令</h3><p>1、<code>calc</code>  打开计算器</p><p><img src="https://img-blog.csdnimg.cn/20190704134813365.gif" alt></p><p>2、<code>magnify</code>  打开放大镜（‘win键’ 加 '+键’也可以直接打开）</p><p>3、<code>snippingtool</code>  打开截图工具</p><p>4、<code>notepad</code>   打开记事本</p><p>5、<code>control</code>  打开控制面板</p><p>6、<code>regedit</code>  打开注册表</p><hr><p>参考：<a href="https://blog.csdn.net/sunjinshengli/article/details/53557684" target="_blank" rel="noopener">小技巧-cmd常用命令之创建文件</a></p><p>想了解更多cmd命名可参考：<a href="https://blog.csdn.net/xjz729827161/article/details/78844606" target="_blank" rel="noopener">cmd命令入门，简单教程（DOS?）</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>程序员必备神器（FastStoneCapture）</title>
      <link href="/article/f698b633.html"/>
      <url>/article/f698b633.html</url>
      
        <content type="html"><![CDATA[<p>FastStoneCapturePortable 是一款极其优秀好用的屏幕截图软件，具有体积小巧、功能强大、操作简便等优点，具有体积小巧、功能强大、操作简便等优点，其方便的浮动工具条和便捷的快捷键堪称完美结合。这么好的的神器，你值得拥有。主要功能是截图和录视频。</p><a id="more"></a><h3 id="工欲善其事-必先利其器">工欲善其事，必先利其器。</h3><p>作为程序员，如果我们不知道如何制作动态图或者快捷录屏、录视频等，会给人一种身怀不技的感觉；好！屁话少说，接下来我会废话连篇的介绍一款神器--------那就是<strong>FastStoneCapturePortable</strong>。</p><p>为何是<strong>FastStoneCapturePortable</strong>，因为它能很好的解决上述所提到的问题。</p><p>在此之前，你是不是使用QQ的Ctrl+Alt+A截图，亦或者是使用网页截图，这操作在妹子面前弱爆了；做个搞笑动态图也要打开PS，录个搞笑视频也要在网上下载录屏软件，录好之后还要弄个爱剪辑，额！那。。。。哥们辛苦了哈。</p><p>这时代，没有点套路都不好意思撩妹，程序员没点神器，又拿什么展示你牛逼的技术呢？</p><h3 id="简介">简介</h3><p>FastStoneCapturePortable 是一款极其优秀好用的屏幕截图软件，具有体积小巧、功能强大、操作简便等优点，具有体积小巧、功能强大、操作简便等优点，其方便的浮动工具条和便捷的快捷键堪称完美结合。这么好的的神器，你值得拥有。</p><p><strong>主要功能是截图和录视频</strong>。</p><h3 id="第一步：拥有faststonecaptureportable">第一步：拥有<strong>FastStoneCapturePortable</strong></h3><ol><li>链接: <a href="https://pan.baidu.com/s/1d1K0ovT60Y2fST4k5tZ1PA" target="_blank" rel="noopener">https://pan.baidu.com/s/1d1K0ovT60Y2fST4k5tZ1PA</a>     密码: x6u3     （百度网盘，建议使用这个）</li><li>链接：<a href="https://faststone-capture.en.softonic.com/?ex=BB-463.2" target="_blank" rel="noopener">https://faststone-capture.en.softonic.com/?ex=BB-463.2</a></li></ol><p>下载后，进行解压操作，然后进入FastStoneCapturePortable目录下，双击运行FSCapture.exe即可。声明：无需安装</p><p><img src="https://oss.yansheng.xyz/picgo/20180507162337880.jpg" alt></p><h3 id="第二步：征服它-学习使用">第二步：征服它（学习使用）</h3><h4 id="1-了解功能">1.了解功能</h4><p>实线是学习的真理。不知道功能的，鼠标移动上去，不知道使用的，点一下不就知道了吗。在此就不一一示范了。其实在你每使用一个功能的时候，都会在角落里弹出一个功能使用的教程步骤，很贴心。</p><p><img src="https://oss.yansheng.xyz/picgo/20180507163145875.jpg" alt></p><h4 id="2-快速截图">2.快速截图</h4><ul><li><img src="https://oss.yansheng.xyz/picgo/20180530085425520.jpg" alt> 打开已有的文件</li><li><img src="https://oss.yansheng.xyz/picgo/20180530085608877.jpg" alt>这是捕获活动窗口。意思是截图整个屏幕，这个的话可以说是动态截图吧！看需求使用。</li><li><img src="https://oss.yansheng.xyz/picgo/20180530090847628.jpg" alt>捕捉窗口/对象。<img src="https://oss.yansheng.xyz/picgo/2018053009172693.jpg" alt>这个没有选择，而<img src="https://oss.yansheng.xyz/picgo/20180530091802472.jpg" alt>可以选择对象，我们来一个例子。我们来截取GifCam对象。<img src="https://oss.yansheng.xyz/picgo/20180530092457439.jpg" alt><br><img src="https://oss.yansheng.xyz/picgo/20180530092538512.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530092819389.jpg" alt>捕捉矩形区域。这个就 6了，你想截取哪里就用鼠标选择一个矩形框，这个选择就广了，不过操作度有高要求，要准。<img src="https://oss.yansheng.xyz/picgo/20180530094611608.jpg" alt><br><img src="https://oss.yansheng.xyz/picgo/20180530094644787.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530094851458.jpg" alt>捕捉手绘区域。这和<img src="https://oss.yansheng.xyz/picgo/20180530095930226.jpg" alt>很相似，或者是升级版吧，看你喜欢咯，还是选择矩形好一点。<img src="https://oss.yansheng.xyz/picgo/20180530100020583.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530100251623.jpg" alt>捕捉整个屏幕。这个没咋好说的，能看懂。</li><li><img src="https://oss.yansheng.xyz/picgo/20180530100404105.jpg" alt>捕捉滚动窗口。招牌功能截长图，解决那种一个屏幕都截不完的那种，看我怎么捕捉就行了哈，图太长就不贴出来了；有两种方法，1.自动滚动模式（点击鼠标左键），2.自定义滚动模式（按住Ctrl键），第一张图片是第一种方法，第二张图片是第二种方法。<img src="https://oss.yansheng.xyz/picgo/20180530110504546.jpg" alt><br><img src="https://oss.yansheng.xyz/picgo/20180530110530383.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530110850815.jpg" alt>捕捉固定区域。意思是设置一个框框，大小按F2键设置，你点此功能的时候会告诉你的。<img src="https://oss.yansheng.xyz/picgo/20180530115342363.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530112018515.jpg" alt>屏幕录像机。屏幕录像机。录制视频，自己看说明使用，不废话。<br><img src="https://oss.yansheng.xyz/picgo/20180530121817953.jpg" alt><br><img src="https://oss.yansheng.xyz/picgo/20180530122016753.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530114805417.jpg" alt>屏幕放大镜。这个功能不错，悄悄告诉你可以放大屏幕上任何东西，你懂的。<br><img src="https://oss.yansheng.xyz/picgo/2018053011555618.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530114841151.jpg" alt>屏幕取色器。做安卓开发（其他的也可以，比如前端），平常开发会设置界面颜色，颜色要符合UI设计图片上的颜色，有时候很难调，这个取色器点击鼠标左键选择颜色，有十进制和十六进制，复制过去搞定。<br><img src="https://oss.yansheng.xyz/picgo/20180530115852415.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/20180530114911879.jpg" alt>屏幕标尺。电脑上的游标卡尺，实用。<br><img src="https://oss.yansheng.xyz/picgo/20180530120137340.jpg" alt></li><li><img src="https://oss.yansheng.xyz/picgo/2018053011494326.jpg" alt>输出。主要设置输出方向，你是输出到编译器或者到文件等等，自己设置。你还想对截的图做修改的话，建议输出到编译器，想自动保存的，就输出到保存文件夹。<br><img src="https://oss.yansheng.xyz/picgo/20180530120320875.jpg" alt></li></ul><h3 id="第三步：要经常使用">第三步：要经常使用</h3><p>使用多了，你自然知道它是个好东西，哦不，是个撩妹好神器。当然，这里不是说只能给程序员使用，宅男、游戏主播、直播乃至每个需要的人都可以使用的。</p><p>说明：本文用到的GifCam，请看另一篇博客：<a href="https://blog.csdn.net/l_201607/article/details/80479963" target="_blank" rel="noopener">程序员必备神器（GifCam）</a></p><hr><p>转自：<a href="https://blog.csdn.net/L_201607/article/details/80226732" target="_blank" rel="noopener">程序员必备神器（FastStoneCapture）</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> FastStoneCapture </tag>
            
            <tag> 截图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Swing 设置全局的字体</title>
      <link href="/article/bb69620b.html"/>
      <url>/article/bb69620b.html</url>
      
        <content type="html"><![CDATA[<h2 id="一-问题描述">一、问题描述</h2><p>最近写一个java的GUI，感觉不管是awt还是swing的默认字体都是不和我意，不得不自己设置字体；但是因为组件多，如果全部都有一个个加字体（像下面这样）就感觉很麻烦，代码也很冗余，所以就想着有没有办法设置全局的字体？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这样</span></span><br><span class="line">JLabel jlExcel = <span class="keyword">new</span> JLabel(<span class="string">"请输入表格路径："</span>);</span><br><span class="line">jlExcel.setFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.BOLD, <span class="number">25</span>));</span><br><span class="line">JTextField jtfExcel = <span class="keyword">new</span> JTextField(<span class="number">65</span>);</span><br><span class="line">jtfExcel.setFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.BOLD, <span class="number">23</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者是这样</span></span><br><span class="line">Font textFont = <span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.BOLD, <span class="number">23</span>);</span><br><span class="line">jlExcel.setFont(textFont);</span><br><span class="line">jtfExcel.setFont(textFont);</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="二-找资料">二、找资料</h2><p>百度了一波，还真有！但是好像我还是不太懂怎么用……略颓丧，后面看了文档好像才弄懂了一点点。下面这是找到的相关博客：</p><h3 id="1-swing技巧-设置全局字体-sun-jdk"><strong>1、Swing技巧. 设置全局字体（sun jdk）</strong></h3><blockquote><p>为什么要这么做？<br>因为java默认的字体显示中文都很难看；<br>因为比如jgoodies这样的skin默认不支持中文；<br>因为jdk1.4中文字体mapping有严重bug,用过IDEA的人都知道；<br>因为大家只有sun的jdk可用，ibm的，bea的都不适合跑client。</p><p>if you are smart…</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置全局字体</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">initGlobalFontSetting</span><span class="params">(Font fnt)</span></span>&#123;</span><br><span class="line">    FontUIResource fontRes = <span class="keyword">new</span> FontUIResource(fnt);</span><br><span class="line">    <span class="keyword">for</span>(Enumeration keys = UIManager.getDefaults().keys(); keys.hasMoreElements();)&#123;</span><br><span class="line">        Object key = keys.nextElement();</span><br><span class="line">        Object value = UIManager.get(key);</span><br><span class="line">        <span class="keyword">if</span>(value <span class="keyword">instanceof</span> FontUIResource)</span><br><span class="line">            UIManager.put(key, fontRes);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>if you aren’t…</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Font font = <span class="keyword">new</span> Font(<span class="string">"Dialog"</span>,Font.PLAIN,<span class="number">12</span>);</span><br><span class="line">UIManager.put(<span class="string">"ToolTip.font"</span>,font);</span><br><span class="line">UIManager.put(<span class="string">"Table.font"</span>,font);</span><br><span class="line">UIManager.put(<span class="string">"TableHeader.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"TextField.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"ComboBox.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"TextField.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"PasswordField.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"TextArea.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"TextPane.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"EditorPane.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"FormattedTextField.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"Button.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"CheckBox.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"RadioButton.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"ToggleButton.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"ProgressBar.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"DesktopIcon.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"TitledBorder.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"Label.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"List.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"TabbedPane.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"MenuBar.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"Menu.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"MenuItem.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"PopupMenu.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"CheckBoxMenuItem.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"RadioButtonMenuItem.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"Spinner.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"Tree.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"ToolBar.font"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"OptionPane.messageFont"</span>,font); </span><br><span class="line">UIManager.put(<span class="string">"OptionPane.buttonFont"</span>,font);</span><br></pre></td></tr></table></figure><blockquote><p>引用：<a href="https://blog.csdn.net/lixinye0123/article/details/647921" target="_blank" rel="noopener">Swing技巧. 设置全局字体（sun jdk）</a></p></blockquote><h3 id="2-java-swing-界面统一设置字体样式">2、Java swing 界面统一设置字体样式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 统一设置字体，父界面设置之后，所有由父界面进入的子界面都不需要再次设置字体</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InitGlobalFont</span><span class="params">(Font font)</span> </span>&#123;</span><br><span class="line">FontUIResource fontRes = <span class="keyword">new</span> FontUIResource(font);</span><br><span class="line"><span class="keyword">for</span> (Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys(); keys.hasMoreElements();) &#123;</span><br><span class="line">Object key = keys.nextElement();</span><br><span class="line">Object value = UIManager.get(key);</span><br><span class="line"><span class="keyword">if</span> (value <span class="keyword">instanceof</span> FontUIResource) &#123;</span><br><span class="line">UIManager.put(key, fontRes);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>在main方法中，初始化窗口时，加入下面这句：<br><code>InitGlobalFont(new Font(&quot;alias&quot;, Font.PLAIN, 12)); //统一设置字体</code><br>就可以了。</p><p>注意：InitGlobalFont 这个方法的调用时在swing界面的入口界面里。</p><p>引用：<a href="https://blog.csdn.net/chenxuejiakaren/article/details/7637731" target="_blank" rel="noopener">java swing 界面统一设置字体样式</a></p></blockquote><h2 id="三-尝试解决">三、尝试解决</h2><p>其实看完这两篇文章，了解到这个方法应该是可以实现我的要求的，我还是有点不太懂这个方法要放在哪个位置（InitGlobalFont 这个方法的调用时在swing界面的入口界面里<span style="color:#f33b45;">？？？</span>），所以就试了下：</p><p>注意下面代码中 <span style="color:#f33b45;">InitGlobalFont(new Font(“宋体”, Font.PLAIN, 5));  //统一设置字体 </span>的位置！</p><h3 id="1-使用默认的字体-即不修改字体-方便对比-：">1、使用默认的字体（即不修改字体，方便对比）：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ys.gui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.FlowLayout;</span><br><span class="line"><span class="keyword">import</span> java.awt.Font;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.JButton;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JFrame;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JLabel;</span><br><span class="line"><span class="keyword">import</span> javax.swing.UIManager;</span><br><span class="line"><span class="keyword">import</span> javax.swing.plaf.FontUIResource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestGlobalFont</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">JFrame jFrame = <span class="keyword">new</span> JFrame(<span class="string">"测试设置全局字体"</span>);</span><br><span class="line"><span class="comment">// 初始化窗口</span></span><br><span class="line">init(jFrame);</span><br><span class="line">jFrame.setBounds(<span class="number">800</span>, <span class="number">400</span>, <span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">jFrame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> init</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yansheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-07-01 11:28:31</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 初始化窗口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> jFrame   </span></span><br><span class="line"><span class="comment"> * void </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(JFrame jFrame)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">FlowLayout flowLayout = <span class="keyword">new</span> FlowLayout(FlowLayout.LEFT);</span><br><span class="line">jFrame.setLayout(flowLayout);</span><br><span class="line"></span><br><span class="line">JLabel jLabel = <span class="keyword">new</span> JLabel(<span class="string">"JLabel显示文本信息"</span>);</span><br><span class="line">jFrame.add(jLabel);</span><br><span class="line"></span><br><span class="line">JButton jButton = <span class="keyword">new</span> JButton(<span class="string">"JButton按钮"</span>);</span><br><span class="line">jFrame.add(jButton);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 统一设置字体，父界面设置之后，所有由父界面进入的子界面都不需要再次设置字体</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InitGlobalFont</span><span class="params">(Font font)</span> </span>&#123;</span><br><span class="line">FontUIResource fontRes = <span class="keyword">new</span> FontUIResource(font);</span><br><span class="line"><span class="keyword">for</span> (Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys(); keys.hasMoreElements();) &#123;</span><br><span class="line">Object key = keys.nextElement();</span><br><span class="line">Object value = UIManager.get(key);</span><br><span class="line"><span class="keyword">if</span> (value <span class="keyword">instanceof</span> FontUIResource) &#123;</span><br><span class="line">UIManager.put(key, fontRes);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注：init()方法非必须，但是好像一般都会用来初始化窗口及组件；如果自定义一个类继承JFrame或者Frame，那么在该类中一般也会用该方法，名字可自取，为方便理解这里统一命名为init。</p><p>效果图：</p><p><img src="https://img-blog.csdnimg.cn/20190701113802843.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="2-在main-方法中-定义窗口jframe前调用：">2、在main()方法中，定义窗口JFrame前调用：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">InitGlobalFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">40</span>)); <span class="comment">// 统一设置字体</span></span><br><span class="line">JFrame jFrame = <span class="keyword">new</span> JFrame(<span class="string">"测试设置全局字体"</span>);</span><br><span class="line">……</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="https://img-blog.csdnimg.cn/20190701114106984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="3-在init-方法中-初始化窗口jframe-未加载控件-时-即方法首行-调用：">3、在init()方法中，初始化窗口JFrame（未加载控件）时（即方法首行）调用：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(JFrame jFrame)</span> </span>&#123;</span><br><span class="line">InitGlobalFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">40</span>)); <span class="comment">// 统一设置字体</span></span><br><span class="line">FlowLayout flowLayout = <span class="keyword">new</span> FlowLayout(FlowLayout.LEFT);</span><br><span class="line">jFrame.setLayout(flowLayout);</span><br><span class="line">……</span><br></pre></td></tr></table></figure><p>在布局后面加也OK。</p><p>效果图：</p><p><img src="https://img-blog.csdnimg.cn/20190701114106984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="4-反例-即该方法的调用位置不对-没有效果的情况：">4、反例，即该方法的调用位置不对，没有效果的情况：</h3><h4 id="4-1-在init-加载部分组件后调用：">4.1 在init()加载部分组件后调用：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(JFrame jFrame)</span> </span>&#123;</span><br><span class="line">    FlowLayout flowLayout = <span class="keyword">new</span> FlowLayout(FlowLayout.LEFT);</span><br><span class="line">    jFrame.setLayout(flowLayout);</span><br><span class="line"></span><br><span class="line">    JLabel jLabel = <span class="keyword">new</span> JLabel(<span class="string">"JLabel显示文本信息"</span>);</span><br><span class="line">    jFrame.add(jLabel);</span><br><span class="line">    InitGlobalFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">40</span>)); <span class="comment">// 统一设置字体</span></span><br><span class="line">    JButton jButton = <span class="keyword">new</span> JButton(<span class="string">"JButton按钮"</span>);</span><br><span class="line">    jFrame.add(jButton);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>那么在它前面的加载的组件（字体设置）就会不起作用，效果如下：</p><p><img src="https://img-blog.csdnimg.cn/20190701120209327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h4 id="4-2-在init-全部加载组件后调用-如最后一行-：">4.2 在init()全部加载组件后调用（如最后一行）：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(JFrame jFrame)</span> </span>&#123;</span><br><span class="line">    FlowLayout flowLayout = <span class="keyword">new</span> FlowLayout(FlowLayout.LEFT);</span><br><span class="line">    jFrame.setLayout(flowLayout);</span><br><span class="line"></span><br><span class="line">    JLabel jLabel = <span class="keyword">new</span> JLabel(<span class="string">"JLabel显示文本信息"</span>);</span><br><span class="line">    jFrame.add(jLabel);</span><br><span class="line">    JButton jButton = <span class="keyword">new</span> JButton(<span class="string">"JButton按钮"</span>);</span><br><span class="line">    jFrame.add(jButton);</span><br><span class="line">    InitGlobalFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">40</span>)); <span class="comment">// 统一设置字体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>无效。</p><h4 id="4-3-在main-的init-方面后面调用：">4.3 在main()的init()方面后面调用：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    JFrame jFrame = <span class="keyword">new</span> JFrame(<span class="string">"测试设置全局字体"</span>);</span><br><span class="line">    <span class="comment">// 初始化窗口</span></span><br><span class="line">    init(jFrame);</span><br><span class="line">    InitGlobalFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">40</span>)); <span class="comment">// 统一设置字体</span></span><br><span class="line">    jFrame.setBounds(<span class="number">800</span>, <span class="number">400</span>, <span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">    jFrame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">    jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由4.2在init后面加都无效可知，这种肯定也不行！</p><p></p><h3 id="5-总结：">5、 总结：</h3><p>虽然我不是很清楚什么时候调用比较好，但是个人喜欢3在init()方法的首行调用，（个人拙见）因为init()是用初始化窗口及组件，而字体是组件的一种属性，放在一起比较容易理解。</p><h2 id="四-进一步理解：">四、进一步理解：</h2><p>分析一下该方法：打印一些信息，方便理解：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 统一设置字体，父界面设置之后，所有由父界面进入的子界面都不需要再次设置字体</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InitGlobalFont</span><span class="params">(Font font)</span> </span>&#123;</span><br><span class="line">    FontUIResource fontRes = <span class="keyword">new</span> FontUIResource(font);</span><br><span class="line">    <span class="comment">// 打印字体信息</span></span><br><span class="line">    System.out.println(<span class="string">"fontRes:"</span> + fontRes);</span><br><span class="line">    <span class="keyword">for</span> (Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys(); keys.hasMoreElements();) &#123;</span><br><span class="line">        Object key = keys.nextElement();</span><br><span class="line">        Object value = UIManager.get(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (value <span class="keyword">instanceof</span> FontUIResource) &#123;</span><br><span class="line">            <span class="comment">// 打印默认的所有有关字体的信息</span></span><br><span class="line">            System.out.println(<span class="string">"\nkey:"</span> + key + <span class="string">"\nvalue:"</span> + value);</span><br><span class="line">            UIManager.put(key, fontRes);</span><br><span class="line">            <span class="comment">// 打印更改后的相关信息</span></span><br><span class="line">            System.out.println(<span class="string">"\nkey:"</span> + key + <span class="string">"\nvalue:"</span> + UIManager.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>打印的（部分）内容：</p><p><img src="https://img-blog.csdnimg.cn/20190701135519607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><ol><li>类 FontUIResource 实现 UIResource 的 java.awt.Font 的子类。设置默认字体属性的 UI 类应该使用此类。</li><li>UIManager 管理当前外观、可用外观集合、外观更改时被通知的 <code>PropertyChangeListeners</code>、外观默认值以及获取各种默认值的便捷方法。<code>UIManager.</code>get(Object key)：从默认值中返回一个对象。</li><li>for循环里面，初始化：将所有默认组件（类）放到枚举对象集keys中，然后遍历keys；如果是如果该组件的值（对象）是FontUIResource的实例，就进入if语句，设置该组件的font属性。(你也可以简单理解为：只要有组件是和字体有关的，就设置它的字体为我们之前的设定好的。)</li></ol><p>这样就OK了，达到要求：设置全局的字体。</p><h2 id="五-拓展延伸-在全局字体的基础上加一些特殊点的字体">五、拓展延伸——在全局字体的基础上加一些特殊点的字体</h2><p>刚弄好全局字体，假如需求变了，还想要在全局字体的基础上加一些特殊点的字体，那怎么办呢？</p><p>直接按照普通的加上字体就好了，只要不是和全局字体一样就会显示出来，因为这个时候其实是把全局字体当做默认了，你需要特殊的，直接设置就好了。</p><p>参考：（加一个不一样字体的按钮）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(JFrame jFrame)</span> </span>&#123;</span><br><span class="line">    InitGlobalFont(<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">40</span>)); <span class="comment">// 统一设置字体</span></span><br><span class="line">    FlowLayout flowLayout = <span class="keyword">new</span> FlowLayout(FlowLayout.LEFT);</span><br><span class="line">    jFrame.setLayout(flowLayout);</span><br><span class="line"></span><br><span class="line">    JLabel jLabel = <span class="keyword">new</span> JLabel(<span class="string">"JLabel显示文本信息"</span>);</span><br><span class="line">    jFrame.add(jLabel);</span><br><span class="line">    JButton jButton = <span class="keyword">new</span> JButton(<span class="string">"JButton按钮"</span>);</span><br><span class="line">    jFrame.add(jButton);</span><br><span class="line"></span><br><span class="line">    JButton jButton1 = <span class="keyword">new</span> JButton(<span class="string">"这个按钮的字体是微软雅黑"</span>);</span><br><span class="line">    jButton1.setFont(<span class="keyword">new</span> Font(<span class="string">"微软雅黑"</span>, Font.BOLD, <span class="number">25</span>));</span><br><span class="line">    jFrame.add(jButton1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="https://img-blog.csdnimg.cn/2019070114261293.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>完事。</p><hr><p>引用：<a href="https://blog.csdn.net/lixinye0123/article/details/647921" target="_blank" rel="noopener">Swing技巧. 设置全局字体（sun jdk）</a><br>引用：<a href="https://blog.csdn.net/chenxuejiakaren/article/details/7637731" target="_blank" rel="noopener">java swing 界面统一设置字体样式</a><br>参考：<a href="https://blog.csdn.net/yu13473054/article/details/50484742" target="_blank" rel="noopener">设置Swing全局字体</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> Swing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java的AWT控件Button内容乱码的处理方案</title>
      <link href="/article/93e2e3ff.html"/>
      <url>/article/93e2e3ff.html</url>
      
        <content type="html"><![CDATA[<p>在使用Java的AWT控件Button时，当显示文本为中文时，内容乱码，这里提供两种方法处理该问题。</p><a id="more"></a><p>项目编码是UTF-8的，在使用java.awt.Button居然会乱码，如下图所示：</p><p><img src="https://oss.yansheng.xyz/picgo/2019063014211736.png" alt></p><p>网上找了下类似的解决方法有下面几种：</p><h3 id="设置运行环境">设置运行环境:</h3><p>主类右键（或者上面工具栏）选择Run As中的Run Configurations–&gt;在Arguments标签下的VM arguments中添加下面这行参数代码: -Dfile.encoding=gbk–&gt;然后点击应用。</p><p>（关于这个参数可参考：<a href="https://blog.csdn.net/haixia_12/article/details/42424513%E5%92%8Chttps://blog.csdn.net/jv_csjh/article/details/78581826%EF%BC%89" target="_blank" rel="noopener">https://blog.csdn.net/haixia_12/article/details/42424513和https://blog.csdn.net/jv_csjh/article/details/78581826）</a></p><p><img src="https://oss.yansheng.xyz/picgo/20190630150504820.gif" alt></p><p>关于这个编码有很多中说法，有人说GB18030可以，也有人说UTF-8也可以，但是我的设置为UTF-8无效，我觉得这是老问题了，得从源头讲起：Windows默认编码是gbk（我们一般统一称这类为国标码，主要是为了兼容中文的），而linux默认为UTF-8（好像是整合了世界上所有的语言，就是啥都有，但是字库不一样），于是编码字库不对应就会出现乱码的问题。</p><p>Eclipse默认的工作空间的编码为gbk（就是你新建一个文件，文件编码格式默认为gbk），而我们一般都会改为UTF-8，我猜测gbk的是不会出现乱码的情况，而我的之所以设置为UTF-8无效是因为字库不匹配问题，而要在Windows里面运行就要设置参数为国标码（有很多种标准，有兴趣可以自行了解），这样就可以解决了。</p><h3 id="2-采用jbutton">2.采用JButton</h3><p>Button是在java.awt.*中的类，具有平台的局限性，在不同的操作系统中显示的是不同的；</p><p>JButton是在javax.swing.*中的类，不具有平台的局限性，在Linux和Windows系统中显示的是相同的。</p><p>–引自：<a href="https://blog.csdn.net/shi201619616/article/details/80547163" target="_blank" rel="noopener">https://blog.csdn.net/shi201619616/article/details/80547163</a></p><p>javax.swing.JButton，（个人感觉）使用起来这两者好像差异不大。我把上面的参数去掉后，添加了JButton，这个不会乱码，但是Button会乱码。</p><p><img src="https://oss.yansheng.xyz/picgo/20190630144812604.png" alt></p><p>参考：<a href="https://blog.csdn.net/cslucifer/article/details/76107069" target="_blank" rel="noopener">Java GUI Button组件上的内容中文乱码问题</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> AWT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里巴巴主导的“华山版《Java 开发手册》”简介</title>
      <link href="/article/eb970306.html"/>
      <url>/article/eb970306.html</url>
      
        <content type="html"><![CDATA[<p>Table of Contents 1、“83行代码计划”项目介绍（转自github）： 2、为什么命名为“83行代码计划”？ 3、《码出高效：Java 开发手册》这本书都讲了啥？ 4、《阿里巴巴Java开发规约》扫描插件。 5、最近更新：2019.6.27 华山版《Java开发手册》现身江湖。</p><a id="more"></a><h3 id="1-83行代码计划-项目介绍-转自github-：">1、“83行代码计划”项目介绍（转自github）：</h3><blockquote><p><img src="https://img-blog.csdnimg.cn/20190907113619200.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt><br>2018年9月22日，在2018杭州云栖大会上，召开《码出高效：Java 开发手册》新书发布会，并宣布将图书所有收益均捐赠于技术公益项目“83行代码计划”。</p><p>阿里巴巴正式在2018杭州云栖大会《开发者生态峰会》上，由阿里巴巴高年级同学中间件负责人林昊、阿里巴巴研究员刘湘雯、阿里巴巴研究员刘国华，OpenJDK社区Committer杨晓峰，全栈视障工程师蔡勇斌，电子工业出版社博文视点出版公司总经理郭立以及两位图书作者杨冠宝（孤尽）和高海慧（鸣莎）重磅大咖联合发布新书<a href="https://detail.tmall.com/item.htm?spm=a1zb6.8232479.0.0.17f533e9VNZxB2&amp;id=575107529181&amp;cm_id=140105335569ed55e27b&amp;abbucket=15" target="_blank" rel="noopener">《码出高效：Java开发手册》（跳转至天猫书店）</a>，并宣布将图书所有收益均捐赠于技术公益项目“83行代码计划”，第一个“83行代码计划”行动，将围绕着帮助盲人工程师，开发更多无障碍化产品，让盲人上网更便捷。未来，我们会坚持用技术为公益行业赋能，也希望更多人成为技术受益者。<br><img src="https://oss.yansheng.xyz/picgo/2MzAzMzJlNzA2ZTY3.jpg" alt></p><p>2017年10月14日杭州云栖大会，Java代码规约扫描插件全球首发仪式正式启动，规范正式以插件形式公开走向业界，引领Java语言的规范之路。目前，插件已在<a href="https://www.aliyun.com/product/yunxiao" target="_blank" rel="noopener">云效公有云产品</a>中集成，<a href="https://rdc-test.aliyun.com/" target="_blank" rel="noopener">立即体验</a>！（云效&gt;公有云&gt;设置-&gt;测试服务-&gt;阿里巴巴Java代码规约）。</p></blockquote><h3 id="2-为什么命名为-83行代码计划-？">2、为什么命名为“83行代码计划”？</h3><blockquote><p>2018年4月初在阿里的一个“小黑屋”会议室里，5名对代码有着极致追求的程序员参与了阿里代码领域最高荣誉“多隆奖”最终角逐。多隆作为淘宝的第一代程序员，也是很多技术人心中的大神。<br><img src="https://img-blog.csdnimg.cn/20190703142554425.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt><br>（多隆Review第83行代码时专注的眼神，简直酷帅~）</p><p>那天代码评审现场，看到某代码片段最后结尾，<span style="color:#f33b45;">多隆突然补上一句，往上翻看下第83行</span>。代码一般都是几百行，他看到最后，居然还记得第83行的一个细微瑕疵，这得是对代码怀着怎样的敬畏之心。</p><p>为什么叫“83行代码计划”?孤尽<span style="color:#86ca5e;">[1]</span>解释道，阿里高级研究员多隆当时在最佳质量代码评选现场，翻看代码时，说了一句“83行代码返回去再看一下。”当时，我们觉得多隆作为一个合伙人级别的技术人还能这么执着与认真的对待每一行代码，让我们很感动，因此，我们把这个公益计划命名为“83行代码计划”。</p><p>[1]《码出高效》的两位作者阿里技术专家孤尽和鸣莎。<br>摘抄自：<a href="http://https//zhuanlan.zhihu.com/p/36526368" target="_blank" rel="noopener">向代码致敬，寻找你的第83行代码！</a>和 <a href="http://tech.it168.com/a2018/1227/5136/000005136974.shtml?%202" target="_blank" rel="noopener">对话孤尽、鸣莎：《码出高效：Java开发手册》背后的故事</a>。</p></blockquote><h3 id="3-阿里巴巴java开发手册-这本书都讲了啥？">3、《阿里巴巴Java开发手册》这本书都讲了啥？</h3><p>上面介绍了这么多，好像都没有讲到主要的！这本书都了啥？<strong><span style="color:#f33b45;">Java代码规约</span></strong>？这个啥意思？好像有点抽象啊？下面进入正题：</p><blockquote><p><strong>P3C</strong><br>Preface：We are pleased to present Alibaba Java Coding Guidelines which consolidates the best programming practices over the years from Alibaba Group’s technical teams. A vast number of Java programming teams impose demanding requirements on code quality across projects as we encourage reuse and better understanding of each other’s programs. We have seen many programming problems in the past. For example, defective database table structures and index designs may cause software architecture flaws and performance risks. Another example is confusing code structures being difficult to maintain. Furthermore, vulnerable code without authentication is prone to hackers’ attacks. To address these kinds of problems, we developed this document for Java developers at Alibaba.</p><p>（前言:我们很高兴向您介绍阿里巴巴Java编程规范，它整合了阿里巴巴集团技术团队多年来的最佳编程实践。随着我们鼓励重用和更好地理解彼此的程序，大量的Java编程团队对跨项目的代码质量提出了苛刻的要求。我们在过去已经看到了许多编程问题。例如，有缺陷的数据库表结构和索引设计可能会导致软件体系结构缺陷和性能风险。另一个例子是难以维护的代码结构。此外，没有身份验证的脆弱代码容易受到黑客攻击。为了解决这些问题，我们为阿里巴巴的Java开发人员开发了这个文档。）</p></blockquote><p><span style="color:#f33b45;">     该手册以 Java 开发者为中心视角，划分为编程规约、异常日志、单元测试、安全规约、MySQL 数据库、工程结构、设计规约七个维度，再根据内容特征，细分成若干二级子目录。根据约束力强弱及故障敏感性，规约依次分为<strong>强制、推荐、参考</strong>三大类。对于规约条目的延伸信息中，“说明”对规约做了适当扩展和解释；“正例”提倡什么样的编码和实现方式；“反例”说明需要提防的雷区，以及真实的错误案例。</span></p><p><span style="color:#f33b45;">    宗旨：码出高效，码出质量。</span></p><p>简单点说就是：该手册对一些不规范的编码方式或风格以及容易出错的地方，给出了比较规范的“标准”，规范根据程度分为三种<span style="color:#f33b45;"><strong>强制、推荐、参考</strong></span>，并给出了一些示范；参照该规范可以让我们在高效编码的同时，保证质量。</p><blockquote><p><span style="color:#86ca5e;">调侃：</span><br><span style="color:#86ca5e;">1、程序猿最烦的3件事：①代码要写注释 ②别人的代码不写注释。</span><br><span style="color:#86ca5e;">2、不写注释的程序猿一个月后再看自己的代码：？谁知道这是谁写的什么鬼东西……</span><br><span style="color:#86ca5e;">3. 扎心的真理：</span><br><img src="https://img-blog.csdnimg.cn/20190703154504302.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt><br><span style="color:#86ca5e;">4.头痛的原因：</span><br><img src="https://img-blog.csdnimg.cn/20190703154616475.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p></blockquote><p>手册目录：</p><p><img src="https://img-blog.csdnimg.cn/20190703150124544.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>我们来实际看个例子吧：一（四）OOP(面向对象编程)规约：</p><p><img src="https://img-blog.csdnimg.cn/20190703150320624.png" alt></p><p>这个例子已经讲的很清楚了，不用我解释你也应该懂了吧！虽然现在看起来挺简单的，但是如果不是看了手册，我平时也不会特别去注意这个问题。</p><p>虽然这本书册不是很厚，但是就算看完了，也不一定能在编码时全部记住啊！那怎么办呢？《阿里巴巴Java开发规约》扫描插件<span style="color:#f33b45;">闪亮登场</span>！妹妹你大胆地向前走，出现问题，哥哥我会告诉你！</p><h3 id="4-阿里巴巴java开发规约-扫描插件">4、《阿里巴巴Java开发规约》扫描插件</h3><p>该插件由阿里巴巴P3C项目组研发（<a href="https://github.com/alibaba/p3c/issues/571" target="_blank" rel="noopener">孤尽老师对p3c的解析</a>：P3C是反潜机代号，扫描水下隐患。）。这个项目组是阿里巴巴开发爱好者自发组织形成的虚拟项目组，把《阿里巴巴Java开发规约》强制条目转化成自动化插件。你写完代码后，用该插件扫描一下，如果编码不符合规约的就会给出不同程度的提醒，以及详细的违反的规约条目，帮助你改正。</p><p>该插件已开源到github，网址：<strong><a href="https://github.com/alibaba/p3c" target="_blank" rel="noopener">https://github.com/alibaba/p3c</a>（注：该书最新版的电子书也发布在该项目中）</strong>，集成插件分为IDEA和eclipse，安装和使用里面都有详细的介绍，这里就不多说了。</p><p>还有很一个很重要的特点：<span style="color:#f33b45;">同时支持中英文！</span>如果你的英语不是很好，一开始你可能会看不懂英文的规范，那么你可以用中文版的；如果你的英语比较好，或者是你已经使用该插件有段时间了、比较熟悉了、想和国际接轨，那么你可以一键转换为英文版（国际版）。</p><h3 id="5-最近更新：2019-6-27-华山版-java开发手册-现身江湖">5、最近更新：2019.6.27 华山版《Java开发手册》现身江湖</h3><p>最近比较大的更新为6月份的，有总结了一些新的规约，修改了部分内容，上线了新的手册和插件。</p><p>（1）、封面（一眼望去，武侠之风甚浓！）</p><p><img src="https://img-blog.csdnimg.cn/20190704171751963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2）、尾页更新说明：</p><p><img src="https://img-blog.csdnimg.cn/20190704212625272.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（3）、官方解读：<a href="https://developer.aliyun.com/special/tech-java" target="_blank" rel="noopener">https://developer.aliyun.com/special/tech-java</a></p><p><img src="https://img-blog.csdnimg.cn/20190704171930104.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><strong>备注：</strong></p><p>（1）不知道你有没有注意到，这里其实有两本书：</p><p>一本是<span style="color:#f33b45;">《 阿里巴巴Java开发手册》</span>：由手册后面的版本历史我们可以知道，<strong>2016年12月07日</strong>，试读版本首次对外发布（后续版本可参考手册）。<strong>2017年10月14日</strong>，杭州云栖大会，Java代码规约扫描插件全球首发仪式正式启动，规范正式以插件形式公开走向业界，引领Java语言的规范之路。<strong>2017年12月20日</strong>，在北京国家会议中心举办的“2017云栖大会·北京峰会”上，由电子工业出版社博文视点公司出版的《阿里巴巴Java开发手册》正式发布。</p><p>另一本是<span style="color:#f33b45;">《码出高效：Java 开发手册》</span>：<strong>2018年9月22日</strong>，在2018杭州云栖大会上，召开新书发布会。</p><p>（2）因为该手册和项目受到越来越多人的喜爱与并且参与，所以后面将阿里巴巴去掉，改名为《java开发手册》。</p><p>（3）之所以命名为“华山版”，孤尽老师的解释是：前面已经把能用的名字都用完了……（可不是嘛！1.0.0公开版、1.1.0正式版、1.2.0升级版、1.3.0终极版、1.4.0详尽版），然后想带大家领略中国的大好河山，决定后面以此为依据命名。</p><p>还有一点就是马爸爸早年对金庸武侠很是热衷，创立阿里初期把金庸文化融入到阿里的企业文化中了；后来，第一次与金庸先生见面，又是“一见如故，相识恨晚”与金庸先生成为忘年交，与金庸先生的交流就更好了，多次邀请他到阿里去参加一些大型的活动……。而华山在金庸武侠中又是武侠氛围很浓重的名山，故有次名。（虽然不记得孤尽老师的原话了，但是大意类似……）</p><p>（4）为方便不会使用github的人，我把该项目下载，并上传到了CSDN和百度云，有需求的自取。（包含开发手册和项目）</p><p>(如果不懂github的)如果有CSDN积分，可光顾我的上传的资源：<a href="https://download.csdn.net/download/weixin_41287260/11339798" target="_blank" rel="noopener">阿里巴巴Java开发手册</a></p><p><img src="https://img-blog.csdnimg.cn/20190712134834359.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>如果没有积分，可在文末的百度网盘中下载。</p><p><img src="https://img-blog.csdnimg.cn/2019071213505561.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><blockquote><p>链接：<a href="https://pan.baidu.com/s/1piQcQzvUB3gZJnZJNOrOcg" target="_blank" rel="noopener">https://pan.baidu.com/s/1piQcQzvUB3gZJnZJNOrOcg</a> <br>提取码：8il9 <br>复制这段内容后打开百度网盘手机App，操作更方便哦</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Java文档注释系列文章四】总结</title>
      <link href="/article/955aed72.html"/>
      <url>/article/955aed72.html</url>
      
        <content type="html"><![CDATA[<p>经过一段时间的摸索，对之前的Java文档注释模板的进行了修改，使其更符合我的喜好。下面是我导出的模板：<code>codetemplates.xml</code>，你也可以新建该文件，把下面的内容（模板代码）复制进去，然后把该文件导入到eclipse中。</p><a id="more"></a><p>（如果不会导入，可参考下面注意的链接内容。）</p><p>注意：如果你害怕你不习惯我的模板或者不喜欢，你可以先按照<a href="https://blog.csdn.net/weixin_41287260/article/details/90754112#2.%20%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E9%87%8A%E9%A3%8E%E6%A0%BC" target="_blank" rel="noopener">【Java注释系列文章一】2、3点</a> 把你的现有的模板导出，这样如果真的觉得该模板不符合你的喜好，你也可以恢复你原来的模板（即重新导入自己的）。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span><span class="tag">&lt;<span class="name">templates</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"gettercomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for getter method"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.gettercomment"</span> <span class="attr">name</span>=<span class="string">"gettercomment"</span>&gt;</span>/**</span><br><span class="line"> * @return the $&#123;bare_field_name&#125;</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"settercomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for setter method"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.settercomment"</span> <span class="attr">name</span>=<span class="string">"settercomment"</span>&gt;</span>/**</span><br><span class="line"> * @param $&#123;param&#125; the $&#123;bare_field_name&#125; to set</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"false"</span> <span class="attr">context</span>=<span class="string">"constructorcomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for created constructors"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.constructorcomment"</span> <span class="attr">name</span>=<span class="string">"constructorcomment"</span>&gt;</span>/**</span><br><span class="line"> * @Title $&#123;enclosing_type&#125;</span><br><span class="line"> * @Description $&#123;todo&#125;</span><br><span class="line"> * $&#123;tags&#125;</span><br><span class="line"> * @throws</span><br><span class="line"> */</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"false"</span> <span class="attr">context</span>=<span class="string">"filecomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for created Java files"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.filecomment"</span> <span class="attr">name</span>=<span class="string">"filecomment"</span>&gt;</span>/**  </span><br><span class="line"> * @Title $&#123;file_name&#125;</span><br><span class="line"> * @Package $&#123;package_name&#125;</span><br><span class="line"> * @Description $&#123;todo&#125;</span><br><span class="line"> * @author $&#123;user&#125;</span><br><span class="line"> * @date $&#123;d:date('yyyy-MM-dd HH:mm:ss')&#125;</span><br><span class="line"> * @version v1.0</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"false"</span> <span class="attr">context</span>=<span class="string">"typecomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for created types"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.typecomment"</span> <span class="attr">name</span>=<span class="string">"typecomment"</span>&gt;</span>/**</span><br><span class="line"> * &amp;lt;p&amp;gt;Title: &amp;lt;/p&amp;gt;</span><br><span class="line"> * &amp;lt;p&amp;gt;Description: &amp;lt;/p&amp;gt;</span><br><span class="line"> * &amp;lt;p&amp;gt;Company: &amp;lt;/p&amp;gt;</span><br><span class="line"> * @author $&#123;user&#125;</span><br><span class="line"> * @date $&#123;d:date('yyyy-MM-dd HH:mm:ss')&#125;</span><br><span class="line"> * @version v1.0 </span><br><span class="line"> * $&#123;tags&#125;</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"false"</span> <span class="attr">context</span>=<span class="string">"fieldcomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for fields"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.fieldcomment"</span> <span class="attr">name</span>=<span class="string">"fieldcomment"</span>&gt;</span>/**  </span><br><span class="line"> * @Fields $&#123;field&#125; : $&#123;todo&#125;</span><br><span class="line"> */  <span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"false"</span> <span class="attr">context</span>=<span class="string">"methodcomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for non-overriding methods"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.methodcomment"</span> <span class="attr">name</span>=<span class="string">"methodcomment"</span>&gt;</span>/**</span><br><span class="line"> * @Title $&#123;enclosing_method&#125;</span><br><span class="line"> * @author $&#123;user&#125;</span><br><span class="line"> * @version v1.0</span><br><span class="line"> * @date $&#123;d:date('yyyy-MM-dd HH:mm:ss')&#125;</span><br><span class="line"> * @Description $&#123;todo&#125;</span><br><span class="line"> * $&#123;tags&#125;   </span><br><span class="line"> * $&#123;return_type&#125; </span><br><span class="line"> * @see  </span><br><span class="line"> * @exception</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"false"</span> <span class="attr">context</span>=<span class="string">"overridecomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for overriding methods"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.overridecomment"</span> <span class="attr">name</span>=<span class="string">"overridecomment"</span>&gt;</span>/**</span><br><span class="line"> * &amp;lt;p&amp;gt;Title: $&#123;enclosing_method&#125;&amp;lt;/p&amp;gt;</span><br><span class="line"> * &amp;lt;p&amp;gt;Description: &amp;lt;/p&amp;gt;</span><br><span class="line"> * $&#123;tags&#125;</span><br><span class="line"> * $&#123;see_to_overridden&#125;</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"delegatecomment_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Comment for delegate methods"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.delegatecomment"</span> <span class="attr">name</span>=<span class="string">"delegatecomment"</span>&gt;</span>/**</span><br><span class="line"> * $&#123;tags&#125;</span><br><span class="line"> * $&#123;see_to_target&#125;</span><br><span class="line"> */<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"newtype_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Newly created files"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.newtype"</span> <span class="attr">name</span>=<span class="string">"newtype"</span>&gt;</span>$&#123;filecomment&#125;</span><br><span class="line">$&#123;package_declaration&#125;</span><br><span class="line"></span><br><span class="line">$&#123;typecomment&#125;</span><br><span class="line">$&#123;type_declaration&#125;<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"classbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in new class type bodies"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.classbody"</span> <span class="attr">name</span>=<span class="string">"classbody"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"interfacebody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in new interface type bodies"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.interfacebody"</span> <span class="attr">name</span>=<span class="string">"interfacebody"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"enumbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in new enum type bodies"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.enumbody"</span> <span class="attr">name</span>=<span class="string">"enumbody"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"annotationbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in new annotation type bodies"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.annotationbody"</span> <span class="attr">name</span>=<span class="string">"annotationbody"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"catchblock_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in new catch blocks"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.catchblock"</span> <span class="attr">name</span>=<span class="string">"catchblock"</span>&gt;</span>// $&#123;todo&#125; Auto-generated catch block</span><br><span class="line">$&#123;exception_var&#125;.printStackTrace();<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"methodbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in created method stubs"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.methodbody"</span> <span class="attr">name</span>=<span class="string">"methodbody"</span>&gt;</span>// $&#123;todo&#125; Auto-generated method stub</span><br><span class="line">$&#123;body_statement&#125;<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"constructorbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in created constructor stubs"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.constructorbody"</span> <span class="attr">name</span>=<span class="string">"constructorbody"</span>&gt;</span>$&#123;body_statement&#125;</span><br><span class="line">// $&#123;todo&#125; Auto-generated constructor stub<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"getterbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in created getters"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.getterbody"</span> <span class="attr">name</span>=<span class="string">"getterbody"</span>&gt;</span>return $&#123;field&#125;;<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">autoinsert</span>=<span class="string">"true"</span> <span class="attr">context</span>=<span class="string">"setterbody_context"</span> <span class="attr">deleted</span>=<span class="string">"false"</span> <span class="attr">description</span>=<span class="string">"Code in created setters"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">id</span>=<span class="string">"org.eclipse.jdt.ui.text.codetemplates.setterbody"</span> <span class="attr">name</span>=<span class="string">"setterbody"</span>&gt;</span>$&#123;field&#125; = $&#123;param&#125;;<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;/<span class="name">templates</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2019.6.25更新：</p><p>之前导出文件，发现xml文件格式好乱，于是就去格式化了一下；然后我把该文件导进去后，发现好像里面格式乱了……所以我决定还是把直接导出的文件贴上吧（虽然丑了点）。</p><p>2019.8.11更新：</p><p>生成文档是需要添加参数的：</p><p><code>-encoding utf-8 -charset utf-8  -tag date:a:date -tag Title:a:Title  -tag Description:a:Description -tag Fields:a:Fields</code></p><p><img src="https://img-blog.csdnimg.cn/20190811205404796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><hr><p>2019-9-29更新：</p><p>如需查看效果，可到我github的一个相关仓库：<a href="https://github.com/yansheng836/eclipse-codestyle" target="_blank" rel="noopener">https://github.com/yansheng836/eclipse-codestyle</a> 查看；同时这里还介绍了阿里巴巴P3C项目推荐的模板，我现在改用这个了，比较好用。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> 注释 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Java文档注释系列文章三】格式化代码不格式化注释，格式化代码注释不换行</title>
      <link href="/article/f096be46.html"/>
      <url>/article/f096be46.html</url>
      
        <content type="html"><![CDATA[<p>问题：在使用shift+ctrl+F格式化代码的时候会出现以下的情况，注释也会格式化，把写在一行的注释分为两行显示，可读性不高而且格式不友好。这篇文章介绍了如何解决这个问题。</p><a id="more"></a><p>不友好的格式：</p><p><img src="https://oss.yansheng.xyz/picgo/20151010144233954.jpg" alt></p><p>实际需要的格式：</p><p><img src="https://oss.yansheng.xyz/picgo/20151010144249165.jpg" alt></p><p>问题解决：</p><p>首先进入window–&gt;preferences–&gt;java–&gt;code style–&gt;formatter创建不需要格式化注释的模板。</p><p><img src="https://oss.yansheng.xyz/picgo/20151010144301244.jpg" alt></p><p>将注释格式化的选项去掉：</p><p><img src="https://oss.yansheng.xyz/picgo/20151010144316845.jpg" alt></p><p>应用自己创建的模板：</p><p><img src="https://oss.yansheng.xyz/picgo/20151010144342323.jpg" alt></p><p>这样可以了，其实很简单。</p><p><strong>注意</strong>：</p><p>这里有默认的Eclipse模板，不要直接在默认的模板中修改，这样是无法修改的，只能自己创建一个模板（新创建的模板设置和Eclipse默认相同），然后再在自己创建的模板中修改，修改后应用自己的模板就可以了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> 注释 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Java文档注释系列文章二】(My)Eclipse-自定义文档注释模板</title>
      <link href="/article/56cb99d3.html"/>
      <url>/article/56cb99d3.html</url>
      
        <content type="html"><![CDATA[<p>自定义文档注释模板，比较全面，基本内容都有涉及到，可以参考。</p><a id="more"></a><h2 id="设置位置如下所示">设置位置如下所示</h2><p><img src="https://oss.yansheng.xyz/picgo/20160619222421116.jpg" alt></p><h2 id="具体设置">具体设置</h2><h3 id="files">Files</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment">* <span class="doctag">@Title</span> $&#123;file_name&#125;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Package</span> $&#123;package_name&#125;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span> $&#123;todo&#125;(用一句话描述该文件做什么)</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> 你的名字 </span></span><br><span class="line"><span class="comment">* <span class="doctag">@date</span> $&#123;d:date('yyyy-MM-dd HH:mm:ss')&#125;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@version</span> V1.0  </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="types">Types</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Title &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Company &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 你的名字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> $&#123;d:date('yyyy-MM-dd HH:mm:ss')&#125;</span></span><br><span class="line"><span class="comment"> * @版本 V 1.0 </span></span><br><span class="line"><span class="comment"> * $&#123;tags&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="fields">Fields</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Fields</span> $&#123;field&#125; : $&#123;todo&#125;(用一句话描述这个变量表示什么)   </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="constructors">Constructors</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> $&#123;enclosing_type&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> $&#123;todo&#125;(这里用一句话描述这个方法的作用)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $&#123;tags&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span></span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="methods">Methods</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> $&#123;enclosing_method&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> $&#123;todo&#125;(这里用一句话描述这个方法的作用)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $&#123;tags&#125;   </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> $&#123;return_type&#125;   </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span></span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="overriding-methods">Overriding methods</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Title $&#123;enclosing_method&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Description &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * $&#123;tags&#125;</span></span><br><span class="line"><span class="comment"> * $&#123;see_to_overridden&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="delegate-methods">Delegate methods</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $&#123;tags&#125;</span></span><br><span class="line"><span class="comment"> * $&#123;see_to_target&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="getters">Getters</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> $&#123;enclosing_method&#125; &lt;BR&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> please write your description &lt;BR&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> $&#123;field_type&#125; &lt;BR&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="setters">Setters</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Title</span> $&#123;enclosing_method&#125; &lt;BR&gt; </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> please write your description &lt;BR&gt; </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> $&#123;field_type&#125; &lt;BR&gt; </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h3 id="myeclipse文档注释快捷键">MyEclipse文档注释快捷键</h3><p><strong>Shift+Alt+J</strong></p><hr><p>转自：<a href="https://blog.csdn.net/qq_32588349/article/details/51714513" target="_blank" rel="noopener">https://blog.csdn.net/qq_32588349/article/details/51714513</a>，略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> 注释 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【Java文档注释系列文章一】如何在Eclipse中自动添加注释和自定义注释风格</title>
      <link href="/article/40a4b4ab.html"/>
      <url>/article/40a4b4ab.html</url>
      
        <content type="html"><![CDATA[<p>注释的任务其实挺繁重的，总以为自己在做着无意义的事，每次重复的写着统一的注释风格更是费时费力。Eclipse用的很熟的都知道Eclipse里自带了某些注释风格，但并不一定适用于你的标准，因此如何自定义注释风格然后自动添加就显得非常有意义了，让我们省时省力。</p><a id="more"></a><p>在无论什么项目中，注释都是不可缺少的，注释的种类和风格非常之多，每个公司有每个公司自己的一套标准，中大型项目一般写注释是为了自动生成文档便于维护，比如Java自带的Javadoc、功能更强大使用更广泛的Doxygen（<a href="http://blog.csdn.net/lanxuezaipiao/article/details/19235823" target="_blank" rel="noopener">Doxygen自动文档生成工具在Eclipse中的集成及使用举例</a>）等。注释的任务其实挺繁重的，总以为自己在做着无意义的事，每次重复的写着统一的注释风格更是费时费力。Eclipse用的很熟的都知道Eclipse里自带了某些注释风格，但并不一定适用于你的标准，因此如何自定义注释风格然后自动添加就显得非常有意义了，让我们省时省力。</p><hr><h3 id="1-如何自动添加注释">1. 如何自动添加注释</h3><p>可通过如下三种方法自动添加注释：</p><p>（1）输入“/**”并回车。</p><p>（2）用快捷键 Alt＋Shift+J（先选中某个方法、类名或变量名）。</p><p>（3）在右键菜单中选择“Source &gt; Generate ElementComment”。</p><h3 id="2-如何自定义注释风格">2. 如何自定义注释风格</h3><p>自带的注释格式你不一定喜欢或不符合你公司的标准，那么可以通过下面方法进行修改。</p><p>（1）Window-&gt;Preference 打开参数设置面板，然后选择：Java -&gt; Code Style -&gt; CodeTemplates</p><p><img src="https://oss.yansheng.xyz/picgo/20140303095546328.jpg" alt></p><p>可以看到Comments下面一系列可以注释的Java代码组成部分（对文件、变量、方法、构造方法、重载函数等等），比如我想定制Java文件的注释风格，那么在右侧选择Comments中的File项，点击Edit，进入编辑模式，这样就可以自定义注释了。其中可以插入一些变量，如日期、文件名、作者等等。</p><p><img src="https://oss.yansheng.xyz/picgo/20140303100419062.jpg" alt></p><h3 id="3-导入-导出代码格式模板">3. 导入/导出代码格式模板</h3><p>如果你辛辛苦苦定制好了自己的代码风格，然后换了台机器进行操作或重装了Eclipse，是不是要重新配置一遍呢？答案当然是No了，Eclipse提供了“导出”和“导入”功能，你可以把自己的模板导出来在其他机器上使用。</p><p><img src="https://oss.yansheng.xyz/picgo/20140303100741609.jpg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> 注释 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java.lang.NoClassDefFoundError. org.junit.platform.launcher.core.LauncherFactory</title>
      <link href="/article/bcb393f3.html"/>
      <url>/article/bcb393f3.html</url>
      
        <content type="html"><![CDATA[<p>在学习Junit5的过程中，按照官方的介绍，使用其案例，尝试第一个Junit5项目。发生该错误，逛stackoverflow后，找到问题所在。</p><a id="more"></a><h3 id="问题描述：">问题描述：</h3><p>在学习Junit5的过程中，按照官方的介绍，使用其案例，尝试第一个Junit5项目。</p><p><a href="https://github.com/junit-team/junit5-samples" target="_blank" rel="noopener">https://github.com/junit-team/junit5-samples</a> 的maven项目（<a href="https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-maven" target="_blank" rel="noopener">https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-maven</a> ），导入该项目到eclipse后，运行时出现如下错误：</p><blockquote><p><strong>java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory</strong><br>at org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.<init>(JUnit5TestLoader.java:31)<br>at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br>at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)<br>at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br>at java.lang.reflect.Constructor.newInstance(Constructor.java:423)<br>at java.lang.Class.newInstance(Class.java:442)<br>at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:367)<br>at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:362)<br>at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:306)<br>at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:221)<br>at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:205)<br>Caused by: java.lang.ClassNotFoundException: org.junit.platform.launcher.core.LauncherFactory<br>at java.net.URLClassLoader.findClass(URLClassLoader.java:381)<br>at java.lang.ClassLoader.loadClass(ClassLoader.java:424)<br>at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)<br>at java.lang.ClassLoader.loadClass(ClassLoader.java:357)<br>… 11 more</init></p></blockquote><h3 id="1-解答一：">1、解答一：</h3><p>在stackoverflow我找到了类似的问题：<a href="https://stackoverflow.com/questions/46717693/eclipse-no-tests-found-using-junit-5-caused-by-noclassdeffounderror" target="_blank" rel="noopener">Eclipse No tests found using JUnit 5 caused by NoClassDefFoundError</a></p><p>其实看完这个我还是不太懂，但是还是按照大佬给的建议去尝试了。其中有一个是说：加入对应依赖可以解决该问题，我尝试后发现可以解决该问题。</p><p>原项目的依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;junit.jupiter.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>需添加的项目依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span> org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.platform<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-platform-launcher<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span> 1.1.0 <span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong><a href="https://junit.org/junit5/docs/current/user-guide/#overview" target="_blank" rel="noopener">官方Junit5的介绍</a>：JUnit 5 = <em>JUnit Platform</em> + <em>JUnit Jupiter</em> + <em>JUnit Vintage</em></strong></p><p><img src="https://img-blog.csdnimg.cn/20190526191443709.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>我是这样理解的：<strong>JUnit Platform是提供了运行（测试框架）环境的平台，JUnit Jupiter 是新的Junit5（子项目提供了一个基于平台测试运行Jupiter的测试引擎），JUnit Vintage提供了Junit3/4的测试引擎（应该是向前兼容的意思）。</strong></p><p>我猜测：这里报错的原因是：<span style="color:#f33b45;"><strong>缺少对应依赖（也就是说缺少对应的jar包！）</strong></span>。</p><h3 id="2-解答二：">2、解答二：</h3><p>参考这个：<a href="https://codeday.me/bug/20170820/55492.html" target="_blank" rel="noopener">junit中的java.lang.NoClassDefFoundError</a></p><p>为项目添加eclipse对应的Junit库即可，具体步骤如下：</p><ol><li>在包资源管理器中右键单击您的项目</li><li>build path</li><li>configure build path</li><li>libraries–&gt;add libraries–&gt;junit–&gt;添加就好了</li></ol><p>添加后该库有这些包：</p><p><img src="https://img-blog.csdnimg.cn/20190526195037884.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>注意下我圈出来的jar包，这两个是和上面添加依赖的包是一样的，也就是说其实这两种解决方案是一样的。</p><hr><p>如果是junit4出现类似错误：java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing可以参考这篇文章：<a href="https://blog.csdn.net/u011954243/article/details/77962329" target="_blank" rel="noopener">junit 单元测试报错：java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing</a></p><p>junit4一般就这两个包：</p><p><img src="https://img-blog.csdnimg.cn/20190527121406115.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> JUnit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FastStoneCapture注册码/注册机</title>
      <link href="/article/596e7dd8.html"/>
      <url>/article/596e7dd8.html</url>
      
        <content type="html"><![CDATA[<p>这是我网上找的注册码，备份一下。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">用户名：c1ikm</span><br><span class="line">注册码：AXMQX-RMMMJ-DBHHF-WIHTV      或   AXOQS-RRMGS-ODAQO-APHUU</span><br><span class="line"></span><br><span class="line">用户名：bluman</span><br><span class="line">注册码：VPISCJULXUFGDDXYAUYF</span><br><span class="line"></span><br><span class="line">用户名：astray.cn</span><br><span class="line">注册码：OPRMM-IMDIA-RBJNH-ESLGU</span><br></pre></td></tr></table></figure><hr><p>软件如何使用？</p><p>推荐阅读：<a href="https://blog.csdn.net/weixin_41287260/article/details/94592405" target="_blank" rel="noopener">程序员必备神器（FastStoneCapture）</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 软件破解 </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> FastStoneCapture </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git配置用户名和密码</title>
      <link href="/article/41a438fd.html"/>
      <url>/article/41a438fd.html</url>
      
        <content type="html"><![CDATA[<p>一般刚安装Git都要配置用户名和密码，因为你提交代码到本地仓库（上传代码到远程仓库）时会用到，如果没有没有配置，在你提交时它会提醒你的。那么接下来我们讲一下怎么配置。</p><a id="more"></a><p>设备：Windows10，git(MINGW64)</p><h2 id="1-查看git的配置列表">1、查看git的配置列表</h2><p>我们可以先查看一下git的配置列表：</p><blockquote><p>git config --list</p></blockquote><p>如果没有配置东西，应该是空的。照着下面配置完成后，你可以再试一下该命令，就会出现一系列配置信息。</p><h2 id="2-进行配置">2、进行配置</h2><h3 id="1-命令行配置">（1）命令行配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name  “username”  </span><br><span class="line"></span><br><span class="line">git config --global user.email  “email”</span><br></pre></td></tr></table></figure><p>将username和email换成github（或者其它类似远程仓库）的用户名和密码。</p><h3 id="span-style-color-3399ea-补充：-span-1-1-全局变量"><span style="color:#3399ea;">补充：</span>(1.1) 全局变量</h3><p><code>--global</code>  表示全局的，即当前用户都有效，该配置会出现在<code>~/.gitconfig</code>文件中，<code>~</code>表示当前用户的目录，比如我的是：<code>C:\Users\username\.gitconfig</code> ，打开该文件你会发现如下图所示的内容：</p><p><img src="https://img-blog.csdnimg.cn/20190511161814338.png" alt></p><p>对比一下，你应该就知道上面的配置命令是怎么起作用的吧（其它配置命令也是这个意思！）。（注：该文件#开头的行是注释，为了方便理解，你可以自己添加一些注释信息）</p><p><img src="https://img-blog.csdnimg.cn/20190511162444429.png" alt></p><h3 id="1-2-局部变量">（1.2）局部变量</h3><p>既然有全局的，那么肯定有局部的啊！局部的是不加 --global 的，如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config  user.name  “username”  </span><br><span class="line"></span><br><span class="line">git config  user.email  “email”</span><br></pre></td></tr></table></figure><p>局部是只对当前仓库起效的，它的配置信息会在当前仓库根目录<span style="color:#f33b45;">/.git/config</span>文件下：</p><p><img src="https://img-blog.csdnimg.cn/2019051116453060.png" alt></p><p></p><h3 id="span-style-color-f33b45-注意：-span-局部变量覆盖全局变量-和编程语言里面的变量关系是一样的"><span style="color:#f33b45;">注意：</span>局部变量覆盖全局变量！！！和编程语言里面的变量关系是一样的。</h3><p>我在上面我新建的那个仓库里，随便提交了一点东西，然后查看提交日志如下：</p><p><img src="https://img-blog.csdnimg.cn/20190511165117524.png" alt></p><h3 id="2-修改对应文件进行配置">（2）修改对应文件进行配置</h3><p>相信看了上面的补充内容之后，你应该已经了解这两个配置命令的作用了吧，所以这里就不详讲了，你找到对应文件，该相关设置就好了。</p><h2 id="3-修改已配置的信息">3、修改已配置的信息</h2><p>假如配置后，发现有信息配置错了，如何进行修改？</p><h3 id="1-用命令修改">（1）用命令修改</h3><p>这里演示修改本地仓库的用户名和邮箱：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config–replace-alluser.name “name”</span><br><span class="line"></span><br><span class="line">git config–replace-alluser.email <span class="string">"123@qq.com"</span></span><br></pre></td></tr></table></figure><p>修改后是这样的：</p><p><img src="https://img-blog.csdnimg.cn/2019051117034924.png" alt></p><h3 id="2-修改对应文件进行修改">（2）修改对应文件进行修改</h3><p>这个应该不用讲了。</p><h2 id="4-git-config命令的功能列表">4、git config命令的功能列表</h2><h3 id="1-span-style-color-f33b45-git-config-span">（1）<span style="color:#f33b45;">git config</span></h3><p>我们直接输入<span style="color:#f33b45;">git config</span>，就可以看到简单的命令列表了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ git config</span><br><span class="line">usage: git config [&lt;options&gt;]</span><br><span class="line"></span><br><span class="line">Config file location</span><br><span class="line">    --global              use global config file</span><br><span class="line">    --system              use system config file</span><br><span class="line">    --<span class="built_in">local</span>               use repository config file</span><br><span class="line">    --worktree            use per-worktree config file</span><br><span class="line">    -f, --file &lt;file&gt;     use given config file</span><br><span class="line">    --blob &lt;blob-id&gt;      <span class="built_in">read</span> config from given blob object</span><br><span class="line"></span><br><span class="line">Action</span><br><span class="line">    --get                 get value: name [value-regex]</span><br><span class="line">    --get-all             get all values: key [value-regex]</span><br><span class="line">    --get-regexp          get values <span class="keyword">for</span> regexp: name-regex [value-regex]</span><br><span class="line">    --get-urlmatch        get value specific <span class="keyword">for</span> the URL: section[.var] URL</span><br><span class="line">    --replace-all         replace all matching variables: name value [value_regex]</span><br><span class="line">    --add                 add a new variable: name value</span><br><span class="line">    --<span class="built_in">unset</span>               remove a variable: name [value-regex]</span><br><span class="line">    --<span class="built_in">unset</span>-all           remove all matches: name [value-regex]</span><br><span class="line">    --rename-section      rename section: old-name new-name</span><br><span class="line">    --remove-section      remove a section: name</span><br><span class="line">    -l, --list            list all</span><br><span class="line">    -e, --edit            open an editor</span><br><span class="line">    --get-color           find the color configured: slot [default]</span><br><span class="line">    --get-colorbool       find the color setting: slot [stdout-is-tty]</span><br><span class="line"></span><br><span class="line">Type</span><br><span class="line">    -t, --<span class="built_in">type</span> &lt;&gt;         value is given this <span class="built_in">type</span></span><br><span class="line">    --bool                value is <span class="string">"true"</span> or <span class="string">"false"</span></span><br><span class="line">    --int                 value is decimal number</span><br><span class="line">    --bool-or-int         value is --bool or --int</span><br><span class="line">    --path                value is a path (file or directory name)</span><br><span class="line">    --expiry-date         value is an expiry date</span><br><span class="line"></span><br><span class="line">Other</span><br><span class="line">    -z, --null            terminate values with NUL byte</span><br><span class="line">    --name-only           show variable names only</span><br><span class="line">    --includes            respect include directives on lookup</span><br><span class="line">    --show-origin         show origin of config (file, standard input, blob, <span class="built_in">command</span> line)</span><br><span class="line">    --default &lt;value&gt;     with --get, use default value when missing entry</span><br></pre></td></tr></table></figure><h3 id="2-span-style-color-f33b45-git-config-help-span">（2）<span style="color:#f33b45;">git config --help</span></h3><p>这个命令默认打开本地git安装目录下的<code>G:\Git\mingw64\share\doc\git-doc\</code>下的详细的说明文档（这里<code>G:\Git</code> 为安装目录），这个是详细介绍命令的作用（上面的那个只是简介）。</p><p>样例截图：</p><p><img src="https://img-blog.csdnimg.cn/20190511172151265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><span style="color:#3399ea;">延伸：</span>其它命令你也可以通过添加 <span style="color:#f33b45;">–help</span>参数来打开命令的相关文档说明，如<span style="color:#f33b45;">git diff --help</span>，……</p><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git报错“fatal. refusing to merge unrelated histories”处理方案</title>
      <link href="/article/4db5ccba.html"/>
      <url>/article/4db5ccba.html</url>
      
        <content type="html"><![CDATA[<p>在合并分支、pull、push、rebase时等都可能会出现该错误：“fatal: refusing to merge unrelated histories”，这篇文章将对这个问题进行讲解。</p><a id="more"></a><h3 id="1-问题描述：">1、问题描述：</h3><p>在合并分支、pull、push、rebase时等都可能会出现该错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如在 git pull时</span></span><br><span class="line">$ git pull origin master </span><br><span class="line"></span><br><span class="line">fatal: refusing to merge unrelated histories</span><br></pre></td></tr></table></figure><h3 id="2-情况分析：">2、情况分析：</h3><p>其实上面的诸多操作都是涉及到分支合并的，而造成错误的原因是：要合并的两个分支没有取得关系，即提交的内容不一，没有共同的提交。</p><h3 id="3-处理方案：">3、处理方案：</h3><p>如果你确定你需要合并这些没有共同内容的分支，后面加参数：<span style="color:#f33b45;">–allow-unrelated-histories</span>，很好理解，既然报错是“不能合并没有联系的历史”，那我们就允许它就好了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#以git pull为例，其它相关命令可参考：</span></span><br><span class="line">$ git pull origin master --allow-unrelated-histories</span><br></pre></td></tr></table></figure><hr><p>推荐阅读：<a href="https://stackoverflow.com/questions/37937984/git-refusing-to-merge-unrelated-histories-on-rebase" target="_blank" rel="noopener">Git refusing to merge unrelated histories on rebase</a></p><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git命令行的各种退出方式</title>
      <link href="/article/7e28ed82.html"/>
      <url>/article/7e28ed82.html</url>
      
        <content type="html"><![CDATA[<p>文章介绍了git在不同状态下的常见退出方法：1、git log 退出。2、git commit退出。</p><a id="more"></a><h2 id="1-git-log-退出">1、git log 退出</h2><p>如果commit（提交）比较多，git log 的内容就会比较多；当满屏放不下，就会显示冒号，<span style="color:#f33b45;">回车（往下滚一行）、空格（往下滚一页）</span>可以继续查看剩余内容；退出：英文状态下 按 <span style="color:#f33b45;"><strong>q</strong></span>可以退出git log 状态。</p><h2 id="2-git-commit">2、git commit</h2><p>当该命令没有带-m参数时，会跳出commit change log （COMMIT_EDITMSG）界面（如下所示），这个是vi编辑器（也有可能是vim编辑器），和linux的使用时一样的，因为涉及到是否要保存编辑内容，所以退出命令有多种。</p><p><img src="https://img-blog.csdnimg.cn/20190728143609557.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="2-1-保存并退出：">2.1 保存并退出：</h3><p>（1）按 **<span style="color:#f33b45;">Esc</span>**键退出编辑模式，英文模式下输入 <strong><span style="color:#f33b45;">:wq</span></strong> ，然后回车(write and quit)。</p><p>（2）按 <strong><span style="color:#f33b45;">Esc</span></strong> 键退出编辑模式，大写英文模式下输入 <strong><span style="color:#f33b45;">ZZ </span></strong>，然后回车。</p><h3 id="2-2-不保存退出：">2.2 不保存退出：</h3><p>按 **<span style="color:#f33b45;">Esc</span>**键退出编辑模式，英文模式下输入 <strong><span style="color:#f33b45;">:q!</span></strong> ，然后回车。</p><p>按 **<span style="color:#f33b45;">Esc</span>**键退出编辑模式，英文模式下输入 <strong><span style="color:#f33b45;">:qa!</span></strong> ，然后回车。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git中的Reference及Reference Specification概述</title>
      <link href="/article/fe51ff19.html"/>
      <url>/article/fe51ff19.html</url>
      
        <content type="html"><![CDATA[<p>文章主要内容：1.Git Reference简写为refs。2.Reference Specification简称refspec。</p><a id="more"></a><h3 id="1-git-reference简写为refs">1.Git Reference简写为refs</h3><p>1)本地分支的Reference格式：<code>refs/heads/&lt;local_branch_name&gt;</code><br>如refs/heads/master，在保证唯一的情况下可以简写为master。</p><p>2)远程追踪分支的Reference格式：<code>refs/remotes/&lt;remote_repository&gt;/&lt;remote_branch_name&gt;</code><br>如refs/remotes/origin/master，在保证唯一的情况下可以简写为origin/master。</p><p>3)tag的Reference格式：<code>refs/tags/&lt;tag_name&gt;</code><br>如refs/tags/v1.0.1，在保证唯一的情况下可以简写为v1.0.1。</p><p>补充：一些Git保留使用的特殊refs:</p><blockquote><p>HEAD，指向当前本地分支的当前commit状态</p><p>FETCH_HEAD，指向当前本地分支在最近一次fetch操作时得到的commit状态</p><p>ORIG_HEAD，指向任何merge或rebase之前的刚刚检出时的commit状态</p></blockquote><h3 id="2-reference-specification简称refspec">2.Reference Specification简称refspec</h3><p>在执行push或fetch操作时，refspec用以给出本地Ref和远程Ref之间的映射关系，通常是本地分支或本地tag与远程库中的分支或tag之间的映射关系。</p><p>refspec格式：</p><p>+&lt;src_ref&gt;:&lt;dst_refs&gt;</p><p>其中的+是可选的，表示强制更新</p><p>典型的push refspec为<code>HEAD:refs/heads/master</code></p><p>典型的fetch refspec为<code>refs/heads/*:refs/remotes/origin/*</code></p><hr><p>转自：<a href="https://blog.csdn.net/taiyangdao/article/details/52766424" target="_blank" rel="noopener">https://blog.csdn.net/taiyangdao/article/details/52766424</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git修改.gitignore如何生效？</title>
      <link href="/article/944a9c8b.html"/>
      <url>/article/944a9c8b.html</url>
      
        <content type="html"><![CDATA[<p>对于“.gitignore”文件（位于项目根目录），我认为这是保证代码轻量化的重要工具，你可以把一些“不是很重要的文件”忽略掉。那什么是不重要的文件呢？比如C语言项目在编译过程中产生的诸多文件、maven项目里的jar……说不是很重要是针对于代码本身而言的！</p><a id="more"></a><p>对于“.gitignore”文件（位于项目根目录），我认为这是保证代码轻量化的重要工具，你可以把一些“不是很重要的文件”忽略掉。那什么是不重要的文件呢？比如C语言项目在编译过程中产生的诸多文件、maven项目里的jar……说不是很重要是针对于代码本身而言的！因为这些文件你可以通过代码就可以得到，就拿maven项目而言，你无需手动去寻找各种需要的包，只需要在配置文件里面部署jar包的“坐标”，然后它就自动会帮你下载。</p><p>对于“.gitignore”文件，官方是这样介绍的：</p><blockquote><p>gitignore - A <code>gitignore</code> file specifies intentionally untracked files that Git should ignore. Files already tracked by Git are not affected.（gitignore文件指定了Git应该忽略的有意未跟踪的文件。已经通过Git跟踪的文件不受影响）</p></blockquote><p>这句话应该很容易理解，就是说如果在开发过程中你新建了“.gitignore”文件，那么就是忽略在这之后的指定的文件，之前的就不忽略。我们使用该文件的情况一般有两种：</p><h3 id="1-在新建仓库时就使用该文件">1、在新建仓库时就使用该文件</h3><p>如果是在远程新建仓库的话，在新建过程中它会询问你是否新建“.gitignore”文件，而且那里还会给出对应类型项目的一些参考模板，如下图是github新建仓库的界面，你可以选择需要的模板。那么这个文件在整个项目过程中都是起作用的。</p><p>如果是在本地新建仓库则需手动创建，也可复制以前同一类型的仓库的“.gitignore”文件。</p><p><img src="https://img-blog.csdnimg.cn/20190503140805867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>这是C语言模板：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prerequisites</span></span><br><span class="line">*.d</span><br><span class="line"></span><br><span class="line"><span class="comment"># Object files</span></span><br><span class="line">*.o</span><br><span class="line">*.ko</span><br><span class="line">*.obj</span><br><span class="line">*.elf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Linker output</span></span><br><span class="line">*.ilk</span><br><span class="line">*.map</span><br><span class="line">*.exp</span><br><span class="line"></span><br><span class="line"><span class="comment"># Precompiled Headers</span></span><br><span class="line">*.gch</span><br><span class="line">*.pch</span><br><span class="line"></span><br><span class="line"><span class="comment"># Libraries</span></span><br><span class="line">*.lib</span><br><span class="line">*.a</span><br><span class="line">*.la</span><br><span class="line">*.lo</span><br><span class="line"></span><br><span class="line"><span class="comment"># Shared objects (inc. Windows DLLs)</span></span><br><span class="line">*.dll</span><br><span class="line">*.so</span><br><span class="line">*.so.*</span><br><span class="line">*.dylib</span><br><span class="line"></span><br><span class="line"><span class="comment"># Executables</span></span><br><span class="line">*.exe</span><br><span class="line">*.out</span><br><span class="line">*.app</span><br><span class="line">*.i*86</span><br><span class="line">*.x86_64</span><br><span class="line">*.hex</span><br><span class="line"></span><br><span class="line"><span class="comment"># Debug files</span></span><br><span class="line">*.dSYM/</span><br><span class="line">*.su</span><br><span class="line">*.idb</span><br><span class="line">*.pdb</span><br><span class="line"></span><br><span class="line"><span class="comment"># Kernel Module Compile Results</span></span><br><span class="line">*.mod*</span><br><span class="line">*.cmd</span><br><span class="line">.tmp_versions/</span><br><span class="line">modules.order</span><br><span class="line">Module.symvers</span><br><span class="line">Mkfile.old</span><br><span class="line">dkms.conf</span><br></pre></td></tr></table></figure><p>PS：github有个官方仓库是有关gitignore文件的，里面介绍了各种编程语言的常用模板（github新建仓库就是这个模板）</p><p>链接：<a href="https://github.com/github/gitignore" target="_blank" rel="noopener">https://github.com/github/gitignore</a></p><p></p><h3 id="2-在新建仓库时没有创建该文件-后续需要再添加进来">2、在新建仓库时没有创建该文件，后续需要再添加进来。</h3><p>而根据我们之前的了解，该新建只对后续（为跟踪）文件起作用，但是如果我们需要让它对之前已经跟踪的文件也起作用该怎么办呢？</p><p>看看官方怎么想的——我们还是有办法的！</p><blockquote><p>The purpose of gitignore files is to ensure that certain files not tracked by Git remain untracked.</p><p>To stop tracking a file that is currently tracked, use <em>git rm --cached</em>.<br>（gitignore文件的目的是确保Git没有跟踪的某些文件仍然处于未跟踪状态。要停止跟踪当前跟踪的文件，请使用git rm——cached。）</p></blockquote><p>我们再看看这个命令：</p><blockquote><p>gti rm --cached<br>Use this option to unstage and remove paths only from the index. Working tree files, whether modified or not, will be left alone.<br>使用此选项仅从索引中取消阶段和删除路径。不管修改与否，工作树文件都将保持原样。</p></blockquote><p>具体操作如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#add .gitignore</span></span><br><span class="line"><span class="comment">#查看状态，是否忽略了指定的文件？ </span></span><br><span class="line">$ git status --ignored <span class="comment">#查看状态，包括忽略的文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#让其对已经跟踪的文件也起作用</span></span><br><span class="line">$ git rm -r --cached .  <span class="comment">#清除缓存 -r 表示递归删除（如果有文件夹的话） . 表示所有文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看一下具体效果</span></span><br><span class="line">$ git status --ignored</span><br><span class="line">$ git add .           <span class="comment">#重新trace file</span></span><br><span class="line">$ git commit -m <span class="string">"update .gitignore"</span>     <span class="comment">#提交和注释</span></span><br></pre></td></tr></table></figure><p>这样就能够使修改后的.gitignore对所有文件生效了。</p><hr><p>github对gitignore的介绍：<a href="https://help.github.com/en/articles/ignoring-files" target="_blank" rel="noopener">Ignoring files</a><br>gitignore详情可见官方资料：<a href="https://git-scm.com/docs/gitignore" target="_blank" rel="noopener">git - gitignore</a></p><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
            <tag> gitignore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git错误non-fast-forward的解决方法</title>
      <link href="/article/740b97fe.html"/>
      <url>/article/740b97fe.html</url>
      
        <content type="html"><![CDATA[<p>我们从字面上理解“non-fast-forward”，可以认为是“不能快速前进”，我觉得有个广告说得好：车到山前必有路……但是路有好走的路，也有不好走的路；而遇到不好走的路时，我们就不得不停下来思考“以后的路该怎么走”了，我们“不仅要低头赶路，也要抬头看路”就是这个意思。</p><a id="more"></a><h2 id="1-问题描述">1、问题描述</h2><p>当要push代码到git时，出现提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br><span class="line">To ../remote/</span><br><span class="line"> ! [rejected]        master -&gt; master (non-fast-forward)</span><br><span class="line">error: failed to push some refs to <span class="string">'../remote/'</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190502014538176.png" alt></p><h2 id="2-分析问题">2、分析问题</h2><blockquote><p>Dealing with “non-fast-forward” errors：(From time to time you may encounter this error while pushing).</p><p>To prevent you from losing history, non-fast-forward updates were rejected. Merge the remote changes before pushing again. See the ‘non-fast forward’ section of ‘git push --help’ for details.</p><p>This error can be a bit overwhelming at first, do not fear. Simply put, git cannot make the change on the remote without losing commits, so it refuses the push. Usually this is caused by another user pushing to the same branch. You can remedy this by fetching and merging the remote branch, or using pull to perform both at once.</p><p>In other cases this error is a result of destructive changes made locally by using commands like git commit --amend or git rebase. While you can override the remote by adding --force to the push command, you should only do so if you are absolutely certain this is what you want to do. Force-pushes can cause issues for other users that have fetched the remote branch, and is considered bad practice. When in doubt, don’t force-push.</p></blockquote><p>上面这段是从博主那摘抄的（2012年的文章），其实这和上面那张图的内容有很多相似之处，因为技术的发展和经验的积累，现在的git的功能也越来越完善，它不仅提示出错（具体原因），还会给出一些建设性意见，以供你参考。</p><p>我们知道git的一大好处就是可以团队合作开发，但是这就涉及到一个问题，怎么保证远程仓库的一致性？这也是它不得不处理的一个重要问题！</p><p>我们可以这样理解这个问题就是：<strong>别人上传到远程仓库后，你没有及时的同步（、拉取）到本地，但是你同时又添加了一些内容（提交），以致于你在提交时，它会检测到你之前从远程仓库拉取的时候的仓库状态和现在的不一样。于是，它为了安全起见拒绝了你的提交（然后就报了这个错误）。</strong></p><p>再者我们可以简单来理解这个问题：<span style="color:#f33b45;">我们从字面上理解“non-fast-forward”，可以认为是“<strong>不能快速前进</strong>”，我觉得有个广告说得好：车到山前必有路……但是路有好走的路，也有不好走的路；而遇到不好走的路时（比如前方遇到拦路石，或者是前方出现岔路），我们就不得不停下来思考“以后的路该怎么走”了，我们“不仅要低头赶路，也要抬头看路”就是这个意思。</span></p><p><span style="color:#f33b45;">“<strong>不能快速前进</strong>”的原因是因为路不一样了，变得不好走了；体现在git里面就是提交历史出现分叉，主线不再是一条直线，而是在前端出现了分叉，git不知道该如何前进，所以报错了，让你来觉得走哪条路！</span></p><h2 id="3-解决问题">3、解决问题</h2><p>于是你有2个选择方式：</p><h3 id="3-1-先合并之前的历史-再进行提交-提倡使用">3.1、先合并之前的历史，再进行提交——提倡使用</h3><p>（1）先把git的东西fetch到你本地然后merge后再push</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin master</span><br><span class="line"></span><br><span class="line">$ git merge origin FETCH_HEAD</span><br></pre></td></tr></table></figure><p>先抓取远程仓库的更新到本地，然后与你的本地仓库合并，（如果有冲突就要解决冲突后再合并，冲突问题比较复杂，这里就不详细说了），这样就可以使远程仓库和你本地仓库一致了，然后就可以提交修改了。</p><p>（2）这2句命令等价于<code>git pull origin master</code></p><p>但是使用git fetch + git merge 更加安全。</p><p>（3）git pull --rebase origin master</p><p>重定基，可以是历史更加统一，即使提交历史趋向于一条直线。</p><p>补充：他们之间的关系</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git pull = git fetch + git merge FETCH_HEAD </span><br><span class="line"></span><br><span class="line">git pull --rebase =  git fetch + git rebase FETCH_HEAD</span><br></pre></td></tr></table></figure><h3 id="3-2-丢弃之前的历史-强推-span-style-color-f33b45-谨慎使用-span">3.2、丢弃之前的历史，强推——<span style="color:#f33b45;">谨慎使用</span></h3><p><strong>强推，即利用强覆盖方式用你本地的代码替代git仓库内的内容</strong></p><p><code>git push -f</code> 或者<code>$ git push --force</code></p><p>官方文档提示：This flag disables these checks, and can cause the remote repository to lose commits;<span style="color:#f33b45;">use it with care.</span>（即：此标志禁用这些检查，并可能导致远程存储库丢失提交；<strong>小心使用</strong>。）</p><p>俗话说得好：“强扭的瓜不甜”，强制（暴力）执行总会产生一些不好的结果，应慎重考虑是否使用该命令！！！</p><p>不仅在此处，在平时使用时，也要非常注意，除非你真的是想覆盖远程仓库（你真的知道自己在干嘛！），不然最好不要强制执行。</p><hr><p>推荐阅读（英文）：<a href="https://help.github.com/en/articles/dealing-with-non-fast-forward-errors" target="_blank" rel="noopener">Dealing with non-fast-forward errors</a></p><p>2019年7月28日10:02:13 更新部分内容。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub里如何删除一个repository仓库</title>
      <link href="/article/b17b8f9c.html"/>
      <url>/article/b17b8f9c.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章介绍了如何删除GitHub上的一个仓库的详细步骤。</p><a id="more"></a><p>高手请绕行，新手往下走。</p><p>作为一个刚接触github（<a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a>） 的新手，除了感叹开源的丰富和强大之外，自己肯定也想试用一下，因此申请帐号神马的。今天自己创建一个Repository测试，创建过程好简单的说。但是想删除刚创建的Repository，一时竟然找不到，甚至都动用了Google，结果查得到的都是之前在较老github上的删除方式，比如什么Admin按钮的根本就没有了，好在自己还是摸索到了（人笨，这还需要摸索！！！），原来还是很简单，整理如下：</p><h3 id="步骤">步骤</h3><p>1.点击进入你要删除的repository，如下图，点击右侧的Settings；</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2kvNjAxMjMyLzIwMTQwNC8yMTIxNDIyNTk1MTI4NDguanBn?x-oss-process=image/format,png" alt></p><p>点击Settings之后，进入到该Repo的设置页面。</p><p>2.在该Repo的Settings页面最下方有Delete this repository 按钮，点击；</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2kvNjAxMjMyLzIwMTQwNC8yMTIxNTcwNzEwNzQ2NDkuanBn?x-oss-process=image/format,png" alt></p><p>3.在弹出的对话框中输入你的repository的名字，确认删除；</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2kvNjAxMjMyLzIwMTQwNC8yMTIxNDg1MzQ1MTExMzIuanBn?x-oss-process=image/format,png" alt></p><p>注意上面的一句话：This action CANNOT be undone。也就是删除操作说不可撤销、不可恢复。</p><p>4.最后一步，点击下方的按钮完成删除；</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMwLmNuYmxvZ3MuY29tL2kvNjAxMjMyLzIwMTQwNC8yMTIxNTI1NzM3MzEzNzkuanBn?x-oss-process=image/format,png" alt></p><p>好吧，就这几步，就完全删除了一个项目。</p><p>这么简单的事还记下来，是因为肯定还有我这样的新手不知道从哪删除，还去Baidu、Google而不得。</p><hr><p>转自：<a href="https://www.cnblogs.com/lizhenghn/p/3679293.html" target="_blank" rel="noopener">https://www.cnblogs.com/lizhenghn/p/3679293.html</a><br>部分内容和排版有所修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java日期相关类</title>
      <link href="/article/50fbd438.html"/>
      <url>/article/50fbd438.html</url>
      
        <content type="html"><![CDATA[<p>这里只是简单记录一下个人认为比较常用的一些方法：1.获取本地时间。2.格式化时间。3.日期转字符串。4.字符串转日期。5.求两个日期之间相隔的天数。</p><a id="more"></a><p>这里只是简单记录一下个人认为比较常用的一些方法，统一导包：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.ParseException;    <span class="comment">// 解析字符串时需要抛出的异常处理</span></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;  <span class="comment">// 格式化时间需要</span></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br></pre></td></tr></table></figure><h3 id="1-获取本地时间：">1.获取本地时间：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Date date = <span class="keyword">new</span> Date();</span><br><span class="line"><span class="comment">// public String toString()</span></span><br><span class="line"><span class="comment">// Converts this Date object to a String of the form: 即将日期对象转换成特定格式的字符串</span></span><br><span class="line"><span class="comment">// dow mon dd hh:mm:ss zzz yyyy</span></span><br><span class="line"><span class="comment">// Sat Apr 20 01:29:45 CST 2019</span></span><br><span class="line">System.out.println(date.toString());</span><br><span class="line">System.out.println(date);<span class="comment">// 直接输出date也一样</span></span><br></pre></td></tr></table></figure><h3 id="2-格式化时间">2.格式化时间</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Date date1 = <span class="keyword">new</span> Date();</span><br><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(); <span class="comment">// 采用默认的格式</span></span><br><span class="line">System.out.println(sdf.format(date1)); <span class="comment">// 19-4-20 上午1:37</span></span><br><span class="line"></span><br><span class="line">SimpleDateFormat sdf1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd E HH:mm:ss"</span>); <span class="comment">// 设置输出格式</span></span><br><span class="line">System.out.println(sdf1.format(date1)); <span class="comment">// 2019-04-20 星期六 01:37:12</span></span><br></pre></td></tr></table></figure><h3 id="3-日期转字符串">3.日期转字符串</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Date date2 = <span class="keyword">new</span> Date();</span><br><span class="line">SimpleDateFormat sdf2 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</span><br><span class="line">String string = sdf2.format(date2);</span><br><span class="line">System.out.println(string); <span class="comment">// 20190420</span></span><br></pre></td></tr></table></figure><h3 id="4-字符串转日期">4.字符串转日期</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SimpleDateFormat sdf3 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</span><br><span class="line">String string1 = <span class="string">"20190420"</span>;</span><br><span class="line">Date date3 = sdf3.parse(string1);</span><br><span class="line">System.out.println(date3);<span class="comment">// Sat Apr 20 00:00:00 CST 2019</span></span><br><span class="line">String string2 = sdf2.format(date3);</span><br><span class="line">System.out.println(string2);<span class="comment">// 20190420</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面方法也可简化成这样</span></span><br><span class="line">Date date31 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy/MM/dd"</span>).parse(<span class="string">"2019/04/19"</span>);<span class="comment">// 字符串解析字符串，返回为日期对象</span></span><br><span class="line">String string31 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy年MM月dd日"</span>).format(date31);<span class="comment">// 字符串格式化日期，返回为字符串</span></span><br><span class="line">System.out.println(string31);<span class="comment">// 2019年04月19日</span></span><br></pre></td></tr></table></figure><h3 id="5-求两个日期之间相隔的天数">5.求两个日期之间相隔的天数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 先讲一下思路：求得两个时间到1970的毫秒数，然后相减，得到间隔毫秒数，然后再将毫秒转化为天数</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* 用到的方法介绍：</span></span><br><span class="line"><span class="comment">* public long getTime()</span></span><br><span class="line"><span class="comment">* Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this Date object</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Date date4 = <span class="keyword">new</span> Date();</span><br><span class="line">System.out.println(<span class="string">"January 1, 1970 00:00:00到现在的毫秒数："</span>+date.getTime());<span class="comment">// 即为时间戳</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 按照特定格式解析时间字符串为日期对象</span></span><br><span class="line">SimpleDateFormat sdf4 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">Date beginDate = sdf4.parse(<span class="string">"2019-3-20"</span>);</span><br><span class="line">Date endDate = sdf4.parse(<span class="string">"2019-4-20"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算</span></span><br><span class="line"><span class="keyword">long</span> day = (endDate.getTime() - beginDate.getTime()) / (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);</span><br><span class="line">System.out.println(<span class="string">"相隔的天数="</span> + day);</span><br></pre></td></tr></table></figure><p>end……</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝桥杯考试应注意的细节问题</title>
      <link href="/article/9e4cd003.html"/>
      <url>/article/9e4cd003.html</url>
      
        <content type="html"><![CDATA[<p>虽然蓝桥杯主要是考察我们的算法，但是它还是很注重“形式”的，因此我们在练习过程中也要多这注意一下这方面的问题，下面是我练习中遇到的一些小问题，仅供参考。</p><a id="more"></a><p>虽然蓝桥杯主要是考察我们的<span style="color:#f33b45;">算法</span>，但是它还是很<span style="color:#f33b45;">注重“形式”</span>的，因此我们在练习过程中也要多这注意一下这方面的问题，下面是我练习中遇到的一些小问题，仅供参考。</p><hr><p>测试系统：<span style="color:#f33b45;">蓝桥杯练习系统</span>：<a href="http://lx.lanqiao.cn/index.page" target="_blank" rel="noopener">http://lx.lanqiao.cn/index.page</a>（需要登录），具体介绍就放张截图吧：</p><p><img src="https://img-blog.csdnimg.cn/20190415172751699.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h2 id="1-严格控制输入输出">1. 严格控制输入输出</h2><p>我们举个简单的例子吧</p><blockquote><p>蓝桥杯练习系统-入门训练 圆的面积<br>时间限制：1.0s   内存限制：256.0MB<br>问题描述：</p><p><code>给定圆的半径r，求圆的面积。</code></p><p>输入格式</p><p><code>输入包含一个整数r，表示圆的半径。</code></p><p>输出格式</p><p><code>输出一行，包含一个实数，四舍五入保留小数点后7位，表示圆的面积。</code></p><p>样例输入</p><p>4</p><p>样例输出</p><p>50.2654825</p><p>数据规模与约定</p><p>1 &lt;= r &lt;= 10000。</p></blockquote><p>我们可以去随便去看一些练习题，题目基本上都有严格的输入输出格式要求，除了需要的结果外不能有多余的提示类输出。</p><p>那为什么要这样呢？这是因为批改系统的原因，批改系统是以具体的输入数据进行测试，然后把你的程序的输出答案与参考答案进行对比，如果完全一致，且不超时则该项测试给满分（好像每题需要测试10次，也就是10个数据，如果都正确，则该题满分）。这么说你应该明白了吧！如果你输出了多余的信息，那么系统就会当做输出的答案错误。</p><h2 id="2-注意for循环-尽量把变量定义放在外面">2. 注意for循环，尽量把变量定义放在外面</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;&#125;</span><br></pre></td></tr></table></figure><p>乍一看上面这条语句，好像没有什么问题，但是其实它是<span style="color:#f33b45;">有那么一点点问题的</span>！</p><p>因为不同编译器对for循环的处理机制可能会有所差异，有些这样（把变量定义放在for里面）是没有问题的，但是有些就会出现编译错误。而该测试系统就属于后者，我就曾因为这个问题出现编译错误，只要把变量定义在for外面即可通过。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="3-注意数据类型">3. 注意数据类型</h2><h3 id="1-在-圆面积-题中里-要求输入整数-输出浮点数">（1）在“圆面积”题中里，要求输入整数，输出浮点数</h3><h3 id="2-注意精确位数">（2）注意精确位数</h3><p>在该题里：要求圆面积四舍五入保留小数点后7位，这就涉及到圆周率∏的取值，我之前试过了，如果取3.14159265358979可以得满分，而取3.1415926却不能满分。</p><h3 id="3-注意输入数据的范围-在计算过程的中间数或者结果是否需要long-long-int">（3）注意输入数据的范围–在计算过程的中间数或者结果是否需要long long int ?</h3><p>这里需要注意一下long int 和 int 一般都是4个字节的，而long long int 是8字节的。</p><p>long long int输入输出的格式控制可以用%lld或者%I64d。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> i;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%I64d"</span>,&amp;i);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld"</span>,i);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
            <tag> 蓝桥杯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse中设置jsp/html“顺眼”的格式化代码</title>
      <link href="/article/e15284c4.html"/>
      <url>/article/e15284c4.html</url>
      
        <content type="html"><![CDATA[<p>在编写HTML或者jsp时，很多人都会使用代码格式化（Ctrl+Shift+F），以使代码更加的美观，但是myeclipse/eclipse中默认的格式化模板确实是让人不敢恭维啊……但是个性化设置一下，还是很不错的。</p><a id="more"></a><h3 id="具体设置如下：">具体设置如下：</h3><p>（1）如下图，找到HTML设置（不同版本位置可能有点差别，但是都大同小异，我的myeclipse10.7在：<code>Windows--&gt;Preferences--&gt;MyEclipse--&gt;File and Editors--&gt;HTML--&gt;Html source）</code>。</p><p>（2）把Line width设置得大一点，默认好像是80，意思是每行如果超过80个字符就会换行，但是80太小了，格式化后卡起来就有点丑。我这里设置成120，因人而异吧，可以自己尝试找到合适的。</p><p>（3）设置Inline Elenments，就是把这个列表里面的元素当做是行内元素，把其中你希望一行显示一个标签的元素删除掉、移除，一般是 <strong>a , li ，label , input , select , dl  ,div</strong> 等这些常用 嵌套 其他标签的的标签。（你也可以设置成自己喜欢的。）</p><p><img src="https://img-blog.csdnimg.cn/20190407004605116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>这一波操作下来，你会发现HTML的代码格式化会很顺眼……</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse版本简单介绍</title>
      <link href="/article/15c0463d.html"/>
      <url>/article/15c0463d.html</url>
      
        <content type="html"><![CDATA[<p>本文比较详细的介绍了MyEclipse的各种版本的分类和特点，对MyEclipse使用者应该会有一定的帮助。</p><p><img src="https://oss.yansheng.xyz/picgo/20200701005016.png" alt></p><p>中文官网：<a href="https://www.myeclipsecn.com/" target="_blank" rel="noopener">https://www.myeclipsecn.com/</a></p><a id="more"></a><h2 id="一-按照功能区分：">一、按照功能区分：</h2><h3 id="1-myeclipse-standard">1、MyEclipse Standard</h3><p><img src="https://img-blog.csdnimg.cn/20190406003508588.png" alt></p><p>开启高效Java EE开发之旅的入门级版本。</p><p><strong>Standard版包含：</strong></p><ul><li>JavaEE应用程序开发</li><li>Web应用程序开发<br><br>排除使用JavaScript调试器，CodeLive，TypeScript和Angular的JSjet</li><li>运行和部署JavaEE应用程序<br><br>排除WebSphere应用服务器</li><li>支持标准数据库工<br><br>排除高级DB实体</li><li>支持标准Maven<br><br>排除高级JavaEE向导</li><li>支持持续性开发</li></ul><h3 id="2-myeclipse-professional">2、MyEclipse Professional</h3><p><img src="https://img-blog.csdnimg.cn/20190406003617986.png" alt></p><p>强大的工具套件，包括用于创建强大的企业级应用程序和现代Web前端的最新技术。</p><p><strong>Professional版包含：</strong></p><ul><li>包含Standard版的所有功能</li><li>Angular &amp; TypeScript</li><li>JSjet与JavaScript调试</li><li>具有实时预览的CodeLive</li><li>RESTful Web Services</li><li>高级数据库工具集<br><br>排除对高级DB2的支持</li><li>支持高级Maven</li><li>标准Spring开发<br><br>不包括Scaffolding</li><li>企业级报表</li><li>UML 1 &amp; UML 2</li></ul><h3 id="3-myeclipse-blue">3、MyEclipse Blue</h3><p><img src="https://img-blog.csdnimg.cn/20190406003826892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>支持WebSphere的完整工具集，可以替代IBM Rational软件架构。</p><p><strong>Blue版包含：</strong></p><ul><li>包含Professional版的所有功能</li><li>支持WebSphere Application Server</li><li>支持WebSphere Portal Server</li><li>支持WebSphere Liberty Profile</li><li>远程WebSphere连接器</li><li>In-Workspace WebSphere部署</li><li>高级WebSphere编辑器</li><li>支持Application Client Project</li><li>Portlet应用程序开发</li><li>支持高级DB2</li></ul><h3 id="4-myeclipse-spring">4、MyEclipse Spring</h3><p><img src="https://img-blog.csdnimg.cn/20190406003921831.png" alt></p><p>一个完整的工具套件，支持Spring开发、支持其他关键技术，以扩展开发范围。</p><p><strong>Spring版包含：</strong></p><ul><li>Professional版的所有功能</li><li>高级Spring开发</li><li>高级JAX-WS with Spring</li><li>支持Spring DSL</li><li>Scaffolding for Spring Applications</li></ul><h3 id="5-myeclipse-bling">5、MyEclipse Bling</h3><p><img src="https://img-blog.csdnimg.cn/20190406004010897.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>支持所有企业级开发的完整工具集，包括高级WebSphere和Spring开发（相当于blue + spring）。</p><p><strong>Bling版包含：</strong></p><ul><li>包含Professional版的所有功能（包括高级JAva EE开发）</li><li>包括Blue版中的所有高级WebSphere开发</li><li>包括Spring版中的所有高级Spring开发</li></ul><h3 id="6-myeclipse-secure">6、MyEclipse Secure</h3><p><img src="https://img-blog.csdnimg.cn/20190406004100611.png" alt></p><p>使用Secure Delivery Center（简称SDC），开发团队始终能保持在正确的时间使用正确的工具。选择最匹配需求的MyEclipse授权，然后用SDC实施统一交付、配置和授权管理。</p><p><strong>SDC包含：</strong></p><ul><li>MyEclipse授权的所有功能</li><li>Secure Delivery Center的所有功能</li></ul><p><span style="color:#f33b45;">注意：从2015版开始，MyEclipse下载包统一包含了 Standard,Pro,Blue,Bling 和 Spring 五个版本，不作单独区分。</span></p><p>详见：<a href="https://www.myeclipsecn.com/features/myeclipse-license/" target="_blank" rel="noopener">myeclipse中文网</a></p><h2 id="二-按照是否正在更新分：">二、按照是否正在更新分：</h2><h3 id="1-ci-版本">1、CI 版本</h3><p>例如：MyEclipse 2015 CI ，CI 是测试版，就是还处于不稳定的版本中，其中CI是Continuous Integration的缩写，持续集成、持续整合的意思。</p><h3 id="2-stable版本">2、stable版本</h3><p>例如：MyEclipse 2015 Stable，stable版又称为标准版，稳定版或者叫专业版。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse10.7能否使用jdk1.8？</title>
      <link href="/article/1906e242.html"/>
      <url>/article/1906e242.html</url>
      
        <content type="html"><![CDATA[<p>我的MyEclipse201710.7配置的是jdk1.8，至少在我没有遇到相关问题之前我一直是这样认为的。直到我最近导入了一个Maven项目，我才发现原来MyEclipse10.7并不能使用“真正的jdk1.8”。为什么这么说呢？看完这篇文章你就会明白！</p><a id="more"></a><h3 id="一-问题的引出：myeclipse10-7能否使用jdk1-8？">一、问题的引出：MyEclipse10.7能否使用jdk1.8？</h3><p>我先回到导入项目问题上，我查找资料后发现，原来问题出在jdk版本上：导入maven项目编译运行环境都是jdk1.8，但是我电脑好像“也是1.8”，那为什么会出问题呢？</p><h3 id="二-分析1-从设置上着手">二、分析1-从设置上着手</h3><p>我去看了下软件设置，虽然运行环境是1.8，但是这里的编译环境只有1.3–1.7版本的（这里是我改过的，之前默认好像是更低版本的），也就是说没有1.8的编译环境。我们都知道java是先编译后运行的；那么总结一下这种情况：就是用1.7的版本编译java文件，然后在1.8的环境上运行。所以我说<span style="color:#f33b45;">Myeclipse10.7并不能使用“真正的jdk1.8”</span>！</p><p>那有人可能会问了：这样编译环境和运行环境不一样不会出问题吗？我也想到了这一点，所以我去问了下谷大哥，回答是一般情况下是可以的。那什么是特殊情况呢？如果你使用了jdk1.8的“新特性”，也就是说之前版本都没有的，不能向前兼容，那么用低于1.8的环境编译就会出问题！其实我想了下觉得挺有道理的：我之前用这个软件有一段时间了，虽然编译和运行环境不一样，但是没有出现什么大问题，说明一般情况下编译环境比运行环境的版本低是不会出现什么问题的，但是涉及到新特性问题上就会出现问题。看来我用了这么久都没有使用过真正的jdk1.8啊……</p><p><img src="https://img-blog.csdnimg.cn/20190405153646449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190405153942652.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="三-分析2-从发布时间着手：">三、分析2-从发布时间着手：</h3><p>在这我们也可以从发布时间来看下：</p><p>1.Myeclipse10.7.1 版本：</p><p>于<span style="color:#f33b45;">2013年2月7日</span>发布，该版本同样基于 Eclipse 3.7.2。与MyEclipse 10.6相比，MyEclipse 10.7.1 主要进行了多项bug修复和其他功能细节改进。</p><p>2.jdk1.8的发布（图来自<a href="https://zh.wikipedia.org/wiki/Java%E7%89%88%E6%9C%AC%E6%AD%B7%E5%8F%B2#Java_8_%E6%9B%B4%E6%96%B0" target="_blank" rel="noopener">维基百科</a>）</p><p>从下图中我们可以看出jdk1.8首发时间是<span style="color:#f33b45;">2014年3月（18日）</span>。</p><p><img src="https://img-blog.csdnimg.cn/20190405160627920.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><span style="color:#f33b45;">也就是说Myeclipse10.7.1在jdk1.8出现之前就有了。</span>所以按理说Myeclipse10.7.1是不能使用jdk1.8的，除非它后期又加了新的功能，进行了支持，但是那样的它还叫Myeclipse10.7.1吗？据我了解至少这个版本后期是没有加入支持jdk1.8的功能的。</p><h3 id="四-延伸：myeclipse是从哪个版本开始支持jdk1-8？">四、延伸：myeclipse是从哪个版本开始支持jdk1.8？</h3><p>那么myeclipse是从哪个版本开始支持jdk1.8的呢？？我之前找了好久，好像没有没有令我满意的答案，说法都很模糊，不是说使用最新版的，就是说使用以后的版本。</p><p>后来我又去找了下相关问题，在官网版本介绍里（<a href="https://www.genuitec.com/products/myeclipse/deliverylog/ci/" target="_blank" rel="noopener">https://www.genuitec.com/products/myeclipse/deliverylog/ci/</a>）找到了，<span style="color:#f33b45;">myeclipse2015版基于eclipse4.4，开始支持jdk1.8</span>……所以所说应该是从这个版本开始支持jdk1.8的。</p><p><img src="https://img-blog.csdnimg.cn/20190405163130893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="五-追思：">五、追思：</h3><p>虽然网上一大堆类似：“给Myeclipse10.7配置jdk1.8环境”的帖子，他们是“只知其一，不知其二！”</p><p>但是经过我的个人探索或实践，发现这并不是真正的jdk1.8，而是伪“1.8”。</p><p>我并不是说他们写的不对（不过确实是有点片面了），我只是有点厌恶人云亦云，不管是非那种。人非圣贤，孰能无惑？从互联网上我们确实可以学到很多知识，但是我们要有选择的接受，明辨是非，怀着求真务实之心。我希望这篇文章能给你点启示。</p><h3 id="六-补充：用jdk1-8的新特性-lambda表达式-进行验证">六、补充：用jdk1.8的新特性“lambda表达式”进行验证</h3><p><span style="color:#f33b45;">实践是检验真理的唯一标准！</span>其实最简单的办法就是看myeclipse10里面能不能使用jdk1.8的语法，jdk1.8的一个重要的新特性就是lambda表达式，下面就试下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line"></span><br><span class="line">list.add(<span class="number">12</span>);</span><br><span class="line">list.add(<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.使用普通foreach遍历list（jdk1.5开始支持）</span></span><br><span class="line">System.out.println(<span class="string">"1.使用普通foreach遍历list（jdk1.5开始支持）:"</span>);</span><br><span class="line"><span class="keyword">for</span> (Object object : list) &#123;</span><br><span class="line">System.out.println(<span class="string">"object:"</span> + object);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.使用lambda表达式遍历list（jdk1.8开始支持）</span></span><br><span class="line">System.out.println(<span class="string">"\n2.使用lambda表达式遍历list（jdk1.8开始支持）:"</span>);</span><br><span class="line">list.forEach(object -&gt; &#123;</span><br><span class="line">System.out.println(<span class="string">"object:"</span> + object);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>如果不支持会直接报语法错误，如果支持则会输出：</p><blockquote><p>1.使用普通foreach遍历list（jdk1.5开始支持）:<br>object:12<br>object:hello</p><p>2.使用lambda表达式遍历list（jdk1.8开始支持）:<br>object:12<br>object:hello</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse2017添加Tomcat服务器</title>
      <link href="/article/5a4581d4.html"/>
      <url>/article/5a4581d4.html</url>
      
        <content type="html"><![CDATA[<p>前言：因为Myeclipse2017是比较成熟的一个版本，集成的功能也比较多，Tomcat其实也是有内部集成的，那为什么还要自己配置呢？传说：使用内置Tomcat可能会出现诸多问题，这就像是前端工程师一般不是用IE调试前端页面一样。因此我们一般都是使用自己配置的Tomcat，下面将简单介绍下配置流程。</p><a id="more"></a><h3 id="步骤">步骤</h3><p>1.下载对应的Tomcat服务器，并安装，记住安装位置（我这里以Tomcat8.0为例）。</p><p>官网：<a href="http://tomcat.apache.org/" target="_blank" rel="noopener">http://tomcat.apache.org/</a></p><p><img src="https://img-blog.csdnimg.cn/20190405002104864.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>2.打开Myeclipse2017，Windows–&gt;Preferences–&gt;Servers–&gt;Runtime Environments–&gt;右边add</p><p><img src="https://img-blog.csdnimg.cn/20190405000737306.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>3.选择对应版本号的服务器</p><p><img src="https://img-blog.csdnimg.cn/2019040500085532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>4.设置服务器名称（可以默认），然后browse找到刚才Tomcat的安装位置，设置对应jre（要设置成与自己的jdk版本一样）。</p><p><img src="https://img-blog.csdnimg.cn/20190405001051485.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>5.配置好之后是这样子的，（其实我之前已经配好了……），当运行web项目时，就可以选择这个服务器进行配置了。</p><p><img src="https://img-blog.csdnimg.cn/20190405001739465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> (My)Eclipse </tag>
            
            <tag> Tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse中的Project Facets的用途</title>
      <link href="/article/513306c7.html"/>
      <url>/article/513306c7.html</url>
      
        <content type="html"><![CDATA[<p>facets中文翻译为：(事物的)面，方面。在Eclipse中的facets可以理解为：<strong>项目的特性，某一方面功能。主流 IDE (Eclipse IDEA) 都提供了 facet 的配置。</strong></p><a id="more"></a><p>Eclipse 中, 项目的 Project Facets 配置：</p><p><img src="https://oss.yansheng.xyz/picgo/20170914105637992.jpg" alt="Project Facets"></p><p>在Eclipse中，新建的 Java Project 都有一个默认的 java facet，那么 Eclipse 就只提供 JavaSE 项目支持，当你需要将该项目升级为 java web 项目时，可以为项目添加 Dynamic Web Module （就是一个支持Web的facet），这样 eclipse 就会将项目结构调整为带有 WebContent or WebRoot 目录的标准结构且添加 deployment descriptor （web.xml）并调整默认的 classpath，同时，如果你要用到 javascript，可以对应地添加 javascript facet，这样 eclipse 就会为项目添加 javascript 相关的支持（构建、校验、提示等等），如果你的项目用到了 hibernate，则可以添加 jpa facet 来让 eclipse 提供对应的功能支持等等。</p><p>尤其在Eclipse中创建Maven的web项目时，常会用到上面的配置，给项目添加动态web功能。</p><p>在创建项目时候，可以独立定义一个有一个模板供我们使用，在里面定义各种用到服务的版本，你在导入从其他地方拿过来的项目时候，需要修改项目与project facets的编译环境一致。</p><hr><p>转自：<a href="https://blog.csdn.net/zp8126/article/details/77977748" target="_blank" rel="noopener">https://blog.csdn.net/zp8126/article/details/77977748</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse导入外部项目遇到的各种问题</title>
      <link href="/article/32b4d38d.html"/>
      <url>/article/32b4d38d.html</url>
      
        <content type="html"><![CDATA[<p>因为每个人做的项目所配置的环境可能不同，导致导入别人项目时，也会产生各种兼容性问题。这里总结了一些我之前遇到过的常见问题。</p><p>测试环境：Windows10，MyEclipse2017，jdk1.8。</p><a id="more"></a><h3 id="1-问题描述：-span-style-color-f33b45-servlet中出现-the-import-javax-servlet-cannot-be-resolved-span">1.问题描述：<span style="color:#f33b45;">servlet中出现&quot;The import javax.servlet cannot be resolved&quot;</span></h3><p>分析：乍一看像是导包错了，但是好像每个页面都有这种错误，那应该就是相关jar包没有加到环境里面。</p><p>解决方案：把Tomcat安装目录下的&quot;\lib\servlet-api.jar&quot;导入到运行环境中即可，</p><p>具体做法：右击项目，选择Java Build Path-&gt;Libraries-&gt;Add External JARs，找到Tomcat安装目录下的lib目录，选中&quot;servlet-api.jar&quot;，添加点击“确定”。</p><p><img src="https://img-blog.csdnimg.cn/20190404204407766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="2-问题描述：-span-style-color-f33b45-description-resource-path-location-type-java-compiler-level-does-not-match-the-version-of-the-installed-java-project-facet-span">2. 问题描述：<span style="color:#f33b45;">Description Resource Path Location Type Java compiler level does not match the version of the installed Java project facet.</span></h3><p>分析：Java 编译器级别与安装的 Java项目构面的版本不匹配，简单而言就是导入项目的jdk和你现在用的jdk不一样。</p><p>解决方案：将项目jdk与你本地jdk统一即可。</p><p>具体做法：（1）将项目中的<a href="https://blog.csdn.net/weixin_41287260/article/details/89036556" target="_blank" rel="noopener">facet（特征）</a>中的jdk设置成自己的：右击项目，选择Properties，进入项目设置–&gt;Project Facets(有些版本可能在MyEclipse下)–&gt;右边找到java，设置成你的jdk版本（我这里是1.8）–&gt;Apply.</p><p><img src="https://img-blog.csdnimg.cn/20190404211152766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2）将系统编译器设置成自己的：Windows–&gt;Preferences–&gt;Java–&gt;Compiler,设置对应的jdk版本。</p><p><img src="https://img-blog.csdnimg.cn/20190404211930893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（3）将系统运行环境设置成自己的：Windows–&gt;Preferences–&gt;Java–&gt;Installed JREs,设置对应的jdk版本。(如果没有添加，就把自己的jdk添加进来)</p><p><img src="https://img-blog.csdnimg.cn/20190404212357417.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>将这三个设置的jdk版本设置成一样的，应该就没有其他问题了（不排除一些代码中用到了某些jdk的特有的功能，但是改变后jdk可能没有对应功能，也会出现错误，那这就要修改代码了……）。</p><hr><p>未完待续……</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VMware Workstation Pro 14 15 许可证密钥</title>
      <link href="/article/b2640613.html"/>
      <url>/article/b2640613.html</url>
      
        <content type="html"><![CDATA[<p>分享了多种版本的VMware Workstation Pro 14 15 许可证密钥。</p><a id="more"></a><p>亲测都是可用的，永久激活。</p><h3 id="vmware-workstation-pro-15">VMware Workstation Pro 15:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">YZ718-4REEQ-08DHQ-JNYQC-ZQRD0</span><br><span class="line">FZ1XH-ADE4M-H89UQ-GDMNV-WV0W6</span><br><span class="line">VF5T0-4RW1H-H818Q-UMQEX-ZPHXA</span><br><span class="line">FY1N0-AJZ9N-H89KQ-EXX59-MFUED</span><br><span class="line">AU7TR-4RZ55-H8E3Z-XMYQC-N7ATD</span><br><span class="line">VV38K-DXY9J-48EZQ-ZEZ5T-QZAC0</span><br></pre></td></tr></table></figure><h3 id="vmware-workstation-pro-14">VMware Workstation Pro 14:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CG54H-D8D0H-H8DHY-C6X7X-N2KG6</span><br><span class="line">ZC3WK-AFXEK-488JP-A7MQX-XL8YF</span><br><span class="line">AC5XK-0ZD4H-088HP-9NQZV-ZG2R4</span><br><span class="line">ZC5XK-A6E0M-080XQ-04ZZG-YF08D</span><br><span class="line">ZY5H0-D3Y8K-M89EZ-AYPEG-MYUA8</span><br><span class="line">FF590-2DX83-M81LZ-XDM7E-MKUT4</span><br><span class="line">FF31K-AHZD1-H8ETZ-8WWEZ-WUUVA</span><br><span class="line">CV7T2-6WY5Q-48EWP-ZXY7X-QGUWD</span><br><span class="line">AALYG-20HVE-WHQ13-67MUP-XVMF3</span><br></pre></td></tr></table></figure><h3 id="vmware-vsphere-6-enterprise-plus-cpus">VMware vSphere 6 Enterprise Plus (CPUs):</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0U0QJ-FR1EP-KZQN9-J1C74-23P5R</span><br><span class="line">1F6XH-8VJ9L-481Y9-L835P-CFHHA</span><br><span class="line">1G28U-AW18P-08189-72AE6-9URP8</span><br><span class="line">4Y29R-D034H-48561-RLAG0-ACU40</span><br><span class="line">JU640-0JKE3-088J9-GRCXK-2PRH6</span><br></pre></td></tr></table></figure><h3 id="vmware-vsphere-with-operations-management-6-enterprise-plus-for-vsphere-cpus">VMware vSphere with Operations Management 6 Enterprise Plus for vSphere (CPUs):</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JA60R-2JK84-M8DQ1-4L9N0-8VRP2</span><br><span class="line">MG4T2-FY29P-480F9-9H0X0-16K1D</span><br><span class="line">1U65R-2Y24N-M8DR1-U2C50-16HQ8</span><br><span class="line">1V2HU-26KD1-08D60-LH9GK-CPU6F</span><br></pre></td></tr></table></figure><h3 id="vmware-vcenter-server-6-standard-instances">VMware vCenter Server 6 Standard (Instances):</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HG612-FH19H-08DL1-V19X2-1VKND</span><br><span class="line">NU4JA-4V2DQ-48428-T32GK-8VRN4</span><br><span class="line">0Y4H2-8P217-H8900-M8AE4-2LH44</span><br><span class="line">NA658-2308J-08809-93AQ6-278J0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 软件破解 </tag>
            
            <tag> 工具/资源 </tag>
            
            <tag> VMware </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git Bash中git log中文乱码</title>
      <link href="/article/e438b94d.html"/>
      <url>/article/e438b94d.html</url>
      
        <content type="html"><![CDATA[<p>在Windows系统下，Git Bash中Git log中文乱码的处理方案。</p><a id="more"></a><p>在网上搜寻良久，大部分是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global i18n.commitencoding utf-8</span><br><span class="line">git config --global i18n.logoutputencoding gbk</span><br><span class="line"><span class="built_in">export</span> LESSCHARSET=utf-8</span><br></pre></td></tr></table></figure><p>但是问题依然存在。</p><p>再看上述命令，提交的编码是utf-8，日志输出确实gbk，不解，于是换成如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global i18n.commitencoding utf-8</span><br><span class="line">git config --global i18n.logoutputencoding utf-8</span><br><span class="line"><span class="built_in">export</span> LESSCHARSET=utf-8</span><br></pre></td></tr></table></figure><p>问题得以解决。</p><hr><p>转自：<a href="https://blog.csdn.net/qq_27258799/article/details/78977764" target="_blank" rel="noopener">https://blog.csdn.net/qq_27258799/article/details/78977764</a></p><hr><p>推荐阅读：</p><ul><li><a href="https://blog.csdn.net/qq_39599067/article/details/80954979" target="_blank" rel="noopener">终于解决window命令行下git log中文乱码问题</a></li><li><a href="https://blog.csdn.net/xl_lx/article/details/78223349" target="_blank" rel="noopener">GIT中文乱码问题解决方案</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在AVD上安装搜狗输入法</title>
      <link href="/article/fde8c7bd.html"/>
      <url>/article/fde8c7bd.html</url>
      
        <content type="html"><![CDATA[<p>用ADT Bundle(Eclipse with ADT Plugin&amp; Android SDK)开发Android，内置虚拟机的键盘很不习惯，在里面下载搜狗输入法后，不知道为什么安装失败了，没办法了就想着外面装一个进去。</p><a id="more"></a><h2 id="步骤">步骤</h2><h3 id="1-下载搜狗输入法app">1.下载搜狗输入法app</h3><p>网址：<a href="https://shouji.sogou.com/download.php" target="_blank" rel="noopener">https://shouji.sogou.com/download.php</a></p><h3 id="2-打开avd模拟器">2.打开AVD模拟器</h3><h3 id="3-复制软件包到特定目录">3.复制软件包到特定目录</h3><p>把搜狗输入法的安装包复制到特定目录:<code>java_home\sdk\platform-tools</code>，我的是：<code>G:\adt-bundle-windows-x86_64-20140702\sdk\platform-tools</code>，（默认在：<code>C:\Program Files\Android\android-sdk-windows\platform-tools</code> ），如果安装时自己改位置了，找到对应目录即可。</p><h3 id="4-用命令进行安装">4.用命令进行安装</h3><p>（1）win+R（或者点击开始→运行），输入cmd，打开cmd窗口。</p><p>（2）用命令进到刚才的目录下：命令示例：<code>cd  /d G:\adt-bundle-windows-x86_64-20140702\sdk\platform-tools</code>，回车进入目录，（后面部分是刚才找的那个目录的路径）。</p><p><img src="https://img-blog.csdnimg.cn/20190325162942379.png" alt></p><p>（3）用命令安装软件：命令示例：<code>adb install SogouInput_android_v8.29_sweb.apk</code>，回车执行命令，进行安装，可能需要一些时间（后面那个是搜狗输入法apk的文件名（你输入前面几个字母后，按tab键就可以自动补全了，或者直接复制进去也可以））。</p><p><img src="https://img-blog.csdnimg.cn/2019032516400620.png" alt></p><p>本质上其实使用adb.exe这个工具软件进行安装的，全称即 Android Debug Bridge，它是 Android 开发/测试人员不可替代的强大工具。</p><p><img src="https://img-blog.csdnimg.cn/20190325164452405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="5-进行设置">5.进行设置</h3><p>进到虚拟机里的setting，语言改为中文比较方便，然后（就像在自己手机上一样操作）在输入法默认选用安装的搜狗输入法，打开键盘时进行切换就可以了。</p><p>end……</p>]]></content>
      
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python3中input输入的基本使用</title>
      <link href="/article/884a25fa.html"/>
      <url>/article/884a25fa.html</url>
      
        <content type="html"><![CDATA[<p>今天谈一下关于python中input的一些基本用法（写给新手入门之用，故只谈比较实用的部分）。</p><a id="more"></a><p>首先，我们可以看一下官方文档给我们的解释（在python的shell中输入命令即可）：</p><p><img src="https://oss.yansheng.xyz/picgo/20171008204603684.jpg" alt></p><p>上面的英文说的是什么呢？大家有兴趣的可以自己在网上翻译一下，大致说的就是input这个函数，第一个参数是提示语，它默认是空的。在我们使用input的时候，会从标准输入中读取一个string，即字符串（请注意，这里很重要，下面我们会继续说），对于用户输入的换行是不会读入的，因为我们都知道input是以换行作为输入结束的标志的。</p><p>下面就以例子的形式来展示input的“内涵”：</p><p>（1）从下图可以看出，input从标准输入中为我们拿到的值是一个字符串，那么也就是说，无论我们的初衷是得到一个整数、小数或者其他的值，input都会在我们的输入的值的左右两边加上一个引号（“”），也就是说对于我们拿到的东西，我们使用做后期的加工的。</p><p><img src="https://oss.yansheng.xyz/picgo/20171008205520163.jpg" alt></p><p>（2）我们来得到一个整数，很简单，只需要使用强制类型转换就可以了：</p><p><img src="https://oss.yansheng.xyz/picgo/20171008205943791.jpg" alt></p><p>（3）刚刚在（1）中说到了对于我们的输入，无论我们的初衷是什么，都会被加上一对引号，所以你想到了什么呢？那当然是把引号去掉了，这样的话我们是不是就会得到原来的东西了呢？请注意，这里我会通过两个例子展示（eval请参考另一篇文章<a href="http://blog.csdn.net/qq_29883591/article/details/53443062" target="_blank" rel="noopener">点击打开链接</a>）。</p><p><img src="https://oss.yansheng.xyz/picgo/20171008210315192.jpg" alt></p><p>上面的这个例子中，我们想得到的是一个整数，yes，这个时候你用eval出去input“添加”的引号是完全正确的。其实，当我们输入的时候，eval帮我们去除了引号后，就相当于执行了a=234，显然这是整数赋值。而如果没有加eval，只是单纯的a=input(“请输入:”)，显然，我们得到的是a=“234”。</p><p><img src="https://oss.yansheng.xyz/picgo/20171008210727348.jpg" alt></p><p>这个例子，我希望展示eval的本质给大家看。这个错误说的是，“wer”这个名字没有被定义，那么请注意，这个时候的“wer”被编译器理解成了什么呢？对于“wer”，编译器会在自己的系统库中寻找它，看是否有“wer”的定义，如果没有找到，那么不好意思，系统只能将它理解为你在使用一个未定义的变量，也就是说，“wer”被理解成了变量的名字。对于上面的234为什么不会报这样的错误呢？那是因为系统在自身的库中可以知道234是一个整数，那么自然就不会报错了。下面在给一个例子，进一步加深理解。</p><p><img src="https://oss.yansheng.xyz/picgo/20171008211152724.jpg" alt></p><p>看到这个例子，我想先让大家回忆一下我们,使用过的赋值语句：a,b=34,3。对于这个语句，大家在类比到上图中的eval的输入，在输入的时候，我输入的是“34,3”，那么，在eval会去除input“强加”的引号的时候，是不是等价于“a,b=34,3”这个赋值语句！所以，在这里我想通过这两个例子展现一下eval的本质，那就是&quot;单纯&quot;的替我们去出引号，大家可以当做eval执行后将引号里面的内容<a href="https://www.baidu.com/s?wd=%E5%8E%9F%E5%8E%9F%E6%9C%AC%E6%9C%AC&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">原原本本</a>地写回了代码的原来位置，那么这一切是不是就可以看得很明白了。</p><p>请参考上面提到的eval的文章，与此处进行结合，进行互补。</p><hr><p>转自：<a href="https://blog.csdn.net/qq_29883591/article/details/78177279#comments" target="_blank" rel="noopener">https://blog.csdn.net/qq_29883591/article/details/78177279#comments</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>求X的N次方，介绍三种方法</title>
      <link href="/article/b55ef287.html"/>
      <url>/article/b55ef287.html</url>
      
        <content type="html"><![CDATA[<p>求X的N次方：方法1：直接用库函数double pow( double base, double exp )。方法2：非递归求解。方法3：递归求解。</p><a id="more"></a><h2 id="求x的n次方">求X的N次方</h2><p>方法1：直接用库函数double pow( double base, double exp );</p><p>方法2：非递归求解</p><p>方法3：递归求解</p><p>详见代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法2：非递归求解</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">x_power_y1</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;y; i++) &#123;</span><br><span class="line">temp=temp*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法3：递归求解</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">x_power_y2</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(y==<span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> x*x_power_y2(x,y<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//测试方法1：直接用库函数double pow( double base, double exp );</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"pow()=%f\n"</span>,<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试方法2： </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"x_power_y1(2,3)=%d\n"</span>,x_power_y1(<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试方法3:</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"x_power_y2(2,3)=%d\n"</span>,x_power_y2(<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
            <tag> 算法 </tag>
            
            <tag> 蓝桥杯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断一个数是不是质数(素数)，3种方式介绍</title>
      <link href="/article/3ce7c731.html"/>
      <url>/article/3ce7c731.html</url>
      
        <content type="html"><![CDATA[<p>判断一个数是不是质数(素数)，该文章介绍了三种方法，不断优化。</p><a id="more"></a><h2 id="一-概念介绍">一、概念介绍</h2><p>质数大家中学都学过，就不过多介绍了，大致提两点：</p><ol><li>质数又称素数。一个大于1的自然数，除了1和它自身外，不能被其他自然数整除的数叫做质数；否则称为合数。</li><li>0和1既不是质数也不是合数，最小的质数是2。</li></ol><h2 id="二-方法介绍">二、方法介绍</h2><h3 id="1-最直观-但效率最低的写法">1.最直观，但效率最低的写法</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> boolean <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里特殊处理了一下小于等于3的数，因为小于等于3的自然数只有2和3是质数。</p><p>然后，我们只需要从2开始，一直到小于其自身，依次判断能否被n整除即可，能够整除则不是质数，否则是质数。</p><h3 id="2-初步优化">2.初步优化</h3><p>假如n是合数，必然存在非1的两个约数p1和p2，其中p1&lt;=sqrt(n)，p2&gt;=sqrt(n)。由此我们可以改进上述方法优化循环次数。如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> boolean <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">sqrt</span> = (<span class="keyword">int</span>)Math.<span class="built_in">sqrt</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-继续优化">3.继续优化</h3><p>我们继续分析，其实质数还有一个特点，就是它总是等于 6x-1 或者 6x+1，其中 x 是大于等于1的自然数。</p><p>如何论证这个结论呢，其实不难。首先 6x 肯定不是质数，因为它能被 6 整除；其次 6x+2 肯定也不是质数，因为它还能被2整除；依次类推，6x+3 肯定能被 3 整除；6x+4 肯定能被 2 整除。那么，就只有 6x+1 和 6x+5 (即等同于6x-1) 可能是质数了。所以循环的步长可以设为 6，然后每次只判断 6 两侧的数即可。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> boolean <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt;= <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> num &gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 不在6的倍数两侧的一定不是质数</span></span><br><span class="line">    <span class="keyword">if</span> (num % <span class="number">6</span> != <span class="number">1</span> &amp;&amp; num % <span class="number">6</span> != <span class="number">5</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">sqrt</span> = (<span class="keyword">int</span>) Math.<span class="built_in">sqrt</span>(num);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">5</span>; i &lt;= <span class="built_in">sqrt</span>; i += <span class="number">6</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num % i == <span class="number">0</span> || num % (i + <span class="number">2</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于输入的自然数 n 较小时，也许效果不怎么明显，但是当 n 越来越大后，该方法的执行效率就会越来越明显了。</p><hr><p>转自：<a href="https://blog.csdn.net/afei__" target="_blank" rel="noopener">阿飞__</a>的博客<a href="https://blog.csdn.net/afei__/article/details/80638460" target="_blank" rel="noopener">https://blog.csdn.net/afei__/article/details/80638460</a>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言输出倒三角</title>
      <link href="/article/79b1fd98.html"/>
      <url>/article/79b1fd98.html</url>
      
        <content type="html"><![CDATA[<p>方法好像挺多的，我这里值介绍一种方法：（里面有注释）</p><a id="more"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印倒三角</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*_*_*_*</span></span><br><span class="line"><span class="comment">_*_*_*</span></span><br><span class="line"><span class="comment">__*_*</span></span><br><span class="line"><span class="comment">___*</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：先定义一个字符数组，把第一行（n个*+n-1空格）显示出来，</span></span><br><span class="line"><span class="comment">//后面的每行就先输出n-i空格，然后再输出该字符数组</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_r_triangle</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">2</span>*n<span class="number">-1</span>];<span class="comment">//n+n-1</span></span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="comment">//为字符数组赋值</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">2</span>*n<span class="number">-1</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">a[i]=<span class="string">'*'</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">a[i]=<span class="string">' '</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试：打印字符数组</span></span><br><span class="line"><span class="comment">//for(i=0; i&lt;2*n-1; i++) &#123;</span></span><br><span class="line"><span class="comment">//printf("%c",a[i]);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印倒三角</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++) &#123;<span class="comment">//n行 </span></span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;(<span class="number">2</span>*n<span class="number">-1</span>)-i; j++) &#123;</span><br><span class="line"><span class="comment">//如果是第一行，就输出全部字符</span></span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>,a[j]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;<span class="comment">//否则就先输出空格，然后从行数i对应位置开始输出字符数组</span></span><br><span class="line"><span class="keyword">if</span>(j&lt;i) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>,a[j-i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">print_r_triangle(<span class="number">15</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Code:blocks初步尝试</title>
      <link href="/article/d541e2f5.html"/>
      <url>/article/d541e2f5.html</url>
      
        <content type="html"><![CDATA[<p>主要是涉及到Code:blocks安装后一些配置问题。</p><a id="more"></a><h2 id="1-编译器问题">1.编译器问题</h2><p>安装软件后，提示没有找到compiler，可能有两种情况：①你安装的软件本身就没有编译器（我遇到的就是这种，没有下图中的MinGW文件夹）；②有编译器，但是没有找到。</p><h3 id="解决方法1">解决方法1</h3><p>①-1安装MinGW；①-2：重新下载有编译器的软件（推荐这种，没有那么麻烦）</p><blockquote><p>链接：<a href="https://pan.baidu.com/s/1-0LhLF-odUfPYTIOewYSOQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1-0LhLF-odUfPYTIOewYSOQ</a> <br>密码：wnyv</p></blockquote><p>解压后把codeblocks 17.12剪切到你需要的安装盘中，然后运行codeblocks.exe，首次执行需要选择，编译器，推荐GNU GCC Compiler。</p><p><img src="https://img-blog.csdnimg.cn/20190224160503615.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="解决方法2">解决方法2</h3><p>找到setting–&gt;compiler–&gt;global compiler settings–&gt;</p><p>1.select compiler(选择GNU GCC Compiler，选完后要set as default–&gt;</p><p>2.在compiler flags栏勾选&quot;c++11标准”（现在一般都用这个了）–&gt;</p><p>3.(下面栏找到)tookchain executables–&gt;直接auto-detect(如果不行就直接找到该MinGW目录)–&gt;(下面的program files一般自动匹配，如果没有就手动选择，如图所示。)–&gt;ok(保存！！！)</p><p><img src="https://img-blog.csdnimg.cn/20190224161135589.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190224162618230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190224161454743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>同时，如果出现这个问题“It seems that this file has not been built yet. Do you want to build it now? ”也是因为编译器问题，安装方法2应该可以解决。</p><p><img src="https://img-blog.csdnimg.cn/20190224162949653.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="2-乱码问题">2.乱码问题</h3><p>可参考这两个链接的处理方法：<br>1、<a href="https://blog.csdn.net/softman11/article/details/6121538" target="_blank" rel="noopener">Code：Blocks 中文乱码问题原因分析和解决方法！</a><br>2、<a href="https://blog.csdn.net/hk2291976/article/details/51037907" target="_blank" rel="noopener">codeblocks中文编码问题</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> C语言 </tag>
            
            <tag> C++ </tag>
            
            <tag> Code:blocks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10更新1809版本后运行Dev-cpp, dos控制台字符乱码解决方法</title>
      <link href="/article/94b38334.html"/>
      <url>/article/94b38334.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章分析了出现该问题的原因，并提供了两种解决方案。</p><a id="more"></a><p><strong>微软：请勿安装Windows101809版本，有bug会删除个人文件</strong></p><p>虽然微软非常利索的在发布会后及时推送了新的windows10新版本，但自从推送后，诸多问题<a href="https://www.baidu.com/s?wd=%E5%B1%82%E5%87%BA%E4%B8%8D%E7%A9%B7&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">层出不穷</a>。之前用户曾表示1809版本windows 10的<a href="https://www.baidu.com/s?wd=%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">任务管理器</a>存在CPU使用率错误显示的问题。</p><p>不过，可能是微软发布的太过于匆忙，1809版本已被发现非常严重的bug。有用户反馈称由于1809的推送，自己电脑的user个人文件夹丢失了近十年积攒下的文件，这个问题也不是孤例，已经不止一个用户反馈了这一严重的bug。</p><p>微软已在此前暂停并撤去了1809的推送和更新，并已撤下官网的新版宣传页面，并在显著位置对此事做了说明。说明中叙述了该问题，并表示，如果用户确定在更新系统后丢失了个人文件，请尽量减少使用受到影响的设备，并于当地的微软服务中心取得联系。</p><p>微软还表示，会为用户提供专门的修复工具，并不建议用户使用其他的第三方工具恢复，以免对原硬盘的结构造成破坏。</p><p>正如众多网友表示，1809可以说是bug最多的版本了，这背后也是微软业务中心的表现。</p><p>18年4月，微软进行了纳德拉上任CEO以来最大的一次业务重组，这次重组解散了原来的Windows和硬件设备部门（WDG），并成立了两个新的部门——“体验和设备部门”和“云计算和<a href="http://www.eeboard.com/shop/?c=products&amp;a=index&amp;cid=57&amp;page=1" target="_blank" rel="noopener">人工智能</a>平台部门”。微软业务重心变为“云计算”和“人工智能”。</p><p>不过上面 <strong>并不是我今天要讲的</strong>。</p><p>今天讲Dos控制台乱码解决方法。</p><h2 id="一-dos命令窗口乱码问题">（一）Dos命令窗口乱码问题</h2><p>测试工具：</p><p>Dev-cpp 5.11</p><p>TDM - GCC  4.9.2  64-bit</p><p><img src="https://img-blog.csdnimg.cn/20181124234038989.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMTAxMjEz,size_16,color_FFFFFF,t_70" alt></p><p>测试代码如下（一）：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma execution_character_set("GBK") </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">"This is a test.\n"</span>);  <span class="comment">//显示正常 </span></span><br><span class="line"><span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">"你好！123abc\n"</span>); <span class="comment">//显示 [??????123abc] 对后面的字符输出没有影响 </span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"你好！123abc\n"</span>); <span class="comment">//显示 [??????123abc] </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" 你好！123abc\n"</span>); <span class="comment">//显示   [ ??????123abc]</span></span><br><span class="line"><span class="comment">/*cout&lt;&lt;"你好！123abc"&lt;&lt;endl; /* 显示  [?愫茫?23abc]  </span></span><br><span class="line"><span class="comment">注：会使后面的cout语句无效 cout1,cout2,cout3。对system("type 文件路径")和打开txt里的内容无影响 */</span> </span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"n你好！123abc"</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">// cout1 cout的内容，英文字母开头加中文，显示正常 </span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">" 你好！123abc"</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">// cout2cout的内容，空格开头加中文，显示正常</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">// cout3</span></span><br><span class="line">system(<span class="string">"type C:\\Users\\Bingooo\\Desktop\\你好12345.txt"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试结果（二）：</p><p><img src="https://img-blog.csdnimg.cn/20181124234521502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMTAxMjEz,size_16,color_FFFFFF,t_70" alt></p><p>分析：</p><p>1、cout后跟的内容，如果直接以中文开头，会乱码，如果用“<strong><em>字符+文字</em></strong>” ，显示正常，字符可以是空格。（比较敷衍地<strong>解决办法之一</strong>，并不能达到目的！）</p><p>2、首先找问题原因：</p><p>在visual studio测试相同代码，全部显示正常。</p><p>在虚拟机里新安装的一个win10 1809的系统，测试结果，同上。乱码！ 在虚拟机里的win 10， 1803版本，正常！！！！找到问题了！ ！！***win10 1809的 BUG ***!</p><p>3、找到了问题不行啊，还要找到解决办法啊！</p><p>4、网上尝试很多解决办法，都没有解决。</p><h2 id="二-下面附上两个比较有效的办法：">（二）下面附上两个比较有效的办法：</h2><p>方法一：***重装系统！***1803的最新官方正版，不做敖述。简单粗暴，十分有效！推荐在1809稳定之后，再升级系统。</p><p>如果有文件想保留，并且打开C盘能看到<a href="https://www.baidu.com/s?wd=Windows.old&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">Windows.old</a>文件夹，可以直接回退。</p><p>但是话说回来，遇到问题就重装系统，岂不感觉水平太low!</p><p>方法二：***更改控制台属性。***如下图：</p><p><img src="https://img-blog.csdnimg.cn/20181125000549172.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMTAxMjEz,size_16,color_FFFFFF,t_70" alt></p><p>在窗口栏上右键 - 属性 - 勾选 使用旧版控制台 - 重启。解决！</p><p>（不过旧版控制台是丑了点，没办法~）</p><p>虽然Windows 10四月更新版发布后已经出现严重问题，但相比刚刚发布的新版本那四月更新版算是小儿科。因为微软在新版本里直接跳过发布预览通道，该通道原本是被设计用于测试生产环境的构建提高版本稳定性。如果你关注Windows 10资讯会发现这次微软没有推送发布预览版，从慢速通道测试完毕后直接发布正式版。或许说测试完毕都不算是准确的，因为慢速通道的Build 17763.1 还存在已知问题但依然被作为RTM正式版。和四月更新版那样只要用户点击检查更新那就会自动下载新版本，即便还存在问题的情况下都会下载和升级。</p><p>所以不论什么更新，请谨慎！</p><hr><p>转自：<a href="https://blog.csdn.net/qq_41101213" target="_blank" rel="noopener">Toxic Clown</a>的<a href="https://blog.csdn.net/qq_41101213/article/details/84455014" target="_blank" rel="noopener">https://blog.csdn.net/qq_41101213/article/details/84455014</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> CMD </tag>
            
            <tag> C语言 </tag>
            
            <tag> C++ </tag>
            
            <tag> Dev C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>华为C语言编程规范—注释</title>
      <link href="/article/8eff82d7.html"/>
      <url>/article/8eff82d7.html</url>
      
        <content type="html"><![CDATA[<p>提供了一些C语言注释的模板，仅供参考，可有选择的进行使用。</p><a id="more"></a><h4 id="2-1：一般情况下-源程序有效注释量必须在20-以上">2-1：一般情况下，源程序有效注释量必须在20％以上。</h4><p>说明：注释的原则是有助于对程序的阅读理解，在该加的地方都加了，注释不宜太多也不能太少，注释语言必须准确、易懂、简洁。</p><h4 id="2-2：文件头部应进行注释-注释必须列出：版权说明-版本号-生成日期-作者-内容-功能-修改日志等">2-2：文件头部应进行注释，注释必须列出：版权说明、版本号、生成日期、作者、内容、功能、修改日志等。</h4><p>示例：下面这段头文件的头注释比较标准，当然，并不局限于此格式，但上述信息建议要包含在内。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*****************************************************************************</span></span><br><span class="line"><span class="comment">Copyright: 1988-1999, Huawei Tech. Co., Ltd.</span></span><br><span class="line"><span class="comment">File name: 文件名</span></span><br><span class="line"><span class="comment">Description: 用于详细说明此程序文件完成的主要功能，与其他模块或函数的接口，输出值、取值范围、含义及参数间的控制、顺序、独立或依赖等关系</span></span><br><span class="line"><span class="comment">Author: 作者</span></span><br><span class="line"><span class="comment">Version: 版本</span></span><br><span class="line"><span class="comment">Date: 完成日期</span></span><br><span class="line"><span class="comment">History: 修改历史记录列表， 每条修改记录应包括修改日期、修改者及修改内容简述。</span></span><br><span class="line"><span class="comment">*****************************************************************************/</span></span><br></pre></td></tr></table></figure><h4 id="2-3：函数头部应进行注释-列出：函数的目的-功能-输入参数-输出参数-返回值-调用关系-函数-表-等">2-3：函数头部应进行注释，列出：函数的目的/功能、输入参数、输出参数、返回值、调用关系（函数、表）等。</h4><p>示例：下面这段函数的注释比较标准，当然，并不局限于此格式，但上述信息建议要包含在内。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*************************************************</span></span><br><span class="line"><span class="comment">Function: // 函数名称</span></span><br><span class="line"><span class="comment">Description: // 函数功能、性能等的描述</span></span><br><span class="line"><span class="comment">Calls: // 被本函数调用的函数清单</span></span><br><span class="line"><span class="comment">Called By: // 调用本函数的函数清单</span></span><br><span class="line"><span class="comment">Table Accessed: // 被访问的表（此项仅对于牵扯到数据库操作的程序）</span></span><br><span class="line"><span class="comment">Table Updated: // 被修改的表（此项仅对于牵扯到数据库操作的程序）</span></span><br><span class="line"><span class="comment">Input: // 输入参数说明，包括每个参数的作 用、取值说明及参数间关系</span></span><br><span class="line"><span class="comment">Output: // 对输出参数的说明</span></span><br><span class="line"><span class="comment">Return: // 函数返回值的说明</span></span><br><span class="line"><span class="comment">Others: // 其它说明</span></span><br><span class="line"><span class="comment">*************************************************/</span></span><br></pre></td></tr></table></figure><h4 id="2-4：边写代码边注释-修改代码同时修改相应的注释-以保证注释与代码的一致性-不再有用的注释要删除">2-4：边写代码边注释，修改代码同时修改相应的注释，以保证注释与代码的一致性。不再有用的注释要删除。</h4><h4 id="2-5：注释的内容要清楚-明了-含义准确-防止注释二义性-说明：错误的注释不但无益反而有害">2-5：注释的内容要清楚、明了，含义准确，防止注释二义性。**说明：错误的注释不但无益反而有害。</h4><h4 id="2-6：注释应与其描述的代码相近-对代码的注释应放在其上方或右方-对单条语句的注释-相邻位置-不可放在下面">2-6：注释应与其描述的代码相近，对代码的注释应放在其上方或右方（对单条语句的注释）相邻位置，不可放在下面，</h4><p>如放于上方则需与其上面的代码用空行隔开。</p><p>示例：如下例子不符合规范。例1：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* get replicate sub system index and net indicator */</span></span><br><span class="line">repssn_ind = ssn_data[index].repssn_index;</span><br><span class="line">repssn_ni = ssn_data[index].ni;</span><br></pre></td></tr></table></figure><p>例2：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repssn_ind = ssn_data[index].repssn_index;</span><br><span class="line">repssn_ni = ssn_data[index].ni;</span><br><span class="line"><span class="comment">/* get replicate sub system index and net indicator */</span></span><br></pre></td></tr></table></figure><p>应如下书写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* get replicate sub system index and net indicator */</span></span><br><span class="line">repssn_ind = ssn_data[index].repssn_index;</span><br><span class="line">repssn_ni = ssn_data[index].ni;</span><br></pre></td></tr></table></figure><h4 id="2-7：对于所有有物理含义的变量-常量-如果其命名不是充分自注释的-在声明时都必须加以注释-说明其物理含义">2-7：对于所有有物理含义的变量、常量，如果其命名不是充分自注释的，在声明时都必须加以注释，说明其物理含义。</h4><p>变量、常量、宏的注释应放在其上方相邻位置或右方。示例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* active statistic task number */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_ACT_TASK_NUMBER 1000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_ACT_TASK_NUMBER 1000 <span class="comment">/* active statistic task number */</span></span></span><br></pre></td></tr></table></figure><h4 id="2-8：数据结构声明-包括数组-结构-类-枚举等-如果其命名不是充分自注释的-必须加以注释">2-8：数据结构声明(包括数组、结构、类、枚举等)，如果其命名不是充分自注释的，必须加以注释。</h4><p>对数据结构的注释应放在其上方相邻位置，不可放在下面；对结构中的每个域的注释放在此域的右方。</p><p>示例：可按如下形式说明枚举/数据/联合结构。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* sccp interface with sccp user primitive message name */</span></span><br><span class="line"><span class="keyword">enum</span> SCCP_USER_PRIMITIVE</span><br><span class="line">&#123;</span><br><span class="line">    N_UNITDATA_IND, <span class="comment">/* sccp notify sccp user unit data come */</span></span><br><span class="line">    N_NOTICE_IND, <span class="comment">/* sccp notify user the No.7 network can not */</span></span><br><span class="line">    <span class="comment">/* transmission this message */</span></span><br><span class="line">    N_UNITDATA_REQ, <span class="comment">/* sccp user's unit data transmission request*/</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="2-9：全局变量要有较详细的注释-包括对其功能-取值范围-哪些函数或过程存取它以及存取时注意事项等的说明">2-9：全局变量要有较详细的注释，包括对其功能、取值范围、哪些函数或过程存取它以及存取时注意事项等的说明。</h4><p>示例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The ErrorCode when SCCP translate */</span></span><br><span class="line"><span class="comment">/* Global Title failure, as follows */</span> <span class="comment">// 变量作用、含义</span></span><br><span class="line"><span class="comment">/* 0 － SUCCESS 1 － GT Table error */</span></span><br><span class="line"><span class="comment">/* 2 － GT error Others － no use */</span> <span class="comment">// 变量取值范围</span></span><br><span class="line"><span class="comment">/* only function SCCPTranslate() in */</span></span><br><span class="line"><span class="comment">/* this modual can modify it, and other */</span></span><br><span class="line"><span class="comment">/* module can visit it through call */</span></span><br><span class="line"><span class="comment">/* the function GetGTTransErrorCode() */</span> <span class="comment">// 使用方法</span></span><br><span class="line">BYTE g_GTTranErrorCode;</span><br></pre></td></tr></table></figure><h4 id="2-10：注释与所描述内容进行同样的缩排">2-10：注释与所描述内容进行同样的缩排。</h4><p>说明：可使程序排版整齐，并方便注释的阅读与理解。示例：如下例子，排版不整齐，阅读稍感不方便。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">example_fun</span><span class="params">( <span class="keyword">void</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/* code one comments */</span></span><br><span class="line">CodeBlock One</span><br><span class="line"><span class="comment">/* code two comments */</span></span><br><span class="line">CodeBlock Two</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>应改为如下布局。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">example_fun</span><span class="params">( <span class="keyword">void</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* code one comments */</span></span><br><span class="line">    CodeBlock One</span><br><span class="line">    <span class="comment">/* code two comments */</span></span><br><span class="line">    CodeBlock Two</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-11：避免在一行代码或表达式的中间插入注释">2-11：避免在一行代码或表达式的中间插入注释。</h4><p>说明：除非必要，不应在代码或表达中间插入注释，否则容易使代码可理解性变差。</p><h4 id="2-12：通过对函数或过程-变量-结构等正确的命名以及合理地组织代码的结构-使代码成为自注释的">2-12：通过对函数或过程、变量、结构等正确的命名以及合理地组织代码的结构，使代码成为自注释的。</h4><p>说明：清晰准确的函数、变量等的命名，可增加代码可读性，并减少不必要的注释。</p><h4 id="2-13：在代码的功能-意图层次上进行注释-提供有用-额外的信息">2-13：在代码的功能、意图层次上进行注释，提供有用、额外的信息。</h4><p>说明：注释的目的是解释代码的目的、功能和采用的方法，提供代码以外的信息，帮助读者理解代码，防止没必要的重复注释信息。示例：如下注释意义不大。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* if receive_flag is TRUE */</span></span><br><span class="line"><span class="keyword">if</span> (receive_flag)</span><br></pre></td></tr></table></figure><p>而如下的注释则给出了额外有用的信息。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* if mtp receive a message from links */</span></span><br><span class="line"><span class="keyword">if</span> (receive_flag)</span><br></pre></td></tr></table></figure><h4 id="2-14：在程序块的结束行右方加注释标记-以表明某程序块的结束">2-14：在程序块的结束行右方加注释标记，以表明某程序块的结束。</h4><p>说明：当代码段较长，特别是多重嵌套时，这样做可以使代码更清晰，更便于阅读。示例：参见如下例子。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (...)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// program code</span></span><br><span class="line">    <span class="keyword">while</span> (index &lt; MAX_INDEX)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment">// program code</span></span><br><span class="line">    &#125; <span class="comment">/* end of while (index &lt; MAX_INDEX) */</span> <span class="comment">// 指明该条while 语句结束</span></span><br><span class="line">&#125; <span class="comment">/* end of if (...)*/</span> <span class="comment">// 指明是哪条if 语句结束</span></span><br></pre></td></tr></table></figure><h4 id="2-15：注释格式尽量统一-建议使用">2-15：注释格式尽量统一，建议使用“/* …… */”。</h4><h4 id="2-16：注释应考虑程序易读及外观排版的因素-使用的语言若是中-英兼有的-建议多使用中文-除非能用非常流利准确的英文表达">2-16：注释应考虑程序易读及外观排版的因素，使用的语言若是中、英兼有的，建议多使用中文，除非能用非常流利准确的英文表达。</h4><p>说明：注释语言不统一，影响程序易读性和外观排版，出于对维护人员的考虑，建议使用中文。</p><hr><p>转自：<a href="https://blog.csdn.net/softn" target="_blank" rel="noopener">seven-soft</a>的<a href="https://blog.csdn.net/softn/article/details/51693530" target="_blank" rel="noopener">https://blog.csdn.net/softn/article/details/51693530</a></p><p>文章内容和排版略有修改。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> C语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMD命令快速启动和关闭MySQL服务</title>
      <link href="/article/f4ebcdfa.html"/>
      <url>/article/f4ebcdfa.html</url>
      
        <content type="html"><![CDATA[<p>在开发中经常会用到MySQL数据库，如果MySQL数据库服务，设置的不是自动启动的话，就需要手动的开启服务和关闭服务。</p><a id="more"></a><h3 id="开启mysql服务">开启MySQL服务</h3><p>打开电脑开始——运行，直接输入命令：net start mysql，回车确定即可。</p><p><img src="https://oss.yansheng.xyz/picgo/20170317163915405.jpg" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20170317163422077.jpg" alt></p><p>测试MySQL服务已经开启，打开Navicat，执行查询语句，成功执行表示服务已经开启。</p><p><img src="https://oss.yansheng.xyz/picgo/20170317163426086.jpg" alt></p><h3 id="关闭mysql服务">关闭MySQL服务</h3><p>同样，开始——运行，直接输入命令：net stop mysql，回车确定即可。</p><p><img src="https://oss.yansheng.xyz/picgo/20170317163931499.jpg" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20170317163433398.jpg" alt></p><p>测试MySQL服务已经关闭，同样，使用Navicat执行查询语句，会提示错误信息。</p><p><img src="https://oss.yansheng.xyz/picgo/20170317163438077.jpg" alt></p><p>因此，使用DOS命令，启动和停止MySQL服务，如下</p><p>注意：Windows下不能直接重启restartMySQL服务，只能先停止，然后再启动。</p><p><img src="https://oss.yansheng.xyz/picgo/20170317164601070.jpg" alt></p><hr><p>转自：<a href="https://blog.csdn.net/nangeali" target="_blank" rel="noopener">Heart-Forever</a>的<a href="https://blog.csdn.net/nangeali/article/details/62891130" target="_blank" rel="noopener">https://blog.csdn.net/nangeali/article/details/62891130</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何使用CMD操纵MySQL数据库？</title>
      <link href="/article/3a926bc3.html"/>
      <url>/article/3a926bc3.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章简述了用CMD命令行操作MySQL数据库的常见操作。</p><a id="more"></a><h3 id="1-启动mysql服务器：以管理员身份运行cmd命令行-输入：-span-style-color-f33b45-net-start-mysql-span-回车">1.启动MySQL服务器：以管理员身份运行cmd命令行–&gt;输入：<span style="color:#f33b45;">net start mysql</span>，回车。</h3><p>正常情况下是这样的：</p><p><img src="https://img-blog.csdnimg.cn/2019020121012884.png" alt></p><p></p><p>**如果没有用管理员身份运行cmd，会出现如下错误：参考<a href="https://blog.csdn.net/weixin_41287260/article/details/86684325" target="_blank" rel="noopener">&quot;net start mysql&quot;启动MySQL服务报错,提示发生系统错误5解决方法</a>，可解决。</p><p><img src="https://img-blog.csdnimg.cn/20190201210330409.png" alt></p><p></p><p>**如果没有启动MySQL服务器，就直接连接MySQL，会出现如下错误：</p><p><img src="https://img-blog.csdnimg.cn/20190201210457218.png" alt></p><p></p><h3 id="2-连接mysql服务器-命令如下：-span-style-color-f33b45-mysql-h-localhost-u-root-p-span-；">2.连接MySQL服务器，命令如下：<span style="color:#f33b45;">mysql -h localhost -u root -p</span>；</h3><p>（即指定服务器名、用户名、密码；如果是访问本地服务器也可以直接<span style="color:#f33b45;">mysql -u root -p</span>，然后回车，即使用默认设置–用户名：root，密码：（空）；但是不推荐直接使用键入mysql进入，因为里面可以说啥也没有！）</p><p><img src="https://img-blog.csdnimg.cn/20190201213134960.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><span style="color:#4f4f4f;">这里面也有几个信息需要注意一下：</span></p><p><span style="color:#4f4f4f;">（1）：语句以“；”分号或者是“\q”结束，有些数据库管理系统每个sql语句之间可能不用分号分隔（作为定界符）也可以，但是这里不行。</span></p><p><span style="color:#4f4f4f;">（2）：下面两个小提示。</span></p><p></p><p>**help命令：</p><p><img src="https://img-blog.csdnimg.cn/20190201213551552.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p></p><p>**status命令：</p><p><img src="https://img-blog.csdnimg.cn/20190201213925989.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p></p><p>**直接键入mysql的情况如下：</p><p><img src="https://img-blog.csdnimg.cn/20190201212235340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p></p><h3 id="3-操作数据库：">3.操作数据库：</h3><p>（1）：show databases;  ——查看有哪些数据库</p><p><img src="https://img-blog.csdnimg.cn/20190201214258827.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2）：use unit7;  ——进入（/使用）unit7数据库</p><p>（3）：show tables;——查看该数据库的所有表</p><p><img src="https://img-blog.csdnimg.cn/20190201214606143.png" alt></p><p>（4）：show variables like “%char%”;——查看数据库的编码情况，如需修改默认编码(我这是修改后的)，可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/86684110" target="_blank" rel="noopener">mysql修改默认编码</a>。</p><p><img src="https://img-blog.csdnimg.cn/20190201222301769.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（5）：以及一系列的sql语句（按照数据库管理软件里面一样操作即可）：</p><p>如：select * from products;</p><p><img src="https://img-blog.csdnimg.cn/2019020121473979.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p></p><p>（6）：下面演示一下简单常用的操作：“新建数据库–&gt;新建表（数据定义）–&gt;插入信息（增）–&gt;查询信息（查）–&gt;更新信息（改）–&gt;删除信息（删）–&gt;删除表–&gt;删除数据库”</p><blockquote><p>1.新建数据库:</p><p>mysql&gt; <code>create database new_database;</code><br>Query OK, 1 row affected (0.00 sec)</p><p>mysql&gt; <code>show databases;</code><br>±-------------------+<br>| Database           |<br>±-------------------+<br>| information_schema |<br>| framework          |<br>| mysql              |<br>| new_database       |<br>| performance_schema |<br>| unit7              |<br>±-------------------+<br>9 rows in set (0.00 sec)</p><p>2.新建表（数据定义）：</p><p>mysql&gt; <code>use new_database;</code><br>Database changed</p><p>mysql&gt; create table new_table(<br>-&gt; id int,<br>-&gt; username char(10));<br>Query OK, 0 rows affected (0.35 sec)</p><p>mysql&gt; <code>show tables;</code><br>±-----------------------+<br>| Tables_in_new_database |<br>±-----------------------+<br>| new_table              |<br>±-----------------------+<br>1 row in set (0.00 sec)</p><p>3.插入数据（增）：</p><p>mysql&gt; <code>insert into new_table(id,username) values(1,'tom');</code><br>Query OK, 1 row affected (0.09 sec)</p><p>4.查询数据（查）：</p><p>mysql&gt; <code>select * from new_table;</code><br>±-----±---------+<br>| id   | username |<br>±-----±---------+<br>|    1 | tom      |<br>±-----±---------+<br>1 row in set (0.00 sec)</p><p>5.更新信息（改）：</p><p>mysql&gt; update new_table<br>-&gt; set id=2,username=“cat”<br>-&gt; where id=1;<br>Query OK, 1 row affected (0.64 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0</p><p>mysql&gt; <code>select * from new_table;</code><br>±-----±---------+<br>| id   | username |<br>±-----±---------+<br>|    2 | cat      |<br>±-----±---------+<br>1 row in set (0.00 sec)</p><p>6.删除信息（删）：</p><p>mysql&gt; <code>delete from new_table where id=2;</code><br>Query OK, 1 row affected (0.08 sec)</p><p>mysql&gt; <code>select * from new_table;</code><br>Empty set (0.00 sec)</p><p>7.删除表：</p><p>mysql&gt; <code>drop table new_table;</code><br>Query OK, 0 rows affected (0.31 sec)</p><p>mysql&gt; <code>show tables;</code><br>Empty set (0.00 sec)</p><p>8.删除数据库：</p><p>mysql&gt; <code>drop database new_database;</code><br>Query OK, 0 rows affected (0.00 sec)</p><p>mysql&gt; show databases;<br>±-------------------+<br>| Database           |<br>±-------------------+<br>| information_schema |<br>| framework          |<br>| mysql              |<br>| performance_schema |<br>| unit7              |<br>±-------------------+<br>8 rows in set (0.00 sec)</p></blockquote><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>’net start mysql’启动MySQL服务报错,提示发生系统错误5解决方法</title>
      <link href="/article/513e89fe.html"/>
      <url>/article/513e89fe.html</url>
      
        <content type="html"><![CDATA[<p>切换到管理员模式就可以启动了。这里提供两种方法，一种暂时解决，一种永久解决。</p><a id="more"></a><p>在dos下运行”net start mysql”不能启动MySQL服务！</p><p>提示发生系统错误 5；拒绝访问！切换到管理员模式就可以启动了。</p><h2 id="一-错误截图：">一、错误截图：</h2><p><img src="https://oss.yansheng.xyz/picgo/20160715131918017.jpg" alt></p><h2 id="二-单次解决办法">二、单次解决办法</h2><h3 id="1-去c-windows-system32目录找到-cmd-exe-：">1、去<code>C:\Windows\System32</code>目录找到”cmd.exe”：</h3><p><img src="https://oss.yansheng.xyz/picgo/20160715132322550.jpg" alt></p><h3 id="2-右击属性-选择-以管理员身份运行-：">2、右击属性，选择“以管理员身份运行”：</h3><p><img src="https://oss.yansheng.xyz/picgo/20160715132433785.jpg" alt></p><h3 id="3-运行成功：">3、运行成功：</h3><p><img src="https://oss.yansheng.xyz/picgo/20160715132501027.jpg" alt></p><h2 id="三-永久解决办法">三、永久解决办法</h2><h3 id="1-创建-cmd-exe-快捷方式：">1、创建“cmd.exe”快捷方式：</h3><p><img src="https://oss.yansheng.xyz/picgo/20160715132657139.jpg" alt></p><h3 id="2-右击选择-属性-选择-快捷方式-再选择-高级-在选择-以管理员身份运行-再单击-确定">2、右击选择“属性”，选择“快捷方式”，再选择“高级”，在选择“以管理员身份运行”，再单击“确定”。</h3><p><img src="https://oss.yansheng.xyz/picgo/20160715132933412.jpg" alt></p><p>以后只要打开快捷方式就可以以管理员的身份运行cmd了！</p><h3 id="3-运行成功：-v2">3、运行成功：</h3><p><img src="https://oss.yansheng.xyz/picgo/20160715133304804.jpg" alt></p><h2 id="四-备注">四、备注</h2><p>1、Windows中服务名不区分大小写：</p><p><img src="https://oss.yansheng.xyz/picgo/20160715133801322.jpg" alt></p><p>2、两条语句含义：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net start + 服务名 ： 启动Windows中服务。</span><br><span class="line">net stop + 服务名 ：关闭Windows中服务。</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net start + mysql57 ：启动Windows中服务名为<span class="string">"mysql57"</span>的服务。</span><br><span class="line">net stop + mysql57 ：关闭Windows中服务名为<span class="string">"mysql57"</span>的服务。</span><br></pre></td></tr></table></figure><hr><p>转自：<a href="https://blog.csdn.net/yhj19920417" target="_blank" rel="noopener">-向阳-</a>的<a href="https://blog.csdn.net/xiaohukun/article/details/75077049" target="_blank" rel="noopener">https://blog.csdn.net/xiaohukun/article/details/75077049</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL修改默认编码</title>
      <link href="/article/c641384a.html"/>
      <url>/article/c641384a.html</url>
      
        <content type="html"><![CDATA[<p>MySQL乱码问题真的很烦，之前写javaweb，老是出现乱码，我以为是前端传过来的数据有问题，但是后面发现是MySQL系统默认编码的缘故。所以就去研究了一下，之后就很方便了，不用在建数据库时设置编码了，很方便。</p><a id="more"></a><p>测试软件版本：win10，mysql-5.6.21。</p><hr><p>0.为保证有足够权限，以管理员权限打开cmd，如果不知道怎么打开可参考：<a href="https://blog.csdn.net/weixin_41287260/article/details/84193239#t3" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41287260/article/details/84193239#t3</a></p><h3 id="步骤">步骤</h3><p>1.打开cmd命令行，输入：<code>mysql</code>（或者默认账号密码登录：<code>mysql -u root -p</code> ）</p><p>（如果显示不是内部命令，把安装文件下的bin目录（我的是<span style="color:#3399ea;">G:\mysql-5.6.21-winx64\bin</span>）添加到系统变量的path路径）</p><p><img src="https://img-blog.csdnimg.cn/20190128233136885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>2.输入：<code>show variables like &quot;%char%&quot;;</code>查看mysql中有关字符编码的变量</p><p><img src="https://img-blog.csdnimg.cn/2019012823311379.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>3.编辑安装目录下的my.ini文件，如果没有就新建，新增以下信息：</p><blockquote><p>[mysqld]<br>default-storage-engine=INNODB<br>character-set-server=utf8<br>collation-server=utf8_general_ci</p><p>[client]<br>default-character-set=utf8</p></blockquote><p>4.退出mysql，</p><p>先停止mysql服务：<code>net stop mysql</code>；</p><p>再重启mysql服务：<code>net start mysql</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; \q</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">C:\WINDOWS\system32&gt;net stop mysql</span><br><span class="line">MySQL 服务正在停止.</span><br><span class="line">MySQL 服务已成功停止。</span><br><span class="line"></span><br><span class="line">C:\WINDOWS\system32&gt;net start mysql</span><br><span class="line">MySQL 服务正在启动 .</span><br><span class="line">MySQL 服务已经启动成功。</span><br></pre></td></tr></table></figure><p>5.再次进入数据库，查看字符编码：</p><p><img src="https://img-blog.csdnimg.cn/20190128233545808.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>end……</p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 编码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMD命令行中出现“发生系统错误 5。 拒绝访问。”的解决方法</title>
      <link href="/article/362cb610.html"/>
      <url>/article/362cb610.html</url>
      
        <content type="html"><![CDATA[<p>被拒绝的原因一般是权限不够，用管理员权限运行命令行就可以了。</p><a id="more"></a><p>使用管理员权限开启CMD命令行就可以了，步骤：按win键（/home键/‘开始’），直接输入cmd，以管理员身份运行cmd命令窗口（如下图）：</p><p><img src="https://img-blog.csdnimg.cn/20190924235143841.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> CMD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm刷新项目（文件）目录</title>
      <link href="/article/34bcdf4b.html"/>
      <url>/article/34bcdf4b.html</url>
      
        <content type="html"><![CDATA[<p>利用PyCharm做项目，有时会有写文件（保存到项目中）的需求，但是可能是因为电脑比较慢，项目目录不会自动更新，需要自己手动刷新。可以自行设置“显示刷新图标”：view --&gt;toolbar，需要刷新时，点一下就好了。</p><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/20190118160906480.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190118160928118.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> PyCharm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm如何修改文件名</title>
      <link href="/article/2284c8e.html"/>
      <url>/article/2284c8e.html</url>
      
        <content type="html"><![CDATA[<p>习惯了Eclipse，然后现在用PyCharm好像找不到重命名文件这个功能了，上网找了下才搞懂。点击文件（直接在编辑文本时也可以）–&gt;右键–&gt;refactor(重构)–&gt;rename。</p><a id="more"></a><p>如下图：</p><p><img src="https://img-blog.csdnimg.cn/20190118145718348.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190118145732461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> PyCharm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm删除项目的方法</title>
      <link href="/article/555a0e6.html"/>
      <url>/article/555a0e6.html</url>
      
        <content type="html"><![CDATA[<p>采用PyCharm作为IDE时会发现，与其他语言的IDE相比项目删除起来比较困难，即使把源文件删除了，但是项目名称依旧保留，这里我们说明PyCharm中正确的项目删除方式 。</p><a id="more"></a><h2 id="步骤">步骤</h2><h3 id="1-选择菜单file-close-project">1.选择菜单file-close project</h3><p><img src="https://oss.yansheng.xyz/picgo/20170713162454804.jpg" alt="这里写图片描述"></p><h3 id="2-点击项目右上角的-号-删除项目">2.点击项目右上角的×号，删除项目</h3><p><img src="https://oss.yansheng.xyz/picgo/20170713162505953.jpg" alt="这里写图片描述"></p><h3 id="3-找到项目所在位置-删除相应文件">3.找到项目所在位置，删除相应文件</h3><p><img src="https://oss.yansheng.xyz/picgo/20170713162516066.jpg" alt="这里写图片描述"></p><hr><p>之后打开PyCharm可以发现，项目已完全删除。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> PyCharm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>“Cannot Save Settings：Please specify a different SDK name”处理方法</title>
      <link href="/article/275b5b7d.html"/>
      <url>/article/275b5b7d.html</url>
      
        <content type="html"><![CDATA[<p>意思是你的envy有重名，你可以点击（file-&gt;setting-&gt;project-&gt;）project interpreter中的show all来显示，来删除重名的然后在apply就可以了。</p><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/20190118141118924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190118141129684.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>命令行输入pip提示不是内部或外部命令</title>
      <link href="/article/a43f5f4e.html"/>
      <url>/article/a43f5f4e.html</url>
      
        <content type="html"><![CDATA[<p>在python安装目录中找得到script文件夹，查看文件夹内部是否存在pip3.exe这个文件。如果有，则需要把该路径（例如我的是：<code>G:\python-3.7.1\Scripts</code>）添加到系统环境变量path中。</p><a id="more"></a><p>安装需要的第三方库时，大多选择在命令行用pip进行安装。</p><p>然而有时敲入pip命令会提示‘pip’不是内部或外部命令。</p><p>在python安装目录中找得到script文件夹，查看文件夹内部是否存在pip3.exe这个文件。</p><p>如果有，则需要把该路径（例如我的是：G:\python-3.7.1\Scripts）添加到系统环境变量path中。</p><p>如果没有，在命令行输入：python -m ensurepip 将pip.exe文件下载下来</p><p><img src="https://img-blog.csdn.net/20180726093519972?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjExMjY3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p><p>这时就可以用pip下载安装我们需要的三方库</p><p><img src="https://img-blog.csdn.net/2018072609372570?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjExMjY3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p><p>如果script文件夹内有pip.exe，那么就是cmd的环境路径有问题</p><p>在命令行输入path c:\windows\system32\</p><p><img src="https://img-blog.csdn.net/201807260949215?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjExMjY3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p><p>或者在环境变量中添加%SystemRoot%System32</p><p><img src="https://img-blog.csdn.net/20180726095124949?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjExMjY3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p><p>有些python库是windows环境下无法支持使用的，为了不影响学习和使用，在此添加一个whl包的下载方法</p><p><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="noopener">Python open-source extension packages</a></p><p><a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy" target="_blank" rel="noopener">https://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy</a></p><p>这个网站里面有很多**.whl<strong>格式的</strong>packages**，是一个非常好的资源站。</p><p>以一个实例演示whl文件的安装</p><p>1.首先在网站下载需要的库包</p><p>2.win+R打开终端</p><p>3.在终端执行 pip install D:\curses-2.2+utf8-cp37-cp37m-win_amd64.whl(我下载安装的是curses)</p><hr><p>转自：<a href="https://blog.csdn.net/weixin_42112678/article/details/81214173" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42112678/article/details/81214173</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> CMD </tag>
            
            <tag> pip </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python包管理工具pip的相关问题</title>
      <link href="/article/dc85d732.html"/>
      <url>/article/dc85d732.html</url>
      
        <content type="html"><![CDATA[<p>文章主要内容：1、首先，应该弄明白的是：pip是什么？有什么作用？ 2、其次是：pip如何安装？ 3、pip如何更新？ 4、pip 最常用命令。 5. 比较常见的问题及处理。</p><a id="more"></a><h3 id="1-首先-应该弄明白的是：pip是什么？有什么作用？">1、首先，应该弄明白的是：pip是什么？有什么作用？</h3><blockquote><p>百度百科：pip（Python包管理工具）</p><p>pip 是一个现代的，通用的 <a href="https://baike.baidu.com/item/Python" target="_blank" rel="noopener">Python</a> 包管理工具。提供了对 Python 包的查找、下载、安装、卸载的功能。</p></blockquote><p>python为什么那么受欢迎？其中有一个原因就是：集成了很多各种各样的包（库），“想用时直接开车就好了，不用自己再造轮子”。而pip的最大的作用就是：帮你下载这些包！！！你只要发很简单的命令给它，它就会帮你干活！</p><h3 id="2-其次是：pip如何安装？">2、其次是：pip如何安装？</h3><p>Windows 用户可从官网下载安装程序直接安装 Python 和 pip 并且设置好环境变量，不用像以前那样手动添加，只需安装 Python 2.7.9 + 和 3.4 + 的版本并如下图勾选有关复选框即可：</p><p><img src="https://img-blog.csdnimg.cn/20190108215516606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190108215450869.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>如果安装后，在cmd中遇到“命令行输入pip提示不是内部或外部命令”问题，参考这篇文章：<a href="https://blog.csdn.net/weixin_41287260/article/details/86105088" target="_blank" rel="noopener">命令行输入pip提示不是内部或外部命令</a>。</p><h3 id="3-pip如何更新？">3、pip如何更新？</h3><p>我们在默认安装python软件之后，其自行安装的pip的版本可能比较落后。我们使用pip安装模块的时候经常提示安装失败，查看安装失败原因，部分是因为pip不是最新版本需要升级版本才能继续安装。</p><p>我网上看到有这些方法：</p><p>1.python -m pip  install --upgrade pip</p><p>因为我之前已经更新了，所以会这样显示：</p><p><img src="https://img-blog.csdnimg.cn/20190108220817584.png" alt></p><p>2.pip install -U pip</p><p><img src="https://img-blog.csdnimg.cn/20190108220841483.png" alt></p><p>3.除了这两种方法，还有一种不用记的：直接输入pip（或者pip --help），显示它的所用功能：</p><p><img src="https://img-blog.csdnimg.cn/20190108221144413.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>如果pip不是最新版本，它在最后面一行会给出提醒的，并给出更新的命令，你直接复制执行就更新好了。（因为我这里是最新版，所以没有下面这样的信息。）</p><p><img src="https://img-blog.csdnimg.cn/20190126232305266.png" alt></p><h3 id="4-pip-最常用命令">4、pip 最常用命令</h3><p>参考官网文档：<a href="https://pip.pypa.io/en/stable/" target="_blank" rel="noopener">https://pip.pypa.io/en/stable/</a></p><p>（注：下列冒号后面是命令内容，截图为实例）</p><p>1.获取帮助：pip --help</p><p>2.升级 pip：pip install -U pip</p><p>3.安装包：pip install SomePackage</p><p>这里演示下载requests包：</p><p><img src="https://img-blog.csdnimg.cn/20190108223113840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>4.卸载包 ：pip uninstall SomePackage</p><p>5.升级指定的包(u表示update）：pip install -U SomePackage</p><p>因为这里是最新的，所以显示是这样的：</p><p><img src="https://img-blog.csdnimg.cn/20190108223358374.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>6.搜索包：pip search SomePackage</p><p><img src="https://img-blog.csdnimg.cn/20190108223501265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>7.查看指定包的详细信息：pip show -f SomePackage</p><p><img src="https://img-blog.csdnimg.cn/20190108223603313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>8.列出已安装的包：pip freeze or pip list</p><p><img src="https://img-blog.csdnimg.cn/20190108223630772.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（至于这两者区别，可参考：<a href="https://blog.csdn.net/mrwxh/article/details/80344907" target="_blank" rel="noopener">pip list 和 pip freeze</a>）</p><p>9.查看可升级的包：pip list -o</p><p>（O表示old，列出旧的包，即可更新的）</p><p><img src="https://img-blog.csdnimg.cn/20190108223710861.png" alt></p><h3 id="5-比较常见的问题及处理">5. 比较常见的问题及处理</h3><p>1.<a href="https://blog.csdn.net/weixin_41287260/article/details/86105088" target="_blank" rel="noopener">命令行输入pip提示不是内部或外部命令</a></p><p>2.<a href="https://blog.csdn.net/weixin_41287260/article/details/83957731" target="_blank" rel="noopener">关于pip安装第三方库，但pycharm中却无法识别的问题；以及pycharm安装第三方库的方法解析</a></p><p>end.</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> CMD </tag>
            
            <tag> pip </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm快捷键以及一些常用设置</title>
      <link href="/article/e499aaa.html"/>
      <url>/article/e499aaa.html</url>
      
        <content type="html"><![CDATA[<p>PyCharm的一些比较常用的快捷键以及一些常用设置。</p><a id="more"></a><h2 id="一-pycharm快捷键">一、PyCharm快捷键</h2><p>在<span style="color:#f33b45;">PyCharm /opt/pycharm-3.4.1/help</span>目录下可以找到 <span style="color:#f33b45;">ReferenceCard.pdf（或 ReferenceCardForMac.pdf</span>） 快捷键英文版说明。</p><p><strong>PyCharm3.0默认快捷键(翻译的)</strong></p><h3 id="1-编辑-editing">1、编辑（Editing）</h3><p>Ctrl + Space 基本的代码完成（类、方法、属性）<br>Ctrl + Alt + Space 快速导入任意类<br>Ctrl + Shift + Enter 语句完成<br>Ctrl + P 参数信息（在方法中调用参数）<br>Ctrl + Q 快速查看文档<br>Shift + F1 外部文档<br>Ctrl + 鼠标 简介<br>Ctrl + F1 显示错误描述或警告信息<br>Alt + Insert 自动生成代码<br>Ctrl + O 重新方法<br>Ctrl + Alt + T 选中<br>Ctrl + / 行注释<br>Ctrl + W 选中增加的代码块<br>Ctrl + Shift + W 回到之前状态<br>Ctrl + Shift + ]/[ 选定代码块结束、开始<br>Alt + Enter 快速修正<br>Ctrl + Alt + L 代码格式化<br>Ctrl + Alt + O 优化导入<br>Ctrl + Alt + I 自动缩进<br>Tab / Shift + Tab 缩进、不缩进当前行<br>Ctrl+X/Shift+Delete 剪切当前行或选定的代码块到剪贴板<br>Ctrl+C/Ctrl+Insert 复制当前行或选定的代码块到剪贴板<br>Ctrl+V/Shift+Insert 从剪贴板粘贴<br>Ctrl + Shift + V 从最近的缓冲区粘贴<br>Ctrl + D 复制选定的区域或行<br>Ctrl + Y 删除选定的行<br>Ctrl + Shift + J 添加智能线<br>Ctrl + Enter 智能线切割<br>Shift + Enter 另起一行<br>Ctrl + Shift + U 在选定的区域或代码块间切换<br>Ctrl + Delete 删除到字符结束<br>Ctrl + Backspace 删除到字符开始<br>Ctrl + Numpad+/- 展开折叠代码块<br>Ctrl + Numpad+ 全部展开<br>Ctrl + Numpad- 全部折叠<br>Ctrl + F4 关闭运行的选项卡</p><h3 id="2-查找-替换-search-replace">2、查找/替换(Search/Replace)</h3><p>F3 下一个<br>Shift + F3 前一个<br>Ctrl + R 替换<br>Ctrl + Shift + F 全局查找<br>Ctrl + Shift + R 全局替换</p><h3 id="3-运行-running">3、运行(Running)</h3><p>Alt + Shift + F10 运行模式配置<br>Alt + Shift + F9 调试模式配置<br>Shift + F10 运行<br>Shift + F9 调试<br>Ctrl + Shift + F10 运行编辑器配置<br>Ctrl + Alt + R 运行manage.py任务</p><h3 id="4-调试-debugging">4、调试(Debugging)</h3><p>F8 跳过<br>F7 进入<br>Shift + F8 退出<br>Alt + F9 运行游标<br>Alt + F8 验证表达式<br>Ctrl + Alt + F8 快速验证表达式<br>F9 恢复程序<br>Ctrl + F8 断点开关<br>Ctrl + Shift + F8 查看断点</p><h3 id="5-导航-navigation">5、导航(Navigation)</h3><p>Ctrl + N 跳转到类<br>Ctrl + Shift + N 跳转到符号<br>Alt + Right/Left 跳转到下一个、前一个编辑的选项卡<br>F12 回到先前的工具窗口<br>Esc 从工具窗口回到编辑窗口<br>Shift + Esc 隐藏运行的、最近运行的窗口<br>Ctrl + Shift + F4 关闭主动运行的选项卡<br>Ctrl + G 查看当前行号、字符号<br>Ctrl + E 当前文件弹出<br>Ctrl+Alt+Left/Right 后退、前进<br>Ctrl+Shift+Backspace 导航到最近编辑区域<br>Alt + F1 查找当前文件或标识<br>Ctrl+B / Ctrl+Click 跳转到声明<br>Ctrl + Alt + B 跳转到实现<br>Ctrl + Shift + I查看快速定义<br>Ctrl + Shift + B跳转到类型声明<br>Ctrl + U跳转到父方法、父类<br>Alt + Up/Down跳转到上一个、下一个方法<br>Ctrl + ]/[跳转到代码块结束、开始<br>Ctrl + F12弹出文件结构<br>Ctrl + H类型层次结构<br>Ctrl + Shift + H方法层次结构<br>Ctrl + Alt + H调用层次结构<br>F2 / Shift + F2下一条、前一条高亮的错误<br>F4 / Ctrl + Enter编辑资源、查看资源<br>Alt + Home显示导航条F11书签开关<br>Ctrl + Shift + F11书签助记开关<br>Ctrl + #[0-9]跳转到标识的书签<br>Shift + F11显示书签</p><h3 id="6-搜索相关-usage-search">6、搜索相关(Usage Search)</h3><p>Alt + F7/Ctrl + F7文件中查询用法<br>Ctrl + Shift + F7文件中用法高亮显示<br>Ctrl + Alt + F7显示用法</p><h3 id="7-重构-refactoring">7、重构(Refactoring)</h3><p>F5复制F6剪切<br>Alt + Delete安全删除<br>Shift + F6重命名<br>Ctrl + F6更改签名<br>Ctrl + Alt + N内联<br>Ctrl + Alt + M提取方法<br>Ctrl + Alt + V提取属性<br>Ctrl + Alt + F提取字段<br>Ctrl + Alt + C提取常量<br>Ctrl + Alt + P提取参数</p><h3 id="8-控制vcs-local-history">8、控制VCS/Local History</h3><p>Ctrl + K提交项目<br>Ctrl + T更新项目<br>Alt + Shift + C查看最近的变化<br>Alt + BackQuote(’)VCS快速弹出</p><h3 id="9-模版-live-templates">9、模版(Live Templates)</h3><p>Ctrl + Alt + J当前行使用模版<br>Ctrl +Ｊ插入模版</p><h3 id="10-基本-general">10、基本(General)</h3><p>Alt + #[0-9]打开相应的工具窗口<br>Ctrl + Alt + Y同步<br>Ctrl + Shift + F12最大化编辑开关<br>Alt + Shift + F添加到最喜欢<br>Alt + Shift + I根据配置检查当前文件<br>Ctrl + BackQuote(’)快速切换当前计划<br>Ctrl + Alt + S　打开设置页<br>Ctrl + Shift + A查找编辑器里所有的动作<br>Ctrl + Tab在窗口间进行切换</p><h2 id="二-一些常用设置">二、一些常用设置</h2><ol><li>pycharm默认是自动保存的，习惯自己按ctrl + s 的可以进行如下设置：<code>file -&gt; Setting -&gt; General -&gt; Synchronization -&gt; Save files on frame deactivation</code> 和 <code>Save files automatically if application is idle for .. sec</code>的勾去掉。</li><li><code>file -&gt;Setting -&gt; Editor -&gt; Editor Tabs -&gt; Mark modified tabs with asterisk</code> 打上勾。</li><li>Alt + Enter: 自动添加包。</li><li>对于常用的快捷键，可以设置为visual studio(eclipse…)一样的：<code>file -&gt; Setting -&gt; Keymap -&gt; Keymaps -&gt; vuisual studio -&gt; Apply</code>。</li><li>Pycharm中默认是不能用Ctrl+滚轮改变字体大小的，可以在file -&gt; Setting -&gt;Editor-〉Mouse中设置。</li><li>要设置Pycharm的字体，要先在file -&gt; Setting -&gt;Editor-〉Editor中选择一种风格并保存，然后才可以改变。</li><li>在setting中搜索theme可以改变主题，所有配色统一改变。</li><li>Python文件默认编码：File Encodings&gt; IDE Encoding: UTF-8;   Project Encoding:UTF-8。</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> PyCharm </tag>
            
            <tag> 快捷键 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手把手教你如何安装PyCharm——靠谱的PyCharm安装详细教程</title>
      <link href="/article/28ce2e3c.html"/>
      <url>/article/28ce2e3c.html</url>
      
        <content type="html"><![CDATA[<p>今天小编给大家分享如何在本机上下载和安装PyCharm，具体的教程如下。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL3MxLjUxY3RvLmNvbS9pbWFnZXMvMjAxODA1MTMvMTUyNjE3ODkxOTMxMjA0MC5qcGc_eC1vc3MtcHJvY2Vzcz1pbWFnZS93YXRlcm1hcmssc2l6ZV8xNix0ZXh0X1FEVXhRMVJQNVkyYTVhNmksY29sb3JfRkZGRkZGLHRfMTAwLGdfc2UseF8xMCx5XzEwLHNoYWRvd185MCx0eXBlX1ptRnVaM3BvWlc1bmFHVnBkR2s9?x-oss-process=image/format,png" alt="Pycharm.jpg"></p><a id="more"></a><p>今天小编给大家分享如何在本机上下载和安装PyCharm，具体的教程如下：</p><h2 id="安装步骤">安装步骤</h2><p>1、首先去PyCharm官网，或者直接输入网址：<a href="https://link.zhihu.com/?target=http%3A//www.jetbrains.com/pycharm/download/%23section%3Dwindows" target="_blank" rel="noopener">http://www.jetbrains.com/pycharm/download/#section=windows</a>，下载PyCharm安装包，根据自己电脑的操作系统进行选择，对于windows系统选择下图的框框所包含的安装包。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMxLnpoaW1nLmNvbS84MC92Mi03MzZlNjk4NTQxMWMwODIzYTQzZDMyNjc3OGFkNzRhMl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>2、选择Windows系统的专业版，将其下载到本地，如下图所示：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi1lZGEwNDE5MTE5N2M4YTgxYzU2MTIxN2E3YzhjMDJkOF9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>3、双击下载的安装包，进行安装，然后会弹出界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi02OGIzNDcxYjVmYTAwNjYwMzdhOThhZTJmNDcxNDFmZl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>4、选择安装目录，Pycharm需要的内存较多，建议将其安装在D盘或者E盘，不建议放在系统盘C盘：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi03MmI4MjI4MWMzYmU3NDU1N2YyYWM3NDE3YTQ4MTVlOV9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>5、点击Next，进入下图的界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi1jNDQ5ZjUzNTFkMDU0MGRlNTZiNDk0ZTdmZTViZDliNV9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>Create Desktop Shortcut创建桌面快捷方式，一个32位，一个64位，小编的电脑是64位系统，所以选择64位。</p><p>勾选Create Associations是否关联文件，选择以后打开.py文件就会用PyCharm打开。</p><p>6、点击Next，进入下图：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi04MDY4YjdlMzQ5YWYyYWQzMmM3Y2Q2ZTNlMTlmNWI1Ml9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>默认安装即可，直接点击Install。</p><p>7、耐心的等待两分钟左右，如下图：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi1jMDNjNTRkNjMyOGI1Yzk4MWQwNmVkZjE5NTQ3OWUzZF9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>8、之后就会得到下面的安装完成的界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi1kZWYzMmQ3M2E4ZGNjM2M5NzdkMTY1OGQzYzhiNmM4MV9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>9、点击Finish，Pycharm安装完成。接下来对Pycharm进行配置，双击运行桌面上的Pycharm图标，进入下图界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi1lMDMzNDk1MWZiNGU5MTRiMDU5OThlNzUxMjA1NWQ2N19oZC5qcGc?x-oss-process=image/format,png" alt></p><p>选择Do not import settings，之后选择OK，进入下一步。</p><p>10、选择Accept，进入下一步：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi0xOWNmNGQzNTU4NWU3MWZjYzk0ZjlkMTExZGFjM2ZmNl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>11、进入激活界面，选择第二个License server，如下图所示：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi1lMDA3ZDcyYTlkYzdhZmE3YjdiNzJmODY4MThlNzg2Ml9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>之后在License server address中随意输入下面两个注册码中的任意一个即可，Pycharm新注册码1：<a href="https://link.zhihu.com/?target=http%3A//idea.liyang.io" target="_blank" rel="noopener">http://idea.liyang.io</a>或pycharm新注册码2：<a href="https://link.zhihu.com/?target=http%3A//xidea.online" target="_blank" rel="noopener">http://xidea.online</a>，之后点击OK，便可以激活Pycharm了。</p><p>12、Pycharm激活后</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMxLnpoaW1nLmNvbS84MC92Mi0xY2EyYWIyZTY5N2JiMjcxYWU5NzRmNWY1YWQxYmE2Y19oZC5qcGc?x-oss-process=image/format,png" alt></p><p>13、激活之后会自动跳转到下图界面，选择IDE主题与编辑区主题：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi0wYjI1ODk3ODI0Zjg5OWQ3ZjlkMThiYzI3Y2M1OTc0MV9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>建议选择Darcula主题，该主题更有利于保护眼睛，而且看上去也非常不错~~~</p><p>14、选择OK之后进入下图界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMxLnpoaW1nLmNvbS84MC92Mi1kMDRiOGVkOGNjMWE3OTdmMGJhZGJhODMwMjY0ZTVmMV9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>选择Yes即可，更换IDE主题。</p><p>15、之后进入下图界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi03YWZkMDNkOTc4MzZiNTYwNzQwMjZmMzI0NDVmMWZmNl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>16、点击Create New Project，进入如下图的界面：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi01MjJiNzQ4YmZkZDM2ZDZhYjA2NzRlMTQ4MDM4ODA3Zl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>自定义项目存储路径，IDE默认会关联Python解释器。选择好存储路径后，点击create。</p><p>17、IDE提供的提示，直接close即可，不用理会。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi05YTBkMzQ1ODUyMjU0MTY0YmJkM2QxNzM2ZWRiMDk5ZV9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>18、进入的界面如下图所示，鼠标右击图中箭头指向的地方，然后选择New，最后选择python file，在弹出的框中填写文件名（任意填写），本例填写：helloworld。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi1hYWFlMzE5YzQ4NzBkYWU1ZWZiYjNmZDFhNWRjYjU5Yl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>19、之后得到下图，然后点击OK即可：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi1mMTYyYTE3Yzk4ZDY5MTcyZTMyMmZhMTdhNzQwMWNlOF9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>20、文件创建成功后便进入如下的界面，便可以编写自己的程序了。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi0yNjcwYTBhZjgwMzNjMDVjMzhjNWE4ZGZiNGFjYWU2ZF9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>这个界面是Pycharm默认的界面，大家完全可以自己去setting中设置自己喜欢的背景和字体大小、格式等等。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi0yODg0Mjg0OTRlOTlhOTkyYWU5OTkzZDVmZjQ0NjZiZl9oZC5qcGc?x-oss-process=image/format,png" alt></p><p>在这里我就不一一赘述了，起码到这里我相信大家已经实现了Pycharm的安装了。</p><p>为了给大家创建一个学习Python的氛围，小编为大家建立了一个Python学习群: 181125776，里面有Python和Pycharm等开发工具的安装包和安装教程，可以免费分享给大家，让我们一起为学习Python而奋斗吧~~</p><p>21、安利Pycharm中的部分快捷键</p><p>1、Ctrl + Enter：在下方新建行但不移动光标；</p><p>2、Shift + Enter：在下方新建行并移到新行行首；</p><p>3、Ctrl + /：注释(取消注释)选择的行；</p><p>4、Ctrl+d：对光标所在行的代码进行复制。</p><p>最后小编祝大家能够顺利的完成Python和Pycharm的安装，<sup>_</sup>祝大家周末愉快<sup>_</sup></p><hr><p>转自：<a href="https://me.csdn.net/pdcfighting" target="_blank" rel="noopener">Python进阶者</a> 的<a href="https://blog.csdn.net/pdcfighting/article/details/80297499" target="_blank" rel="noopener"> 手把手教你如何安装Pycharm——靠谱的Pycharm安装详细教程</a>。</p><hr><p>推荐个更全的博文：<a href="https://blog.csdn.net/qq_29883591/article/details/52664478" target="_blank" rel="noopener">Pycharm及python安装详细教程</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> PyCharm </tag>
            
            <tag> Python工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS实现自动打字效果</title>
      <link href="/article/50f44829.html"/>
      <url>/article/50f44829.html</url>
      
        <content type="html"><![CDATA[<p>html+js 实现打字效果：就像是把一句话里面的每一个字都依次打印出来。我这里是通过切片原字符串，然后覆盖之前内容来实现的，详见代码（可运行）。</p><p><img src="https://img-blog.csdnimg.cn/20181231004329281.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/20181231004548584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>typing.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-id">#divTyping</span> &#123;</span></span><br><span class="line">      width: 300px;</span><br><span class="line">      height: 25px;</span><br><span class="line"><span class="css">      <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#dddddd</span>;</span></span><br><span class="line">      margin: 100px auto;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- js 实现自动打字效果 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"divTyping"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> str = <span class="string">"js 实现自动打字效果  的简单实现"</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> i = <span class="number">0</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">typing</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> divTyping = <span class="built_in">document</span>.getElementById(<span class="string">"divTyping"</span>);</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">if</span> (i &lt;= str.length) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// str.slice(start, end) 切片函数，切取数组中的从start到end的字符串，不修改原数组</span></span></span><br><span class="line"><span class="actionscript">        <span class="comment">// start 参数必须要有，end 可以没有，默认数组最后一个</span></span></span><br><span class="line"><span class="actionscript">        divTyping.innerHTML = str.slice(<span class="number">0</span>, i++) + <span class="string">"_"</span>;</span></span><br><span class="line"><span class="actionscript">        setTimeout(<span class="string">"typing()"</span>, <span class="number">200</span>); <span class="comment">// 递归调用</span></span></span><br><span class="line"><span class="actionscript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">        divTyping.innerHTML = str; <span class="comment">// 结束打字，移除光标</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="comment">// 该函数实际上不是一个个输出，只是后面的长度多一的字符串覆盖前面的字符串</span></span></span><br><span class="line">    typing();</span><br><span class="line"><span class="actionscript">    <span class="comment">//typing1();</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>2019年9月25日更新：</p><p>添加测试地址：<a href="https://codepen.io/yansheng836/pen/BaBbxpJ" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/BaBbxpJ</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse出现An error has occurred,See error log for more details错误的解决办法</title>
      <link href="/article/15e9083f.html"/>
      <url>/article/15e9083f.html</url>
      
        <content type="html"><![CDATA[<p>针对Eclipse和MyEclipse，分别给出了不同的解决方法。</p><a id="more"></a><p>问题描述：运行MyEclipse出现如下所示错误：</p><p><span style="color:#f33b45;">An error has occurred. See error log for more details. Path for IClasspathEntry must be absolute: MYECLIPSE_LIB_HOME/EE_6/bean-validator.jar</span></p><p>以下是我找到的一位博主的文章，顺利解决这个问题（原文：<a href="https://blog.csdn.net/majishushu/article/details/75817398" target="_blank" rel="noopener">An error has occurred,See error log for more details 错误解决办法</a>）</p><blockquote><p>一：eclipse出现这个错误大多都是因为缓存造成的</p><p>方法1. 在&quot;开始&quot;–&gt;“运行”----&gt;打入&quot;cmd&quot;进入命令提示行后,再进入eclipse的安装目录，然后输入<code>eclipse -clean</code> 即可（我用的这个方法 成功了）</p><p>方法2. 删除configuration文件夹里除<code>config.ini</code>以外的所有文件，重启Eclipse。</p><p>二：解决MyEclipse则变为：</p><p>在命令行下执行 <code>Myeclipse.exe -clean</code>对缓存进行清理。</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java对象序列化为什么要使用SerialversionUID</title>
      <link href="/article/94329ebc.html"/>
      <url>/article/94329ebc.html</url>
      
        <content type="html"><![CDATA[<p>文章主要内容：1、首先谈谈为什么要序列化对象？2、为什么要使用SerialversionUID呢？</p><a id="more"></a><p>编写servlet时，自定义了方法，删除了 private static final long serialVersionUID = 1L; 就经常会有警告如下：</p><blockquote><p>The serializable class AddCustomerServlet does not declare a static final serialVersionUID field of type long</p></blockquote><p>看完这篇文章，我觉得还是加上去比较好点。</p><p>转自：<a href="https://me.csdn.net/java_mdzy" target="_blank" rel="noopener">GraceJava</a><span style="color:#4f4f4f;">的</span><a href="https://blog.csdn.net/java_mdzy/article/details/78354959" target="_blank" rel="noopener">Java对象序列化为什么要使用SerialversionUID</a></p><hr><h2 id="1-首先谈谈为什么要序列化对象">1、首先谈谈为什么要序列化对象</h2><p>把对象转换为字节序列的过程称为对象的序列化。</p><p>对象的序列化主要有两种用途：<br>1） 把对象的字节序列永久地保存到硬盘上，通常存放在一个文件中；<br>2） 在网络上传送对象的字节序列。</p><p>在很多应用中，需要对某些对象进行序列化，让它们离开内存空间，入住物理硬盘，以便长期保存。比如最常见的是Web服务器中的Session对象，当有10万用户并发访问，就有可能出现10万个Session对象，内存可能吃不消，于是Web容器就会把一些seesion先序列化到硬盘中，等要用了，再把保存在硬盘中的对象还原到内存中。</p><p>当两个进程在进行远程通信时，彼此可以发送各种类型的数据。无论是何种类型的数据，都会以二进制序列的形式在网络上传送。发送方需要把这个Java对象转换为字节序列，才能在网络上传送；接收方则需要把字节序列再恢复为Java对象。</p><h2 id="2-为什么要使用serialversionuid呢">2、为什么要使用SerialversionUID呢</h2><p>简单看一下 <strong>Serializable</strong>接口的说明：</p><p>If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java™ Object Serialization Specification.</p><p>如果用户没有自己声明一个serialVersionUID，接口会默认生成一个serialVersionUID。</p><p>However, it is <em>stronglyrecommended</em> that all serializable classes explicitly declareserialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected<code>InvalidClassException</code>s during deserialization.</p><p>但是强烈建议用户自定义一个serialVersionUID,因为默认的serialVersinUID对于class的细节非常敏感，反序列化时可能会导致InvalidClassException这个异常。</p><h3 id="e-g-1-使用默认的serialversionuid">e.g:1.使用默认的serialVersionUID</h3><p>我们先建一个实体类Person 实现Serializable接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后去序列化和反序列化它：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPersonSerialize</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        serializePerson();</span><br><span class="line">        Person p = deserializePerson();</span><br><span class="line">        System.out.println(p.getName()+<span class="string">";"</span>+p.getAge());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">serializePerson</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException,IOException </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        person.setName(<span class="string">"测试实例"</span>);</span><br><span class="line">        person.setAge(<span class="number">25</span>);</span><br><span class="line">        person.setSex(<span class="string">"male"</span>);</span><br><span class="line"></span><br><span class="line">        ObjectOutputStream oo = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(</span><br><span class="line">                <span class="keyword">new</span> File(<span class="string">"E:/person.txt"</span>)));</span><br><span class="line">        oo.writeObject(person);</span><br><span class="line">        System.out.println(<span class="string">"序列化成功"</span>);</span><br><span class="line">        oo.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Person <span class="title">deserializePerson</span><span class="params">()</span> <span class="keyword">throws</span> IOException, Exception </span>&#123;</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(<span class="string">"E:/person.txt"</span>)));</span><br><span class="line">        Person person = (Person) ois.readObject();</span><br><span class="line">        System.out.println(<span class="string">"反序列化成功"</span>);</span><br><span class="line">        <span class="keyword">return</span> person;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果如图：</p><p><img src="https://img-blog.csdn.net/20171026155003532?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamF2YV9tZHp5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p><h3 id="e-g-2-如果我们先尽心序列化-然后在反序列化之前修改了person类会怎样呢？">e.g:2 如果我们先尽心序列化，然后在反序列化之前修改了Person类会怎样呢？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://img-blog.csdn.net/20171026155406311?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamF2YV9tZHp5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图到底片描述"></p><h3 id="e-g-3-在person类中加入自定义serialversionuid：">e.g:3 在Person类中加入自定义SerialversionUID：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">5809782578272943999L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不管我们序列化之后如何更改我们的Person（不删除原有字段），最终都可以反序列化成功。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java基础 </tag>
            
            <tag> 序列化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>No grammar constraints (DTD or XML schema)两种解决方法</title>
      <link href="/article/4c29c75f.html"/>
      <url>/article/4c29c75f.html</url>
      
        <content type="html"><![CDATA[<p>用MyEclipse写web项目，web.xml 文件会提示这个警告，找了篇文章解决了，推荐一下。</p><a id="more"></a><h3 id="方法一：常用方法：关闭xml验证">方法一：常用方法：关闭XML验证</h3><p>工具栏：windows =&gt; preferences =&gt; xml =&gt; xml files =&gt; validation =&gt; Indicate when no grammar is specified:选择Ignore即可。</p><h3 id="方法二：-个人推荐">方法二：（个人推荐）</h3><p>添加 内容如下</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/2002/xmlspec/dtd/2.10/xmlspec.dtd"&gt;</span></span><br></pre></td></tr></table></figure><hr><p>转自：<a href="https://me.csdn.net/Xwin1989" target="_blank" rel="noopener">xwin1989</a>的<a href="https://blog.csdn.net/xwin1989/article/details/6754790" target="_blank" rel="noopener">No grammar constraints (DTD or XML schema)…两种解决方法</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS实现（form）显示密码功能</title>
      <link href="/article/bf7b071a.html"/>
      <url>/article/bf7b071a.html</url>
      
        <content type="html"><![CDATA[<p>感觉挺简单的，直接上代码吧，看完应该就理解了。</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">账号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">onchange</span>=<span class="string">"show_pwd()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">""</span> /&gt;</span>显示密码</span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> pwd  = <span class="built_in">document</span>.getElementById(<span class="string">"password"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">show_pwd</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span>(pwd.type == <span class="string">"password"</span>)&#123;</span></span><br><span class="line"><span class="actionscript">pwd.type = <span class="string">"text"</span>;<span class="comment">// 改变input的属即可实现</span></span></span><br><span class="line"><span class="actionscript">&#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">pwd.type = <span class="string">"password"</span>;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>补充：</p><p>1.设置 label 标签是为了点击文字时，也会勾选CheckBox。<br>2.label  里面的事件还可以用onclick事件。</p><p>说明：这里只是介绍了一种方法，可能有多种方法可以实现该功能，可以自行发掘。</p><hr><p>2019年9月26日更新：</p><p>添加测试网址：<a href="https://codepen.io/yansheng836/pen/WNemJEK" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/WNemJEK</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决Eclipse和MyEclipse在编辑html,jsp等页面时，自动格式化，格式变丑的问题</title>
      <link href="/article/da4a94a7.html"/>
      <url>/article/da4a94a7.html</url>
      
        <content type="html"><![CDATA[<p>在Eclipse和MyEclipse写JAVA代码时中使用ctrl+shift+f 快捷键自动排版省时又省力,排版后的代码规范美观又层次性,但在我们写jsp或html代码时,使用这个快捷键排版简直奇丑无比了。进来看看我是怎么处理的？</p><a id="more"></a><p>如下图</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltYWdlcy5jbml0YmxvZy5jb20vYmxvZy81MzQ2NTIvMjAxNTAxLzExMTY0MTMwMjAzNjc2NC5wbmc?x-oss-process=image/format,png" alt></p><p>一行同时显示多个标签，并且代码只要长点就会自动分行。这在我们调试的过程中中是极不方便的，那么我们应该怎样做呢？难道必须自己手动排版吗？</p><p>我们有两点要求：</p><p><span style="color:#f33b45;">1  是希望一行只显示一个标签</span></p><p><span style="color:#f33b45;">2  是希望长点的代码能不被分行</span></p><h2 id="解决方法">解决方法</h2><h3 id="在myeclipse中是这样解决的：">在MyEclipse中是这样解决的：</h3><p>点击 myeclipse菜单栏的 window选项卡，找到下拉 perferences 选项 , 在里面快捷 “搜索” 框里面输入 html  ，如下图</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltYWdlcy5jbml0YmxvZy5jb20vYmxvZy81MzQ2NTIvMjAxNTAxLzExMTcwOTM2NTQ2NDkxMC5wbmc?x-oss-process=image/format,png" alt></p><p>在 数字3   那里 的  line - width 是设置当前行里面有多少字符时，就换行。这个数字随意，这里以100为例。</p><p>接下来在  数字 4 那里（即 inline Elements 中的你希望一行显示一个标签的元素删除掉） 移除，一般是 a , li  ，label , input ,select,dl ,div等这些常用 嵌套 其他标签的的标签。</p><p>完成之后单击OK，之后在要格式的的jsp或html等页面中，如果想格式化整个个页面 ctrl  + A 全选页面之后按下 ctrl + shift + F,就可以进行整个页面格式化了。如果不全选，默认按下ctrl + shift + F 是格式化当前正在编辑的整个页面。</p><p>如果想局部格式化，则用鼠标选中要格式化的部分，按下 ctrl + shift + F 即可。</p><p>大功告成之后是这样的效果：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltYWdlcy5jbml0YmxvZy5jb20vYmxvZy81MzQ2NTIvMjAxNTAxLzExMTcxNDU3MzQzOTE3MS5wbmc?x-oss-process=image/format,png" alt></p><hr><h3 id="在eclipse中是这样解决的：">在Eclipse中是这样解决的：</h3><p>点击 eclipse菜单栏的 window选项卡，找到下拉 perferences 选项 , 在里面快捷 “搜索” 框里面输入 html</p><p>如图所示：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltYWdlcy5jbml0YmxvZy5jb20vYmxvZy81MzQ2NTIvMjAxNTAxLzExMTY0ODIzODc1NDI4NS5wbmc?x-oss-process=image/format,png" alt></p><p>在 数字 3   那里 的  line - width 是设置当前行里面有多少字符时，就换行。这个数字随意，这里以100为例。</p><p>接下在在  数字 4 那里（即 inline Elements 中的你希望一行显示一个标签的元素删除掉） 移除，一般是 a , li  ，label , input ,select,dl ,div等这些常用 嵌套 其他标签的的标签。</p><p>完成之后单击OK，之后在要格式的的jsp或html等页面中，如果想格式化整个个页面 ctrl  + A 全选页面之后按下 ctrl + shift + F,就可以进行整个页面格式化了。如果不全选，默认按下ctrl + shift + F 是格式化当前正在编辑的整个页面。</p><p>如果想局部格式化，则用鼠标选中要格式化的部分，按下 ctrl + shift + F 即可。</p><p>大功告成之后是这样的效果：</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltYWdlcy5jbml0YmxvZy5jb20vYmxvZy81MzQ2NTIvMjAxNTAxLzExMTcwNjQzMDkzMjc2OC5wbmc?x-oss-process=image/format,png" alt></p><p>参考了部分 <a href="http://124654439.iteye.com/blog/2174145" target="_blank" rel="noopener">http://124654439.iteye.com/blog/2174145</a></p><hr><p>转自：<a href="https://me.csdn.net/KuangYeYaZi" target="_blank" rel="noopener">狂野鸭子</a>的<a href="https://blog.csdn.net/sosous/article/details/43018171" target="_blank" rel="noopener">文章</a>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse自动导包设置</title>
      <link href="/article/eba36ee6.html"/>
      <url>/article/eba36ee6.html</url>
      
        <content type="html"><![CDATA[<p>有些时候可能会去网上拷贝一些代码，但是不知道怎么导包，也许这篇文章会对你有所帮助！自动导包快捷键：<code>Ctrl+Shift+O</code>。</p><a id="more"></a><h3 id="1-自动导包快捷键：ctrl-shift-o">1.自动导包快捷键：Ctrl+Shift+O</h3><h3 id="2-自动导包设置：">2.自动导包设置：</h3><p>Window–&gt;Preferences–&gt;Java–&gt;Editor–&gt;Save Actions–&gt;Oraganize imports–&gt;Apply–&gt;OK</p><p><img src="https://img-blog.csdnimg.cn/20181201163219330.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>注：<br>当有多个包都含有同一个类时，会让你选择导入哪个包；有些时候自动导包可能也会有错误，最好自己检查一下。</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse报错：Multiple markers at this line - The type java.io.ObjectInputStream cannot be resolved.</title>
      <link href="/article/5278e6a4.html"/>
      <url>/article/5278e6a4.html</url>
      
        <content type="html"><![CDATA[<p>出错原因：网上查了以后，说是因为JDK版本太高的问题，修改对应jdk版本即可。</p><a id="more"></a><h3 id="1-出错原因">1.出错原因</h3><p>网上查了以后，说是因为JDK版本太高的问题，修改对应jdk版本即可。</p><h3 id="2-修改">2.修改</h3><p>window-&gt;preference-&gt;Java-&gt;Installed JREs-&gt;选择低版本的JDK-&gt;ok。</p><p>ps:这里由于我只装了JDK1.8，所以选择可以MyEclipse自己的JDK（即Sun JDK 1.6.0_13）</p><p><img src="https://oss.yansheng.xyz/picgo/20161122102323468.jpg" alt></p><h3 id="3-小结">3.小结</h3><p>版本兼容问题。</p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio 2017安装和使用教程（详细）</title>
      <link href="/article/31c4ae4.html"/>
      <url>/article/31c4ae4.html</url>
      
        <content type="html"><![CDATA[<p>我一开始装的是VS2013，但是后来装了个插件后，突然就崩了，然后重装也没用，没办法只能选择VS2017了，我是看着这边文章装的，感觉受益匪浅，分享一下。</p><a id="more"></a><p><strong>VS2017如此强大，不仅仅是C语言，Python，ios，Android，Web，Node.js，Azure，Unity，JavaScript等开发都可以执行，大家快来使用呀~</strong></p><hr><p>博主最近想要改变vs2017的安装组件等部分，但是却遇到了无法进入安装界面的问题，可以说是因为C盘搬移而构建的软链接失效引起的，有兴趣的朋友不妨看看，博主已经解决了这个问题：<a href="https://blog.csdn.net/qq_36556893/article/details/81386139" target="_blank" rel="noopener">vs2017 因软链接失效而无法进入安装界面的解决方法</a>。</p><p>博主也在安装步骤中构建软链接的内容里添加了<a href="https://blog.csdn.net/qq_36556893/article/details/79430133#(2)%E8%BE%83%E6%96%B0%E7%9A%84%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F%E7%89%88%E6%9C%AC%EF%BC%9A" target="_blank" rel="noopener">关于vs2017不能更改SDK文件安装位置的解决方案</a>，希望对大家有所帮助。</p><p>本文网址：<a href="https://blog.csdn.net/qq_36556893/article/details/79430133" target="_blank" rel="noopener">vs2017安装和使用教程（详细）</a></p><h2 id="一-官网下载">一、官网下载</h2><p>1.下载网址：<a href="https://www.microsoft.com/zh-cn/" target="_blank" rel="noopener">微软官网</a></p><p>2.官网首页</p><p><img src="https://oss.yansheng.xyz/picgo/20180302195115200.jpg" alt></p><p>3.选择菜单栏最右边的更多，在“Developer &amp; IT”下拉一栏选择“Visual Studio”进入</p><p><img src="https://oss.yansheng.xyz/picgo/20180302195220816.jpg" alt></p><p>4.进入之后是这个界面，如果不想从官网进入也可以直接进入这个网址：<a href="https://www.visualstudio.com/zh-hans/?rr=https%3A%2F%2Fwww.microsoft.com%2Fzh-cn%2F" target="_blank" rel="noopener">vs首页</a></p><p><img src="https://oss.yansheng.xyz/picgo/20180302195510768.jpg" alt></p><p>5.选择左边中间的Visual Studio IDE，下载Windows版（博主的是windows版），选择免费的Community 2017，会开始自动下载</p><p><img src="https://oss.yansheng.xyz/picgo/20180302195629795.jpg" alt></p><p>6.进入这个界面可以手动下载（如果不能自动下载的话）</p><p><img src="https://oss.yansheng.xyz/picgo/20180302195813990.jpg" alt></p><h2 id="二-安装">二、安装</h2><p>1.点击下载程序，会显示这个界面</p><p><img src="https://oss.yansheng.xyz/picgo/20180302212518597.jpg" alt></p><p>2.改变位置，不想装到C盘的话可以这么做，但是系统驱动器还是会装在C盘，我们无法改变它，但是可以添加一个链接，让系统那些东西不全都装在C盘，而是装在别的盘，但是不会认为有错（<strong>C盘够地且嫌麻烦的可以忽略此步骤~~<em>点击这里</em></strong><u><a href="https://blog.csdn.net/qq_36556893/article/details/79430133#4.%E6%88%91%E4%BB%AC%E5%86%8D%E9%80%89%E6%8B%A9%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E5%AE%89%E8%A3%85%E7%9A%84%E4%B8%9C%E8%A5%BF%EF%BC%8C%E7%A1%AE%E8%AE%A4%E5%A5%BD%E5%90%8E%E7%82%B9%E5%87%BB%E5%AE%89%E8%A3%85" target="_blank" rel="noopener"><strong>直接跳到第4步</strong></a></u>）</p><p><img src="https://oss.yansheng.xyz/picgo/20180302212732576.jpg" alt></p><p>3.转移安装的位置的方法</p><p>(1)<strong>早期的安装程序版本</strong>：</p><p>我们会发现运行安装程序开始到这个界面会生成一个文件夹，是<code>C:\ProgramData\Microsoft\VisualStudio\Packages</code>，如果你勾选的东西越多，C盘会没有空间的，因此必须要修改安装的路径，可以添加一个链接链接到这个文件夹，防止全部安装在C盘。这里博主只是将<strong>安装包文件夹</strong>Packages进行了搬移，如果想搬移在C盘的其他文件夹就需要多次执行该步骤。</p><p>具体步骤（博主自己的，大家可以根据具体情况而定）：</p><p>①如果在没有构建软链接的情况下就执行安装程序，就会在C盘生成Packages文件夹，因此已经执行了安装程序的朋友们需要删除刚才生成的Packages文件夹，在其它位置新建一个文件夹（博主的是vs2017_system_driver）</p><p>②管理员身份打开cmd，输入以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklink /D C:\ProgramData\Microsoft\VisualStudio\Packages G:\vs2017_system_driver</span><br></pre></td></tr></table></figure><p>（其实这里的名字取得不当，因为只是搬移了安装包，所以博主后来认为vs2017_Packages更好）</p><p><img src="https://oss.yansheng.xyz/picgo/20180302213733635.jpg" alt></p><p>③之后运行安装程序，此时分别在C盘和G盘对应位置生成了一个文件夹_bootstrapper，可以看到C盘的Packages有一个小箭头显示，说明链接成功</p><p><img src="https://oss.yansheng.xyz/picgo/20180302214318602.jpg" alt></p><p>（其实_bootstrapper这个文件夹也可以进行以上搬移操作）</p><p><img src="https://oss.yansheng.xyz/picgo/20180302214245245.jpg" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20180302214431595.jpg" alt></p><p>如果无法进入安装界面，很可能是因为软链接失效所致，请看博主的解决方法：<a href="https://blog.csdn.net/qq_36556893/article/details/81386139" target="_blank" rel="noopener">vs2017 因软链接失效而无法进入安装界面的解决方法</a></p><p>(2)<strong>较新的安装程序版本</strong>：</p><p>①现在的vs2017安装程序可以<strong>选择安装位置</strong>了，但是可能会有<strong>SDK</strong>还是会装在C盘的问题。和之前版本对安装包构建软链接一样，我们<strong>同样</strong>可以对SDK的文件夹进行<strong>相同</strong>的操作，<strong>防止其装在C盘</strong></p><p><img src="https://oss.yansheng.xyz/picgo/20181020214854748.jpg" alt></p><p>②我们可以进入SDK的文件夹，默认路径是：<code>C:\Program Files (x86)\Microsoft Visual Studio\Shared</code></p><p><img src="https://oss.yansheng.xyz/picgo/20181020215832158.jpg" alt></p><p>③把这个SDK文件夹移动到别的盘，例如博主这里移到了H盘</p><p><img src="https://oss.yansheng.xyz/picgo/20181020220624847.jpg" alt></p><p>④之后还是一样的步骤，构建这个SDK文件夹的软链接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklink /D <span class="string">"C:\Program Files (x86)\Microsoft Visual Studio\Shared"</span> <span class="string">"H:\Shared"</span></span><br></pre></td></tr></table></figure><p><img src="https://oss.yansheng.xyz/picgo/20181020221327668.jpg" alt></p><p>注意由于**（x86）<strong>在命令行输入的问题，需要在这两个关联的</strong>文件夹前后<strong>加上</strong>引号“”，<strong>否则cmd会提示</strong>命令语法不正确！**</p><p>⑤同样的，我们可以看到在C盘的Shared文件夹上有个小箭头，说明链接成功</p><p><img src="https://oss.yansheng.xyz/picgo/20181020221848960.jpg" alt></p><p>4.我们再选择自己想要安装的东西，确认好后点击安装</p><p><img src="https://oss.yansheng.xyz/picgo/20180302214633450.jpg" alt></p><h2 id="三-等待安装">三、等待安装</h2><p>1.等待界面</p><p><img src="https://oss.yansheng.xyz/picgo/20180302214800732.jpg" alt></p><p><img src="https://oss.yansheng.xyz/picgo/20180302215900899.jpg" alt></p><p>2.完成获取包</p><p><img src="https://oss.yansheng.xyz/picgo/20180302223452585.jpg" alt></p><p>3.安装完成</p><p><img src="https://oss.yansheng.xyz/picgo/2018030222544450.jpg" alt></p><h2 id="四-启动">四、启动</h2><p>1.提示登陆，我选择直接跳过，来到这个界面，选择自己喜欢的样式</p><p><img src="https://oss.yansheng.xyz/picgo/2018030223131065.jpg" alt></p><p>2.第一次启动会耗时大概10秒</p><p><img src="https://oss.yansheng.xyz/picgo/20180302231439914.jpg" alt></p><p>3.进入主界面</p><p><img src="https://oss.yansheng.xyz/picgo/2018030223160145.jpg" alt></p><h2 id="五-开始自己的第一个程序">五、开始自己的第一个程序</h2><p>承接上面的步骤，在这里博主提供自己的几个样例供大家享用~</p><p>1.博客：<a href="https://blog.csdn.net/qq_36556893/article/details/83177970" target="_blank" rel="noopener">开始自己的第一个C++/C程序</a></p><p>2.博客：<a href="https://blog.csdn.net/qq_36556893/article/details/83178202" target="_blank" rel="noopener">开始自己的第一个MFC程序–对话框示例–整数加法器</a>(内附MFC安装步骤)</p><p>3.博客：<a href="https://blog.csdn.net/qq_36556893/article/details/83714424" target="_blank" rel="noopener">开始自己的第一个Python程序</a></p><p>4.待更新…</p><p>至此vs2017 community版就安装完成了！！</p><hr><p>转自：<a href="https://me.csdn.net/qq_36556893" target="_blank" rel="noopener">蔡铎锋毅</a> 的<a href="https://blog.csdn.net/qq_36556893/article/details/79430133" target="_blank" rel="noopener">vs2017安装和使用教程（详细）</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> C语言 </tag>
            
            <tag> C++ </tag>
            
            <tag> Visual Studio 2017 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio 2017常用快快捷键</title>
      <link href="/article/e983f7d3.html"/>
      <url>/article/e983f7d3.html</url>
      
        <content type="html"><![CDATA[<p>最近上手了Visual Studio2017，挺好用的，就是还不太习惯，所以找了下常用快捷键，转发一下找到的成果……这篇文章里面有很多快捷键，前面是博客试过的比较常用的，后面估计上网上拷贝的。还需要自己去尝试，毕竟好不好用得看个人习惯，用些快捷键用的多了就会得心应手。</p><a id="more"></a><p>最近上手了vs2017，挺好用的，就是还不太习惯，所以找了下常用快捷键，转发一下找到的成果……</p><hr><h2 id="一-vs常用快捷键-这应该是博主已测试过的">一、VS常用快捷键（这应该是博主已测试过的）</h2><h3 id="1-项目相关的快捷键">1、项目相关的快捷键</h3><p><strong>Ctrl + Shift + B</strong> = 生成项目</p><p><strong>Ctrl + Alt + L</strong> = 显示 Solution Explorer（解决方案资源管理器）</p><p><strong>Shift + Alt+ C</strong> = 添加新类</p><p><strong>Shift + Alt + A</strong> = 添加新项目到项目</p><h3 id="2-编辑相关的键盘快捷键">2、编辑相关的键盘快捷键</h3><p><strong>Ctrl + Enter</strong> = 在当前行插入空行</p><p><strong>Ctrl + Shift + Enter</strong> = 在当前行下方插入空行</p><p><strong>Ctrl + 空格键</strong> = 使用 IntelliSense（智能感知）自动完成</p><p><strong>Alt + Shift + 箭头键</strong>(←,↑,↓,→) = 选择代码的自定义部分</p><p><strong>Ctrl + }</strong> = 匹配大括号、括号</p><p><strong>Ctrl + Shift +}</strong> = 在匹配的括号、括号内选择文本</p><p><strong>Ctrl + Shift + S</strong> = 保存所有文件和项目</p><p><strong>Ctrl + K，Ctrl + C</strong> = 注释选定行</p><p><strong>Ctrl + K，Ctrl + U</strong> = 取消选定行的注释</p><p><strong>Ctrl + K，Ctrl + D</strong> = 正确对齐所有代码</p><p><strong>Shift + End</strong> = 从头到尾选择整行</p><p><strong>Shift + Home</strong> = 从尾到头选择整行</p><p><strong>Ctrl + Delete</strong> = 删除光标右侧的所有字</p><h3 id="3-导航相关的键盘快捷键">3、导航相关的键盘快捷键</h3><p><strong>Ctrl +Up/Down</strong> = 滚动窗口但不移动光标</p><p><strong>Ctrl + -</strong> = 让光标移动到它先前的位置</p><p><strong>Ctrl ++</strong> = 让光标移动到下一个位置</p><p><strong>F12</strong> = 转到定义</p><h3 id="4-调试相关的键盘快捷键">4、调试相关的键盘快捷键</h3><p><strong>Ctrl + Alt + P</strong> = 附加到进程</p><p><strong>F10</strong> = 调试单步执行</p><p><strong>F5</strong> = 开始调试</p><p><strong>Shift + F5</strong> = 停止调试</p><p><strong>Ctrl + Alt + Q</strong> = 添加快捷匹配</p><p><strong>F9</strong> = 设置或删除断点</p><h3 id="5-搜索相关的键盘快捷键">5、搜索相关的键盘快捷键</h3><p><strong>Ctrl + K  Ctrl + K</strong> = 将当前行添加书签</p><p><strong>Ctrl + K  Ctrl + N</strong> = 导航至下一个书签</p><p><strong>Ctrl + .</strong> = 如果你键入一个类名如 Collection<string>，且命名空间导入不正确的话，那么这个快捷方式组合将自动插入导入</string></p><p><strong>Ctrl + Shift + F</strong> = 在文件中查找</p><p><strong>Shift  + F12</strong> = 查找所有引用</p><p><strong>Ctrl + F</strong> = 显示查找对话框</p><p><strong>Ctrl + H</strong> = 显示替换对话框</p><p><strong>Ctrl + G</strong> = 跳转到行号或行</p><p><strong>Ctrl + Shift + F</strong> = 查找所选条目在整个解决方案中的引用</p><h2 id="二-vs常用快捷键搜集">二、 VS常用快捷键搜集</h2><p>以下内容来自网络，没有进行一一验证，不同版本VS肯定会有所差别，最常用的也就是打开窗口，代码编辑及调试类的快捷键。</p><h3 id="1-窗口操作快捷键">1、窗口操作快捷键</h3><p>Ctrl+W,W: 浏览器窗口</p><p>Ctrl+W,S: 解决方案管理器</p><p>Ctrl+W,C: 类视图</p><p>Ctrl+W,E: 错误列表</p><p>Ctrl+W,O: 输出视图</p><p>Ctrl+W,P: 属性窗口</p><p>Ctrl+W,T: 任务列表</p><p>Ctrl+W,X: 工具箱</p><p>Ctrl+W,B: 书签窗口</p><p>Ctrl+W,U: 文档大纲</p><p>Ctrl+D,B: 断点窗口</p><p>Ctrl+D,I: 即时窗口</p><p>Ctrl+Tab: 活动窗体切换</p><p>Ctrl+Shift+N: 新建项目</p><p>Ctrl+Shift+O: 打开项目</p><p>Ctrl+Shift+S: 全部保存</p><p>Shift+Alt+C: 新建类</p><p>Ctrl+Shift+A: 新建项</p><h3 id="2-项目快捷键">2、项目快捷键</h3><p>CTRL + SHIFT + B生成解决方案</p><p>CTRL + F7 生成编译</p><p>CTRL + O 打开文件</p><p>CTRL + SHIFT + O打开项目</p><p>CTRL + SHIFT + C显示类视图窗口</p><p>F4 显示属性窗口</p><p>SHIFT + F4显示项目属性窗口</p><p>CTRL + SHIFT + E显示资源视图</p><p>F12 转到定义</p><p>CTRL + F12转到声明</p><p>CTRL + ALT + J对象浏览</p><p>CTRL + ALT + F1帮助目录</p><p>CTRL + F1 动态帮助</p><p>F1 帮助</p><p>SHIFT + F1当前窗口帮助</p><p>CTRL + ALT + F3帮助-搜索</p><p>SHIFT + ALT + ENTER全屏显示</p><p>CTRL + -向后定位</p><p>CTRL + SHIFT + -向前定位</p><p>CTRL + F4关闭文档窗口</p><p>CTRL + PAGE DOWN光标定位到窗口上方</p><p>CTRL + PAGE UP光标定位到窗口下方</p><p>CTRL + F6</p><p>CTRL + TAB下一个文档窗口</p><p>CTRL + SHIFT + F6</p><p>CTRL + SHIFT + TAB上一个文档窗口</p><p>ALT + F6下一个面板窗口</p><p>CTRL + K, CTRL + L取消remark</p><p>CTRL + K, CTRL + C注释选择的代码</p><p>CTRL + K, CTRL + U取消对选择代码的注释</p><p>CTRL + M, CTRL + O折叠代码定义</p><p>CTRL + M, CTRL + L展开代码定义</p><p>CTRL + DELETE删除至词尾</p><p>CTRL + BACKSPACE删除至词头</p><p>SHIFT + TAB取消制表符</p><p>CTRL + U转小写</p><p>CTRL + SHIFT + U转大写</p><p>CTRL + SHIFT + END选择至文档末尾</p><p>CTRL + SHIFT + HOME选择至文档末尾开始</p><p>SHIFT + END选择至行尾</p><p>SHIFT + HOME选择至行开始处</p><p>SHIFT + ALT + END垂直选择到最后尾</p><p>SHIFT + ALT + HOME垂直选择到最前面</p><p>CTRL + A全选</p><p>CTRL + W选择当前单词</p><p>CTRL + SHIFT + PAGE UP选择至本页前面</p><p>CTRL + SHIFT + PAGE DOWN选择至本页后面</p><p>CTRL + END文档定位到最后</p><p>CTRL + HOME文档定位到最前</p><p>CTRL + G转到…</p><p>CTRL + K, CTRL + P上一个标签</p><p>CTRL + K, CTRL + N下一个标签</p><p>ALT + F10调试-ApplyCodeChanges</p><p>CTRL + ALT+ Break停止调试</p><p>CTRL + SHIFT + F9 取消所有断点</p><p>CTRL + F9允许中断</p><p>CTRL + SHIFT + F5调试-重新开始</p><p>F5运行调试</p><p>CTRL + F5运行不调试</p><p>F10跨过程序执行</p><p>F11单步逐句执行</p><p>CTRL + J列出成员</p><p>CTRL + PAGE DOWN下一个视图</p><p>CTRL + B格式-粗体</p><p>CTRL + SHIFT + T格式-文字缩进</p><h3 id="3-调试快捷键">3、调试快捷键</h3><p>F6: 生成解决方案</p><p>Ctrl+F6: 生成当前项目</p><p>F7: 查看代码</p><p>Shift+F7: 查看窗体设计器</p><p>F5: 启动调试</p><p>Ctrl+F5: 开始执行(不调试)</p><p>Shift+F5: 停止调试</p><p>Ctrl+Shift+F5: 重启调试</p><p>F9: 切换断点</p><p>Ctrl+F9: 启用/停止断点</p><p>Ctrl+Shift+F9: 删除全部断点</p><p>F10: 逐过程</p><p>Ctrl+F10: 运行到光标处</p><p>F11: 逐语句</p><h3 id="4-编辑快捷键">4、编辑快捷键</h3><p>Ctrl+E,D ----格式化全部代码</p><p>Ctrl+E,F ----格式化选中的代码</p><p>Shift+Alt+Enter: 切换全屏编辑</p><p>Ctrl+B,T / Ctrl+K,K: 切换书签开关</p><p>Ctrl+B,N / Ctrl+K,N: 移动到下一书签</p><p>Ctrl+B,P: 移动到上一书签</p><p>Ctrl+B,C: 清除全部标签</p><p>Ctrl+I: 渐进式搜索</p><p>Ctrl+Shift+I: 反向渐进式搜索</p><p>Ctrl+F: 查找</p><p>Ctrl+Shift+F: 在文件中查找</p><p>F3: 查找下一个</p><p>Shift+F3: 查找上一个</p><p>Ctrl+H: 替换</p><p>Ctrl+Shift+H: 在文件中替换</p><p>Alt+F12: 查找符号(列出所有查找结果)</p><p>Ctrl+Shift+V: 剪贴板循环</p><p>Ctrl+左右箭头键: 一次可以移动一个单词</p><p>Ctrl+上下箭头键: 滚动代码屏幕，但不移动光标位置。</p><p>Ctrl+Shift+L: 删除当前行</p><p>Ctrl+M,M: 隐藏或展开当前嵌套的折叠状态</p><p>Ctrl+M,L: 将所有过程设置为相同的隐藏或展开状态</p><p>Ctrl+M,P: 停止大纲显示</p><p>Ctrl+E,S: 查看空白</p><p>Ctrl+E,W: 自动换行</p><p>Ctrl+G: 转到指定行</p><p>Shift+Alt+箭头键: 选择矩形文本</p><p>Alt+鼠标左按钮: 选择矩形文本</p><p>Ctrl+Shift+U: 全部变为大写</p><p>Ctrl+U: 全部变为小写</p><h3 id="5-代码快捷键">5、代码快捷键</h3><p>Ctrl+J / Ctrl+K,L: 列出成员</p><p>Ctrl+Shift+空格键 / Ctrl+K,P: 参数信息</p><p>Ctrl+K,I: 快速信息</p><p>Ctrl+E,C / Ctrl+K,C: 注释选定内容</p><p>Ctrl+E,U / Ctrl+K,U: 取消选定注释内容</p><p>Ctrl+K,M: 生成方法存根</p><p>Ctrl+K,X: 插入代码段</p><p>Ctrl+K,S: 插入外侧代码</p><p>F12: 转到所调用过程或变量的定义</p><h3 id="6-单元测试">6、单元测试</h3><p>Ctrl + R , A : 执行所有测试</p><p>Ctrl + R , T : 执行当前所在测试方法</p><p>Ctrl + R , D: 执行最后一次测试的所有测试</p><p>Ctrl + R , F: 执行最后一次测试的所有测试的失败测试</p><hr><p>转自：<a href="https://me.csdn.net/kangluo1" target="_blank" rel="noopener">走在追逐的路上</a>的<a href="https://blog.csdn.net/kangluo1/article/details/78444764" target="_blank" rel="noopener">https://blog.csdn.net/kangluo1/article/details/78444764</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
            <tag> C++ </tag>
            
            <tag> Visual Studio 2017 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML中如何让表格的内容不换行显示</title>
      <link href="/article/470c16c6.html"/>
      <url>/article/470c16c6.html</url>
      
        <content type="html"><![CDATA[<p>在默认情况下，表格的内容可能会换行显示，那如果我们不想它换行显示该怎么办呢？下面将提供两种方法来实现不换行效果。</p><a id="more"></a><p>在默认情况下，表格的内容可能会换行显示，那如果我们不想它换行显示该怎么办呢？下面将提供两种方法来实现不换行效果。</p><h3 id="方法1：为td标签加上nowrap属性">方法1：为td标签加上nowrap属性</h3><p>nowrap  n. 禁止文字自动换行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">nowrap</span>=<span class="string">"nowrap"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">nowrap</span>=<span class="string">"nowrap"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">nowrap</span>=<span class="string">"nowrap"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">nowrap</span>=<span class="string">"nowrap"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>不过有个问题就是：因为这样只能使加了这个属性的表格元素不换行，所以你要每个td都去加这个属性，这样就比较麻烦！！要不然就是你知道那个表格的内容最长，这这个表格里添加，然后撑开，其他就不会有问题了。但是如果不知道哪个最长呢？请看方法2………</p><hr><h2 id="方法2：为td添加样式：white-space-属性">方法2：为td添加样式：white-space 属性</h2><p>该属性指定元素内的空白怎样处理，下图截至w3c：</p><p><img src="https://img-blog.csdnimg.cn/20181116214428179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">td&#123;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个就比较简单了，没有方法1那么麻烦，如果不是全部td都要这样，可以为 td 添加class属性，然后用css类选择器为其添加white-space属性，而不是用（全局的） td 标签选择器。</p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DBMS连接数据库报错Can&#39;t connect to MySQL server on &#39;localhost&#39; 分析及处理</title>
      <link href="/article/c72ae53b.html"/>
      <url>/article/c72ae53b.html</url>
      
        <content type="html"><![CDATA[<h2 id="一-问题描述">一、问题描述</h2><p>MySQL的DBMS软件 sqlyog连接MySQL失败，报错：Can’t connect to MySQL server on ‘localhost’ ，报错截图如下：</p><p><img src="https://img-blog.csdnimg.cn/20181117213735654.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><a id="more"></a><h2 id="二-原因分析">二、原因分析</h2><p>如果之前数据库是正常的，那么出现该问题的原因应该只是没有在连接数据库前没有打开数据库服务，如刚开机就连接数据库，因为相关数据库的服务还没有开启，所以会出现不能连接的错误。这个问题其实普遍存在于各种数据库，可能是数据库服务设置为手动开启，而不是自启；该功能可以进行设置的，详见下面方法2。</p><h2 id="三-解决方法">三、解决方法</h2><h3 id="1-命令行直接开启对应数据库服务">1.命令行直接开启对应数据库服务</h3><p>使用管理员权限开启对应数据库，步骤：按win键，直接输入cmd，以管理员身份运行cmd命令窗口（如下图），</p><p><img src="https://img-blog.csdnimg.cn/20190924235143841.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>输入开启命令，开启对应数据库服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开启SqlServer的服务</span></span><br><span class="line">C:\WINDOWS\system32&gt;net start mssqlserver</span><br><span class="line">SQL Server (MSSQLSERVER) 服务正在启动 ......</span><br><span class="line">SQL Server (MSSQLSERVER) 服务已经启动成功。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启SqlServer的服务</span></span><br><span class="line">C:\WINDOWS\system32&gt;net start mysql</span><br><span class="line">MySQL 服务正在启动 ..</span><br><span class="line">MySQL 服务已经启动成功。</span><br></pre></td></tr></table></figure><p>输入命令后，如果未开启对应服务，则开启；如果已经开启了，就会显示已开启信息。</p><p>类似的停止服务的命令只需要将start换成stop即可，如：<strong>net stop mysql</strong>。</p><p><strong>注意：不使用管理员权限，会拒绝访问</strong></p><p>使用“win+E”开启的cmd命令工具是不使用管理员权限的，显示的开始信息为 <strong>C:\Users\username&gt;</strong>，只是普通的用户权限**；**而按照我上面说的方法开启cmd命令工具是以： <strong>C:\WINDOWS\system32&gt;</strong> 开始，表示对系统所有用户都有效，也就是管理员权限。不使用管理员权限，会拒绝访问，如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\yansheng&gt;net start mysql</span><br><span class="line">发生系统错误 5。</span><br><span class="line"></span><br><span class="line">拒绝访问。</span><br></pre></td></tr></table></figure><h3 id="2-通过-本地服务管理器-开启对应数据库服务">2.通过“本地服务管理器”开启对应数据库服务</h3><p>win+r 打开命令窗口，输入<span style="color:#f33b45;">services.msc</span>，打开本地各项服务管理器，找到MySQL的服务（如下图），右键点击，选启动，等进度条完成，再次连接数据库，就可以了。</p><p><img src="https://img-blog.csdnimg.cn/2019092500115429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>设置服务自启：右键–&gt;属性–&gt;启动类型–&gt;自动。这样下次开机就会自启了，应该就不会出现这种错误了。</p><p><img src="https://img-blog.csdnimg.cn/20190925001524367.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>下面这个是SqlServer的：</p><p><img src="https://img-blog.csdnimg.cn/20190925001756125.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><blockquote><p><strong>注：</strong></p><p>上面的命令中的后缀 <strong>MSC</strong>是Microsoft Management Control的简称， 即微软管理控制台文件。</p><p>可以点击开始/运行,然后输入列文件名就可以打开相应的控制窗口。</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS的display属性</title>
      <link href="/article/e13230a2.html"/>
      <url>/article/e13230a2.html</url>
      
        <content type="html"><![CDATA[<p>我之前想取消几个div之间的换行，于是为其设置了display：inline，然后发现，虽然实现了不换行，但是好像设置的宽高失效了!!! 然后去百度之后我才知道是怎么回事，备份一下，防止忘记。</p><a id="more"></a><p>我重新去认识了下面这几个概念：</p><blockquote><p>1）内联元素：和其他元素都在一行上，元素的高度，宽度及顶部和底部边距不可设置。元素的高度就是它包含的文字或者图片的宽度，不可改变。</p><p>常用行内标签主要有：<code>&lt;a&gt; &lt;span&gt; &lt;br&gt; &lt;i&gt; &lt;em&gt; &lt;strong&gt; &lt;label&gt; &lt;q&gt; &lt;var&gt; &lt;cite&gt; &lt;code&gt;</code></p><p>2）块级元素：每个块级元素都是从新的一行开始，并且其他的元素也是另起一行。元素的高度，宽度，行高以及顶和底边距都可以设置。元素宽度在不设置的情况下，是他本身的父容器的100%（和父元素的宽度一直），除非设定一个宽度。</p><p>常用的块级元素有：<code>&lt;div&gt; &lt;p&gt; &lt;h1&gt; &lt;h6&gt; &lt;ol&gt; &lt;ul&gt; &lt;dl&gt; &lt;table&gt; &lt;address&gt; &lt;blockquote&gt; &lt;form&gt;</code></p><p>3）内联块状元素：和其他元素都在一行上：元素的高度宽度，行高，以及顶部和底部边距都可设置。常用内联块级元素有：<code>&lt;img&gt; &lt;input&gt;</code></p></blockquote><p><strong><span style="color:#f33b45;">display 属性规定元素应该生成的框的类型（可以理解为：让这个元素以什么形式显示）。</span></strong></p><p>其常见属性值有下面这几个：</p><blockquote><p>1）none：元素不会显示，而且该元素的现实空间不会保留。注意一下，类似的visiblity:hidden;是保留元素空间的。</p><p>2）inline：display的默认属性。将元素显示为内联元素，元素前后没有换行符。我们知道内联元素是无法设置宽高的，所以一旦元素的display属性设置成inline，设置属性的宽高是没有用的。此时影响他的高度一般是内部元素的高度font-size和padding。</p><p>3）block：将元素显示为块级元素，元素前后会带有换行符。设置为block后，元素可以设置width和height了，元素独占一行。</p><p>4）inline-block：行内块级元素，这个元素融合了inline和block的特性，他既是内联元素，又可以设置width和height。注：设置成这个属性值，左右会有空隙（即使原来没有设置。）</p></blockquote><hr><p>然后我又去查了下——“将元素设置为内联块级元素”除了可以用<code>display:inline-block</code>，还可以用 <code>float : left / right；position：absolute/fixed</code> 实现。</p><p>2019年9月26日更新：</p><p>添加测试地址：<a href="https://codepen.io/yansheng836/pen/rNBRbmg" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/rNBRbmg</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>共享一些资源，给需要的人于方便</title>
      <link href="/article/6c6b473.html"/>
      <url>/article/6c6b473.html</url>
      
        <content type="html"><![CDATA[<p>在这里共享一些资源，所以资源都统一放在后面的百度网盘中，如果失效，请留言（有些资源有上传到<a href="https://download.csdn.net/user/weixin_41287260/uploads" target="_blank" rel="noopener">CSDN</a>上，如果你有积分，可以光顾下），给需要的人于方便吧。</p><a id="more"></a><h3 id="1-阿里巴巴java开发手册-华山版">1. 阿里巴巴Java开发手册–华山版</h3><p>《阿里巴巴Java开发手册》是阿里内部Java工程师所遵循的开发规范，涵盖编程规约、单元测试规约、异常日志规约、MySQL规约、工程规约、安全规约等，这是近万名阿里Java技术精英的经验总结，并经历了多次大规模一线实战检验及完善。这是阿里回馈给Java社区的一份礼物，希望能够帮助企业开发团队在Java开发上更高效、容错、有协作性，提高代码质量，降低项目维护成本。</p><p><img src="https://img-blog.csdnimg.cn/20190704171751963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>具体介绍可见我的另一篇博文：<a href="https://blog.csdn.net/weixin_41287260/article/details/92185040" target="_blank" rel="noopener">阿里巴巴主导的“华山版《Java 开发手册》”简介</a></p><p>下载：</p><p>1.github上关于该项目的具体介绍，以及获取开发手册PDF获取：<a href="https://github.com/alibaba/p3c#df16beacbb7329409cdcc31730f1eab5-35865f05998e230f30a8ab336991af055a584aa7" target="_blank" rel="noopener">https://github.com/alibaba/p3c</a>。</p><p><img src="https://img-blog.csdnimg.cn/2019071213500446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>2.(如果不懂github的)如果有CSDN积分，可光顾我的上传的资源：<a href="https://download.csdn.net/download/weixin_41287260/11339798" target="_blank" rel="noopener">阿里巴巴Java开发手册</a></p><p><img src="https://img-blog.csdnimg.cn/20190712134834359.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><ol start="3"><li>如果没有积分，在文末的百度网盘中下载。</li></ol><p><img src="https://img-blog.csdnimg.cn/2019071213505561.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2019年7月12日13:30:11修改）</p><h3 id="2-常用正则表达式">2.常用正则表达式</h3><p>多种比较常用的正则表达式。例如：</p><p><span style="color:#000000;">帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：<strong><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>[a-zA-Z0-9_]{4,15}$</strong></span></p><p><span style="color:#000000;">密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：<strong><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>\w{5,17}$</strong></span></p><p><span style="color:#000000;">强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：<em><em>^(?=.</em>\d)(?=.</em>[a-z])(?=.<em>[A-Z]).{8,10}$</em>*</span></p><h3 id="3-spring必备jar包：commons-logging-1-2-bin">3.Spring必备jar包：commons-logging-1.2-bin</h3><ul><li>commons-logging只是一个高层的日志框架，本身没有实现真正的日志能力，它依赖其他的日志系统如log4j或者java本身的java.util.logging。</li><li>可以通过配置文件来设定最终使用log4j还是java.util.logging。没有配置log4j的时候就会调用java.util.logging包</li><li>所以经常看到commons-logging.jar与log4j.jar结合使用。<br><br></li></ul><h3 id="4-w3school网页教程-离线完全版">4.w3school网页教程–离线完全版</h3><p>w3school发布的教程质量还是很不错的，特别是网页相关内容，毕竟人家是最重要的领导者之一。这份资源包是（网页）教程的离线版，内容基本上与http://www.w3school.com.cn/上的内容一致（HTML,HTML5,CSS,CSS3,JS,AJAX,JQuery,PHP,SQL,XML……），不联网也能看。</p><p>CSDN下载：<a href="https://download.csdn.net/download/weixin_41287260/11339869" target="_blank" rel="noopener">w3school网页教程–离线完全版.zip</a></p><p><img src="https://img-blog.csdnimg.cn/20190712135537895.png" alt></p><h3 id="5-文件对比软件：bcompare-zh-4-2-10-23938-exe">5.文件对比软件：BCompare-zh-4.2.10.23938.exe</h3><p>介绍和破解详见：<a href="https://blog.csdn.net/weixin_41287260/article/details/88927174" target="_blank" rel="noopener">文件对比软件 Beyond Compare 4 破解</a></p><h3 id="6-java爬虫-爬取csdn图片">6.Java爬虫-爬取CSDN图片</h3><p>详见：<a href="https://blog.csdn.net/weixin_41287260/article/details/99237875" target="_blank" rel="noopener">用jsoup爬取csdn博客的一些信息</a></p><p>github仓库：<a href="https://github.com/yansheng836/jsoup-crawl-csdn" target="_blank" rel="noopener">https://github.com/yansheng836/jsoup-crawl-csdn</a></p><h3 id="7-java语言程序设计-期末考试试题及答案1-7">7.《JAVA语言程序设计》期末考试试题及答案1-7</h3><p>里面一共有7套试题，内容丰富，涉及知识面广，非常适合期末复习。</p><h3 id="8-为csdn博客生成导航目录的工具">8.为CSDN博客生成导航目录的工具</h3><p>我的博客目录：<a href="https://blog.csdn.net/weixin_41287260/article/details/101735143" target="_blank" rel="noopener">【目录】博客目录 | 先点这里</a>，工具的GitHub仓库：<a href="https://github.com/yansheng836/GCCL" target="_blank" rel="noopener">https://github.com/yansheng836/GCCL</a></p><h3 id="9-由耿祥义-张跃平编著的-java程序设计实用教程-第2版-的书籍的源代码">9.由耿祥义、张跃平编著的《Java程序设计实用教程》（第2版）的书籍的源代码</h3><p>该项目整理了人民邮电出版社出版的、由耿祥义、张跃平编著的《Java程序设计实用教程》（第2版）（ISBN:978-7-115-38417-1）的书籍的源代码。</p><p>详见GitHub仓库：<a href="https://github.com/yansheng836/java-textbook-source" target="_blank" rel="noopener">https://github.com/yansheng836/java-textbook-source</a></p><h3 id="10-由沈泽刚-秦玉平主编的-java-web编程技术-第2版-的书籍的源代码">10.由沈泽刚、秦玉平主编的《Java Web编程技术》（第2版）的书籍的源代码</h3><p>该项目整理了清华大学出版社出版的、由沈泽刚、秦玉平主编的《Java Web编程技术》（第2版）（ISBN:978-7-302-34687-6）的书籍的部分源代码。</p><hr><blockquote><p>链接：<a href="https://pan.baidu.com/s/1piQcQzvUB3gZJnZJNOrOcg" target="_blank" rel="noopener">https://pan.baidu.com/s/1piQcQzvUB3gZJnZJNOrOcg</a> <br><br>提取码：8il9 <br><br>复制这段内容后打开百度网盘手机App，操作更方便哦。</p></blockquote><p>持续更新。</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>a-zA-Z <a href="#fnref1" class="footnote-backref">↩</a></p></li><li id="fn2" class="footnote-item"><p>a-zA-Z <a href="#fnref2" class="footnote-backref">↩</a></p></li></ol></section>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> JavaWeb </tag>
            
            <tag> CSDN资源 </tag>
            
            <tag> 资源下载 </tag>
            
            <tag> 资源分享 </tag>
            
            <tag> 源代码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python pip安装包，发生ConnectTimeoutError错误的解决办法</title>
      <link href="/article/455f5cfb.html"/>
      <url>/article/455f5cfb.html</url>
      
        <content type="html"><![CDATA[<p>Python pip安装包，发生ConnectTimeoutError错误详情：（注：pycharm里面安装第三库也可能会出现这样的错误）</p><a id="more"></a><p>Python pip安装包，发生ConnectTimeoutError错误详情：（注：pycharm里面安装第三库也可能会出现这样的错误）</p><blockquote><p>……（此处略去n个字）</p><p>During handling of the above exception, another exception occurred:</p><p>……（此处略去n个字）</p><p>pip._vendor.requests.packages.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host=‘<a href="http://pypi.python.org" target="_blank" rel="noopener">pypi.python.org</a>’, port=443): Read timed out.</p></blockquote><p>一般情况下pip出现ReadTimeoutError都是因为被GFW给墙了，所以一般遇到这种问题，我们可以选择国内的镜像来解决问题。</p><p><span style="color:#ffbb66;">注：防火长城（英语：Great Firewall (of China)，常用简称：<strong>GFW</strong>，中文也称</span><span style="color:#f33b45;">中国国家防火墙</span><span style="color:#ffbb66;">，中国大陆民众俗称墙、防火墙、功夫网等等），是对中华人民共和国政府在其互联网边界审查系统（包括相关行政审查系统）的统称。</span></p><h3 id="解决方法-使用镜像">解决方法–使用镜像！</h3><h3 id="常用的有镜像有">常用的有镜像有</h3><ul><li>清华大学镜像：<a href="https://pypi.tuna.tsinghua.edu.cn/simple/" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple/</a></li><li>阿里云：<a href="http://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="noopener">http://mirrors.aliyun.com/pypi/simple/</a></li><li>中科大镜像：<a href="https://pypi.mirrors.ustc.edu.cn/simple/" target="_blank" rel="noopener">https://pypi.mirrors.ustc.edu.cn/simple/</a></li><li>豆瓣镜像：<a href="http://pypi.douban.com/simple/" target="_blank" rel="noopener">http://pypi.douban.com/simple/</a></li><li>中科大镜像2：<a href="http://pypi.mirrors.ustc.edu.cn/simple/" target="_blank" rel="noopener">http://pypi.mirrors.ustc.edu.cn/simple/</a></li></ul><blockquote><p>使用镜像的安装范式为：pip install xxxx -i http://… 或者 pip install  -i http://… xxxx。</p><p>示例如下：</p><p><code>pip install imageio -i https://pypi.douban.com/simple</code></p></blockquote><p>也可以参考这个方法： <a href="https://blog.csdn.net/abcabc77777/article/details/53456453" target="_blank" rel="noopener">https://blog.csdn.net/abcabc77777/article/details/53456453</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> pip </tag>
            
            <tag> 防火墙 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于pip安装第三方库，但PyCharm中却无法识别的问题；以及PyCharm安装第三方库的方法解析</title>
      <link href="/article/5cd6aef0.html"/>
      <url>/article/5cd6aef0.html</url>
      
        <content type="html"><![CDATA[<p>你有没有遇到过这样的怪事：“pip安装第三方库，但PyCharm中却无法识别的？”如果有，也许你需要看这篇文章，看完你就会知道pip按照的库在哪里；为什么安装后，PyCharm导入不了；以及PyCharm安装第三方库的方法解析。</p><a id="more"></a><h2 id="一-问题具体描述：">一、问题具体描述：</h2><p>在cmd控制台 pip install xxxx 后并显示安装成功后，并且尝试用cmd 的python 中import xxxx ,没有显示异常，说明这个库是安装成功了的。（这里以安装 virtualenv 为例：）<br><img src="https://img-blog.csdnimg.cn/20190702111719126.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><span style="color:#f33b45;">但是在PyCharm中导库时却出现了问题，会显示该模块不存在！！！</span>（即在一个项目文件中，import一个未安装的第三方库文件，PyCharm会显示波浪线，即表示此库未安装。）</p><p><img src="https://img-blog.csdnimg.cn/20190702113500498.png" alt></p><p>那怎么解呢？下面就来简单分析一下。</p><p>之前有问老师这个问题，老师说这是PyCharm这个软件的bug……然后就没有然后了。那要用这个库怎么办？于是我就自个去琢磨了一下：</p><h2 id="二-解决方法">二、解决方法</h2><h3 id="1-方法一：在pycharm下载第三方库-即把之前下的库作废-这里重新再下一次">1、方法一：在PyCharm下载第三方库（即把之前下的库作废，这里重新再下一次……）</h3><p>1.点击菜单栏File，选择Settings。</p><p><img src="https://img-blog.csdnimg.cn/2019070210584845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>2.选中<span style="color:#f33b45;">当前项目</span>，然后点击右边“+”,添加第三方库</p><p><img src="https://img-blog.csdnimg.cn/2018111114481220.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>3.(1).搜索栏，搜索所需库。(2).查看该库的当前最新版本。(3).如果有需要下载所需版本（因为有些库之间版本要相互匹配的，这里不深究，遇到你就会懂……）(4).点击下载按钮下载</p><p><img src="https://img-blog.csdnimg.cn/20181111145429466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>下载成功：</p><p><img src="https://img-blog.csdnimg.cn/2019070211073695.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>4.回到编辑页面，可以看到，没有错误了，表明已成功导入。</p><p><img src="https://img-blog.csdnimg.cn/20190702110709849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>注：这个可以说是解决了“pip下载成功，pycharm识别不了的问题”，<span style="color:#f33b45;">而且这也是一个完整的pycharm安装第三方库的方法。</span></p><p>但是如果你说你不喜欢用这种方法，就要坚持用 pip 呢？那就接着往下看：</p><h3 id="2-方法二：坚持用pip的方法安装第三方库">2、方法二：坚持用pip的方法安装第三方库</h3><p>1.这里我就新建一个项目：new_project，里面新建一个文件：new_file ；再次导库，如你所见，又出现红色波浪线了，还是识别不了！！！这是怎么回事呢？在上面的方法一中不是已经下载好这个库了吗？！带着疑惑往下看：</p><p><img src="https://img-blog.csdnimg.cn/20190702110642254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>2.点击菜单栏File，选择Settings（和上面一样）：会发现这里的依赖库，空空如也……（奇怪吗？我这前下好的virtualenv 库呢？）</p><p><img src="https://img-blog.csdnimg.cn/20181111152109107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>3.接下里看下这个：project  interpreter(项目解释器，学python还是要了解一下这个东东的！如果不知道解释器是啥意思，那我建议：出门左转找度娘（百度），出门右转找哥哥（谷歌）)。</p><p>这里有两个解释器（为什么下面再详解），一个是该项目目录下的，另一个是python安装目录下的（注：我的python安装路径为：G:\python-3.7.1），新建项目，好像默认是用该项目目录下的解释器的（当然这个设置在新建项目时是可以修改的，这里只讲默认的），<span style="color:#f33b45;">我们应该把这个改成python安装目录下的解释器。</span></p><p><img src="https://img-blog.csdnimg.cn/20190702110501158.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>4.改完后：一大波之前下载过的第三方库全出来了，（注意看最后一个是刚下载的库virtualenv ），OK，问题完美解决！！！</p><p><img src="https://img-blog.csdnimg.cn/20190702110358311.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20190702110545532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>5.那为什么要这样呢？我们一起来具体分析下：<span style="color:#f33b45;">这就涉及到pip install 安装路径问题</span>（见下文……）</p><h2 id="span-style-color-f33b45-三-扩展延伸-pip-install-安装路径问题-span"><span style="color:#f33b45;">三、扩展延伸——pip install 安装路径问题</span></h2><p>1.注：我的python安装路径为：<span style="color:#f33b45;">G:\python-3.7.1</span>，而“python.exe”（python解释器）文件也在该目录下：</p><p><img src="https://img-blog.csdnimg.cn/20190702111121186.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><ol start="2"><li>windows下python的pip install 安装路径为：<span style="color:#f33b45;">G:\python-3.7.1</span><span style="color:#3399ea;">\Lib\site-packages</span>，这里面放的都是下载的第三方库。(可以看到最后面两个，就是我之前用cmd下载的库virtualenv)</li></ol><p><img src="https://img-blog.csdnimg.cn/2019070211120012.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>3.（1).接下来看下：项目路径：<span style="color:#f33b45;">G:\Workspaces\python\new_project</span><img src="https://img-blog.csdnimg.cn/20190702111333718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>（2).而新建项目时，pycharm会在该项目里面新建一个解释器（现在应该知道上面为什么会有两个解释器了吧，就是这个原因！！！），该解释器路径：<span style="color:#f33b45;">G:\Workspaces\python\new_project</span><span style="color:#3399ea;">\venv\Scripts</span></p><p><img src="https://img-blog.csdnimg.cn/20190702111407481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>(3).而在 <span style="color:#f33b45;">G:\Workspaces\python\new_project</span><span style="color:#3399ea;">\venv\Lib\site-packages </span>路径下同样是放第三方库的！！！</p><p><img src="https://img-blog.csdnimg.cn/20190702111526289.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><p>4.<span style="color:#f33b45;">那么问题来了，这有“两个解释器，两个第三方库”，具体是要用那个呢？</span></p><p><strong><span style="color:#f33b45;">这个是遵守“就近原则”的！</span></strong></p><p><strong>即：python安装目录解释器就用该目录下的库，项目的解释器就用项目里面的库！</strong></p><p>5.（1）回到之前的问题：“pip成功，pycharm识别不了”，这就是因为新建项目默认解释器是用“项目的解释器”的，但是pip安装的第三方库是在python安装目录下，所以会识别不了。</p><p>（2）在（1）的基础上我们使用方法一安装第三方库，也就是把第三方库下载到项目目录下的第三方库存放目录下（即：<span style="color:#3399ea;">\venv\Lib\site-packages</span>），所以它就可以识别了（但是其实这里下载了两个同样的第三方库了，只是存放路径不同罢了。）</p><p>（3）之前提到的第二种方法，就是修改默认解释器为“python安装目录解释器”，这样它就可以识别pip下载的库了。（个人比较喜欢方法二，不解释……）</p><hr><p>OK，这个问题应该算是解决了，如果有大佬发现其中有错误，可以留言指出，先谢过了！</p><p>2019年7月2日 重新编辑，修改了部分内容。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> PyCharm </tag>
            
            <tag> pip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse断点调试</title>
      <link href="/article/eb192e5.html"/>
      <url>/article/eb192e5.html</url>
      
        <content type="html"><![CDATA[<p>作为开发人员，掌握开发环境下的调试技巧十分有必要。去年就想把关于Eclipse断点调试总结下了，由于对时间的掌控程度仍需极大提高，结果拖到今年才写了此篇博文。关于java调试技术还有很多，如Java Debug Interface等，依据具体项目的需要，还有很多值得去研究和学习的。该博文仅就Eclipse断点调试技巧做下总结，不足够的地方还请大牛们指点。</p><a id="more"></a><h2 id="1-debug视图">1.Debug视图</h2><h3 id="1-1线程堆栈视图">1.1线程堆栈视图</h3><p><img src="https://img-my.csdn.net/uploads/201207/31/1343740050_3302.jpg" alt></p><p>线程堆栈视图表示当前线程的堆栈，从中可以看出在运行哪些代码，并且整个调用过程，以及代码行号。分别介绍一下这几个按钮的含义。从左至右分别为：</p><p>1.表示当前实现继续运行直到下一个断点，快捷键为F8。<br>2.表示打断整个进程<br>3.表示进入当前方法，快捷键为F5。<br>4.表示运行下一行代码，快捷键为F6。<br>5.表示退出当前方法，返回到调用层，快捷键为F7。<br>6.表示返回当前线程堆栈的起始处开始执行。</p><h3 id="1-2变量视图">1.2变量视图</h3><p><img src="https://img-my.csdn.net/uploads/201207/31/1343740282_2117.jpg" alt></p><p>1.为变量名视图，显示当前代码行中所有可以访问的实例变量和局部变量<br>2.显示所有的变量值<br>3.可以通过该窗口来改变变量值</p><h3 id="1-3断点视图">1.3断点视图</h3><p><img src="https://img-my.csdn.net/uploads/201207/31/1343740540_5423.jpg" alt></p><p>1.显示所有断点<br>2.将当前窗口1中选中的端口失效，再次点击启用。<br>3.异常断点</p><p>经常遇见一些异常，然后程序就退出来了，要找到异常发生的地方就比较难了，还好可以打一个异常断点。到了异常的地方，当前线程就挂起。</p><h3 id="1-4表达式视图">1.4表达式视图</h3><p><img src="https://img-my.csdn.net/uploads/201207/31/1343740778_3242.jpg" alt></p><p>表达式视图是Debug过程中较为常用的一个视图，可以对自己的感兴趣的一些变量进行观察，也可以增加一些自己的表达式，也可以查看一行代码的运行结果。<br>1.表达式<br>2.点击此可以新增一个表达式。</p><h2 id="2-断点种类">2.断点种类</h2><h3 id="2-1-方法断点">2.1 方法断点</h3><p>断点大家都比较熟悉，在Eclipse Java 编辑区的行头双击就会得到一个断点，代码会运行到此处时停止。方法断点是打在方法的入口处。</p><p><img src="https://img-my.csdn.net/uploads/201207/31/1343740949_1599.jpg" alt></p><p>方法断点的特别之处在于它可以打在JDK的源码里，由于 JDK 在编译时去掉了调试信息，所以普通断点是不能打到里面的，但是方法断点却可以，可以通过这种方法查看方法的调用栈。</p><h3 id="2-2-条件断点">2.2 条件断点</h3><p>条件断点，顾名思义就是一个有一定条件的断点，只有满足了用户设置的条件，代码才会在运行到断点处时停止。</p><p>在断点处点击鼠标右键，选择最后一个&quot;Breakpoint Properties&quot;。</p><p><img src="https://img-my.csdn.net/uploads/201207/31/1343741195_9615.jpg" alt></p><p>断点属性中有三个选择，启用“Enable”,Hit Count和Conditional中依据我们的需要来选择。</p><p>1）Hit Count 是指定断点处的代码段运行多少次，最典型的就是循环，如果要让一个循环执行10次就线程挂起，则指定Hit Count值为10，那么当前的循环执行到第九次的时候就会挂掉。<br>2）Conditional，顾名思义，就是条件判断，例如我们需要循环变量i==10时，线程挂起，则条件设定为i==10,选择Suspend when “true”。</p><p>那如果上面的Hit Count和Conditional都选择的话，如果表达式和值设置不合理则会实效。如果选择Suspend when value changes，那么可能在Conditional在变量值发生改变的时候就挂起。</p><h3 id="2-3变量断点">2.3变量断点</h3><p>断点不仅能打在语句上，变量也可以接受断点，</p><p><img src="http://dl.iteye.com/upload/attachment/229807/5225f68d-c313-3849-b6c3-b4ed4e4d5d37.jpg" alt></p><p>上图就是一个变量的打的断点，在变量的值初始化，或是变量值改变时可以停止，当然变量断点上也是可以加条件的，和上面的介绍的条件断点的设置是一样的。呵呵，这部分我没去实践，找不到在哪里设置~</p><h3 id="2-4修改变量值">2.4修改变量值</h3><p>修改变量值的情况适用于代码停在断点处，但是传过来的值不正确，那么可以通过修改这个变量值，保证代码走正确的流程；或者是说有一个异常分支老是进不去，能不能调试时改一下条件，看一下异常分支代码是否正确。</p><p>在Debug 视图的 Variables 小窗口中，我们可以在变量上右键，选择&quot;Change Value…&quot; 在弹出的对话框中修改变量的值。</p><p><img src="https://img-my.csdn.net/uploads/201207/31/1343742194_9913.jpg" alt></p><p>或是在下面的值查看窗口中修改，保用Ctr+S保存后，变量值就会变成修改后的新值了。</p><p><img src="https://img-my.csdn.net/uploads/201207/31/1343742276_2904.jpg" alt></p><h3 id="2-5重新调试">2.5重新调试</h3><p>这种调试的回退不是万能的，只能在当前线程的栈帧中回退，也就说最多只能退回到当前线程的调用的开始处。回退时，请在需要回退的线程方法上点右键，选择 “Drop to Frame”</p><p><img src="https://img-my.csdn.net/uploads/201207/31/1343742420_9413.jpg" alt></p><p>关于断点调试，还有异常断点等，已在Dubug视图中提过，还有远程调试的。因为自己没试过，所以期待下次的博文。</p><hr><p>转自：<a href="https://blog.csdn.net/maritimesun/article/details/7815903" target="_blank" rel="noopener">https://blog.csdn.net/maritimesun/article/details/7815903</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> 调试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven的作用</title>
      <link href="/article/be90342d.html"/>
      <url>/article/be90342d.html</url>
      
        <content type="html"><![CDATA[<p>当我第一次搜索Maven的作用到底是什么的时候，一大堆专业词汇冲到我的眼前，例如“项目对象建模”，“Maven和Ant”，“项目生命周期”，“项目依赖管理”。等等等等等我看不懂的字眼。</p><p>通过学习，我告诉大家maven有什么作用。</p><a id="more"></a><h3 id="一-maven的作用：">一、maven的作用：</h3><p>前言： maven项目也是一个项目，类似于javaProject，javaWebProject，就是多了些功能，其他也没啥，所以大家接触的时候不要害怕！</p><p>maven不仅是构建工具，还是一个依赖管理工具和项目信息管理工具；svn和git都是项目的版本控制工具，管的不一样。</p><h4 id="1-帮你下载jar包">1 . 帮你下载jar包</h4><p>maven项目会有一个 pom.xml文件， 在这个文件里面，只要你添加相应配置，他就会自动帮你下载相应jar包，不用你铺天盖地的到处搜索你需要的jar包了。</p><p>下面是示范配置文件pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>exam<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>exam_3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以上主要看的<code>&lt;dependencies&gt;</code>结点里面的内容，里面每配置一个<code>&lt;dependency&gt;</code>，<br><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;</code> <strong>项目名</strong><br><code>&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</code> <strong>项目模块</strong><br><code>&lt;version&gt;3.0.5.RELEASE&lt;/version&gt;</code> <strong>项目版本</strong><br>maven都会通过，项目名-项目模块-项目版本来maven在互联网上的代码库中下载相应jar包。<br>所以这就是maven的功能之一，<strong>帮你下载jar包</strong>。</p><h4 id="2-寻找依赖-帮你下载依赖">2 . 寻找依赖，帮你下载依赖</h4><p>寻找jar包是第一基本功能，寻找依赖在这个是在这个基础上的功能。</p><p>在maven的代码库中，每一个jar包也有自己的 pom.xml文件，而这个文件里面也会有<code>&lt;dependency&gt;</code>配置，什么依赖范围我就不细说了，我想表达的就是，只要你配置的jar包所依赖的其他jar包都会被maven自动下载下来。<br>例如: 你配置了</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>你要maven帮你下载spring-core-2.6.jar包，而这个jar包里面需要用到commons-logging.jar这个包，这叫就依赖，spring-core-2.6.jar依赖于commons-logging.jar。</p><p><strong>这就是maven第二个作用，帮你下载依赖包。</strong></p><h4 id="3-热部署-热编译">3 . 热部署，热编译</h4><p>意思就是，在你web项目已经运行的时候，修改代码的能直接被web服务器所接受，就不需要你 重启服务器了，或者重新部署代码了，而且你可以直接通过maven 打包war或者jar项目。</p><p>我就是大概说了一下maven 的基本作用，里面还有更详细的，想要了解的话，我是看这本书学的《Maven实战》这本书学的，这里分享一下免费电子版，感谢作者：<a href="http://www.infoq.com/cn/minibooks/maven-in-action" target="_blank" rel="noopener">http://www.infoq.com/cn/minibooks/maven-in-action</a></p><h3 id="二-git和maven的对比">二、git和maven的对比</h3><p>很多人应该用过svn cvs之类的代码版本管理工具，git也是其中之一。</p><p>svn和git最大的几个区别要点，svn必须要有服务端，网络能连上服务端才能提交和更新，git不需要，每一台装了git的电脑都是服务端，各台电脑之间可以相互同步和推送，而提交不需要网络就可以提交到本地的git库里。</p><p>这样的好处就是，如果要分享代码，不需要打个压缩包传来传去，也不需要找个服务器搭个svn来共享，现在oschina，csdn等网站都提供了免费的git服务器，大家注册个帐号，提交下去，把地址发给别人就可以了，而免费的svn服务器，几乎是不存在的。       而且svn因为服务端是单一的，一旦服务器坏了，整个版本库的历史记录就没有了，也没法再回滚，git每台电脑都是服务端，只要两台电脑做过同步，任何一台坏了，另一台还保有着所有的历史记录，仍然可以提交更新回滚，不怕代码历史丢失。</p><p>此外，git还有许多强大之处，比如git的分支就比svn的强太多，这些就留给大家摸索吧。</p><p>再说说maven，我们每做一个项目，都要往lib目录扔很多jar包，spring的啊hibernate的啊apache的啊等等，这样就会导致很多包不知从哪个角落下载回来的，名称千奇百怪，版本也不明，项目多了以后还得自己复制来复制去，容易有多种不同版本的包混杂。maven最基本最重要的功能就是管理这些项目间的依赖关系，用一个xml来维护。如果你的工程要用spring，你就在maven的pom.xml里配一下spring的项目名称和版本号，要用其他的也一样。</p><p>得益于maven已经成为java世界的主流工具，绝大部分知名的项目都在maven中央仓库有标准名称，有各种不同的版本存在，你只要配下名称，配下版本号，maven就会自动从网上为你下载jar包并让你的工程依赖上，你的本地硬盘的仓库目录能看到井井有条的你用过的所有第三方项目的jar包和源代码，再也不用去下载那些来路不明的jar包再扔到工程里了，也不用担心写同一个项目的两个人一个用了3.0版的spring，一个用了2.5版的spring，以至搞出莫名其妙的问题。</p><p>有了maven，我们不再需要往git或svn提交jar包，项目库的体积大大减小，下载项目变得快多了。而且只要提交一个pom.xml文件和你的代码，其他人自然也能下载到和你本地一模一样的第三方jar包，下过一次某个jar包以后，其他项目再用同一个jar包时，maven自然会使用本地仓库文件夹里存在的jar包，不需要再次下载，也不会出现很多个拷贝。</p><p>另一个好处是maven的pom.xml任何一个主流ide工具都认识，都可以导入项目，你不用再操心你提交的.project和.settings文件因为别人的eclipse版本和你不同而导不进去，也不用再担心有人用的是别的ide认不得你的eclipse项目元文件，你不需要提交这些和开发工具有关的文件到服务器上了。</p><p>如果我们身处异地，要共同开发或者分享点什么项目，毋庸置疑，maven和git必然是极大提升效率的两大基础利器，希望大家能早日投入精力学会这两个工具，扫除技术沟通的阻碍，不要再停留在史前时代了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS生成项目时报错:“error LNK 1168：无法打开xxxxxx.exe进行写入”</title>
      <link href="/article/20732425.html"/>
      <url>/article/20732425.html</url>
      
        <content type="html"><![CDATA[<p>用vs写c++代码，写完代码生成项目时经常遇到这种情况：“error LNK 1168：无法打开xxxxxx.exe进行写入”。这里有三种方法可参考进行解决，总有一种适合你。</p><a id="more"></a><p>解决办法有三种（前两种治标不治本，第三种办法可以根治）：</p><ol><li>什么都不干，等一会，大概几分钟吧，就可以成功生成了。</li><li>把之前Debug文件夹里生成的.exe文件删掉，就可以成功生成了。</li><li>最根本的办法：打开控制面板-&gt;管理工具-&gt;服务-&gt;启用Application Experience服务。</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL 5.6 for Windows 解压缩版配置安装</title>
      <link href="/article/663da012.html"/>
      <url>/article/663da012.html</url>
      
        <content type="html"><![CDATA[<p>有些事情只有失败过的人才会懂！就比如：不知道怎么装数据库，各种问题多多；然后想重新装，却发现这个“没有装成功的软件”，居然卸载不干净！搞不好搞得系统都出错了！为了避免让你们走我的老路，这里推荐一个安装mysql数据库的经验的网址，很多情况里面都有提到，应该能很轻松的解决安装问题。</p><p>为了避免让你们走我的老路，这里推荐一个安装mysql数据库的经验的网址（这还是后来一朋友推荐的，我一开始就找到该多好啊，突然想哭），<a href="https://jingyan.baidu.com/article/f3ad7d0ffc061a09c3345bf0.html" target="_blank" rel="noopener">MySQL 5.6 for Windows 解压缩版配置安装</a>，很多情况里面都有提到，应该能很轻松的解决安装问题（因为不允许转载，这里就简单的提供个链接吧）。</p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL Server修改表名，字段名，索引名</title>
      <link href="/article/d8614042.html"/>
      <url>/article/d8614042.html</url>
      
        <content type="html"><![CDATA[<p>说实话，感觉SQL Server的资料真的好难找（也有可能是很多人在吐槽的CSDN的搜索功能不够强……），我想找个修改表名的方法，结果找了好久，才找到一个可行的，留个纪念，希望也能够帮到你（多个人转发，搜的概率应该比较大！）。</p><a id="more"></a><h2 id="一-利用alter语句修改？">一、利用ALTER语句修改？</h2><p>alter语句的大概的语法是这样的：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> &lt;表名&gt;</span><br><span class="line">[<span class="keyword">ADD</span> [<span class="keyword">COLUMN</span>] &lt;新列名&gt;&lt;数据类型&gt;[完整性约束]]</span><br><span class="line">[<span class="keyword">ADD</span>  &lt;表级完整性约束&gt;]</span><br><span class="line">[<span class="keyword">DROP</span>[<span class="keyword">COLUMN</span>] &lt;列名&gt; [<span class="keyword">CASCADE</span>|RESTRICT]]<span class="comment">--注意：SqlServer取消了[CASCADE|RESTRICT]这两个项</span></span><br><span class="line">[<span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> &lt;完整性约束名&gt; [<span class="keyword">CASCADE</span>|RESTRICT]]</span><br><span class="line">[<span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> &lt;列名&gt;&lt;数据类型&gt;];</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--准备事例</span></span><br><span class="line"><span class="comment">--Student表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">   (Sno  <span class="built_in">CHAR</span>(<span class="number">9</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    Sname <span class="built_in">CHAR</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    Ssex  <span class="built_in">CHAR</span>(<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="string">'男'</span> <span class="keyword">CHECK</span> (Ssex  <span class="keyword">IN</span> (<span class="string">'男'</span>,<span class="string">'女'</span>)),</span><br><span class="line">    Sage  <span class="built_in">INT</span>, </span><br><span class="line">    Sdept  <span class="built_in">CHAR</span>(<span class="number">20</span>)</span><br><span class="line">   );</span><br><span class="line"><span class="comment">--建立索引</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> Stu_sno <span class="keyword">ON</span> Student(Sno);</span><br><span class="line"></span><br><span class="line"><span class="comment">--看下ALTER能不能满足要求：</span></span><br><span class="line"><span class="comment">--1.修改表名？好像不行！！！</span></span><br><span class="line"><span class="comment">--2.修改字段名？好像也不行！！！</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Student <span class="keyword">rename</span> <span class="keyword">column</span> Sno <span class="keyword">to</span> Stuno;<span class="comment">--报错</span></span><br><span class="line"><span class="comment">--3.修改索引名？好像还是不行！！！</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--那ALTER能干啥呢？</span></span><br><span class="line"><span class="comment">--1.新增列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Student <span class="keyword">ADD</span> S_entrance DATETIME;<span class="comment">--向基本表Student中增加“入学时间”属性列。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--2.新增约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Course <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span>(Cname);<span class="comment">--对Course表，增加课程名称必须取唯一值的约束条件。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--3.修改某字段的数据类型</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Student <span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> Sage <span class="built_in">SMALLINT</span>;<span class="comment">--将Student表中Sage(年龄)的数据类型改为SMALLINT型。</span></span><br></pre></td></tr></table></figure><p>这一波好像不行，达不到我想要的要求，那就接着往下看吧。</p><h2 id="二-调用系统的存储过程修改？">二、调用系统的存储过程修改？</h2><p>先了解下系统存储过程是啥？</p><blockquote><p>存储过程（<strong>Stored Procedure</strong>）是一组为了完成特定功能的SQL语句集合，经编译后存储在数据库中，用户通过指定存储过程的名称并给出参数来执行。</p><p>系统存储过程是系统创建的存储过程，目的在于能够方便的从系统表中查询信息或完成与更新数据库表相关的管理任务或其他的系统管理任务。SQL Server系统的存储过程主要存储在master数据库中，以“sp”下划线开头的存储过程。尽管这些系统存储过程在master数据库中，但我们在其他数据库还是可以调用系统存储过程。有一些系统存储过程会在创建新的数据库的时候被自动创建在当前数据库中。</p></blockquote><p>你可以在这里找到：</p><p><img src="https://img-blog.csdnimg.cn/20190108010453430.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p><h3 id="1-修改表名">1.修改表名</h3><p>该存储过程的定义如下：</p><p><img src="https://img-blog.csdnimg.cn/20190108010407697.png" alt></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改表名</span></span><br><span class="line">EXEC sp_rename @objname = '旧表名', @newname = '新表名'</span><br><span class="line">EXEC sp_rename '旧表名', '新表名'</span><br><span class="line"> </span><br><span class="line"><span class="comment">--例1 把表TABLE1改为TABLE2</span></span><br><span class="line">EXEC sp_rename @objname = 'TABLE1', @newname = 'TABLE2'</span><br><span class="line"> </span><br><span class="line"><span class="comment">--例2（简写）把表TABLE1改为TABLE2</span></span><br><span class="line">EXEC sp_rename 'TABLE1','TABLE2'</span><br></pre></td></tr></table></figure><h3 id="2-修改列名">2.修改列名</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改列名</span></span><br><span class="line">EXEC sp_rename @objname = '表名.旧列名', @newname = '新列名', @objtype = 'column'</span><br><span class="line">EXEC sp_rename '表名.旧列名', '新列名', 'column'</span><br><span class="line"> </span><br><span class="line"><span class="comment">--例1 把表TABLE的列tid改为id</span></span><br><span class="line">EXEC sp_rename @objname = 'TABLE.tid', @newname = 'id', @objtype = 'column'</span><br><span class="line"> </span><br><span class="line"><span class="comment">--例2（简写）把表TABLE的列tid改为id</span></span><br><span class="line">EXEC sp_rename 'TABLE.tid', @newname = 'id', @objtype = 'column'</span><br></pre></td></tr></table></figure><h3 id="3-修改索引名">3.修改索引名</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改索引名</span></span><br><span class="line">EXEC sp_rename @objname = '表名.旧索引名', @newname = '新索引名', @objtype = 'index'</span><br><span class="line">EXEC sp_rename '表名.旧索引名', '新索引名', 'index'</span><br><span class="line"> </span><br><span class="line"><span class="comment">--例1 把表TABLE的列tid改为id</span></span><br><span class="line">EXEC sp_rename @objname = 'TABLE.IDX_TYPE_CODE', @newname = 'IDX_CODE', @objtype = 'index'</span><br><span class="line"> </span><br><span class="line"><span class="comment">--例2（简写）把表TABLE的索引IDX_TYPE_CODE改为IDX_CODE</span></span><br><span class="line">EXEC sp_rename 'TABLE.IDX_TYPE_CODE', 'IDX_CODE', 'index'</span><br></pre></td></tr></table></figure><p>OK可以满足要求。</p><p>部分内容参考：<a href="https://blog.csdn.net/mc_linfen/article/details/82115292" target="_blank" rel="noopener">https://blog.csdn.net/mc_linfen/article/details/82115292</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> SQL Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>详解如何下载JDK和如何配置JDK的环境变量--Windows10</title>
      <link href="/article/b25e3a4.html"/>
      <url>/article/b25e3a4.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章详细介绍了，在Windows10环境下，如何下载JDK和如何配置JDK的环境变量。从介绍、安装到配置环境，以及配置过程的常见问题和解决方法（大多问题应该都可以顺利解决），应有尽有。</p><a id="more"></a><h2 id="一-前言">一.前言</h2><p>jdk配置环境变量对于初学者来说，真的“很难”！你可以从网上直接把别人的路径复制过来，也许你也会出现别人没有出现的诸多问题，说起来都是泪啊！当然我不是不提倡去复制别人的，不会就去学，这种心态很好，可是却被磨掉了！</p><p>下面我就总结一下我在学习java中配置环境变量的一些感悟吧（其中不乏网上找到的内容，不喜勿喷。）</p><h2 id="二-jdk安装">二.jdk安装</h2><p>jdk是oracle的产品，有三个版本：</p><p><span style="color:#7c79e5;">SE(JavaSE)</span>，standard edition，标准版，是我们通常用的一个版本，从JDK 5.0开始，改名为Java SE。</p><p><span style="color:#7c79e5;">EE(JavaEE)</span>，enterprise edition，企业版，使用这种JDK开发J2EE应用程序，从JDK 5.0开始，改名为Java EE。从2018年2月26日开始，J2EE改名为Jakarta EE 。</p><p><span style="color:#7c79e5;">ME(J2ME)</span>，micro edition，主要用于移动设备、嵌入式设备上的java应用程序，从JDK 5.0开始，改名为Java ME。</p><p>没有JDK的话，无法编译Java程序(指java源码.java文件)，如果想只运行Java程序(指class或jar或其它归档文件)，要确保已安装相应的JRE。</p><p>初学者一般用SE版本的，至于具体版本号1.7/1.8这样的就随便选一个就可以（对初学者而言关系不大）。<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">放个官网下载链接</a>，下面这张图是链接里面截的，电脑什么系统就选哪个下载。</p><p><img src="https://img-blog.csdnimg.cn/20181028160916622.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p>这里简单介绍下：JDK(Java Development Kit) 是 Java 语言的软件开发工具包(SDK)。一般下载的安装包都是集成的，安装时都有两个东西要安装的，一个jdk、另一个是jre（Java Runtime Environment，即java运行环境），其实jdk里面就有jre，所以第二个跳出安装提醒的时候，可以选择不安装。如果要安装，不要和jdk装在同一个目录；建议新建一个（java）文件夹，里面新建两个文件夹，分别是jdk 、jre（最好加上版本号），安装在这个目录下。</p><p><span style="color:#f33b45;">注意：要记住你的jdk的安装路径，下面要用到的。</span></p><h2 id="三-教你零基础配置环境变量">三.教你零基础配置环境变量</h2><p>一般常规设置分为3个步骤：配置javahome、path和classpath，下面将逐一讲解。</p><h3 id="1-去哪里设置？">1.去哪里设置？</h3><p>（我的电脑-系统属性-高级系统设置-环境变量-系统变量）或（此电脑-右键-属性-高级系统设置-环境变量-系统变量）</p><p><img src="https://img-blog.csdnimg.cn/20181028153919781.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20181028153931447.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/2018102815393898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20181028153950141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p></p><h3 id="2-怎么设置？-先不讲缘由-后面再讲">2.怎么设置？（先不讲缘由，后面再讲）</h3><h4 id="1-新建java-home">（1）新建JAVA_HOME</h4><p>选择【新建】，在<span style="color:#3399ea;">变量名</span>和<span style="color:#3399ea;">变量值</span>输入框内分别输入（注意是蓝色字体的内容，不要加空格等多余符号进去！）：</p><p><span style="color:#00b0f0;">JAVA_HOME</span>和<span style="color:#3399ea;">F:\Java\jdk1.8.0-144</span></p><p>注意：这个变量值是jdk的安装目录，上面我让你记的那个，这个是我的安装路径。你要复制自己的路径，<span style="color:#f33b45;">注意：强烈建议复制，不能手打，不要太相信自己！</span>不会复制的看下图：</p><p><img src="https://img-blog.csdnimg.cn/2018102816194068.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><h4 id="2-新建classpath">（2）新建CLASSPATH</h4><p>再次选择【新建】，在<span style="color:#3399ea;">变量名</span>和<span style="color:#3399ea;">变量值</span>输入框内分别输入：</p><p><code>CLASSPATH</code>和<br><code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code></p><h4 id="3-新增path">（3）新增path</h4><p>最后找到Path变量，点击编辑，<span style="color:#f33b45;">添加（就是新增的意思，初学者要注意！！！不要动之前里面的环境变量，不然出事后果自负！！！)，</span>下面的内容（分号表示分隔，如果前面有内容，就要加分号分开，最好前后都加上分号）：<code>;%JAVA_HOME%\bin</code></p><h2 id="四-为什么要这样设置？">四.为什么要这样设置？</h2><h3 id="1-java-home环境变量：">1.JAVA_HOME环境变量：</h3><p><span style="color:#f33b45;">它指向jdk的安装目录</span>，Eclipse/NetBeans/Tomcat等软件就是通过搜索JAVA_HOME变量来找到并使用安装好的jdk。是为了方便而设置的。<span style="color:#7c79e5;">因为总是更改系统环境变量（主要是path）设置是很危险的，以后如果安装位置改变了，改一个JAVA_HOME即可达到该三个环境变量的效果。</span></p><h3 id="2-classpath环境变量：">2.CLASSPATH环境变量：</h3><p><span style="color:#f33b45;">作用是指定类搜索路径</span>，要使用已经编写好的类，前提当然是能够找到它们了，JVM就是通过CLASSPATH来寻找类的。我们需要把jdk安装目录下的lib子目录中的<span style="color:#f33b45;">dt.jar 和 tools.jar</span>设置到CLASSPATH中。当然，当前目录<span style="color:#f33b45;">“.”</span>也必须加入到该变量中，也就是让其先搜索当前目录下是否有指定类（学过web开发的应该会有感觉吧），<span style="color:#f33b45;">这个&quot;点&quot;很重要</span>。</p><p>在网上找的资料，一般设置有这几个<span style="color:#f33b45;">rt.jar、 dt.jar 和 tools.jar</span> 。其实对于这个问题大家各持己见，争议也比较大，我也很纠结，反正照着我这样设置肯定是没有问题的！</p><p>下面–引用一大佬的看法以供参考：</p><blockquote><p><a href="https://www.cnblogs.com/jtlgb/p/6039809.html" target="_blank" rel="noopener">JDK中rt.jar、tools.jar和dt.jar作用</a></p><p>dt.jar和tools.jar位于：<code>{Java_Home}/lib/</code>下，而rt.jar位于：<code>{Java_Home}/jre/lib/</code>下,其中：</p><p>rt.jar是JAVA基础类库，也就是你在java doc里面看到的所有的类的class文件<br>dt.jar是关于运行环境的类库</p><p>tools.jar是工具类库,编译和运行需要的都是toos.jar里面的类分别是sun.tools.java.<em>; sun.tols.javac.</em>;</p><p>在Classpath设置这几个变量，是为了方便在程序中 import；Web系统都用到tool.jar。</p><hr><p><strong>1.rt.jar</strong><br>rt.jar 默认就在Root Classloader的加载路径里面的，而在Claspath配置该变量是不需要的；同时jre/lib目录下的其他jar:jce.jar、jsse.jar、charsets.jar、resources.jar都在Root Classloader中。</p><p><strong>2.tools.jar</strong><br>tools.jar 是系统用来编译一个类的时候用到的，即执行javac的时候用到<code>javac XXX.java</code>，实际上就是运行<code>java -Calsspath=%JAVA_HOME%\lib\tools.jar xx.xxx.Main XXX.java</code>，javac就是对上面命令的封装，所以tools.jar 也不用加到classpath里面（不过我一般都加进去了）</p><p><strong>3.dt.jar</strong><br>dt.jar是关于运行环境的类库,主要是swing的包   在用到swing时最好加上。</p></blockquote><hr><blockquote><p>下面–引用另一个观点以供参考：<br><img src="https://img-blog.csdnimg.cn/20181109223259910.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p></blockquote><hr><h3 id="3-path环境变量">3. PATH环境变量:</h3><p><span style="color:#f33b45;">作用是指定命令搜索路径</span>，在命令行下面执行命令如javac编译java程序时，它会到PATH变量所指定的路径中查找看是否能找到相应的命令程序。我们需要把jdk安装目录下的bin目录增加到现有的PATH变量中，bin目录中包含经常要用到的可执行文件如javac/java/javadoc等待，设置好PATH变量后，就可以在任何目录下执行javac/java等工具了。</p><h2 id="五-测试：">五.测试：</h2><p>（Win+R进入命令窗口，输入cmd，按enter，）</p><p>（<span style="color:#f33b45;">注：下面前三个条件必须同时满足算最终配置成功！！</span>）</p><h3 id="1-输入-span-style-color-f33b45-java-version-span-验证-注意中间有空格">1.输入<span style="color:#f33b45;">Java -version</span>验证（注意中间有空格）</h3><p>若出现如下图所示（即出现jdk版本号），则说明安装jdk正确：</p><p><img src="https://img-blog.csdnimg.cn/20181028191127860.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><h3 id="2-输入-span-style-color-f33b45-java-span-验证">2.输入<span style="color:#f33b45;">java</span>验证</h3><p>若出现如下图所示，则正确：</p><p><img src="https://img-blog.csdnimg.cn/20181028191457464.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><h3 id="3-输入-span-style-color-f33b45-javac-span-验证">3.输入<span style="color:#f33b45;">javac</span>验证</h3><p>若如下，则正确：</p><p><img src="https://img-blog.csdnimg.cn/20181028191158846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><h3 id="4-运行第一个java程序-span-style-color-ff0000-span-span-style-color-ff0000-注意区分大小写-span-span-style-color-ff0000-span">4.运行第一个Java程序<span style="color:#ff0000;">（</span><span style="color:#ff0000;">注意区分大小写</span><span style="color:#ff0000;">）</span></h3><blockquote><p>1.新建一个文本文档改名为：HelloWorld.java（注意扩展名为&quot;.java&quot;）</p><p>2.代码内容：</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">     System.out.println(<span class="string">"Hello World！"</span>);</span><br><span class="line"> </span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3.<code>Win+r</code> 打开DOS命令窗口</p><p>运行<code>cmd</code>命令</p><p>运行<code>cd</code> 该文件所在文件夹命令</p><p>运行<code>javac HelloWorld.java</code>命令（注javac为编译命令）</p><p>如果成功，会在该目录下生成<code>HelloWorld.class</code>文件</p><p>运行<code>java HelloWorld</code>命令     （注java为运行命令）</p><p>如果成功，会在屏幕上显示:</p><p><code>Hello World！</code></p></blockquote><p>下面这张图是效果图：</p><p><img src="https://img-blog.csdnimg.cn/20181028195318856.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p>如果电脑不会修改扩展名，请参考下图进行修改：</p><p><img src="https://img-blog.csdnimg.cn/20181028202334131.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20181028202344123.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20181028202358850.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><h2 id="六-常见-奇葩-问题处理方案：">六.常见（奇葩）问题处理方案：</h2><p>一般情况下<code>java -version</code> 都可以出来jdk版本号，但是后面问题就很多了！</p><p><span style="color:#f33b45;">提别提醒：</span>如果出错了，<span style="color:#f33b45;">每次修改后</span>，都要退出关闭cmd命令窗口，重新进入再验证，这样才有效！！</p><h3 id="1-span-style-color-f33b45-出现错误-特别注意一下几点：-span">1.<span style="color:#f33b45;">出现错误，特别注意一下几点：</span></h3><p><span style="color:#f33b45;">（1）配置环境时，分号是英文的。（2）路径尽量复制，不要自己手打。（3）JAVA_HOME等的大小写是否一致。</span></p><h3 id="2-输入java测试时-提示：-java-不是内部或外部命令">2.输入java测试时，提示：‘JAVA’ 不是内部或外部命令</h3><p>一般是path没有配置好，参考解决方法如下，按顺序一个个尝试：</p><p>（1）查看是否符合上述要求。（2）与其他变量分隔要用英文的分号。（3）把java的这个路径移到第一个。<br>（4）把<span style="color:#f33b45;">JAVA_HOME</span>用原路径（这里是：<span style="color:#f33b45;">F:\Java\jdk1.8.0-144</span>）替代。</p><p>以上四种方法一般都可以解决问题，至于为什么要这样，我就不知道了……（捂脸）</p><h3 id="3-输入java运行时-提示：找不到或无法加载主类">3.输入java运行时，提示：找不到或无法加载主类</h3><p>一般是CLASSPATH没有配置好，参考解决方法如下：</p><p>看是否<span style="color:#f33b45;">误把“.;”放在最后面了，把它改在最前面，</span>因为一般情况下.class文件都是生成在.java文件的同一目录下，要先检索当前目录，但是其实方后面也是有效的，那为什么不行呢？至于为什么要这样，我就不知道了……（捂脸）</p><hr><p>（2019年9月4日更新）</p><h2 id="七-关于不同系统的说明">七.关于不同系统的说明</h2><p>因为我的电脑的系统为Windows10，按照这一波操作是可以配置成功的；按理说Windows10应该都使用，如果是Windows7等系统应该也差不多，可参考使用。</p><hr><p>OK，就这么多了，个人拙见，希望能帮到你，如发现有错误，麻烦留言提醒，谢谢。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> Java基础 </tag>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>form表单的onsubmit() return问题</title>
      <link href="/article/a99247f7.html"/>
      <url>/article/a99247f7.html</url>
      
        <content type="html"><![CDATA[<p>HTML表单验证问题：在表单验证失败时，如何阻止表单提交？这就是这篇博客谈论的主题。看完也许你就会有思路了。</p><a id="more"></a><p>以前在项目中为一个表单（from）编写 onsubmit() 脚本的时候，经常需要验证表单中数据的合法性，所以常会这样写：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/admin/addUser.do"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"validateForm();"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>试图在 validateForm()中return false 来阻止表单的提交。实际上的效果是即使return false 表单还是会提交。后来发现 <code>οnsubmit=&quot;return validateForm()&quot;</code> 就没有问题了，当时也没有多想就继续做其它事情了。</p><p>直到今天看到一篇文章作了清楚的解释：</p><p><span style="color:#f33b45;">众所周知，在表单中加上<code>οnsubmit=&quot;return false;&quot;</code>可以阻止表单提交。</span></p><p>下面是简单的一小段代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"index.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span> ο<span class="attr">nsubmit</span>=<span class="string">"submitTest();"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"www"</span>&gt;</span>     </span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">submitTest</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// 一些逻辑判断</span></span></span><br><span class="line"><span class="actionscript">     <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>大家判断像上面的写法，点击submit按钮该表单是否提交？</p><p>若答案为是，就不用往下看了。</p><p>若答案为否，错了。实际情况是表单正常提交，若想它不提交，应该将</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"index.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span> ο<span class="attr">nsubmit</span>=<span class="string">"submitTest();"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>改为</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"index.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span> ο<span class="attr">nsubmit</span>=<span class="string">"return submitTest();"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>为何？</p><p><span style="color:#f33b45;">原来onsubmit属性就像是<form>这个html对象的一个方法名，其值（一字符串）就是其方法体，默认返回true；</form></span></p><p>和Java一样，在该方法体中你可以写任意多个语句，包括内置函数和自定义函数，如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">οnsubmit=<span class="string">"</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    alert('haha'); // 内置函数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    submitTest();  // 自定义函数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    alert(this.tagName); // 用到了this关键词</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    ......(任意多条语句)   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return false;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"</span></span><br></pre></td></tr></table></figure><p>就相当于</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Form.prototype.onsubmit = function() &#123;</span><br><span class="line"></span><br><span class="line">    alert(<span class="string">'haha'</span>); <span class="comment">// 内置函数</span></span><br><span class="line"></span><br><span class="line">    submitTest();  <span class="comment">// 自定义函数</span></span><br><span class="line"></span><br><span class="line">    alert(<span class="keyword">this</span>.tagName); <span class="comment">// 用到了this关键词</span></span><br><span class="line"></span><br><span class="line">    ......(任意多条语句)   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这样的话你就覆写了(override)其默认方法（默认返回true）</p><p>大家注意到方法体中可以用this这个关键词，这里即代表了<form>的对象实例。</form></p><p>经过这样的分析后，以上情况就不难理解了：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"index.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span> ο<span class="attr">nsubmit</span>=<span class="string">"submitTest();"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这样写，override方法的效果为：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Form.prototype.onsubmit = function() &#123;</span><br><span class="line"></span><br><span class="line">    submitTest();</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>在这里submitTest()虽然返回false，但我们只执行了此函数，没有对其结果进行任何处理。而</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"index.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span> ο<span class="attr">nsubmit</span>=<span class="string">"return submitTest();"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>override方法的效果为：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Form.prototype.onsubmit = function() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> submitTest();</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这样，我们利用到了它的返回值，达到了预期效果。</p><p>这样理解的话我想印象会深刻得多，就不易出错了</p><p>结论：</p><p>我们可以用Java里的思维方式来思考模拟JavaScript中的类似情况（JavaScript中基于prototype的面向对象技术也确实是这样做的），但他们毕竟还是有本质上的区别，如Java是强类型的，有严格的语法限制，而JavaScript是松散型的。象上述方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Form.prototype.onsubmit = function() &#123; </span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>既可以有返回值，又可以没有返回值，在Java里是通不过的，毕竟Java里面不能靠方法的返回值不同来重载(overload)方法，而JavaScript中的重载要松散得多。</p><hr><p>文章转载来自：<a href="http://blog.163.com/hgj_online/blog/static/476742432007112610135845/" target="_blank" rel="noopener">http://blog.163.com/hgj_online/blog/static/476742432007112610135845/</a></p><p>（略有修改）</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML简单注册界面——含表单验证</title>
      <link href="/article/44380686.html"/>
      <url>/article/44380686.html</url>
      
        <content type="html"><![CDATA[<p>最近学习HTML表单，感慨万千。虽然看起来好像不难学，但要是真自己实践起来问题却多多。这里是我写的一个简单的注册页面，只有“注册账号、密码、重输密码”三个文本框，还包含了原生JavaScript验证。（记一下，也希望能给有需要的人一点帮助。）</p><a id="more"></a><p>下面直接上代码，已测试可运行，有问题可留言。</p><p>虽然看起来代码一大段，但是主要内容不多——简单的表单内容、然后是js验证，而且是分开验证，应该比较容易懂，结合注释应该可以理解，这里就不详解了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>8_常用注册页面的表单实例（含验证）.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"keyword1,keyword2,keyword3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"this is my page"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--&lt;link rel="stylesheet" type="text/css" href="./styles.css"&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">body&#123;</span><br><span class="line">background-image: url(https://imgchr.com/content/images/system/home_cover_1552414407320_3a5f92.jpg);</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line"><span class="css"><span class="comment">/* 当内容高度大于图片高度时，背景图像的位置相对于viewport固定 */</span>    </span></span><br><span class="line"><span class="css"><span class="selector-tag">background-attachment</span>: <span class="selector-tag">fixed</span>;  <span class="comment">/*此条属性必须设置否则可能无效*/</span>    </span></span><br><span class="line"><span class="css"><span class="comment">/* 让背景图基于容器大小伸缩 */</span>   </span></span><br><span class="line">background-size: cover;  </span><br><span class="line"><span class="css"><span class="comment">/* 设置背景颜色，背景图加载过程中会显示背景色 */</span>   </span></span><br><span class="line"><span class="css"><span class="selector-tag">background-color</span>: <span class="selector-id">#CCCCCC</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#user_reg</span>&#123;</span></span><br><span class="line">font-family: 微软雅黑;</span><br><span class="line">font-size: 40px;</span><br><span class="line">text-align: center;</span><br><span class="line">margin-top: 200px;</span><br><span class="line">&#125;</span><br><span class="line">form&#123;</span><br><span class="line"><span class="css"><span class="selector-tag">width</span>: 500<span class="selector-tag">px</span>;<span class="comment">/*设置宽度，方便使其居中*/</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">margin</span>: 40<span class="selector-tag">px</span> <span class="selector-tag">auto</span> <span class="selector-tag">auto</span> <span class="selector-tag">auto</span>;<span class="comment">/*上右下左*/</span></span></span><br><span class="line">font-size: 25px;</span><br><span class="line">&#125;</span><br><span class="line">input&#123;</span><br><span class="line">height: 30px;</span><br><span class="line">width: 12em;</span><br><span class="line">margin-top: 5px;</span><br><span class="line">margin-bottom: 5px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="comment">/*input标签下的属性选择器*/</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">input</span><span class="selector-attr">[type="submit"]</span>,<span class="selector-tag">input</span><span class="selector-attr">[type="reset"]</span>&#123;</span></span><br><span class="line">height: 25px;</span><br><span class="line">width: 5em;</span><br><span class="line">margin-top: 5px;</span><br><span class="line">margin-left: 6px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//onblur失去焦点事件，用户离开输入框时执行 JavaScript 代码：</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//函数1：验证邮箱格式</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">validate_username</span><span class="params">(username)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//定义正则表达式的变量:邮箱正则</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> emailReg=<span class="regexp">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//console.log(username);</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(username !=<span class="string">""</span> &amp;&amp; username.search(emailReg) != <span class="number">-1</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_user").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'green'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>√邮箱格式正确<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_user").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'red'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>邮箱格式错误<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"><span class="actionscript"> <span class="comment">//函数2：验证密码是否符合要求：匹配6位密码，由数字和字母组成：</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">validate_password</span><span class="params">(password)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;6-10&#125;$</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//测试密码：12345y</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> passwordReg=<span class="regexp">/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;6&#125;$/</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(password != <span class="string">""</span> &amp;&amp; password.search(passwordReg) != <span class="number">-1</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_pw").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'green'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>√密码格式正确<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_pw").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'red'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>密码格式错误<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">  alert(<span class="string">"密码有6位，由数字和字母组成!"</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"><span class="actionscript"><span class="comment">//函数3：验证两次输入的密码是否一样</span></span></span><br><span class="line"><span class="actionscript">   <span class="function"><span class="keyword">function</span> <span class="title">validate_password2</span><span class="params">(password2)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> password = <span class="built_in">document</span>.getElementById(<span class="string">"password"</span>).value;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//测试：console.log(password);</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">//测试：console.log(password2);</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span> (password == <span class="string">""</span>)&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">document.getElementById("is_test_pw").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'red'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>密码不为空<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(password==password2)&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("is_test_pw").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'green'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>√两次输入的密码相同<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("is_test_pw").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'red'</span> <span class="attr">size</span>=<span class="string">'3px'</span>&gt;</span>两次输入的密码不相同<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"密码有6位，由数字和字母组成!"</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125; </span><br><span class="line">  </span><br><span class="line"><span class="actionscript"><span class="comment">//函数4：验证表单是否已经填好</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">validate_form</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> username = <span class="built_in">document</span>.getElementById(<span class="string">"username"</span>).value;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> password = <span class="built_in">document</span>.getElementById(<span class="string">"password"</span>).value;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> password2 = <span class="built_in">document</span>.getElementById(<span class="string">"password2"</span>).value;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//console.log("表单填写正确，可以正常提交！");</span></span></span><br><span class="line">  </span><br><span class="line"><span class="actionscript">  <span class="comment">//这三个，如果任何一个有问题，都返回false</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">//18128@qq.com12345y</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> emailReg=<span class="regexp">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> passwordReg=<span class="regexp">/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;6&#125;$/</span>;</span></span><br><span class="line">  </span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(username != <span class="string">""</span> &amp;&amp; emailReg.test(username))&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(password !=<span class="string">""</span> &amp;&amp; passwordReg.test(password))&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(password2==password)&#123;</span></span><br><span class="line"><span class="actionscript">  alert(<span class="string">"信息填写正确，可以正常提交！"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"信息填写正确，可以正常提交！"</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">  alert(<span class="string">"密码不一致，提交失败，请重新填写！"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"密码不一致，提交失败，请重新填写！"</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">  alert(<span class="string">"密码格式错误，提交失败，请重新填写！"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"密码格式错误，提交失败，请重新填写！"</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">  alert(<span class="string">"注册的账号不符合要求，提交失败，请重新填写！"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"注册的账号不符合要求，提交失败，请重新填写！"</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"user_reg"</span>&gt;</span>用户注册:<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"./servlet/RegisterServlet"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">name</span>=<span class="string">"form"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>请输入账号：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"只能用邮箱注册"</span> <span class="attr">onblur</span>=<span class="string">"validate_username(this.value)"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">"test_user"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>请输入密码：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"6位密码由数字和字母组成"</span> <span class="attr">onblur</span>=<span class="string">"validate_password(this.value)"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">"test_pw"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>请确认密码：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password2"</span> <span class="attr">name</span>=<span class="string">"password2"</span> <span class="attr">onblur</span>=<span class="string">"validate_password2(this.value)"</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">"is_test_pw"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">id</span>=<span class="string">"submit_form"</span> <span class="attr">value</span>=<span class="string">"注册"</span> <span class="attr">onclick</span>=<span class="string">"return validate_form()"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">value</span>=<span class="string">"重置"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>放几张效果图吧：</p><p><img src="https://img-blog.csdnimg.cn/20181028144028168.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/2018102814411329.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><p><img src="https://img-blog.csdnimg.cn/20181028144132339.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt></p><hr><p>2019年9月25日更新：</p><p>修改背景为在线图片，添加测试地址：<a href="https://codepen.io/yansheng836/pen/aboMEmb" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/aboMEmb</a></p><p>截图：</p><p><img src="https://img-blog.csdnimg.cn/20191027092352429.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_16,color_FFFFFF,t_70" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>把鼠标放到图片后，(HTML+JS实现)静态图片变成动态图</title>
      <link href="/article/b62fe092.html"/>
      <url>/article/b62fe092.html</url>
      
        <content type="html"><![CDATA[<p>前几天有个朋友问我这个问题：如何实现“<span style="color:#f33b45;">把鼠标放到图片后，变成动态图</span>”，他估计是没学过JavaScript，其实这个问题实现起来还是挺简单的。下面简单说下：</p><a id="more"></a><p>原图片放静态图，为图片设置鼠标悬浮事件（onmouseover），把图片路径设置为动态图路径；再设置一个鼠标离开事件（onmouseout），把URL还原就好了。这样就可以达到鼠标放到图片上时，是动态图，离开后是静态图的效果。</p><p>源代码如下，如想尝试运行，请注意图片路径问题，我这里图片是和HTML放在同一文件夹里的。具体可见最后面的测试地址。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>静态图_悬浮变动态图.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"keyword1,keyword2,keyword3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"this is my page"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>下面这张图片原本是静态图，把鼠标到图片后，变成动态图<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"猫_静态图"</span> <span class="attr">src</span>=<span class="string">"猫_静态图.jpg"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">onmouseover</span>=<span class="string">"src='猫_动态图.gif'"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">onmouseout</span>=<span class="string">"src='猫_静态图.jpg'"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个是静态图：</p><p><img src="https://img-blog.csdnimg.cn/20181026155640669.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==,size_27,color_FFFFFF,t_70" alt="猫_静态图"></p><p>这个是动态图：</p><p><img src="https://img-blog.csdnimg.cn/20190717103225481.gif" alt="猫_动态图"></p><p>（注：如果这里的图片不能上传GIF，你可以上网找动态图，也许你可能会问没有静态图怎么办？截图动图就可以了！如果截图的像素不一样，你可以为图片添加width和height属性进行控制。）</p><hr><p>2019年9月25日更新：</p><p>添加测试地址：<a href="https://codepen.io/yansheng836/pen/mdbopqM" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/mdbopqM</a>，注：图片就是使用这两张“可爱的小猫”。</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyEclipse编写HTML.JSP时，出现Processing instruction not closed错误提醒的处理方法</title>
      <link href="/article/7344147.html"/>
      <url>/article/7344147.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章对这个问题进行了简单分析，并给出了解决方法。</p><a id="more"></a><h3 id="问题：">问题：</h3><p>MyEclipse编写HTML/JSP时，出现Processing instruction not closed错误提醒的处理方法</p><h3 id="原因分析及处理方法：">原因分析及处理方法：</h3><ol><li>最简单的原因：其实看提示就可以知道，就是有标签没有关闭，那就找找是不是有标签没有关闭（虽然这个可能比较小，因为我之前没有关闭好像也没提醒），如果真有，关闭就好了。</li><li>软件原因：一般修改什么标签后可能会出现这种情况，解决方法：①关掉（HTML/JSP）页面重开。②关掉myeclipse重开。</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> (My)Eclipse </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>针对web.xml报错.cvc-complex-type.2.4.a. Invalid content was found starting with element ’location’.的解决办法</title>
      <link href="/article/f22e8c0.html"/>
      <url>/article/f22e8c0.html</url>
      
        <content type="html"><![CDATA[<p>添加对应的命名空间即可解决该问题。</p><a id="more"></a><p>在写java项目，配置web.xml文件的<code>&lt;location&gt;</code>时，出现以下错误：</p><p><span style="color:#f33b45;">DescriptionResourcePathLocationType cvc-complex-type.2.4.a: Invalid content was found starting with element ‘location’.</span></p><p>百思不得其解，只好百度，终于解决了，但是还是不知道其原理，这里这是奉上解决方法。如果有大神知道原理，还望告知，非常感谢！</p><p>解决办法：将“<a href="http://www.springmodules.org/schema/cache/springmodules-cache.xsd" target="_blank" rel="noopener">http://www.springmodules.org/schema/cache/springmodules-cache.xsd</a> <a href="http://www.springmodules.org/schema/cache/springmodules-ehcache.xsd%E2%80%9D%E8%BF%99%E6%AE%B5%E8%AF%9D%E5%8A%A0%E5%85%A5%E5%88%B0xml%E6%96%87%E4%BB%B6%E7%9A%84%22xmlns:xsi=%22%E7%9A%84%E5%B1%9E%E6%80%A7%E4%B8%AD%EF%BC%8C%E5%8D%B3%E5%8F%AF%E8%A7%A3%E5%86%B3%EF%BC%88%E7%A4%BA%E4%BE%8B%E5%A6%82%E4%B8%8B%EF%BC%89" target="_blank" rel="noopener">http://www.springmodules.org/schema/cache/springmodules-ehcache.xsd”这段话加入到xml文件的&quot;xmlns:xsi=&quot;的属性中，即可解决（示例如下）</a></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"3.0"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springmodules.org/schema/cache/springmodules-cache.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springmodules.org/schema/cache/springmodules-ehcache.xsd"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee </span></span></span><br><span class="line"><span class="tag"><span class="string">http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span><span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> (My)Eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何快速转载CSDN中的博客</title>
      <link href="/article/85fdb685.html"/>
      <url>/article/85fdb685.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>对于喜欢逛CSDN的人来说，看别人的博客确实能够对自己有不小的提高，有时候看到特别好的博客想转载下载，但是不能一个字一个字的敲了，这时候我们就想快速转载别人的博客，把别人的博客移到自己的空间里面，当然有人会说我们可以收藏博客啊，就不需要转载，(⊙o⊙)… 也对。。</p><a id="more"></a><h2 id="实现">实现</h2><p>因为我自己当初想转载的时候却不知道该怎么转载，所以学会了之后就把方法写出来，帮助那些想转载却不知道该怎么转载的人（大神勿笑）。</p><p>我们首先打开要转载的博客，然后鼠标右键就会出现下面的菜单：<br><br></p><center>![这里写图片描述](https://img-blog.csdn.net/20150912104500089)</center><br><br>  我们点击【审查元素】，就会出现当前HTML页面的代码，如下：<center>![](https://img-blog.csdn.net/20150912104633872)</center><br><br>  我们选中“article_content”从图片左边我们也可以看到，博客的内容已经被我们选中了，也就是我们想要转载的内容，然后右键，就会出现下面的菜单：<center>![这里写图片描述](https://img-blog.csdn.net/20150912104903592)</center><br><br>  我们选中【Copy as HTML】就可以把其中要转载的内容复制下来，接下来的就是粘贴了。<br><br>  我们先新建一篇文章，打开markdown编辑器（因为在普通的编辑器我没有找到方法/(ㄒoㄒ)/~~），然后粘贴一下，就会出现下面的内容：<center>![](https://img-blog.csdn.net/20150912105209122)</center><br><br>  可以在右边看到，博客内容已经被转载了，然后发表就可以了。<p>注：打开打开markdown编辑器的方式：我的博客–&gt;（右上角）管理博客–&gt; （左下角）管理博客–&gt;默认编辑器里选择markdown编辑器–&gt;保存。下次写博客就是使用markdown编辑器了。</p><p><img src="https://img-blog.csdn.net/20181019212510390?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述"><br><br><img src="https://img-blog.csdn.net/20181019212559739?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述"></p><p><font color="red">最后特别要注意的是，我们发表的时候一定要选择【转载】，尊重原创！！</font></p><h2 id="小结">小结</h2><p>因为自己当时也苦恼不知道该如何转载，所以我希望这篇文章能够帮助别人，虽然可能只是很简单的内容，但是，新手可能还真是不知道，—&gt;比如我/(ㄒoㄒ)/~~</p>]]></content>
      
      
      
        <tags>
            
            <tag> 工具/资源 </tag>
            
            <tag> CSDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML页面的自动刷新以及跳转</title>
      <link href="/article/1f98d5c0.html"/>
      <url>/article/1f98d5c0.html</url>
      
        <content type="html"><![CDATA[<p>当我们在做网页时，有的时候想让网页自动不停刷新，或者过一段时间自动跳转到另外一个你自己设定的页面？其实实现这个效果不算难。以下代码给大家参考，互相学习。</p><a id="more"></a><h3 id="1：页面自动刷新：把如下代码加入头部文件中：">1：页面自动刷新：把如下代码加入头部文件中：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"refresh"</span> <span class="attr">content</span>=<span class="string">"5"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中5指每隔5秒刷新一次页面.</p><h3 id="2：页面自动跳转：把如下代码加入头部文件中：">2：页面自动跳转：把如下代码加入头部文件中：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"refresh"</span><span class="attr">content</span>=<span class="string">"5;url=http://www.w3school.com.cn/"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中5指隔5秒后跳转到指定的：<a href="http://www.w3school.com.cn/" target="_blank" rel="noopener">http://www.w3school.com.cn/</a> 页面。</p><h3 id="3：页面自动刷新-js代码-：">3：页面自动刷新(JS代码)：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>几秒后跳转.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"keyword1,keyword2,keyword3"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"this is my page"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--&lt;link rel="stylesheet" type="text/css" href="./styles.css"&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">bgcolor</span>=<span class="string">"#33ccff"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">delayURL</span><span class="params">(url)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> delay = <span class="built_in">document</span>.getElementById(<span class="string">"time"</span>).innerHTML;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//最后的innerHTML不能丢，否则delay为一个对象  </span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span> (delay &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line">delay--;</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">"time"</span>).innerHTML = delay;</span></span><br><span class="line"><span class="actionscript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.top.location.href = url;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript">setTimeout(<span class="string">"delayURL('"</span> + url + <span class="string">"')"</span>, <span class="number">1000</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">//此处1000毫秒即每一秒跳转一次  </span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align: center; margin-top: 200px;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"time"</span> <span class="attr">style</span>=<span class="string">"background: red"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">span</span>&gt;</span>秒钟之后自动跳转，如果不跳转，请点击下面链接</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"./login.jsp"</span>&gt;</span>点击链接快速跳转<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">delayURL(<span class="string">"./login.jsp"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：这里自己放个超链接就OK，我写的是登录页面。</p><p>效果如下图：</p><p><img src="https://img-blog.csdnimg.cn/20181111192532948.png" alt></p><p>2019年9月25日更新：</p><p>添加“3：页面自动刷新(JS代码)”的测试地址：<a href="https://codepen.io/yansheng836/pen/dybrdyV" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/dybrdyV</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML表单之邮箱验证</title>
      <link href="/article/3ad04d4e.html"/>
      <url>/article/3ad04d4e.html</url>
      
        <content type="html"><![CDATA[<p>学习HTML，表单是一个很重要的知识，而表单最常用的可能就是表单的验证了；下面我介绍验证邮箱的一种方法。</p><a id="more"></a><h3 id="学习html-表单是一个很重要的知识-而表单最常用的可能就是表单的验证了；下面我介绍验证邮箱的一种方法：">学习HTML，表单是一个很重要的知识，而表单最常用的可能就是表单的验证了；下面我介绍验证邮箱的一种方法：</h3><p>先上代码：（注：这个代码是可以运行的，可以自己试试，把重点放在js和表单里面！）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>表单之邮箱验证.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"keyword1,keyword2,keyword3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"this is my page"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">body&#123;</span><br><span class="line">background-image: url(https://imgchr.com/content/images/system/home_cover_1552414407320_3a5f92.jpg);</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line"><span class="css"><span class="comment">/* 当内容高度大于图片高度时，背景图像的位置相对于viewport固定 */</span>    </span></span><br><span class="line"><span class="css"><span class="selector-tag">background-attachment</span>: <span class="selector-tag">fixed</span>;  <span class="comment">/*此条属性必须设置否则可能无效*/</span>    </span></span><br><span class="line"><span class="css"><span class="comment">/* 让背景图基于容器大小伸缩 */</span>   </span></span><br><span class="line">background-size: cover;  </span><br><span class="line"><span class="css"><span class="comment">/* 设置背景颜色，背景图加载过程中会显示背景色 */</span>   </span></span><br><span class="line"><span class="css"><span class="selector-tag">background-color</span>: <span class="selector-id">#CCCCCC</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#user_reg</span>&#123;</span></span><br><span class="line">font-family: 微软雅黑;</span><br><span class="line">font-size: 40px;</span><br><span class="line">text-align: center;</span><br><span class="line">margin-top: 200px;</span><br><span class="line">&#125;</span><br><span class="line">form&#123;</span><br><span class="line"><span class="css"><span class="selector-tag">width</span>: 600<span class="selector-tag">px</span>;<span class="comment">/*设置宽度，方便使其居中*/</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">margin</span>: 40<span class="selector-tag">px</span> <span class="selector-tag">auto</span> <span class="selector-tag">auto</span> <span class="selector-tag">auto</span>;<span class="comment">/*上右下左*/</span></span></span><br><span class="line">font-size: 25px;</span><br><span class="line">&#125;</span><br><span class="line">input&#123;</span><br><span class="line">height: 30px;</span><br><span class="line">width: 14em;</span><br><span class="line">font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#username</span><span class="selector-attr">[value]</span>&#123;</span></span><br><span class="line">color: gray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#username1</span><span class="selector-attr">[value]</span>&#123;</span></span><br><span class="line">color: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//onblur失去焦点事件，用户离开输入框时执行 JavaScript 代码：</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//函数：验证邮箱格式</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">isEmail</span><span class="params">(strEmail)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//定义正则表达式的变量:邮箱正则</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> reg=<span class="regexp">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(strEmail);</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//文本框不为空，并且验证邮箱正则成功，给出正确提示</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(strEmail != <span class="literal">null</span> &amp;&amp; strEmail.search(reg) != <span class="number">-1</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_user").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'green'</span> <span class="attr">size</span>=<span class="string">'4px'</span>&gt;</span>√邮箱格式正确！<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_user").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'red'</span> <span class="attr">size</span>=<span class="string">'4px'</span>&gt;</span>邮箱格式错误！<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"user_reg"</span>&gt;</span>验证邮箱:<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">name</span>=<span class="string">"form"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>请输入账号：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"只能用邮箱注册"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">onclick</span>=<span class="string">"username.value='',username.id='username1'"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">onblur</span>=<span class="string">"isEmail(this.value)"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">"test_user"</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这是效果图：</p><p><img src="https://oss.yansheng.xyz/picgo/20181016164136183.jpg" alt></p><p>来看下主要代码：</p><h3 id="html部分：">HTML部分：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"user_reg"</span>&gt;</span>验证邮箱:<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">name</span>=<span class="string">"form"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>请输入账号：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"只能用邮箱注册"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">onclick</span>=<span class="string">"username.value='',username.id='username1'"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">onblur</span>=<span class="string">"isEmail(this.value)"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">"test_user"</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="简单分析下：">简单分析下：</h3><p>1.首先是提示用户，该文本框只能填写邮箱，用 value 设置初始值，显示在框内；添加事件onclick ，当用户鼠标单击时触发，使其文本框的值置为 “” ，并且使其ID改变，方便改变样式（要看效果，可以自己拷贝代码运行）。</p><p><span style="color:#3399ea;">补充下：不过，我不建议使用这种方法，因为后来我了解到 input 有个属性可以轻松解决这个问题：spaceholder，</span><span style="color:#3399ea;">属性适用于以下类型的 <code>&lt;input&gt;</code> 标签：text, search, url, telephone, email 以及 password。提示（hint）会在输入域为空时显示出现，会在输入域获得焦点时消失。详见（w3c文档）：</span></p><p><a href="http://www.w3school.com.cn/html5/html_5_form_attributes.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/html5/html_5_form_attributes.asp</a></p><p>2.然后添加onblur 事件，当焦点离开该文本框时触发事件，作用就JS 里面在详解。</p><p>3.后面还有个格子<code>&lt;td id=&quot;test_user&quot;&gt;&amp;nbsp;&lt;/td&gt;</code>，是为了显示验证结果的，当然你也可以用 alert(“提示信息”) 显示验证结果。</p><p>4.如果这个方法要在提交表单前验证，并且带回返回值，应该还要在定义函数时加上 return 语句，并且触发事件要这样写：“return  isEmail(this.value)” ，这样当验证成功时，返回true，可以提交表单；验证失败，返回false，禁止其提交表单。（详见我的另一篇文章：<a href="https://blog.csdn.net/weixin_41287260/article/details/83061037" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41287260/article/details/83061037</a>）</p><h3 id="javascript-部分：">JavaScript 部分：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//onblur失去焦点事件，用户离开输入框时执行 JavaScript 代码：</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//函数：验证邮箱格式</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">isEmail</span><span class="params">(strEmail)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//定义正则表达式的变量:邮箱正则</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> reg=<span class="regexp">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(strEmail);</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//文本框不为空，并且验证邮箱正则成功，给出正确提示</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(strEmail != <span class="literal">null</span> &amp;&amp; strEmail.search(reg) != <span class="number">-1</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_user").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'green'</span> <span class="attr">size</span>=<span class="string">'4px'</span>&gt;</span>√邮箱格式正确！<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line"><span class="actionscript">  &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  document.getElementById("test_user").innerHTML = "<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">'red'</span> <span class="attr">size</span>=<span class="string">'4px'</span>&gt;</span>邮箱格式错误！<span class="tag">&lt;/<span class="name">font</span>&gt;</span>";</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="简单分析下：-v2">简单分析下：</h3><p>1.先看下函数名：isEmail(strEmail) ，是含参数的，由调用函数那里我们可以知道strEmail 的值是这个文本框的value ；而且</p><p>我这里也用console.log(strEmail); 进行验证了，（当然alert（strEmail）也可以，看个人喜好吧！）。</p><p>当然，你也可以定义不含参的函数：isEmail( )；定义时用var username = document.getElementById(“username1”).value;</p><p>也可以得到同样的效果。</p><p>2.然后定义邮箱正则，这个要是你足够厉害可以去琢磨，但是火候不够就去百度搜，别人已经找了一大堆验证各种问题的正则表达式。</p><p>3.验证正则我这里用的是：strEmail.search(reg) != -1 ，该语句是验证通过的语句。当然你也可以用  reg.test(strEmail) 来验证，通过是返回true。</p><p>4.如果文本框不为空，并且验证邮箱通过，在（上面我说个的那个）表格里给出（绿色的）验证正确提示，否则则给出（红色）验证错误提示。</p><h3 id="来看看效果怎么样吧：">来看看效果怎么样吧：</h3><p>这是原始页面（请注意看里面的字是灰色的）：</p><p><img src="https://oss.yansheng.xyz/picgo/20181016171905774.jpg" alt></p><p>下面这张是点击文本框后的图（忽略截图大小问题）：文本框的字消失了</p><p><img src="https://oss.yansheng.xyz/picgo/20181016171928738.jpg" alt></p><p>填写非邮箱内容后，右侧给出红色错误提示：</p><p><img src="https://oss.yansheng.xyz/picgo/20181016172055412.jpg" alt></p><p>填写邮箱格式信息：右侧给出绿色正确提示：</p><p><img src="https://oss.yansheng.xyz/picgo/20181016172016525.jpg" alt></p><p>the end。</p><p>2018.12.8更新</p><p>提供个正则文档，有需要可以参考下：</p><blockquote><p>链接：<a href="https://pan.baidu.com/s/1_1pxOIkEhOlTsxSnTRL9cg" target="_blank" rel="noopener">https://pan.baidu.com/s/1_1pxOIkEhOlTsxSnTRL9cg</a> <br>提取码：gpx8 <br>复制这段内容后打开百度网盘手机App，操作更方便哦。</p></blockquote><p>2019年9月25日更新：</p><p>添加测试地址： <a href="https://codepen.io/yansheng836/pen/pozYaEv" target="_blank" rel="noopener">https://codepen.io/yansheng836/pen/pozYaEv</a> ，注：背景使用了一张在线照片，和文中照片不同。</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML中的文本框的null和“”的区别</title>
      <link href="/article/c5d8dafa.html"/>
      <url>/article/c5d8dafa.html</url>
      
        <content type="html"><![CDATA[<p>HTML表单验证是你是如何判空的？null还是“”（空字符串）？让我们一起来看看到底要用啥来判空。</p><a id="more"></a><p>之前我也一直被这个问题所疑惑，后来我懂了，来看看我理解的对不对：</p><blockquote><p>假设定义一个字符串：String str;<br>str == null，指空对象，即空指针，没有分配内存；<br>而str ==“”，指空字符串，是个字符串但是里面什么度没有，这是有分配内存的。</p></blockquote><p>光说不练假把式！先上代码：JavaScript</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript"> <span class="function"><span class="keyword">function</span> <span class="title">check</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> text = <span class="built_in">document</span>.getElementById(<span class="string">"text"</span>).value;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//验证方法1：</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"text==\"\"是真的吗？"</span>+(text==<span class="string">""</span>));</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"text==null是真的吗？"</span>+(text==<span class="literal">null</span>));</span></span><br><span class="line">  </span><br><span class="line">  /* //验证方法2：下面这段代码是用alert()验证，文本框不为空时返回true</span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span> (text!=<span class="string">""</span>) &#123;</span></span><br><span class="line"><span class="actionscript">  alert(text!=<span class="string">""</span>);</span></span><br><span class="line"><span class="actionscript">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">alert(text!=<span class="string">""</span>);</span></span><br><span class="line">&#125; */</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下面这个是HTML：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"title"</span>&gt;</span>null和“”的区别:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.w3school.com.cn/"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"text"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"验证是否非空"</span> <span class="attr">onclick</span>=<span class="string">"check()"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在js里面我是用console.log()f方法方法测试的，该方法输出的数据可在按F12后的控制台那里看到，方便分析。（当然你也可以用alert()方法验证。）</p><p>测试浏览器：谷歌浏览器。</p><p>测试：1.不填任何东西直接验证：</p><p><img src="https://img-blog.csdn.net/20181015202910292?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p><p>测试：2.填“666”验证：（下面的为新的内容）</p><p><img src="https://img-blog.csdn.net/2018101520294551?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTI4NzI2MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt></p><p>由此我们可知：当HTML的文本框没有填写东西时，它是个空串，验证非空时要用  if( str==&quot;&quot;)  验证，而不是用if( str == null) 验证。</p><p>这位博主好像写的很详细，可以参考下：<a href="https://blog.csdn.net/SR2017/article/details/69717908" target="_blank" rel="noopener">https://blog.csdn.net/SR2017/article/details/69717908</a>。</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML表单提交问题</title>
      <link href="/article/5f15988.html"/>
      <url>/article/5f15988.html</url>
      
        <content type="html"><![CDATA[<p>如何验证表单？验证成功与否、是否提交？看完这篇文章也许你就会明白了。</p><a id="more"></a><h3 id="前言：">前言：</h3><p>一开始学HTML时，不会就经常百度、谷歌，这次的遇到的表单验证及提交问题我也搜过了，各路大神各显神通，答案各异，试过很多种方法，各种问题也层出不穷……现在我想写点我的想法，希望能给有需要的人一些帮助。</p><p>现在进入主题：<strong>如何验证表单？验证成功与否、是否提交？</strong>先声明，这里我把重点放在后面那个问题上，前面就简单验证。</p><p>废话不多说，直接上代码：（注：这个代码是可以运行的，可以自己试试，把重点放在js和表单里面！）</p><p><img src="https://oss.yansheng.xyz/picgo/20181015185437981.jpg" alt></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>表单验证之submit提交.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"keyword1,keyword2,keyword3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"this is my page"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--&lt;link rel="stylesheet" type="text/css" href="./styles.css"&gt;--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">    form&#123;</span><br><span class="line"><span class="css"><span class="selector-tag">width</span>: 340<span class="selector-tag">px</span>;<span class="comment">/*设置宽度，方便使其居中*/</span></span></span><br><span class="line"><span class="css"><span class="selector-tag">margin</span>: 40<span class="selector-tag">px</span> <span class="selector-tag">auto</span> <span class="selector-tag">auto</span> <span class="selector-tag">auto</span>;<span class="comment">/*上右下左*/</span></span></span><br><span class="line">font-size: 35px;</span><br><span class="line">&#125;</span><br><span class="line">input&#123;</span><br><span class="line">margin-top: 5px;</span><br><span class="line">height: 30px;</span><br><span class="line">width: 12em;</span><br><span class="line">margin-bottom: 5px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#login</span>&#123;</span></span><br><span class="line">font-family: 微软雅黑;</span><br><span class="line">font-size: 40px;</span><br><span class="line">text-align: center;</span><br><span class="line">margin-top: 200px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-tag">input</span><span class="selector-attr">[type="submit"]</span>,<span class="selector-tag">input</span><span class="selector-attr">[type="reset"]</span> &#123;</span></span><br><span class="line">height: 25px;</span><br><span class="line">width: 5em;</span><br><span class="line">margin-left: 7px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">isSubmit</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"> </span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> username = <span class="built_in">document</span>.getElementById(<span class="string">"username"</span>).value;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> password = <span class="built_in">document</span>.getElementById(<span class="string">"password"</span>).value;</span></span><br><span class="line">  </span><br><span class="line"><span class="actionscript">  <span class="comment">//简单判断，如果账号密码都不为空串，返回true</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">//并添加console.log()，在控制台查看if里面判断语句的返回结果</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span> (username!=<span class="string">""</span> &amp;&amp; password!=<span class="string">""</span>) &#123;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(username!=<span class="string">""</span> &amp;&amp; password!=<span class="string">""</span>);</span></span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(username!=<span class="string">""</span> &amp;&amp; password!=<span class="string">""</span>);</span></span><br><span class="line"><span class="actionscript">confirm(<span class="string">"账号或密码为空，请填写完整"</span>);</span></span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> &gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"login"</span>&gt;</span>用户登录:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.w3school.com.cn/"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>用户名：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">onblur</span>=<span class="string">""</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>密 &amp;nbsp;&amp;nbsp;码：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">onblur</span>=<span class="string">""</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"登录"</span> <span class="attr">onclick</span>=<span class="string">"return isSubmit()"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">value</span>=<span class="string">"取消"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>我这里只是验证账号密码是否有填写，如果都有填写返回true，反之返回false并给出提示。中间还用了一个小技巧,使用了console.log()方法，该方法输出的数据可在按F12后的控制台那里看到，方便分析。其它就不详解。</p><p>接下来我们来分析下：</p><h3 id="情况1：-可行的">情况1：(可行的)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"登录"</span> <span class="attr">onclick</span>=<span class="string">"return isSubmit()"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>submit 这里的 οnclick=“return isSubmit()” ，即点击时，执行方法isSubmit()，并带回返回值true或者false，如果是true则执行默认操作（即提交表单），如果返回false则禁止默认操作（即不提交表单）。</p><h3 id="情况2：-不可行的-注：没见过的可以自己改代码试试">情况2：(不可行的)（注：没见过的可以自己改代码试试）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"登录"</span> <span class="attr">onclick</span>=<span class="string">"isSubmit()"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>如果你仅仅是这样用：即不加return，那么就会出意外了，F12的控制台显示false，但是表单可以提交！！这是什么情况？？我也不知道，不过好像很多初学者都会犯这个错误，我看到有位仁兄是这样说的：“return 表示从被调函数返回到主调函数继续执行，返回时可附带一个返回值， 如果返回是false则不继续执行”，我觉得说的挺好的（捂脸）……</p><h3 id="情况3：-不可行的">情况3：(不可行的)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"登录"</span> <span class="attr">onsubmit</span>=<span class="string">"return isSubmit()"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>这里是把js事件改为onsubmit事件，但是不起作用，因为这个事件是表单form都有的，而input的！（再看下面的，你就会明白。）</p><h3 id="情况4：-可行的">情况4：(可行的)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.w3school.com.cn/"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"return isSubmit()"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>把onsubmit事件放在form的标签里面，发现可以正常验证。</p><h3 id="情况5：-不可行的">情况5：(不可行的)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.w3school.com.cn/"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"isSubmit()"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>去掉return后，测试发现，还是不行，果然还是得加上！</p><p>好了，就是这些了，这仅仅是个人拙见，如果发现有错，欢迎大家指正。</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python安装pip出现error. no commands supplied的解决方案</title>
      <link href="/article/b0424de2.html"/>
      <url>/article/b0424de2.html</url>
      
        <content type="html"><![CDATA[<p>这个问题是因为粗心大意造成的：本该进入到pip的解压目录，执行<code>python setup.py install</code>进行安装，而我这里是直接执行<code>python setup.py</code>，漏掉了install导致出错，修改一下就好了。</p><a id="more"></a><p>报错如下：</p><p><img src="https://oss.yansheng.xyz/picgo/20180927203738350.jpg" alt></p><p>这个问题是因为粗心大意造成的：本该进入到pip的解压目录，执行<code>python setup.py install</code>进行安装，而我这里是直接执行<code>python setup.py</code>，漏掉了install 导致出错，修改一下就好了，如上图。</p><p>安装完成之后出现finished，说明安装成功。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python基础 </tag>
            
            <tag> pip </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="//404.html"/>
      <url>//404.html</url>
      
        <content type="html"><![CDATA[<!DOCTYPE html><html lang="zh-CN">    <head><meta name="generator" content="Hexo 3.9.0">         <meta charset="UTF-8">         <meta name="description" content="腾讯公益404">         <title>腾讯公益404</title>     <link rel="alternate" href="/atom.xml" title="荷塘月色的博客" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="荷塘月色的博客" type="application/rss+xml"></head>    <body>         <script type="text/javascript" src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js" homepagename="返回首页" homepageurl="https://www.yansheng.xyz/">        </script>    </body></html>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/baidu_verify_QgSK2r2blo.html"/>
      <url>/baidu_verify_QgSK2r2blo.html</url>
      
        <content type="html"><![CDATA[QgSK2r2blo]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/google4cc750c2e2103b7c.html"/>
      <url>/google4cc750c2e2103b7c.html</url>
      
        <content type="html"><![CDATA[google-site-verification: google4cc750c2e2103b7c.html]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>留言墙</title>
      <link href="/message-wall/index.html"/>
      <url>/message-wall/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="相遇即是有缘💗">相遇即是有缘💗</h2><p>🤔既然来了，过来踩一下可好？😝😘</p><p><img src="https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/174/174-bigskin-5.jpg" alt="虞姬-云霓雀翎"></p><h2 id="南台缘🌹">南台缘🌹</h2><p>献上一首《南台缘》，词曲：陈小奇老师。</p><!--<link rel="stylesheet" href="../photos/ins.css">--><center>    <div class="video-container"><div id="dplayer7" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px; width:854px; height:480px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer7"),"theme":"#FADFA3","loop":true,"video":{"url":"https://oss.yansheng.xyz/video/%E5%8D%97%E5%8F%B0%E7%BC%98.mp4","pic":"https://myblog12.qiniu.yansheng.xyz/%E5%8D%97%E5%8F%B0%E7%BC%982.jpeg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></div></center><hr><style>.container {    background:RGBA(255, 255, 255, 0.5);    padding-top:10px;    padding-bottom:10px;    /*width:900px;height:800px;position: relative;margin-bottom:-120px;*/    /*background-image:url(https://myblog12.qiniu.yansheng.xyz/南台山.jpg);background:url(https://myblog12.qiniu.yansheng.xyz/南台山.jpg) no-repeat cover;*/}.container p {    font-family:'Audiowide';    text-align: center;    color: #00a67c;    font-size: 30px;    line-height:40px;    -webkit-transition: all 1.5s ease;    transition: all 1.5s ease;}.container p:hover {    /*color: #fff;*/    color: #f34949;    -webkit-animation: Glow 1.5s ease infinite alternate;    animation: Glow 1.5s ease infinite alternate;}@media screen and (max-width: 800px) {    .container {        max-width:394.4px;    }    .container p {        font-size: 22px;        line-height: 32px;    }}@-webkit-keyframes Glow {    from {        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #00a67c, 0 0 70px #00a67c, 0 0 80px #00a67c, 0 0 100px #00a67c, 0 0 150px #00a67c;    }    to {        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #00a67c, 0 0 35px #00a67c, 0 0 40px #00a67c, 0 0 50px #00a67c, 0 0 75px #00a67c;    }}@keyframes Glow {    from {        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px #00a67c, 0 0 70px #00a67c, 0 0 80px #00a67c, 0 0 100px #00a67c, 0 0 150px #00a67c;    }    to {        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #00a67c, 0 0 35px #00a67c, 0 0 40px #00a67c, 0 0 50px #00a67c, 0 0 75px #00a67c;    }}</style><div class="container">    <p>南台缘</p><center class="poem"><p>前生应该和你有过一段缘，<br>晨钟暮鼓依稀敲了千百年。<br>清风中你静静卧在天地间，<br>心静如水，你我相看两不厌。</p><p>今生注定和你会有一段缘，<br>白云深处叩访了你千百遍。<br>夕阳下你静静留下一个梦，<br>鸟静山幽，你我相对两忘言。</p><p>我是不是你脚下的那朵莲，<br>等待着你含笑拈花的指尖，<br>你是不是我许下的那个愿，<br>飘飘渺渺总萦绕在我心间。<br></p></center></div><hr><p><img src="https://myblog12.qiniu.yansheng.xyz/09a6be13fd97af0a73567f002af1949f_1_1_art.jpg" alt="南台山-大佛寺"></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>友链</title>
      <link href="/links/index.html"/>
      <url>/links/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="友情链接">友情链接</h2><link rel="stylesheet" type="text/css" href="./link-box.css"><div class="link-box"><a href="https://www.yansheng.xyz" target="_blank" title="生活不止漫无天日的代码和bug，还有诗和远方。">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://myblog12.qiniu.yansheng.xyz/head.jpg" alt="'荷塘月色'的博客头像">    </div>    <div class="content">        <div class="title">            <span>荷塘月色的博客</span>        </div>    </div></a><a href="http://suzhigao66.top/" target="_blank" title="小白成长记">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://s2.ax1x.com/2020/02/02/1YPnhR.jpg" alt="Metthew’s blog的博客头像">    </div>    <div class="content">        <div class="title">            <span>Metthew’s blog</span>        </div>    </div></a><a href="https://www.ifxiang.club/blog" target="_blank" title="个人博客 - 一分夕阳">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://www.ifxiang.club/images/favicon.ico" alt="一分夕阳的博客头像">    </div>    <div class="content">        <div class="title">            <span>一分夕阳</span>        </div>    </div></a><a href="https://cqh-i.github.io/" target="_blank" title="锦瑟年华,逐梦之人">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://cqh-i.github.io/assets/icon/Mort.ico" alt="cqh-i的博客头像">    </div>    <div class="content">        <div class="title">            <span>cqh-i</span>        </div>    </div></a><a href="https://www.lete114.top/" target="_blank" title="Lete乐特个人博客">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://www.lete114.top/img/avatar.png" alt="'Lete乐特'的博客头像">    </div>    <div class="content">        <div class="title">            <span>Lete乐特个人博客</span>        </div>    </div></a><a href="https://chenwenkai8023ni.github.io/" target="_blank" title="既然青春留不住,还是做个大叔好">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://chenwenkai8023ni.github.io/assets/my.jpg" alt="'风吹过得夏天'的博客头像">    </div>    <div class="content">        <div class="title">            <span>风吹过得夏天</span>        </div>    </div></a><a href="https://aqingya.cn/" target="_blank" title="阿清的博客">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://img-blog.csdnimg.cn/20200629191033115.jpg" alt="'阿清的小站'的博客头像">    </div>    <div class="content">        <div class="title">            <span>阿清的小站</span>        </div>    </div></a><a href="https://littlecookie-li.github.io/" target="_blank" title="The blog of Littlecookie">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'" width="200" height="200" src="https://littlecookie-li.github.io/img/headpicture.jpg" alt="'Little cookie'的博客头像">    </div>    <div class="content">        <div class="title">            <span>Little cookie</span>        </div>    </div></a><!-- 失效友联<a href="https://jzfblog.com/blog" target="_blank" title="分享全栈开发和IT技术的个人博客网站">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200"              src="https://jzfblog.com/static/images/logo-header.png"              alt="'蒋振飞'的博客头像">    </div>    <div class="content">        <div class="title">            <span>蒋振飞的博客</span>        </div>    </div></a><p>–&gt;</p></div><h2 id="友链申请">友链申请</h2><p>——多多互访，比任何友链都要强！</p><details><summary title="点击查看隐藏内容">点击查看友链申请要求/方式 </summary><h3 id="说明及要求">说明及要求</h3><ul><li>友链排名不分前后，来者就是友。</li><li>站点不能是黄赌毒等非法网站(博客内无违法违规内容)。</li><li>博客内容以原创为主，类型以技术博客为主，不能含有太多广告。</li><li>站点要不定期的更新动态。</li><li>站点打不开本站有权撤销友链。</li><li>博主的好友可以无视上面的所有要求。</li></ul><h3 id="格式">格式</h3><p>右上角直接复制即可。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">网站地址：</span><br><span class="line">网站名称：</span><br><span class="line">网站描述：</span><br><span class="line">网站图标：</span><br></pre></td></tr></table></figure><h3 id="示范-本站信息">示范（本站信息）</h3><p>申请之前请做好本站友情链接。</p><ul><li>网站地址：<a href="https://www.yansheng.xyz">https://www.yansheng.xyz</a></li><li>网站名称：荷塘月色的博客</li><li>网站描述：生活不止漫无天日的代码和bug，还有诗和远方。</li><li>网站图标：<ul><li>favicon：<a href="https://www.yansheng.xyz/assets/img/favicon.ico">https://www.yansheng.xyz/assets/img/favicon.ico</a></li><li>头像：<a href="https://myblog12.qiniu.yansheng.xyz/head.jpg">https://myblog12.qiniu.yansheng.xyz/head.jpg</a></li></ul></li></ul><h3 id="申请方式">申请方式</h3><p>在下方留言，或者请将你站点信息发至我的邮箱进行申请。</p><p>邮箱地址：<a href="mailto:sheng.yan836@gmail.com">sheng.yan836@gmail.com</a></p><blockquote><p>注：如果不设置头像，或者图像获取失败，默认使用<a href="https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg">油纸伞</a>的头像（如下）。<br><img src="https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg" alt=""></p></blockquote></details><h2 id="博客相关">博客相关</h2><div class="link-box"><a href="/music/index.html" target="_blank" title="音乐">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200"              src="https://myblog12.qiniu.yansheng.xyz/picgo/music.jpg"              alt="音乐">    </div>    <div class="content">        <div class="title">            <span>音乐</span>        </div>    </div></a><a href="/atom.xml" target="_blank" title="RSS订阅">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200"              src="https://cdn.jsdelivr.net/gh/yansheng836/photos/rss.jpeg"              alt="RSS订阅">    </div>    <div class="content">        <div class="title">            <span>RSS订阅:atom.xml</span>        </div>    </div></a><a href="/rss2.xml" target="_blank" title="RSS订阅2">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200"              src="https://cdn.jsdelivr.net/gh/yansheng836/photos/rss2.jpeg"              alt="RSS订阅2">    </div>    <div class="content">        <div class="title">            <span>RSS订阅2:rss2.xml</span>        </div>    </div></a><a href="https://tongji.baidu.com/web/welcome/ico?s=49dc27ba451ff65447423bfd44649c2f" target="_blank" title="百度统计结果">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200"              src="https://cdn.jsdelivr.net/gh/yansheng836/photos/pie-simple2.png"              alt="百度统计">    </div>    <div class="content">        <div class="title">            <span>百度统计</span>        </div>    </div></a></div><h2 id="我的网站">我的网站</h2><div class="link-box"><a href="http://webstack.yansheng.xyz/" target="_blank" title="一个基于webstack的导航网站">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200" src="https://myblog12.qiniu.yansheng.xyz/head.jpg"              alt="一个基于webstack的导航网站">    </div>    <div class="content">        <div class="title">            <span>小荷网站导航</span>        </div>    </div></a><a href="http://shici.yansheng.xyz/" target="_blank" title="中华诗词收录了上至先秦，下至当代共计六万余首诗词。">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200" src="https://oss.yansheng.xyz/picgo/shi-ci.jpg"              alt="中华诗词的图标">    </div>    <div class="content">        <div class="title">            <span>中华诗词</span>        </div>    </div></a><a href="http://wzry.yansheng.xyz/" target="_blank" title="王者荣耀每日壁纸">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200px" height="200px" src="https://oss.yansheng.xyz/picgo/王者荣耀logo2.jpg"              alt="王者荣耀每日壁纸">    </div>    <div class="content">        <div class="title">            <span>王者荣耀每日壁纸</span>        </div>    </div></a><a href="http://obsidian.yansheng.xyz/" target="_blank" title="obsidian主题博客">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200"src="https://oss.yansheng.xyz/picgo/obsidian.jpg"              alt="obsidian主题博客">    </div>    <div class="content">        <div class="title">            <span>obsidian主题博客</span>        </div>    </div></a></div><h2 id="在线工具推荐">在线工具推荐</h2><div class="link-box"><a href="https://tinify.cn/" target="_blank" title="TinyPNG – 压缩PNG图片的同时保留透明度">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200" src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1581492239632.png"              alt="TinyPNG">    </div>    <div class="content">        <div class="title">            <span>TinyPNG--图片压缩</span>        </div>    </div></a><a href="https://imgchr.com/" target="_blank" title="路过图床, 免费公共图床, 提供图片上传和图片外链服务, 原图保存, 全球CDN加速.">    <div class="thumb">        <img onerror="this.src='https://cdn.jsdelivr.net/gh/yansheng836/photos/oil-paper-umbrella.jpg'"             width="200" height="200" src="https://oss.yansheng.xyz/picgo/imgchr.png"              alt="路过图床">    </div>    <div class="content">        <div class="title">            <span>路过图床</span>        </div>    </div></a></div>--></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/links/link-box.css"/>
      <url>/links/link-box.css</url>
      
        <content type="html"><![CDATA[@charset"utf-8";.link-box {    overflow: hidden;    padding: 5px;    /* border: 2px solid black; */}.link-box a {    float: left;    margin: 10px 10px;    width: 12% !important;    line-height: .5rem !important;    font-size: 1rem !important;    border-bottom: 0;    border-radius: 0rem !important;    background: #fff;    /* CSS3 文本效果：阴影 */    box-shadow: .3rem .3rem .3rem rgba(0, 0, 0, .2), 0 .2rem .2rem rgba(0, 0, 0, .2);    color: #2e2e2e;    text-decoration: none;    -webkit-transition: .3s;    transition: .3s;    -webkit-transform: translate3d(0, 0, 0);    transform: translate3d(0, 0, 0);    /* 无法选中文本 */    -webkit-user-select: none;    -webkit-touch-callout: none;    -moz-user-select: none;    -ms-user-select: none;    user-select: none;}.link-box a .thumb {    overflow: hidden;    background-color: #fff;    font-size: 0;}.link-box a .thumb img {    position: relative;    margin: 0;    padding: 0;    width: 100%;    height: auto;    -webkit-transition: .4s;    transition: .4s}.link-box a .content .title {    overflow: hidden;    margin: 0;    padding: 0;    color: #2e2e2e;    vertical-align: middle;    /* 超长显示省略号 */    text-overflow: ellipsis;    white-space: nowrap;    letter-spacing: 0rem;    font-weight: 300;    font-size: .6rem;    line-height: 1rem;}.link-box a .content {    text-align: center;}.link-box a .content .title {    padding: .4rem 0;    width: 100%;}/* 鼠标悬浮：图片上移 */.link-box a:hover {    text-decoration: none box-shadow: 0 1.375rem 2.6875rem rgba(0, 135, 202, 0.5) !important;    -webkit-box-shadow: 0 1.375rem 2.6875rem rgba(0, 135, 202, 0.5) !important;    -webkit-transform: translateY(-0.6rem);    transform: translateY(-0.6rem);    -moz-transform: none;}/* 消除全局的超链接样式的影响 */.link-box a:hover::after {    transform: scaleX(0);}@media screen and (max-width: 640px) {    .link-box {        margin: 0rem -3.5rem 0rem -0.1rem;    }    .link-box a {        width: 25% !important;        margin: 10px 10px;    }    .link-box a .content .title {        font-size:.6rem;        padding: .2rem 0;    }}/* 禁止PhotoSwipe插件（图片缩放插件）github: https://github.com/dimsemenov/PhotoSwipe，solve: https://photoswipe.com/documentation/seo.html */.pswp {    display:none;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/music/APlayer_config.js"/>
      <url>/music/APlayer_config.js</url>
      
        <content type="html"><![CDATA[const ap1 = new APlayer({    container: document.getElementById('aplayer2'),    fixed: false,    mini: false,    autoplay: false,    theme: '#b7daff',    loop: 'all',    order: 'list',    preload: 'auto',    volume: 0.5,    lrcType: 3,    mutex: true,    listFolded: false,    listMaxHeight: 700,    audio: [{            name: '一直很安静',            artist: '阿桑',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/一直很安静 - 阿桑.lrc',            cover: 'https://p1.music.126.net/SpovasHBud2A1qXXADXsBg==/109951163167455610.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/一直很安静 - 阿桑.mp3'                  },        {            name: '亲爱的旅人啊（Cover：木村弓）',            artist: '周深',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/亲爱的旅人啊（Cover：木村弓） - 周深.lrc',            cover: 'https://p1.music.126.net/1YrCPOBV314i-mTtlDg8mQ==/109951164148664637.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/亲爱的旅人啊（Cover：木村弓） - 周深.mp3'                  },        {            name: '大鱼',            artist: '周深',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/大鱼 - 周深.lrc',            cover: 'https://p2.music.126.net/aiPQXP8mdLovQSrKsM3hMQ==/1416170985079958.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/大鱼 - 周深.mp3'                  },        {            name: '无羁',            artist: 'Silu Wang-陈情令',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/无羁 - Silu Wang-陈情令.lrc',            cover: 'https://p2.music.126.net/8eL7nls1F8o48_umy0uqBQ==/109951164361652548.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/无羁 - Silu Wang-陈情令.mp3'                  },        {            name: '盗将行',            artist: '花粥,马雨阳',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/盗将行 - 花粥,马雨阳.lrc',            cover: 'https://p2.music.126.net/-qHPT3rhxDlu5zQV9NcQ-A==/109951163555860423.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/盗将行 - 花粥,马雨阳.mp3'                  },        {            name: '心如止水',            artist: 'Ice Paper',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/心如止水 - Ice Paper.lrc',            cover: 'https://i.kfs.io/album/global/54740523,0v1/fit/500x500.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/心如止水 - Ice Paper.mp3'                  },        {            name: '我的梦',            artist: '张靓颖',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/我的梦 - 张靓颖.lrc',            cover: 'https://n.sinaimg.cn/ent/transform/20151229/WLT_-fxmxxsp7232280.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/我的梦 - 张靓颖.mp3'                  },        {            name: 'Dream It Possible',            artist: '张靓颖',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/Dream It Possible - 张靓颖.lrc',            cover: 'https://p2.music.126.net/Gfq_eVuq7lgilBf0w1g5dg==/109951163088676710.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/Dream It Possible - 张靓颖.mp3'                  },        {            name: 'Let Her Go',            artist: 'J.Fla',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/Let Her Go - J.Fla.lrc',            cover: 'https://p1.music.126.net/izJEWkbpFZOkq59zyATvmg==/109951163265162334.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/Let Her Go - J.Fla.mp3'                  },        {            name: '我很快乐',            artist: '刘惜君',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/我很快乐 - 刘惜君.lrc',            cover: 'https://p1.music.126.net/aNHxGZC0H1xRQfoz7UqSpQ==/36283883730943.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/我很快乐 - 刘惜君.mp3'                  },        {            name: '南山南',            artist: '马頔',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/南山南 - 马頔.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20150715/20150715223122826270.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E5%8D%97%E5%B1%B1%E5%8D%97%20-%20%E9%A9%AC%E9%A0%94.mp3'                  },        {            name: '起风了',            artist: '买辣椒也用券',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/起风了 - 买辣椒也用券.lrc',            cover: 'https://p1.music.126.net/diGAyEmpymX8G7JcnElncQ==/109951163699673355.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E8%B5%B7%E9%A3%8E%E4%BA%86%20-%20%E4%B9%B0%E8%BE%A3%E6%A4%92%E4%B9%9F%E7%94%A8%E5%88%B8.mp3'                  },        {            name: '恋人心',            artist: '魏新雨',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/恋人心 - 魏新雨.lrc',            cover: 'https://p2.music.126.net/OX6lR0jEjtxPfIgjVUtWww==/5786729697194540.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E6%81%8B%E4%BA%BA%E5%BF%83%20-%20%E9%AD%8F%E6%96%B0%E9%9B%A8.mp3'                  },        {            name: '断桥残雪',            artist: '许嵩',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/断桥残雪 - 许嵩.lrc',            cover: 'https://p2.music.126.net/PEQ69_EwVpuaBmmSkAY0SQ==/58274116284456.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E6%96%AD%E6%A1%A5%E6%AE%8B%E9%9B%AA%20-%20%E8%AE%B8%E5%B5%A9.mp3'                  },        {            name: '曾经的你',            artist: '许巍',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/曾经的你 - 许巍.lrc',            cover: 'https://p1.music.126.net/GoiTB6oG3vQWntnCjKRw0g==/109951163092691594.jpg?param=300x300',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E6%9B%BE%E7%BB%8F%E7%9A%84%E4%BD%A0%20-%20%E8%AE%B8%E5%B7%8D.mp3'                  },        {            name: '烟影如画',            artist: '重小烟',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/烟影如画 - 重小烟.lrc',            cover: 'http://singerimg.kugou.com/uploadpic/softhead/150/20151214/20151214140843180469.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E7%83%9F%E5%BD%B1%E5%A6%82%E7%94%BB%20-%20%E9%87%8D%E5%B0%8F%E7%83%9F.mp3'                  },        {            name: '成都',            artist: '赵雷',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/成都 - 赵雷.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20161026/20161026104110350398.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E6%88%90%E9%83%BD%20-%20%E8%B5%B5%E9%9B%B7.mp3'                  },        {            name: '一个人',            artist: '夏婉安',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/一个人 - 夏婉安.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20150715/20150715230628433049.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E4%B8%80%E4%B8%AA%E4%BA%BA%20-%20%E5%A4%8F%E5%A9%89%E5%AE%89.mp3'                  },        {            name: '送别',            artist: '朴树',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/送别 - 朴树.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20160512/20160512094410431268.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E9%80%81%E5%88%AB%20-%20%E6%9C%B4%E6%A0%91.mp3'                  },        {            name: '风起时',            artist: '胡歌',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/风起时 - 胡歌.lrc',            cover: 'https://oss.yansheng.xyz/%E9%A3%8E%E8%B5%B7%E6%97%B6-%E8%83%A1%E6%AD%8C.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E9%A3%8E%E8%B5%B7%E6%97%B6%20-%20%E8%83%A1%E6%AD%8C.mp3'                  },        {            name: '追光者',            artist: '岑宁儿',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/追光者 - 岑宁儿.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20170615/20170615171929677900.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E8%BF%BD%E5%85%89%E8%80%85%20-%20%E5%B2%91%E5%AE%81%E5%84%BF.mp3'                  },        {            name: '炽热的青春',            artist: '贾乃亮',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/炽热的青春 - 贾乃亮.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20150703/20150703153025347483.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E7%82%BD%E7%83%AD%E7%9A%84%E9%9D%92%E6%98%A5%20-%20%E8%B4%BE%E4%B9%83%E4%BA%AE.mp3'                  },        {            name: '逆流成河',            artist: '金南玲',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/逆流成河 - 金南玲.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20180927/20180927182404805981.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E9%80%86%E6%B5%81%E6%88%90%E6%B2%B3%20-%20%E9%87%91%E5%8D%97%E7%8E%B2.mp3'                  },        {            name: 'Rage your dream',            artist: 'm.o.v.e',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/Rage your dream - m.o.v.e.lrc',            cover: 'https://oss.yansheng.xyz/Rage%20your%20dream%20-%20m.o.v.e.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/Rage%20your%20dream%20-%20m.o.v.e.mp3'                  },        {            name: 'いつも何度でも',            artist: '宗次郎',            lrc: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/lrc/いつも何度でも - 宗次郎.lrc',            cover: 'http://imge.kugou.com/stdmusic/150/20150720/20150720192351939143.jpg',            url: 'https://cdn.jsdelivr.net/gh/yansheng836/blog-files/music/mp3/%E3%81%84%E3%81%A4%E3%82%82%E4%BD%95%E5%BA%A6%E3%81%A7%E3%82%82%20-%20%E5%AE%97%E6%AC%A1%E9%83%8E.mp3'                  }        ]});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>Music</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E7%BC%9D%E7%BA%AB%E6%9C%BA%E4%B9%90%E9%98%9F-%E5%A8%9C%E6%89%8E.jpg" alt="缝纫机乐队-娜扎"></p><div class="aplayer-wrap"><div id="aplayer2"></div><script type="text/javascript" src="./APlayer_config.js"></script></div><p><img src="https://myblog12.qiniu.yansheng.xyz/picgo/%E7%BC%9D%E7%BA%AB%E6%9C%BA%E4%B9%90%E9%98%9F-%E5%90%89%E4%BB%96.jpg" alt="缝纫机乐队-吉他"></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/photos/data.json"/>
      <url>/photos/data.json</url>
      
        <content type="html"><![CDATA[{"list":[{"date":"2019-12","arr":{"year":2019,"month":12,"link":["2019-12-01_白蛇缘起1.jpg","2019-12-01_白蛇缘起2.jpg","2019-12-01_白蛇缘起3.jpg","2019-12-01_白蛇缘起4.jpg"],"text":["白蛇缘起1","白蛇缘起2","白蛇缘起3","白蛇缘起4"],"type":["image","image","image","image"]}},{"date":"2019-08","arr":{"year":2019,"month":8,"link":["2019-08-19_三傻大闹宝莱坞海报.jpg","2019-08-19_千与千寻海报.jpg","2019-08-19_哈尔的移动城堡海报.jpg","2019-08-19_忠犬八公的故事海报.jpg","2019-08-19_泰坦尼克号海报.jpg","2019-08-19_海上钢琴师海报.jpg","2019-08-19_肖申克的救赎海报.jpg","2019-08-19_龙猫海报.jpg","2019-08-20_哪吒海报.jpg","2019-08-20_哪吒海报2.jpg","2019-08-20_哪吒海报3.jpg"],"text":["三傻大闹宝莱坞海报","千与千寻海报","哈尔的移动城堡海报","忠犬八公的故事海报","泰坦尼克号海报","海上钢琴师海报","肖申克的救赎海报","龙猫海报","哪吒海报","哪吒海报2","哪吒海报3"],"type":["image","image","image","image","image","image","image","image","image","image","image"]}},{"date":"2014-11","arr":{"year":2014,"month":11,"link":["2014-11-16_鞠婧祎1.jpg","2014-11-16_鞠婧祎3.jpg","2014-11-16_鞠婧祎4.jpg","2014-11-17_鞠婧祎5.jpg"],"text":["鞠婧祎1","鞠婧祎3","鞠婧祎4","鞠婧祎5"],"type":["image","image","image","image"]}}]}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/photos/ins.css"/>
      <url>/photos/ins.css</url>
      
        <content type="html"><![CDATA[#post-instagram {    padding: 30px;}#post-instagram .article-entry {    padding-right: 0;}.instagram {    position: relative;    min-height: 500px;}.instagram img {    width: 100%;}.instagram .year {    font-size: 16px;}.instagram .open-ins {    padding: 10px 0;    color: #cdcdcd;}.instagram .open-ins:hover {    color: #657b83;}.instagram .year {    display: inline;}.instagram .thumb {    width: 25%;    height: 0;    padding-bottom: 25%;    position: relative;    display: inline-block;    text-align: center;    background: #ededed;    outline: 1px solid #ddd;}/* 取消post样式中的超链接的影响（display: inline-block;会使小图不能填满边框） */.instagram .thumb a{    display: block;}/* 取消post样式中的超链接的影响（下划线等特效） */.instagram .thumb a::after{    position: relative;}.instagram .album h1 em {    font-style: normal;    font-size: 14px;    margin-left: 10px;}.instagram .album ul {    display: flex;    flex-wrap: wrap;    clear: both;    width: 100%;    text-align: left;}.instagram .album li {    list-style: none;    display: inline-block;    box-sizing: border-box;    padding: 0 5px;    margin-bottom: -10px;    height: 0;    width: 25%;    position: relative;    padding-bottom: 25%;}.instagram .album li:before {    display: none;}.instagram .album div.img-box {    position: absolute;    width: 90%;    height: 90%;    -webkit-box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4), 0 1px 0 1px rgba(255, 255, 255, 0.1);    -moz-box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4), 0 1px 0 1px rgba(255, 255, 255, 0.1);    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4), 0 1px 0 1px rgba(255, 255, 255, 0.1);}.instagram .album div.img-box img {    width: 100%;    height: 100%;    position: absolute;    z-index: 2;}.instagram .album div.img-box .img-bg {    position: absolute;    top: 0;    left: 0;    bottom: 0px;    width: 100%;    margin: -5px;    padding: 5px;    -webkit-box-shadow: 0 0 0 1px rgba(0, 0, 0, .04), 0 1px 5px rgba(0, 0, 0, 0.1);    -moz-box-shadow: 0 0 0 1px rgba(0, 0, 0, .04), 0 1px 5px rgba(0, 0, 0, 0.1);    box-shadow: 0 0 0 1px rgba(0, 0, 0, .04), 0 1px 5px rgba(0, 0, 0, 0.1);    -webkit-transition: all 0.15s ease-out 0.1s;    -moz-transition: all 0.15s ease-out 0.1s;    -o-transition: all 0.15s ease-out 0.1s;    transition: all 0.15s ease-out 0.1s;    opacity: 0.2;    cursor: pointer;    display: block;    z-index: 3;}.instagram .album div.img-box .icon {    font-size: 14px;    position: absolute;    left: 50%;    top: 50%;    margin-left: -7px;    margin-top: -7px;    color: #999;    z-index: 1;}.instagram .album div.img-box .img-bg:hover {    opacity: 0;}.photos-btn-wrap {    border-bottom: 1px solid #e5e5e5;    margin-bottom: 20px;}.photos-btn {    font-size: 16px;    color: #333;    margin-bottom: -4px;    padding: 5px 8px 3px;}.photos-btn.active {    color: #08c;    border: 1px solid #e5e5e5;    border-bottom: 5px solid #fff;}@media screen and (max-width:600px) {    .instagram .thumb {        width: 50%;        padding-bottom: 50%;    }    .instagram .album li {        width: 100%;        position: relative;        padding-bottom: 100%;        text-align: center;    }    .instagram .album div.img-box {        margin: 0;        width: 90%;        height: 90%;    }}/* ====== video ===== */ .video-container {    z-index: 1;    position: relative;    padding-bottom: 56.25%;    margin: 0 auto;}.video-container iframe, .video-container object, .video-container embed {    z-index: 1;    position: absolute;    top: 0;    left: 7%;    width: 85%;    height: 85%;    box-shadow: 0px 0px 20px 2px #888888;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>相册</title>
      <link href="/photos/index.html"/>
      <url>/photos/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" href="./ins.css"><div class="photos-btn-wrap"><!-- <a class="photos-btn active" href="javascript:void(0)">Photos</a> -->        <span class="photos-btn active">Photos</span>    <!-- 暂时先注释不需要的视屏功能 --><!-- <a class="photos-btn" href="/photos/videos.html">Videos</a> -->    </div><div class="instagram itemscope"><a href="https://www.yansheng.xyz/" target="_blank" class="open-ins">图片正在加载中…</a></div><script>  (function() {    var loadScript = function(path) {      var $script = document.createElement('script')      document.getElementsByTagName('body')[0].appendChild($script)      $script.setAttribute('src', path)    }    setTimeout(function() {      loadScript('./ins.js')    }, 0)  })()</script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/photos/ins.js"/>
      <url>/photos/ins.js</url>
      
        <content type="html"><![CDATA[/******/(function(modules) { // webpackBootstrap  // The module cache  var installedModules = {};  // The require function  function __webpack_require__(moduleId) {    // Check if module is in cache    if (installedModules[moduleId])      return installedModules[moduleId].exports;    // Create a new module (and put it into the cache)    var module = installedModules[moduleId] = {      exports: {},      id: moduleId,      loaded: false    };      // Execute the module function    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);// Flag the module as loaded    module.loaded = true;// Return the exports of the module    return module.exports;  }  // expose the modules object (__webpack_modules__)  __webpack_require__.m = modules;  // expose the module cache  __webpack_require__.c = installedModules;  // __webpack_public_path__  __webpack_require__.p = "/dist/";  // Load entry module and return exports  return __webpack_require__(0);})/************************************************************************/([  /* 0 */  /***/  function(module, exports, __webpack_require__) {    'use strict';    __webpack_require__(1);    var _view = __webpack_require__(2);    var _view2 = _interopRequireDefault(_view);    function _interopRequireDefault(obj) {      return obj && obj.__esModule ? obj : {        default: obj      };    }    /**     * @name impush-client      * @description 这个项目让我发家致富…     * @date 2016-12-1     */    var _collection = [];    var _count = 0;    var searchData;    function addMask(elem) {      var rect = elem.getBoundingClientRect();      var style = getComputedStyle(elem, null);      var mask = document.createElement('i');      mask.className = 'icon-film';      mask.style.color = '#fff';      mask.style.fontSize = '26px';      mask.style.position = 'absolute';      mask.style.right = '10px';      mask.style.bottom = '10px';      mask.style.zIndex = 1;      elem.parentNode.appendChild(mask);    }    var createVideoIncon = function createVideoIncon() {      var $videoImg = document.querySelectorAll('.thumb a[data-type="video"]');      for (var i = 0, len = $videoImg.length; i < len; i++) {        addMask($videoImg[i]);      }    };// 修改这里render()函数：修改图片的路径地址.minSrc 小图的路径. src 大图的路径.修改为自己的图片路径(github的路径)// https://raw.githubusercontent.com/yansheng836/yansheng836.github.io/blog/photos-source/photos/// https://raw.githubusercontent.com/yansheng836/yansheng836.github.io/blog/photos-source/min_photos/    var render = function render(res) {      var ulTmpl = "";      for (var j = 0, len2 = res.list.length; j < len2; j++) {        var data = res.list[j].arr;        var liTmpl = "";        for (var i = 0, len = data.link.length; i < len; i++) {          // var minSrc = 'https://raw.githubusercontent.com/yansheng836/yansheng836.github.io/blog/photos-source/min_photos/' + data.link[i];          // var src = 'https://raw.githubusercontent.com/yansheng836/yansheng836.github.io/blog/photos-source/photos/' + data.link[i];    // 修改blog12为myblog12，修改photos为raw_photos  var minSrc = 'http://myblog12.qiniu.yansheng.xyz/min_photos/'+data.link[i];  var src = 'http://myblog12.qiniu.yansheng.xyz/photos/' + data.link[i];          var type = data.type[i];          var target = src + (type === 'video' ? '.mp4' : '.jpg');          src += '';          liTmpl += '<figure class="thumb" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">\                <a href="' + src + '" itemprop="contentUrl" data-size="1080x1080" data-type="' + type + '" data-target="' + src + '">\                  <img class="reward-img" data-type="' + type + '" data-src="' + minSrc + '" src="/assets/img/empty.png" itemprop="thumbnail" onload="lzld(this)">\                </a>\                <figcaption style="display:none" itemprop="caption description">' + data.text[i] + '</figcaption>\            </figure>';        }        ulTmpl = ulTmpl + '<section class="archives album"><h1 class="year">' + data.year + '年<em>' + data.month + '月</em></h1>\        <ul class="img-box-ul">' + liTmpl + '</ul>\        </section>';      }      document.querySelector('.instagram').innerHTML = '<div class="photos" itemscope itemtype="http://schema.org/ImageGallery">' + ulTmpl + '</div>';      createVideoIncon();      _view2.default.init();    };    var replacer = function replacer(str) {      var arr = str.split("/");      return "/assets/ins/" + arr[arr.length - 1];    };    var ctrler = function ctrler(data) {      var imgObj = {};      for (var i = 0, len = data.length; i < len; i++) {        var y = data[i].y;        var m = data[i].m;        var src = replacer(data[i].src);        var text = data[i].text;        var key = y + "" + ((m + "").length == 1 ? "0" + m : m);        if (imgObj[key]) {          imgObj[key].srclist.push(src);          imgObj[key].text.push(text);        } else {          imgObj[key] = {            year: y,            month: m,            srclist: [src],            text: [text]          };        }      }      render(imgObj);    };    function loadData(success) {      if (!searchData) {        var xhr = new XMLHttpRequest();        xhr.open('GET', './data.json?t=' + +new Date(), true);        xhr.onload = function() {          if (this.status >= 200 && this.status < 300) {            var res = JSON.parse(this.response);            searchData = res;            success(searchData);          } else {            console.error(this.statusText);          }        };        xhr.onerror = function() {          console.error(this.statusText);        };        xhr.send();      } else {        success(searchData);      }    }    var Ins = {      init: function init() {        loadData(function(data) {          render(data);        });      }    };    Ins.init();    // export default impush;  },  /* 1 */  function(module, exports, __webpack_require__) {    /* WEBPACK VAR INJECTION */    (function(global) {      'use strict';      var inViewport = __webpack_require__(3);      var lazyAttrs = ['data-src'];      global.lzld = lazyload();      // Provide libs using getAttribute early to get the good src      // and not the fake data-src      replaceGetAttribute('Image');      replaceGetAttribute('IFrame');      function registerLazyAttr(attr) {        if (indexOf.call(lazyAttrs, attr) === -1) {          lazyAttrs.push(attr);        }      }      function lazyload(opts) {        opts = merge({          'offset': 333,          'src': 'data-src',          'container': false        }, opts || {});        if (typeof opts.src === 'string') {          registerLazyAttr(opts.src);        }        var elts = [];        function show(elt) {          var src = findRealSrc(elt);          if (src) {            elt.src = src;          }          elt.setAttribute('data-lzled', true);          elts[indexOf.call(elts, elt)] = null;        }        function findRealSrc(elt) {          if (typeof opts.src === 'function') {            return opts.src(elt);          }          return elt.getAttribute(opts.src);        }        function register(elt) {          elt.onload = null;          elt.removeAttribute('onload');          elt.onerror = null;          elt.removeAttribute('onerror');          if (indexOf.call(elts, elt) === -1) {            inViewport(elt, opts, show);          }        }        return register;      }      function replaceGetAttribute(elementName) {        var fullname = 'HTML' + elementName + 'Element';        if (fullname in global === false) {          return;        }        var original = global[fullname].prototype.getAttribute;        global[fullname].prototype.getAttribute = function(name) {          if (name === 'src') {            var realSrc;            for (var i = 0, max = lazyAttrs.length; i < max; i++) {              realSrc = original.call(this, lazyAttrs[i]);              if (realSrc) {                break;              }            }            return realSrc || original.call(this, name);          }          // our own lazyloader will go through theses lines          // because we use getAttribute(opts.src)          return original.call(this, name);        };      }      function merge(defaults, opts) {        for (var name in defaults) {          if (opts[name] === undefined) {            opts[name] = defaults[name];          }        }        return opts;      }      // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html      function indexOf(value) {        for (var i = this.length; i-- && this[i] !== value;) {}        return i;      }      module.exports = lazyload;      // export default impush;      /* WEBPACK VAR INJECTION */    }.call(exports, (function() {      return this;    }())))    /***/  },  /* 2 */  /***/  function(module, exports) {    'use strict';    var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {      // parse slide data (url, title, size ...) from DOM elements       // (children of gallerySelector)      var parseThumbnailElements = function parseThumbnailElements(el) {        el = el.parentNode.parentNode;        var thumbElements = el.getElementsByClassName('thumb'),          numNodes = thumbElements.length,          items = [],          figureEl,          linkEl,          size,          type,          // video or not          target,          item;        for (var i = 0; i < numNodes; i++) {          figureEl = thumbElements[i]; //           // include only element nodes           if (figureEl.nodeType !== 1) {            continue;          }          linkEl = figureEl.children[0]; //           size = linkEl.getAttribute('data-size').split('x');          type = linkEl.getAttribute('data-type');          target = linkEl.getAttribute('data-target');          // create slide object          item = {            src: linkEl.getAttribute('href'),            w: parseInt(size[0], 10),            h: parseInt(size[1], 10)          };          if (figureEl.children.length > 1) {            item.title = figureEl.children[1].innerHTML;          }          if (linkEl.children.length > 0) {            item.msrc = linkEl.children[0].getAttribute('src');            item.type = type;            item.target = target;            item.html = '<video src="' + target + '" controls="controls" autoplay="autoplay"></video>';            if (type === 'video') {              //item.src = null;            }          }          item.el = figureEl; // save link to element for getThumbBoundsFn          items.push(item);        }        return items;      };      // find nearest parent element      var closest = function closest(el, fn) {        return el && (fn(el) ? el : closest(el.parentNode, fn));      };      // triggers when user clicks on thumbnail      var onThumbnailsClick = function onThumbnailsClick(e) {        e = e || window.event;        e.preventDefault ? e.preventDefault() : e.returnValue = false;        var eTarget = e.target || e.srcElement;        // find root element of slide        var clickedListItem = closest(eTarget, function(el) {          return el.tagName && el.tagName.toUpperCase() === 'FIGURE';        });        if (!clickedListItem) {          return;        }        // find index of clicked item by looping through all child nodes        // alternatively, you may define index via data- attribute        var clickedGallery = clickedListItem.parentNode,          // childNodes = clickedListItem.parentNode.childNodes,          // numChildNodes = childNodes.length,          childNodes = document.getElementsByClassName('thumb'),          numChildNodes = childNodes.length,          nodeIndex = 0,          index;        for (var i = 0; i < numChildNodes; i++) {          if (childNodes[i].nodeType !== 1) {            continue;          }          if (childNodes[i] === clickedListItem) {            index = nodeIndex;            break;          }          nodeIndex++;        }        if (index >= 0) {          // open PhotoSwipe if valid index found          openPhotoSwipe(index, clickedGallery);        }        return false;      };      // parse picture index and gallery index from URL (#&pid=1&gid=2)      var photoswipeParseHash = function photoswipeParseHash() {        var hash = window.location.hash.substring(1),          params = {};        if (hash.length < 5) {          return params;        }        var vars = hash.split('&');        for (var i = 0; i < vars.length; i++) {          if (!vars[i]) {            continue;          }          var pair = vars[i].split('=');          if (pair.length < 2) {            continue;          }          params[pair[0]] = pair[1];        }        if (params.gid) {          params.gid = parseInt(params.gid, 10);        }        return params;      };      var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {        var pswpElement = document.querySelectorAll('.pswp')[0],          gallery,          options,          items;        items = parseThumbnailElements(galleryElement);        // define options (if needed)        options = {          // define gallery index (for URL)          galleryUID: galleryElement.getAttribute('data-pswp-uid'),          getThumbBoundsFn: function getThumbBoundsFn(index) {            // See Options -> getThumbBoundsFn section of documentation for more info            var thumbnail = items[index].el.getElementsByTagName('img')[0],              // find thumbnail              pageYScroll = window.pageYOffset || document.documentElement.scrollTop,              rect = thumbnail.getBoundingClientRect();            return {              x: rect.left,              y: rect.top + pageYScroll,              w: rect.width            };          }        };        // PhotoSwipe opened from URL        if (fromURL) {          if (options.galleryPIDs) {            // parse real index when custom PIDs are used             // http://photoswipe.com/documentation/faq.html#custom-pid-in-url            for (var j = 0; j < items.length; j++) {              if (items[j].pid == index) {                options.index = j;                break;              }            }          } else {            // in URL indexes start from 1            options.index = parseInt(index, 10) - 1;          }        } else {          options.index = parseInt(index, 10);        }        // exit if index not found        if (isNaN(options.index)) {          return;        }        if (disableAnimation) {          options.showAnimationDuration = 0;        }        // Pass data to PhotoSwipe and initialize it        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);        gallery.init();        var $tempVideo;        var stopVideoHandle = function stopVideoHandle() {          if ($tempVideo) {            $tempVideo.remove();            $tempVideo = null;          }        };        var changeHandle = function changeHandle() {          var item = gallery.currItem;          stopVideoHandle();          if (item.type === 'video') {            var $ctn = item.container;            var style = $ctn.getElementsByClassName('pswp__img')[0].style;            var $video = document.createElement('video');            $video.setAttribute('autoplay', 'autoplay');            $video.setAttribute('controls', 'controls');            $video.setAttribute('src', item.target);            $video.style.width = style.width;            $video.style.height = style.height;            $video.style.position = 'absolute';            $video.style.zIndex = 2;            $tempVideo = $video;            $ctn.appendChild($video);          }        };        gallery.listen('initialZoomIn', changeHandle);        gallery.listen('afterChange', changeHandle);        gallery.listen('initialZoomOut', stopVideoHandle);      };      // loop through all gallery elements and bind events      var galleryElements = document.querySelectorAll(gallerySelector);      for (var i = 0, l = galleryElements.length; i < l; i++) {        galleryElements[i].setAttribute('data-pswp-uid', i + 1);        galleryElements[i].onclick = onThumbnailsClick;      }      // Parse URL and open gallery if it contains #&pid=3&gid=1      var hashData = photoswipeParseHash();      if (hashData.pid && hashData.gid) {        openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);      }    };    var Viewer = function() {      function init() {        initPhotoSwipeFromDOM('.photos');      }      return {        init: init      };    }();    module.exports = Viewer;    /***/  },  /* 3 */  /***/  function(module, exports) {    /* WEBPACK VAR INJECTION */    (function(global) {      module.exports = inViewport;      var instances = [];      var supportsMutationObserver = typeof global.MutationObserver === 'function';      function inViewport(elt, params, cb) {        var opts = {          container: global.document.body,          offset: 0        };        if (params === undefined || typeof params === 'function') {          cb = params;          params = {};        }        var container = opts.container = params.container || opts.container;        var offset = opts.offset = params.offset || opts.offset;        for (var i = 0; i < instances.length; i++) {          if (instances[i].container === container) {            return instances[i].isInViewport(elt, offset, cb);          }        }        return instances[          instances.push(createInViewport(container)) - 1        ].isInViewport(elt, offset, cb);      }      function addEvent(el, type, fn) {        if (el.attachEvent) {          el.attachEvent('on' + type, fn);        } else {          el.addEventListener(type, fn, false);        }      }      function debounce(func, wait, immediate) {        var timeout;        return function() {          var context = this,            args = arguments;          var callNow = immediate && !timeout;          clearTimeout(timeout);          timeout = setTimeout(later, wait);          if (callNow) func.apply(context, args);          function later() {            timeout = null;            if (!immediate) func.apply(context, args);          }        };      }      // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708      var contains = function() {        if (!global.document) {          return true;        }        return global.document.documentElement.compareDocumentPosition ?          function(a, b) {            return !!(a.compareDocumentPosition(b) & 16);          } :          global.document.documentElement.contains ?          function(a, b) {            return a !== b && (a.contains ? a.contains(b) : false);          } :          function(a, b) {            while (b = b.parentNode) {              if (b === a) {                return true;              }            }            return false;          };      }      function createInViewport(container) {        var watches = createWatches();        var scrollContainer = container === global.document.body ? global : container;        var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);        addEvent(scrollContainer, 'scroll', debouncedCheck);        if (scrollContainer === global) {          addEvent(global, 'resize', debouncedCheck);        }        if (supportsMutationObserver) {          observeDOM(watches, container, debouncedCheck);        }        // failsafe check, every 200ms we check for visible images        // usecase: a hidden parent containing eleements        // when the parent becomes visible, we have no event that the children        // became visible        setInterval(debouncedCheck, 150);        function isInViewport(elt, offset, cb) {          if (!cb) {            return isVisible(elt, offset);          }          var remote = createRemote(elt, offset, cb);          remote.watch();          return remote;        }        function createRemote(elt, offset, cb) {          function watch() {            watches.add(elt, offset, cb);          }          function dispose() {            watches.remove(elt);          }          return {            watch: watch,            dispose: dispose          };        }        function watchInViewport(elt, offset, cb) {          if (isVisible(elt, offset)) {            watches.remove(elt);            cb(elt);          }        }        function isVisible(elt, offset) {          if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {            return false;          }          // Check if the element is visible          // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js          if (!elt.offsetWidth || !elt.offsetHeight) {            return false;          }          var eltRect = elt.getBoundingClientRect();          var viewport = {};          if (container === global.document.body) {            viewport = {              top: -offset,              left: -offset,              right: global.document.documentElement.clientWidth + offset,              bottom: global.document.documentElement.clientHeight + offset            };          } else {            var containerRect = container.getBoundingClientRect();            viewport = {              top: containerRect.top - offset,              left: containerRect.left - offset,              right: containerRect.right + offset,              bottom: containerRect.bottom + offset            };          }          // The element must overlap with the visible part of the viewport          var visible =            (              (eltRect.right > viewport.left) &&              (eltRect.left < viewport.right) &&              (eltRect.bottom > viewport.top) &&              (eltRect.top < viewport.bottom)            );          return visible;        }        return {          container: container,          isInViewport: isInViewport        };      }      function createWatches() {        var watches = [];        function add(elt, offset, cb) {          if (!isWatched(elt)) {            watches.push([elt, offset, cb]);          }        }        function remove(elt) {          var pos = indexOf(elt);          if (pos !== -1) {            watches.splice(pos, 1);          }        }        function indexOf(elt) {          for (var i = watches.length - 1; i >= 0; i--) {            if (watches[i][0] === elt) {              return i;            }          }          return -1;        }        function isWatched(elt) {          return indexOf(elt) !== -1;        }        function checkAll(cb) {          return function() {            for (var i = watches.length - 1; i >= 0; i--) {              cb.apply(this, watches[i]);            }          };        }        return {          add: add,          remove: remove,          isWatched: isWatched,          checkAll: checkAll        };      }      function observeDOM(watches, container, cb) {        var observer = new MutationObserver(watch);        var filter = Array.prototype.filter;        var concat = Array.prototype.concat;        observer.observe(container, {          childList: true,          subtree: true,          // changes like style/width/height/display will be catched          attributes: true        });        function watch(mutations) {          // some new DOM nodes where previously watched          // we should check their positions          if (mutations.some(knownNodes) === true) {            setTimeout(cb, 0);          }        }        function knownNodes(mutation) {          var nodes = concat.call([],            Array.prototype.slice.call(mutation.addedNodes),            mutation.target          );          return filter.call(nodes, watches.isWatched).length > 0;        }      }      /* WEBPACK VAR INJECTION */    }.call(exports, (function() {      return this;    }())))    /***/  }  /******/]);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/photos/lazyload.min.js"/>
      <url>/photos/lazyload.min.js</url>
      
        <content type="html"><![CDATA[/*! * An jQuery | zepto plugin for lazy loading images. * author -> jieyou * see https://github.com/jieyou/lazyload * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD) * use component's throttle https://github.com/component/throttle (MIT) */!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery||window.Zepto)}(function(a){function g(){}function h(a,b){var e;return e=b._$container==d?("innerHeight"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var f;return f="e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function" j(a,b){var c;return c="b._$container==d?d.scrollTop():b._$container.offset().top,c">=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d){function g(){f.trigger("_lazyload_appear"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||"none"===f.css("display")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c>b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:c,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace("[object ","").replace("]","")}}(),a.fn.hasOwnProperty("lazyload")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){var i=f(b[g]);-1!=a.inArray(g,["threshold","failure_limit","check_appear_throttle_time"])?"String"==i?b[g]=parseInt(b[g],10):"Number"!=i&&(b[g]=h):"container"==g?(b._$container=b.hasOwnProperty(g)?b[g]==c||b[g]==document?d:a(b[g]):d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&i==f(e[g])||(b[g]=h)}),i="scroll"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||"scrollstart"==b.event||"scrollstop"==b.event,h.each(function(c){var e=this,f=h.eq(c),i=f.attr("src"),k=f.attr("data-"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr("data-"+b.data_srcset_attribute),o=f.is("img");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,h=m(h),void 0):(f._lazyload_loadStarted=!1,o&&!i&&f.one("error",function(){f.attr("src",b.placeholder_real_img)}).attr("src",b.placeholder_data_img),f.one("_lazyload_appear",function(){function i(){d&&f.hide(),o?(n&&f.attr("srcset",n),l&&f.attr("src",l)):f.css("background-image",'url("'+l+'")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d="show"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one("load",function(){b.load.call(e,f,h.length,b)}),i()):a("<img>").one("load",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr("src",l))}),j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger("_lazyload_appear")}),void 0)}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on("resize load",function(){k(h,b)}),a(function(){k(h,b)}),this})});</=0&&f.height()<=0||"none"===f.css("display")))if(b.vertical_only)if(j(f,b));else></=a.offset().top-b.threshold}function>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>相册</title>
      <link href="/photos/videos.html"/>
      <url>/photos/videos.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" href="./ins.css"><div class="photos-btn-wrap">    <a class="photos-btn" href="/photos">Photos</a>    <!-- 暂时先注释不需要的视屏功能 --><!-- <a class="photos-btn active" href="/photos/videos.html">Videos</a> --></div><center>    <h1>指弹_女儿情</h1></center><hr><center>    <div class="video-container">        <iframe height="80%" width="80%" src="https://player.youku.com/embed/XMjUzMzY4OTM3Ng==" frameborder="0" allowfullscreen></iframe>    </div></center><hr><center>    <h1>指弹_友谊地久天长</h1></center><hr><center>    <div class="video-container">        <iframe height="80%" width="80%" src="https://player.youku.com/embed/XMjQ5MDExOTY2MA==" frameborder="0" allowfullscreen></iframe>    </div></center><hr><center>    <h1>指弹_Always with me</h1></center><hr><center>    <div class="video-container">        <iframe height="80%" width="80%" src="https://player.youku.com/embed/XMjQ4MDQyNTQ0MA==" frameborder="0" allowfullscreen></iframe>    </div></center>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
